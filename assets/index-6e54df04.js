function aO(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var F0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var lO={exports:{}},Z1={},cO={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg=Symbol.for("react.element"),GG=Symbol.for("react.portal"),HG=Symbol.for("react.fragment"),VG=Symbol.for("react.strict_mode"),WG=Symbol.for("react.profiler"),jG=Symbol.for("react.provider"),XG=Symbol.for("react.context"),JG=Symbol.for("react.forward_ref"),YG=Symbol.for("react.suspense"),$G=Symbol.for("react.memo"),KG=Symbol.for("react.lazy"),CP=Symbol.iterator;function QG(n){return n===null||typeof n!="object"?null:(n=CP&&n[CP]||n["@@iterator"],typeof n=="function"?n:null)}var uO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fO=Object.assign,dO={};function fh(n,e,t){this.props=n,this.context=e,this.refs=dO,this.updater=t||uO}fh.prototype.isReactComponent={};fh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};fh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function hO(){}hO.prototype=fh.prototype;function Fb(n,e,t){this.props=n,this.context=e,this.refs=dO,this.updater=t||uO}var Ub=Fb.prototype=new hO;Ub.constructor=Fb;fO(Ub,fh.prototype);Ub.isPureReactComponent=!0;var RP=Array.isArray,pO=Object.prototype.hasOwnProperty,kb={current:null},mO={key:!0,ref:!0,__self:!0,__source:!0};function gO(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pO.call(e,r)&&!mO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fg,type:n,key:s,ref:o,props:i,_owner:kb.current}}function ZG(n,e){return{$$typeof:fg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Nb(n){return typeof n=="object"&&n!==null&&n.$$typeof===fg}function qG(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var PP=/\/+/g;function wS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?qG(""+n.key):e.toString(36)}function py(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case fg:case GG:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+wS(o,0):r,RP(i)?(t="",n!=null&&(t=n.replace(PP,"$&/")+"/"),py(i,e,t,"",function(c){return c})):i!=null&&(Nb(i)&&(i=ZG(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(PP,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",RP(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+wS(s,a);o+=py(s,e,t,l,i)}else if(l=QG(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+wS(s,a++),o+=py(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function U0(n,e,t){if(n==null)return n;var r=[],i=0;return py(n,r,"","",function(s){return e.call(t,s,i++)}),r}function e6(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ti={current:null},my={transition:null},t6={ReactCurrentDispatcher:Ti,ReactCurrentBatchConfig:my,ReactCurrentOwner:kb};qt.Children={map:U0,forEach:function(n,e,t){U0(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return U0(n,function(){e++}),e},toArray:function(n){return U0(n,function(e){return e})||[]},only:function(n){if(!Nb(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};qt.Component=fh;qt.Fragment=HG;qt.Profiler=WG;qt.PureComponent=Fb;qt.StrictMode=VG;qt.Suspense=YG;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t6;qt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=fO({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=kb.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)pO.call(e,l)&&!mO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fg,type:n.type,key:i,ref:s,props:r,_owner:o}};qt.createContext=function(n){return n={$$typeof:XG,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:jG,_context:n},n.Consumer=n};qt.createElement=gO;qt.createFactory=function(n){var e=gO.bind(null,n);return e.type=n,e};qt.createRef=function(){return{current:null}};qt.forwardRef=function(n){return{$$typeof:JG,render:n}};qt.isValidElement=Nb;qt.lazy=function(n){return{$$typeof:KG,_payload:{_status:-1,_result:n},_init:e6}};qt.memo=function(n,e){return{$$typeof:$G,type:n,compare:e===void 0?null:e}};qt.startTransition=function(n){var e=my.transition;my.transition={};try{n()}finally{my.transition=e}};qt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};qt.useCallback=function(n,e){return Ti.current.useCallback(n,e)};qt.useContext=function(n){return Ti.current.useContext(n)};qt.useDebugValue=function(){};qt.useDeferredValue=function(n){return Ti.current.useDeferredValue(n)};qt.useEffect=function(n,e){return Ti.current.useEffect(n,e)};qt.useId=function(){return Ti.current.useId()};qt.useImperativeHandle=function(n,e,t){return Ti.current.useImperativeHandle(n,e,t)};qt.useInsertionEffect=function(n,e){return Ti.current.useInsertionEffect(n,e)};qt.useLayoutEffect=function(n,e){return Ti.current.useLayoutEffect(n,e)};qt.useMemo=function(n,e){return Ti.current.useMemo(n,e)};qt.useReducer=function(n,e,t){return Ti.current.useReducer(n,e,t)};qt.useRef=function(n){return Ti.current.useRef(n)};qt.useState=function(n){return Ti.current.useState(n)};qt.useSyncExternalStore=function(n,e,t){return Ti.current.useSyncExternalStore(n,e,t)};qt.useTransition=function(){return Ti.current.useTransition()};qt.version="18.2.0";cO.exports=qt;var z=cO.exports;const nn=uh(z),zb=aO({__proto__:null,default:nn},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n6=z,r6=Symbol.for("react.element"),i6=Symbol.for("react.fragment"),s6=Object.prototype.hasOwnProperty,o6=n6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a6={key:!0,ref:!0,__self:!0,__source:!0};function vO(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)s6.call(e,r)&&!a6.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:r6,type:n,key:s,ref:o,props:i,_owner:o6.current}}Z1.Fragment=i6;Z1.jsx=vO;Z1.jsxs=vO;lO.exports=Z1;var ie=lO.exports,BM={},yO={exports:{}},_s={},_O={exports:{}},xO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,V){var G=O.length;O.push(V);e:for(;0<G;){var D=G-1>>>1,H=O[D];if(0<i(H,V))O[D]=V,O[G]=H,G=D;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var V=O[0],G=O.pop();if(G!==V){O[0]=G;e:for(var D=0,H=O.length,se=H>>>1;D<se;){var le=2*(D+1)-1,ae=O[le],ue=le+1,fe=O[ue];if(0>i(ae,G))ue<H&&0>i(fe,ae)?(O[D]=fe,O[ue]=G,D=ue):(O[D]=ae,O[le]=G,D=le);else if(ue<H&&0>i(fe,G))O[D]=fe,O[ue]=G,D=ue;else break e}}return V}function i(O,V){var G=O.sortIndex-V.sortIndex;return G!==0?G:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,v=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var V=t(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=O)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function M(O){if(y=!1,S(O),!v)if(t(l)!==null)v=!0,X(w);else{var V=t(c);V!==null&&J(M,V.startTime-O)}}function w(O,V){v=!1,y&&(y=!1,g(R),R=-1),m=!0;var G=p;try{for(S(V),f=t(l);f!==null&&(!(f.expirationTime>V)||O&&!U());){var D=f.callback;if(typeof D=="function"){f.callback=null,p=f.priorityLevel;var H=D(f.expirationTime<=V);V=n.unstable_now(),typeof H=="function"?f.callback=H:f===t(l)&&r(l),S(V)}else r(l);f=t(l)}if(f!==null)var se=!0;else{var le=t(c);le!==null&&J(M,le.startTime-V),se=!1}return se}finally{f=null,p=G,m=!1}}var b=!1,T=null,R=-1,C=5,B=-1;function U(){return!(n.unstable_now()-B<C)}function k(){if(T!==null){var O=n.unstable_now();B=O;var V=!0;try{V=T(!0,O)}finally{V?W():(b=!1,T=null)}}else b=!1}var W;if(typeof x=="function")W=function(){x(k)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Q=Y.port2;Y.port1.onmessage=k,W=function(){Q.postMessage(null)}}else W=function(){_(k,0)};function X(O){T=O,b||(b=!0,W())}function J(O,V){R=_(function(){O(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,X(w))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var G=p;p=V;try{return O()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=p;p=O;try{return V()}finally{p=G}},n.unstable_scheduleCallback=function(O,V,G){var D=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?D+G:D):G=D,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,O={id:u++,callback:V,priorityLevel:O,startTime:G,expirationTime:H,sortIndex:-1},G>D?(O.sortIndex=G,e(c,O),t(l)===null&&O===t(c)&&(y?(g(R),R=-1):y=!0,J(M,G-D))):(O.sortIndex=H,e(l,O),v||m||(v=!0,X(w))),O},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(O){var V=p;return function(){var G=p;p=V;try{return O.apply(this,arguments)}finally{p=G}}}})(xO);_O.exports=xO;var l6=_O.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO=z,gs=l6;function qe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AO=new Set,cm={};function Yu(n,e){Nd(n,e),Nd(n+"Capture",e)}function Nd(n,e){for(cm[n]=e,n=0;n<e.length;n++)AO.add(e[n])}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LM=Object.prototype.hasOwnProperty,c6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,IP={},BP={};function u6(n){return LM.call(BP,n)?!0:LM.call(IP,n)?!1:c6.test(n)?BP[n]=!0:(IP[n]=!0,!1)}function f6(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function d6(n,e,t,r){if(e===null||typeof e>"u"||f6(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ci(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Kr[n]=new Ci(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Kr[e]=new Ci(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Kr[n]=new Ci(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Kr[n]=new Ci(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Kr[n]=new Ci(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Kr[n]=new Ci(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Kr[n]=new Ci(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Kr[n]=new Ci(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Kr[n]=new Ci(n,5,!1,n.toLowerCase(),null,!1,!1)});var Gb=/[\-:]([a-z])/g;function Hb(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Gb,Hb);Kr[e]=new Ci(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Gb,Hb);Kr[e]=new Ci(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Gb,Hb);Kr[e]=new Ci(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Kr[n]=new Ci(n,1,!1,n.toLowerCase(),null,!1,!1)});Kr.xlinkHref=new Ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Kr[n]=new Ci(n,1,!1,n.toLowerCase(),null,!0,!0)});function Vb(n,e,t,r){var i=Kr.hasOwnProperty(e)?Kr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(d6(e,t,i,r)&&(t=null),r||i===null?u6(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var nl=SO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k0=Symbol.for("react.element"),qf=Symbol.for("react.portal"),ed=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),DM=Symbol.for("react.profiler"),MO=Symbol.for("react.provider"),EO=Symbol.for("react.context"),jb=Symbol.for("react.forward_ref"),OM=Symbol.for("react.suspense"),FM=Symbol.for("react.suspense_list"),Xb=Symbol.for("react.memo"),El=Symbol.for("react.lazy"),wO=Symbol.for("react.offscreen"),LP=Symbol.iterator;function Jh(n){return n===null||typeof n!="object"?null:(n=LP&&n[LP]||n["@@iterator"],typeof n=="function"?n:null)}var Kn=Object.assign,bS;function wp(n){if(bS===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);bS=e&&e[1]||""}return`
`+bS+n}var TS=!1;function CS(n,e){if(!n||TS)return"";TS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{TS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?wp(n):""}function h6(n){switch(n.tag){case 5:return wp(n.type);case 16:return wp("Lazy");case 13:return wp("Suspense");case 19:return wp("SuspenseList");case 0:case 2:case 15:return n=CS(n.type,!1),n;case 11:return n=CS(n.type.render,!1),n;case 1:return n=CS(n.type,!0),n;default:return""}}function UM(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ed:return"Fragment";case qf:return"Portal";case DM:return"Profiler";case Wb:return"StrictMode";case OM:return"Suspense";case FM:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case EO:return(n.displayName||"Context")+".Consumer";case MO:return(n._context.displayName||"Context")+".Provider";case jb:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Xb:return e=n.displayName||null,e!==null?e:UM(n.type)||"Memo";case El:e=n._payload,n=n._init;try{return UM(n(e))}catch{}}return null}function p6(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return UM(e);case 8:return e===Wb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ic(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function bO(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m6(n){var e=bO(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function N0(n){n._valueTracker||(n._valueTracker=m6(n))}function TO(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=bO(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Yy(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function kM(n,e){var t=e.checked;return Kn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function DP(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ic(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CO(n,e){e=e.checked,e!=null&&Vb(n,"checked",e,!1)}function NM(n,e){CO(n,e);var t=ic(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?zM(n,e.type,t):e.hasOwnProperty("defaultValue")&&zM(n,e.type,ic(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function OP(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function zM(n,e,t){(e!=="number"||Yy(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var bp=Array.isArray;function Ad(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ic(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function GM(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(qe(91));return Kn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function FP(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(qe(92));if(bp(t)){if(1<t.length)throw Error(qe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ic(t)}}function RO(n,e){var t=ic(e.value),r=ic(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function UP(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function PO(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function HM(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?PO(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var z0,IO=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(z0=z0||document.createElement("div"),z0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=z0.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function um(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Op={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g6=["Webkit","ms","Moz","O"];Object.keys(Op).forEach(function(n){g6.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Op[e]=Op[n]})});function BO(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Op.hasOwnProperty(n)&&Op[n]?(""+e).trim():e+"px"}function LO(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=BO(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var v6=Kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function VM(n,e){if(e){if(v6[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(qe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(qe(62))}}function WM(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jM=null;function Jb(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var XM=null,Md=null,Ed=null;function kP(n){if(n=pg(n)){if(typeof XM!="function")throw Error(qe(280));var e=n.stateNode;e&&(e=r_(e),XM(n.stateNode,n.type,e))}}function DO(n){Md?Ed?Ed.push(n):Ed=[n]:Md=n}function OO(){if(Md){var n=Md,e=Ed;if(Ed=Md=null,kP(n),e)for(n=0;n<e.length;n++)kP(e[n])}}function FO(n,e){return n(e)}function UO(){}var RS=!1;function kO(n,e,t){if(RS)return n(e,t);RS=!0;try{return FO(n,e,t)}finally{RS=!1,(Md!==null||Ed!==null)&&(UO(),OO())}}function fm(n,e){var t=n.stateNode;if(t===null)return null;var r=r_(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(qe(231,e,typeof t));return t}var JM=!1;if(Xa)try{var Yh={};Object.defineProperty(Yh,"passive",{get:function(){JM=!0}}),window.addEventListener("test",Yh,Yh),window.removeEventListener("test",Yh,Yh)}catch{JM=!1}function y6(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Fp=!1,$y=null,Ky=!1,YM=null,_6={onError:function(n){Fp=!0,$y=n}};function x6(n,e,t,r,i,s,o,a,l){Fp=!1,$y=null,y6.apply(_6,arguments)}function S6(n,e,t,r,i,s,o,a,l){if(x6.apply(this,arguments),Fp){if(Fp){var c=$y;Fp=!1,$y=null}else throw Error(qe(198));Ky||(Ky=!0,YM=c)}}function $u(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function NO(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function NP(n){if($u(n)!==n)throw Error(qe(188))}function A6(n){var e=n.alternate;if(!e){if(e=$u(n),e===null)throw Error(qe(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return NP(i),n;if(s===r)return NP(i),e;s=s.sibling}throw Error(qe(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(qe(189))}}if(t.alternate!==r)throw Error(qe(190))}if(t.tag!==3)throw Error(qe(188));return t.stateNode.current===t?n:e}function zO(n){return n=A6(n),n!==null?GO(n):null}function GO(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=GO(n);if(e!==null)return e;n=n.sibling}return null}var HO=gs.unstable_scheduleCallback,zP=gs.unstable_cancelCallback,M6=gs.unstable_shouldYield,E6=gs.unstable_requestPaint,gr=gs.unstable_now,w6=gs.unstable_getCurrentPriorityLevel,Yb=gs.unstable_ImmediatePriority,VO=gs.unstable_UserBlockingPriority,Qy=gs.unstable_NormalPriority,b6=gs.unstable_LowPriority,WO=gs.unstable_IdlePriority,q1=null,ea=null;function T6(n){if(ea&&typeof ea.onCommitFiberRoot=="function")try{ea.onCommitFiberRoot(q1,n,void 0,(n.current.flags&128)===128)}catch{}}var Ao=Math.clz32?Math.clz32:P6,C6=Math.log,R6=Math.LN2;function P6(n){return n>>>=0,n===0?32:31-(C6(n)/R6|0)|0}var G0=64,H0=4194304;function Tp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Zy(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Tp(a):(s&=o,s!==0&&(r=Tp(s)))}else o=t&~i,o!==0?r=Tp(o):s!==0&&(r=Tp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Ao(e),i=1<<t,r|=n[t],e&=~i;return r}function I6(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B6(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ao(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=I6(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function $M(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function jO(){var n=G0;return G0<<=1,!(G0&4194240)&&(G0=64),n}function PS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function dg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ao(e),n[e]=t}function L6(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Ao(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function $b(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Ao(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var xn=0;function XO(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var JO,Kb,YO,$O,KO,KM=!1,V0=[],Hl=null,Vl=null,Wl=null,dm=new Map,hm=new Map,Rl=[],D6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GP(n,e){switch(n){case"focusin":case"focusout":Hl=null;break;case"dragenter":case"dragleave":Vl=null;break;case"mouseover":case"mouseout":Wl=null;break;case"pointerover":case"pointerout":dm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hm.delete(e.pointerId)}}function $h(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=pg(e),e!==null&&Kb(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function O6(n,e,t,r,i){switch(e){case"focusin":return Hl=$h(Hl,n,e,t,r,i),!0;case"dragenter":return Vl=$h(Vl,n,e,t,r,i),!0;case"mouseover":return Wl=$h(Wl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return dm.set(s,$h(dm.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hm.set(s,$h(hm.get(s)||null,n,e,t,r,i)),!0}return!1}function QO(n){var e=ou(n.target);if(e!==null){var t=$u(e);if(t!==null){if(e=t.tag,e===13){if(e=NO(t),e!==null){n.blockedOn=e,KO(n.priority,function(){YO(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gy(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=QM(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);jM=r,t.target.dispatchEvent(r),jM=null}else return e=pg(t),e!==null&&Kb(e),n.blockedOn=t,!1;e.shift()}return!0}function HP(n,e,t){gy(n)&&t.delete(e)}function F6(){KM=!1,Hl!==null&&gy(Hl)&&(Hl=null),Vl!==null&&gy(Vl)&&(Vl=null),Wl!==null&&gy(Wl)&&(Wl=null),dm.forEach(HP),hm.forEach(HP)}function Kh(n,e){n.blockedOn===e&&(n.blockedOn=null,KM||(KM=!0,gs.unstable_scheduleCallback(gs.unstable_NormalPriority,F6)))}function pm(n){function e(i){return Kh(i,n)}if(0<V0.length){Kh(V0[0],n);for(var t=1;t<V0.length;t++){var r=V0[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Hl!==null&&Kh(Hl,n),Vl!==null&&Kh(Vl,n),Wl!==null&&Kh(Wl,n),dm.forEach(e),hm.forEach(e),t=0;t<Rl.length;t++)r=Rl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Rl.length&&(t=Rl[0],t.blockedOn===null);)QO(t),t.blockedOn===null&&Rl.shift()}var wd=nl.ReactCurrentBatchConfig,qy=!0;function U6(n,e,t,r){var i=xn,s=wd.transition;wd.transition=null;try{xn=1,Qb(n,e,t,r)}finally{xn=i,wd.transition=s}}function k6(n,e,t,r){var i=xn,s=wd.transition;wd.transition=null;try{xn=4,Qb(n,e,t,r)}finally{xn=i,wd.transition=s}}function Qb(n,e,t,r){if(qy){var i=QM(n,e,t,r);if(i===null)zS(n,e,r,e1,t),GP(n,r);else if(O6(i,n,e,t,r))r.stopPropagation();else if(GP(n,r),e&4&&-1<D6.indexOf(n)){for(;i!==null;){var s=pg(i);if(s!==null&&JO(s),s=QM(n,e,t,r),s===null&&zS(n,e,r,e1,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else zS(n,e,r,null,t)}}var e1=null;function QM(n,e,t,r){if(e1=null,n=Jb(r),n=ou(n),n!==null)if(e=$u(n),e===null)n=null;else if(t=e.tag,t===13){if(n=NO(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return e1=n,null}function ZO(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w6()){case Yb:return 1;case VO:return 4;case Qy:case b6:return 16;case WO:return 536870912;default:return 16}default:return 16}}var Il=null,Zb=null,vy=null;function qO(){if(vy)return vy;var n,e=Zb,t=e.length,r,i="value"in Il?Il.value:Il.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return vy=i.slice(n,1<r?1-r:void 0)}function yy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function W0(){return!0}function VP(){return!1}function xs(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?W0:VP,this.isPropagationStopped=VP,this}return Kn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=W0)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=W0)},persist:function(){},isPersistent:W0}),e}var dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qb=xs(dh),hg=Kn({},dh,{view:0,detail:0}),N6=xs(hg),IS,BS,Qh,e_=Kn({},hg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eT,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qh&&(Qh&&n.type==="mousemove"?(IS=n.screenX-Qh.screenX,BS=n.screenY-Qh.screenY):BS=IS=0,Qh=n),IS)},movementY:function(n){return"movementY"in n?n.movementY:BS}}),WP=xs(e_),z6=Kn({},e_,{dataTransfer:0}),G6=xs(z6),H6=Kn({},hg,{relatedTarget:0}),LS=xs(H6),V6=Kn({},dh,{animationName:0,elapsedTime:0,pseudoElement:0}),W6=xs(V6),j6=Kn({},dh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),X6=xs(j6),J6=Kn({},dh,{data:0}),jP=xs(J6),Y6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q6(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=K6[n])?!!e[n]:!1}function eT(){return Q6}var Z6=Kn({},hg,{key:function(n){if(n.key){var e=Y6[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=yy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$6[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eT,charCode:function(n){return n.type==="keypress"?yy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),q6=xs(Z6),eH=Kn({},e_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XP=xs(eH),tH=Kn({},hg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eT}),nH=xs(tH),rH=Kn({},dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),iH=xs(rH),sH=Kn({},e_,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),oH=xs(sH),aH=[9,13,27,32],tT=Xa&&"CompositionEvent"in window,Up=null;Xa&&"documentMode"in document&&(Up=document.documentMode);var lH=Xa&&"TextEvent"in window&&!Up,eF=Xa&&(!tT||Up&&8<Up&&11>=Up),JP=String.fromCharCode(32),YP=!1;function tF(n,e){switch(n){case"keyup":return aH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nF(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var td=!1;function cH(n,e){switch(n){case"compositionend":return nF(e);case"keypress":return e.which!==32?null:(YP=!0,JP);case"textInput":return n=e.data,n===JP&&YP?null:n;default:return null}}function uH(n,e){if(td)return n==="compositionend"||!tT&&tF(n,e)?(n=qO(),vy=Zb=Il=null,td=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eF&&e.locale!=="ko"?null:e.data;default:return null}}var fH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $P(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!fH[n.type]:e==="textarea"}function rF(n,e,t,r){DO(r),e=t1(e,"onChange"),0<e.length&&(t=new qb("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var kp=null,mm=null;function dH(n){pF(n,0)}function t_(n){var e=id(n);if(TO(e))return n}function hH(n,e){if(n==="change")return e}var iF=!1;if(Xa){var DS;if(Xa){var OS="oninput"in document;if(!OS){var KP=document.createElement("div");KP.setAttribute("oninput","return;"),OS=typeof KP.oninput=="function"}DS=OS}else DS=!1;iF=DS&&(!document.documentMode||9<document.documentMode)}function QP(){kp&&(kp.detachEvent("onpropertychange",sF),mm=kp=null)}function sF(n){if(n.propertyName==="value"&&t_(mm)){var e=[];rF(e,mm,n,Jb(n)),kO(dH,e)}}function pH(n,e,t){n==="focusin"?(QP(),kp=e,mm=t,kp.attachEvent("onpropertychange",sF)):n==="focusout"&&QP()}function mH(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return t_(mm)}function gH(n,e){if(n==="click")return t_(e)}function vH(n,e){if(n==="input"||n==="change")return t_(e)}function yH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var To=typeof Object.is=="function"?Object.is:yH;function gm(n,e){if(To(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!LM.call(e,i)||!To(n[i],e[i]))return!1}return!0}function ZP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function qP(n,e){var t=ZP(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=ZP(t)}}function oF(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?oF(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function aF(){for(var n=window,e=Yy();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Yy(n.document)}return e}function nT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function _H(n){var e=aF(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&oF(t.ownerDocument.documentElement,t)){if(r!==null&&nT(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=qP(t,s);var o=qP(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var xH=Xa&&"documentMode"in document&&11>=document.documentMode,nd=null,ZM=null,Np=null,qM=!1;function e3(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;qM||nd==null||nd!==Yy(r)||(r=nd,"selectionStart"in r&&nT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Np&&gm(Np,r)||(Np=r,r=t1(ZM,"onSelect"),0<r.length&&(e=new qb("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=nd)))}function j0(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var rd={animationend:j0("Animation","AnimationEnd"),animationiteration:j0("Animation","AnimationIteration"),animationstart:j0("Animation","AnimationStart"),transitionend:j0("Transition","TransitionEnd")},FS={},lF={};Xa&&(lF=document.createElement("div").style,"AnimationEvent"in window||(delete rd.animationend.animation,delete rd.animationiteration.animation,delete rd.animationstart.animation),"TransitionEvent"in window||delete rd.transitionend.transition);function n_(n){if(FS[n])return FS[n];if(!rd[n])return n;var e=rd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in lF)return FS[n]=e[t];return n}var cF=n_("animationend"),uF=n_("animationiteration"),fF=n_("animationstart"),dF=n_("transitionend"),hF=new Map,t3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dc(n,e){hF.set(n,e),Yu(e,[n])}for(var US=0;US<t3.length;US++){var kS=t3[US],SH=kS.toLowerCase(),AH=kS[0].toUpperCase()+kS.slice(1);dc(SH,"on"+AH)}dc(cF,"onAnimationEnd");dc(uF,"onAnimationIteration");dc(fF,"onAnimationStart");dc("dblclick","onDoubleClick");dc("focusin","onFocus");dc("focusout","onBlur");dc(dF,"onTransitionEnd");Nd("onMouseEnter",["mouseout","mouseover"]);Nd("onMouseLeave",["mouseout","mouseover"]);Nd("onPointerEnter",["pointerout","pointerover"]);Nd("onPointerLeave",["pointerout","pointerover"]);Yu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cp));function n3(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,S6(r,e,void 0,n),n.currentTarget=null}function pF(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;n3(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;n3(i,a,c),s=l}}}if(Ky)throw n=YM,Ky=!1,YM=null,n}function Bn(n,e){var t=e[iE];t===void 0&&(t=e[iE]=new Set);var r=n+"__bubble";t.has(r)||(mF(e,n,2,!1),t.add(r))}function NS(n,e,t){var r=0;e&&(r|=4),mF(t,n,r,e)}var X0="_reactListening"+Math.random().toString(36).slice(2);function vm(n){if(!n[X0]){n[X0]=!0,AO.forEach(function(t){t!=="selectionchange"&&(MH.has(t)||NS(t,!1,n),NS(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[X0]||(e[X0]=!0,NS("selectionchange",!1,e))}}function mF(n,e,t,r){switch(ZO(e)){case 1:var i=U6;break;case 4:i=k6;break;default:i=Qb}t=i.bind(null,e,t,n),i=void 0,!JM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function zS(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ou(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}kO(function(){var c=s,u=Jb(t),f=[];e:{var p=hF.get(n);if(p!==void 0){var m=qb,v=n;switch(n){case"keypress":if(yy(t)===0)break e;case"keydown":case"keyup":m=q6;break;case"focusin":v="focus",m=LS;break;case"focusout":v="blur",m=LS;break;case"beforeblur":case"afterblur":m=LS;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=WP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=G6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=nH;break;case cF:case uF:case fF:m=W6;break;case dF:m=iH;break;case"scroll":m=N6;break;case"wheel":m=oH;break;case"copy":case"cut":case"paste":m=X6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=XP}var y=(e&4)!==0,_=!y&&n==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var x=c,S;x!==null;){S=x;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,g!==null&&(M=fm(x,g),M!=null&&y.push(ym(x,M,S)))),_)break;x=x.return}0<y.length&&(p=new m(p,v,null,t,u),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==jM&&(v=t.relatedTarget||t.fromElement)&&(ou(v)||v[Ja]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?ou(v):null,v!==null&&(_=$u(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=WP,M="onMouseLeave",g="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(y=XP,M="onPointerLeave",g="onPointerEnter",x="pointer"),_=m==null?p:id(m),S=v==null?p:id(v),p=new y(M,x+"leave",m,t,u),p.target=_,p.relatedTarget=S,M=null,ou(u)===c&&(y=new y(g,x+"enter",v,t,u),y.target=S,y.relatedTarget=_,M=y),_=M,m&&v)t:{for(y=m,g=v,x=0,S=y;S;S=yf(S))x++;for(S=0,M=g;M;M=yf(M))S++;for(;0<x-S;)y=yf(y),x--;for(;0<S-x;)g=yf(g),S--;for(;x--;){if(y===g||g!==null&&y===g.alternate)break t;y=yf(y),g=yf(g)}y=null}else y=null;m!==null&&r3(f,p,m,y,!1),v!==null&&_!==null&&r3(f,_,v,y,!0)}}e:{if(p=c?id(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var w=hH;else if($P(p))if(iF)w=vH;else{w=mH;var b=pH}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=gH);if(w&&(w=w(n,c))){rF(f,w,t,u);break e}b&&b(n,p,c),n==="focusout"&&(b=p._wrapperState)&&b.controlled&&p.type==="number"&&zM(p,"number",p.value)}switch(b=c?id(c):window,n){case"focusin":($P(b)||b.contentEditable==="true")&&(nd=b,ZM=c,Np=null);break;case"focusout":Np=ZM=nd=null;break;case"mousedown":qM=!0;break;case"contextmenu":case"mouseup":case"dragend":qM=!1,e3(f,t,u);break;case"selectionchange":if(xH)break;case"keydown":case"keyup":e3(f,t,u)}var T;if(tT)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else td?tF(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(eF&&t.locale!=="ko"&&(td||R!=="onCompositionStart"?R==="onCompositionEnd"&&td&&(T=qO()):(Il=u,Zb="value"in Il?Il.value:Il.textContent,td=!0)),b=t1(c,R),0<b.length&&(R=new jP(R,n,null,t,u),f.push({event:R,listeners:b}),T?R.data=T:(T=nF(t),T!==null&&(R.data=T)))),(T=lH?cH(n,t):uH(n,t))&&(c=t1(c,"onBeforeInput"),0<c.length&&(u=new jP("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=T))}pF(f,e)})}function ym(n,e,t){return{instance:n,listener:e,currentTarget:t}}function t1(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fm(n,t),s!=null&&r.unshift(ym(n,s,i)),s=fm(n,e),s!=null&&r.push(ym(n,s,i))),n=n.return}return r}function yf(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function r3(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=fm(t,s),l!=null&&o.unshift(ym(t,l,a))):i||(l=fm(t,s),l!=null&&o.push(ym(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var EH=/\r\n?/g,wH=/\u0000|\uFFFD/g;function i3(n){return(typeof n=="string"?n:""+n).replace(EH,`
`).replace(wH,"")}function J0(n,e,t){if(e=i3(e),i3(n)!==e&&t)throw Error(qe(425))}function n1(){}var eE=null,tE=null;function nE(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rE=typeof setTimeout=="function"?setTimeout:void 0,bH=typeof clearTimeout=="function"?clearTimeout:void 0,s3=typeof Promise=="function"?Promise:void 0,TH=typeof queueMicrotask=="function"?queueMicrotask:typeof s3<"u"?function(n){return s3.resolve(null).then(n).catch(CH)}:rE;function CH(n){setTimeout(function(){throw n})}function GS(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),pm(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);pm(e)}function jl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function o3(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var hh=Math.random().toString(36).slice(2),Ko="__reactFiber$"+hh,_m="__reactProps$"+hh,Ja="__reactContainer$"+hh,iE="__reactEvents$"+hh,RH="__reactListeners$"+hh,PH="__reactHandles$"+hh;function ou(n){var e=n[Ko];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ja]||t[Ko]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=o3(n);n!==null;){if(t=n[Ko])return t;n=o3(n)}return e}n=t,t=n.parentNode}return null}function pg(n){return n=n[Ko]||n[Ja],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function id(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(qe(33))}function r_(n){return n[_m]||null}var sE=[],sd=-1;function hc(n){return{current:n}}function On(n){0>sd||(n.current=sE[sd],sE[sd]=null,sd--)}function Pn(n,e){sd++,sE[sd]=n.current,n.current=e}var sc={},fi=hc(sc),Hi=hc(!1),Iu=sc;function zd(n,e){var t=n.type.contextTypes;if(!t)return sc;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Vi(n){return n=n.childContextTypes,n!=null}function r1(){On(Hi),On(fi)}function a3(n,e,t){if(fi.current!==sc)throw Error(qe(168));Pn(fi,e),Pn(Hi,t)}function gF(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(qe(108,p6(n)||"Unknown",i));return Kn({},t,r)}function i1(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||sc,Iu=fi.current,Pn(fi,n),Pn(Hi,Hi.current),!0}function l3(n,e,t){var r=n.stateNode;if(!r)throw Error(qe(169));t?(n=gF(n,e,Iu),r.__reactInternalMemoizedMergedChildContext=n,On(Hi),On(fi),Pn(fi,n)):On(Hi),Pn(Hi,t)}var Fa=null,i_=!1,HS=!1;function vF(n){Fa===null?Fa=[n]:Fa.push(n)}function IH(n){i_=!0,vF(n)}function pc(){if(!HS&&Fa!==null){HS=!0;var n=0,e=xn;try{var t=Fa;for(xn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Fa=null,i_=!1}catch(i){throw Fa!==null&&(Fa=Fa.slice(n+1)),HO(Yb,pc),i}finally{xn=e,HS=!1}}return null}var od=[],ad=0,s1=null,o1=0,Ns=[],zs=0,Bu=null,za=1,Ga="";function Yc(n,e){od[ad++]=o1,od[ad++]=s1,s1=n,o1=e}function yF(n,e,t){Ns[zs++]=za,Ns[zs++]=Ga,Ns[zs++]=Bu,Bu=n;var r=za;n=Ga;var i=32-Ao(r)-1;r&=~(1<<i),t+=1;var s=32-Ao(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,za=1<<32-Ao(e)+i|t<<i|r,Ga=s+n}else za=1<<s|t<<i|r,Ga=n}function rT(n){n.return!==null&&(Yc(n,1),yF(n,1,0))}function iT(n){for(;n===s1;)s1=od[--ad],od[ad]=null,o1=od[--ad],od[ad]=null;for(;n===Bu;)Bu=Ns[--zs],Ns[zs]=null,Ga=Ns[--zs],Ns[zs]=null,za=Ns[--zs],Ns[zs]=null}var hs=null,fs=null,kn=!1,go=null;function _F(n,e){var t=js(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function c3(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,hs=n,fs=jl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,hs=n,fs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Bu!==null?{id:za,overflow:Ga}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=js(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,hs=n,fs=null,!0):!1;default:return!1}}function oE(n){return(n.mode&1)!==0&&(n.flags&128)===0}function aE(n){if(kn){var e=fs;if(e){var t=e;if(!c3(n,e)){if(oE(n))throw Error(qe(418));e=jl(t.nextSibling);var r=hs;e&&c3(n,e)?_F(r,t):(n.flags=n.flags&-4097|2,kn=!1,hs=n)}}else{if(oE(n))throw Error(qe(418));n.flags=n.flags&-4097|2,kn=!1,hs=n}}}function u3(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;hs=n}function Y0(n){if(n!==hs)return!1;if(!kn)return u3(n),kn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!nE(n.type,n.memoizedProps)),e&&(e=fs)){if(oE(n))throw xF(),Error(qe(418));for(;e;)_F(n,e),e=jl(e.nextSibling)}if(u3(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(qe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){fs=jl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}fs=null}}else fs=hs?jl(n.stateNode.nextSibling):null;return!0}function xF(){for(var n=fs;n;)n=jl(n.nextSibling)}function Gd(){fs=hs=null,kn=!1}function sT(n){go===null?go=[n]:go.push(n)}var BH=nl.ReactCurrentBatchConfig;function fo(n,e){if(n&&n.defaultProps){e=Kn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var a1=hc(null),l1=null,ld=null,oT=null;function aT(){oT=ld=l1=null}function lT(n){var e=a1.current;On(a1),n._currentValue=e}function lE(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function bd(n,e){l1=n,oT=ld=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(zi=!0),n.firstContext=null)}function Zs(n){var e=n._currentValue;if(oT!==n)if(n={context:n,memoizedValue:e,next:null},ld===null){if(l1===null)throw Error(qe(308));ld=n,l1.dependencies={lanes:0,firstContext:n}}else ld=ld.next=n;return e}var au=null;function cT(n){au===null?au=[n]:au.push(n)}function SF(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,cT(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ya(n,r)}function Ya(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var wl=!1;function uT(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AF(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Wa(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Xl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,un&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ya(n,t)}return i=r.interleaved,i===null?(e.next=e,cT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ya(n,t)}function _y(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,$b(n,t)}}function f3(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function c1(n,e,t,r){var i=n.updateQueue;wl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(p=e,m=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Kn({},f,p);break e;case 2:wl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Du|=o,n.lanes=o,n.memoizedState=f}}function d3(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(qe(191,i));i.call(r)}}}var MF=new SO.Component().refs;function cE(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Kn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var s_={isMounted:function(n){return(n=n._reactInternals)?$u(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=bi(),i=Yl(n),s=Wa(r,i);s.payload=e,t!=null&&(s.callback=t),e=Xl(n,s,i),e!==null&&(Mo(e,n,i,r),_y(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=bi(),i=Yl(n),s=Wa(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Xl(n,s,i),e!==null&&(Mo(e,n,i,r),_y(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=bi(),r=Yl(n),i=Wa(t,r);i.tag=2,e!=null&&(i.callback=e),e=Xl(n,i,r),e!==null&&(Mo(e,n,r,t),_y(e,n,r))}};function h3(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gm(t,r)||!gm(i,s):!0}function EF(n,e,t){var r=!1,i=sc,s=e.contextType;return typeof s=="object"&&s!==null?s=Zs(s):(i=Vi(e)?Iu:fi.current,r=e.contextTypes,s=(r=r!=null)?zd(n,i):sc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=s_,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function p3(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&s_.enqueueReplaceState(e,e.state,null)}function uE(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=MF,uT(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zs(s):(s=Vi(e)?Iu:fi.current,i.context=zd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cE(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&s_.enqueueReplaceState(i,i.state,null),c1(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Zh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(qe(309));var r=t.stateNode}if(!r)throw Error(qe(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===MF&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(qe(284));if(!t._owner)throw Error(qe(290,n))}return n}function $0(n,e){throw n=Object.prototype.toString.call(e),Error(qe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function m3(n){var e=n._init;return e(n._payload)}function wF(n){function e(g,x){if(n){var S=g.deletions;S===null?(g.deletions=[x],g.flags|=16):S.push(x)}}function t(g,x){if(!n)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=$l(g,x),g.index=0,g.sibling=null,g}function s(g,x,S){return g.index=S,n?(S=g.alternate,S!==null?(S=S.index,S<x?(g.flags|=2,x):S):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,x,S,M){return x===null||x.tag!==6?(x=$S(S,g.mode,M),x.return=g,x):(x=i(x,S),x.return=g,x)}function l(g,x,S,M){var w=S.type;return w===ed?u(g,x,S.props.children,M,S.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===El&&m3(w)===x.type)?(M=i(x,S.props),M.ref=Zh(g,x,S),M.return=g,M):(M=wy(S.type,S.key,S.props,null,g.mode,M),M.ref=Zh(g,x,S),M.return=g,M)}function c(g,x,S,M){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=KS(S,g.mode,M),x.return=g,x):(x=i(x,S.children||[]),x.return=g,x)}function u(g,x,S,M,w){return x===null||x.tag!==7?(x=yu(S,g.mode,M,w),x.return=g,x):(x=i(x,S),x.return=g,x)}function f(g,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=$S(""+x,g.mode,S),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case k0:return S=wy(x.type,x.key,x.props,null,g.mode,S),S.ref=Zh(g,null,x),S.return=g,S;case qf:return x=KS(x,g.mode,S),x.return=g,x;case El:var M=x._init;return f(g,M(x._payload),S)}if(bp(x)||Jh(x))return x=yu(x,g.mode,S,null),x.return=g,x;$0(g,x)}return null}function p(g,x,S,M){var w=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return w!==null?null:a(g,x,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case k0:return S.key===w?l(g,x,S,M):null;case qf:return S.key===w?c(g,x,S,M):null;case El:return w=S._init,p(g,x,w(S._payload),M)}if(bp(S)||Jh(S))return w!==null?null:u(g,x,S,M,null);$0(g,S)}return null}function m(g,x,S,M,w){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(S)||null,a(x,g,""+M,w);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k0:return g=g.get(M.key===null?S:M.key)||null,l(x,g,M,w);case qf:return g=g.get(M.key===null?S:M.key)||null,c(x,g,M,w);case El:var b=M._init;return m(g,x,S,b(M._payload),w)}if(bp(M)||Jh(M))return g=g.get(S)||null,u(x,g,M,w,null);$0(x,M)}return null}function v(g,x,S,M){for(var w=null,b=null,T=x,R=x=0,C=null;T!==null&&R<S.length;R++){T.index>R?(C=T,T=null):C=T.sibling;var B=p(g,T,S[R],M);if(B===null){T===null&&(T=C);break}n&&T&&B.alternate===null&&e(g,T),x=s(B,x,R),b===null?w=B:b.sibling=B,b=B,T=C}if(R===S.length)return t(g,T),kn&&Yc(g,R),w;if(T===null){for(;R<S.length;R++)T=f(g,S[R],M),T!==null&&(x=s(T,x,R),b===null?w=T:b.sibling=T,b=T);return kn&&Yc(g,R),w}for(T=r(g,T);R<S.length;R++)C=m(T,g,R,S[R],M),C!==null&&(n&&C.alternate!==null&&T.delete(C.key===null?R:C.key),x=s(C,x,R),b===null?w=C:b.sibling=C,b=C);return n&&T.forEach(function(U){return e(g,U)}),kn&&Yc(g,R),w}function y(g,x,S,M){var w=Jh(S);if(typeof w!="function")throw Error(qe(150));if(S=w.call(S),S==null)throw Error(qe(151));for(var b=w=null,T=x,R=x=0,C=null,B=S.next();T!==null&&!B.done;R++,B=S.next()){T.index>R?(C=T,T=null):C=T.sibling;var U=p(g,T,B.value,M);if(U===null){T===null&&(T=C);break}n&&T&&U.alternate===null&&e(g,T),x=s(U,x,R),b===null?w=U:b.sibling=U,b=U,T=C}if(B.done)return t(g,T),kn&&Yc(g,R),w;if(T===null){for(;!B.done;R++,B=S.next())B=f(g,B.value,M),B!==null&&(x=s(B,x,R),b===null?w=B:b.sibling=B,b=B);return kn&&Yc(g,R),w}for(T=r(g,T);!B.done;R++,B=S.next())B=m(T,g,R,B.value,M),B!==null&&(n&&B.alternate!==null&&T.delete(B.key===null?R:B.key),x=s(B,x,R),b===null?w=B:b.sibling=B,b=B);return n&&T.forEach(function(k){return e(g,k)}),kn&&Yc(g,R),w}function _(g,x,S,M){if(typeof S=="object"&&S!==null&&S.type===ed&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case k0:e:{for(var w=S.key,b=x;b!==null;){if(b.key===w){if(w=S.type,w===ed){if(b.tag===7){t(g,b.sibling),x=i(b,S.props.children),x.return=g,g=x;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===El&&m3(w)===b.type){t(g,b.sibling),x=i(b,S.props),x.ref=Zh(g,b,S),x.return=g,g=x;break e}t(g,b);break}else e(g,b);b=b.sibling}S.type===ed?(x=yu(S.props.children,g.mode,M,S.key),x.return=g,g=x):(M=wy(S.type,S.key,S.props,null,g.mode,M),M.ref=Zh(g,x,S),M.return=g,g=M)}return o(g);case qf:e:{for(b=S.key;x!==null;){if(x.key===b)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){t(g,x.sibling),x=i(x,S.children||[]),x.return=g,g=x;break e}else{t(g,x);break}else e(g,x);x=x.sibling}x=KS(S,g.mode,M),x.return=g,g=x}return o(g);case El:return b=S._init,_(g,x,b(S._payload),M)}if(bp(S))return v(g,x,S,M);if(Jh(S))return y(g,x,S,M);$0(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(t(g,x.sibling),x=i(x,S),x.return=g,g=x):(t(g,x),x=$S(S,g.mode,M),x.return=g,g=x),o(g)):t(g,x)}return _}var Hd=wF(!0),bF=wF(!1),mg={},ta=hc(mg),xm=hc(mg),Sm=hc(mg);function lu(n){if(n===mg)throw Error(qe(174));return n}function fT(n,e){switch(Pn(Sm,e),Pn(xm,n),Pn(ta,mg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:HM(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=HM(e,n)}On(ta),Pn(ta,e)}function Vd(){On(ta),On(xm),On(Sm)}function TF(n){lu(Sm.current);var e=lu(ta.current),t=HM(e,n.type);e!==t&&(Pn(xm,n),Pn(ta,t))}function dT(n){xm.current===n&&(On(ta),On(xm))}var Wn=hc(0);function u1(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var VS=[];function hT(){for(var n=0;n<VS.length;n++)VS[n]._workInProgressVersionPrimary=null;VS.length=0}var xy=nl.ReactCurrentDispatcher,WS=nl.ReactCurrentBatchConfig,Lu=0,$n=null,Tr=null,Ur=null,f1=!1,zp=!1,Am=0,LH=0;function ti(){throw Error(qe(321))}function pT(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!To(n[t],e[t]))return!1;return!0}function mT(n,e,t,r,i,s){if(Lu=s,$n=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xy.current=n===null||n.memoizedState===null?UH:kH,n=t(r,i),zp){s=0;do{if(zp=!1,Am=0,25<=s)throw Error(qe(301));s+=1,Ur=Tr=null,e.updateQueue=null,xy.current=NH,n=t(r,i)}while(zp)}if(xy.current=d1,e=Tr!==null&&Tr.next!==null,Lu=0,Ur=Tr=$n=null,f1=!1,e)throw Error(qe(300));return n}function gT(){var n=Am!==0;return Am=0,n}function jo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?$n.memoizedState=Ur=n:Ur=Ur.next=n,Ur}function qs(){if(Tr===null){var n=$n.alternate;n=n!==null?n.memoizedState:null}else n=Tr.next;var e=Ur===null?$n.memoizedState:Ur.next;if(e!==null)Ur=e,Tr=n;else{if(n===null)throw Error(qe(310));Tr=n,n={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Ur===null?$n.memoizedState=Ur=n:Ur=Ur.next=n}return Ur}function Mm(n,e){return typeof e=="function"?e(n):e}function jS(n){var e=qs(),t=e.queue;if(t===null)throw Error(qe(311));t.lastRenderedReducer=n;var r=Tr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Lu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,$n.lanes|=u,Du|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,To(r,e.memoizedState)||(zi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,$n.lanes|=s,Du|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function XS(n){var e=qs(),t=e.queue;if(t===null)throw Error(qe(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);To(s,e.memoizedState)||(zi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function CF(){}function RF(n,e){var t=$n,r=qs(),i=e(),s=!To(r.memoizedState,i);if(s&&(r.memoizedState=i,zi=!0),r=r.queue,vT(BF.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Ur!==null&&Ur.memoizedState.tag&1){if(t.flags|=2048,Em(9,IF.bind(null,t,r,i,e),void 0,null),Nr===null)throw Error(qe(349));Lu&30||PF(t,e,i)}return i}function PF(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function IF(n,e,t,r){e.value=t,e.getSnapshot=r,LF(e)&&DF(n)}function BF(n,e,t){return t(function(){LF(e)&&DF(n)})}function LF(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!To(n,t)}catch{return!0}}function DF(n){var e=Ya(n,1);e!==null&&Mo(e,n,1,-1)}function g3(n){var e=jo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:n},e.queue=n,n=n.dispatch=FH.bind(null,$n,n),[e.memoizedState,n]}function Em(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function OF(){return qs().memoizedState}function Sy(n,e,t,r){var i=jo();$n.flags|=n,i.memoizedState=Em(1|e,t,void 0,r===void 0?null:r)}function o_(n,e,t,r){var i=qs();r=r===void 0?null:r;var s=void 0;if(Tr!==null){var o=Tr.memoizedState;if(s=o.destroy,r!==null&&pT(r,o.deps)){i.memoizedState=Em(e,t,s,r);return}}$n.flags|=n,i.memoizedState=Em(1|e,t,s,r)}function v3(n,e){return Sy(8390656,8,n,e)}function vT(n,e){return o_(2048,8,n,e)}function FF(n,e){return o_(4,2,n,e)}function UF(n,e){return o_(4,4,n,e)}function kF(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function NF(n,e,t){return t=t!=null?t.concat([n]):null,o_(4,4,kF.bind(null,e,n),t)}function yT(){}function zF(n,e){var t=qs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&pT(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function GF(n,e){var t=qs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&pT(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function HF(n,e,t){return Lu&21?(To(t,e)||(t=jO(),$n.lanes|=t,Du|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,zi=!0),n.memoizedState=t)}function DH(n,e){var t=xn;xn=t!==0&&4>t?t:4,n(!0);var r=WS.transition;WS.transition={};try{n(!1),e()}finally{xn=t,WS.transition=r}}function VF(){return qs().memoizedState}function OH(n,e,t){var r=Yl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},WF(n))jF(e,t);else if(t=SF(n,e,t,r),t!==null){var i=bi();Mo(t,n,r,i),XF(t,e,r)}}function FH(n,e,t){var r=Yl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(WF(n))jF(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,To(a,o)){var l=e.interleaved;l===null?(i.next=i,cT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=SF(n,e,i,r),t!==null&&(i=bi(),Mo(t,n,r,i),XF(t,e,r))}}function WF(n){var e=n.alternate;return n===$n||e!==null&&e===$n}function jF(n,e){zp=f1=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function XF(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,$b(n,t)}}var d1={readContext:Zs,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},UH={readContext:Zs,useCallback:function(n,e){return jo().memoizedState=[n,e===void 0?null:e],n},useContext:Zs,useEffect:v3,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Sy(4194308,4,kF.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Sy(4194308,4,n,e)},useInsertionEffect:function(n,e){return Sy(4,2,n,e)},useMemo:function(n,e){var t=jo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=jo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=OH.bind(null,$n,n),[r.memoizedState,n]},useRef:function(n){var e=jo();return n={current:n},e.memoizedState=n},useState:g3,useDebugValue:yT,useDeferredValue:function(n){return jo().memoizedState=n},useTransition:function(){var n=g3(!1),e=n[0];return n=DH.bind(null,n[1]),jo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=$n,i=jo();if(kn){if(t===void 0)throw Error(qe(407));t=t()}else{if(t=e(),Nr===null)throw Error(qe(349));Lu&30||PF(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,v3(BF.bind(null,r,s,n),[n]),r.flags|=2048,Em(9,IF.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=jo(),e=Nr.identifierPrefix;if(kn){var t=Ga,r=za;t=(r&~(1<<32-Ao(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Am++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=LH++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},kH={readContext:Zs,useCallback:zF,useContext:Zs,useEffect:vT,useImperativeHandle:NF,useInsertionEffect:FF,useLayoutEffect:UF,useMemo:GF,useReducer:jS,useRef:OF,useState:function(){return jS(Mm)},useDebugValue:yT,useDeferredValue:function(n){var e=qs();return HF(e,Tr.memoizedState,n)},useTransition:function(){var n=jS(Mm)[0],e=qs().memoizedState;return[n,e]},useMutableSource:CF,useSyncExternalStore:RF,useId:VF,unstable_isNewReconciler:!1},NH={readContext:Zs,useCallback:zF,useContext:Zs,useEffect:vT,useImperativeHandle:NF,useInsertionEffect:FF,useLayoutEffect:UF,useMemo:GF,useReducer:XS,useRef:OF,useState:function(){return XS(Mm)},useDebugValue:yT,useDeferredValue:function(n){var e=qs();return Tr===null?e.memoizedState=n:HF(e,Tr.memoizedState,n)},useTransition:function(){var n=XS(Mm)[0],e=qs().memoizedState;return[n,e]},useMutableSource:CF,useSyncExternalStore:RF,useId:VF,unstable_isNewReconciler:!1};function Wd(n,e){try{var t="",r=e;do t+=h6(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function JS(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function fE(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var zH=typeof WeakMap=="function"?WeakMap:Map;function JF(n,e,t){t=Wa(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){p1||(p1=!0,SE=r),fE(n,e)},t}function YF(n,e,t){t=Wa(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){fE(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){fE(n,e),typeof r!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function y3(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new zH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=e9.bind(null,n,e,t),e.then(n,n))}function _3(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function x3(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Wa(-1,1),e.tag=2,Xl(t,e,1))),t.lanes|=1),n)}var GH=nl.ReactCurrentOwner,zi=!1;function Ai(n,e,t,r){e.child=n===null?bF(e,null,t,r):Hd(e,n.child,t,r)}function S3(n,e,t,r,i){t=t.render;var s=e.ref;return bd(e,i),r=mT(n,e,t,r,s,i),t=gT(),n!==null&&!zi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,$a(n,e,i)):(kn&&t&&rT(e),e.flags|=1,Ai(n,e,r,i),e.child)}function A3(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!bT(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,$F(n,e,s,r,i)):(n=wy(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:gm,t(o,r)&&n.ref===e.ref)return $a(n,e,i)}return e.flags|=1,n=$l(s,r),n.ref=e.ref,n.return=e,e.child=n}function $F(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(gm(s,r)&&n.ref===e.ref)if(zi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(zi=!0);else return e.lanes=n.lanes,$a(n,e,i)}return dE(n,e,t,r,i)}function KF(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pn(ud,ls),ls|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Pn(ud,ls),ls|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Pn(ud,ls),ls|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Pn(ud,ls),ls|=r;return Ai(n,e,i,t),e.child}function QF(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function dE(n,e,t,r,i){var s=Vi(t)?Iu:fi.current;return s=zd(e,s),bd(e,i),t=mT(n,e,t,r,s,i),r=gT(),n!==null&&!zi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,$a(n,e,i)):(kn&&r&&rT(e),e.flags|=1,Ai(n,e,t,i),e.child)}function M3(n,e,t,r,i){if(Vi(t)){var s=!0;i1(e)}else s=!1;if(bd(e,i),e.stateNode===null)Ay(n,e),EF(e,t,r),uE(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Zs(c):(c=Vi(t)?Iu:fi.current,c=zd(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&p3(e,o,r,c),wl=!1;var p=e.memoizedState;o.state=p,c1(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Hi.current||wl?(typeof u=="function"&&(cE(e,t,u,r),l=e.memoizedState),(a=wl||h3(e,t,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,AF(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:fo(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Zs(l):(l=Vi(t)?Iu:fi.current,l=zd(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&p3(e,o,r,l),wl=!1,p=e.memoizedState,o.state=p,c1(e,r,o,i);var v=e.memoizedState;a!==f||p!==v||Hi.current||wl?(typeof m=="function"&&(cE(e,t,m,r),v=e.memoizedState),(c=wl||h3(e,t,c,r,p,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return hE(n,e,t,r,s,i)}function hE(n,e,t,r,i,s){QF(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&l3(e,t,!1),$a(n,e,s);r=e.stateNode,GH.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Hd(e,n.child,null,s),e.child=Hd(e,null,a,s)):Ai(n,e,a,s),e.memoizedState=r.state,i&&l3(e,t,!0),e.child}function ZF(n){var e=n.stateNode;e.pendingContext?a3(n,e.pendingContext,e.pendingContext!==e.context):e.context&&a3(n,e.context,!1),fT(n,e.containerInfo)}function E3(n,e,t,r,i){return Gd(),sT(i),e.flags|=256,Ai(n,e,t,r),e.child}var pE={dehydrated:null,treeContext:null,retryLane:0};function mE(n){return{baseLanes:n,cachePool:null,transitions:null}}function qF(n,e,t){var r=e.pendingProps,i=Wn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Pn(Wn,i&1),n===null)return aE(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=c_(o,r,0,null),n=yu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=mE(t),e.memoizedState=pE,n):_T(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return HH(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$l(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=$l(a,s):(s=yu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?mE(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=pE,r}return s=n.child,n=s.sibling,r=$l(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function _T(n,e){return e=c_({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function K0(n,e,t,r){return r!==null&&sT(r),Hd(e,n.child,null,t),n=_T(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function HH(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=JS(Error(qe(422))),K0(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=c_({mode:"visible",children:r.children},i,0,null),s=yu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Hd(e,n.child,null,o),e.child.memoizedState=mE(o),e.memoizedState=pE,s);if(!(e.mode&1))return K0(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(qe(419)),r=JS(s,r,void 0),K0(n,e,o,r)}if(a=(o&n.childLanes)!==0,zi||a){if(r=Nr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ya(n,i),Mo(r,n,i,-1))}return wT(),r=JS(Error(qe(421))),K0(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=t9.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,fs=jl(i.nextSibling),hs=e,kn=!0,go=null,n!==null&&(Ns[zs++]=za,Ns[zs++]=Ga,Ns[zs++]=Bu,za=n.id,Ga=n.overflow,Bu=e),e=_T(e,r.children),e.flags|=4096,e)}function w3(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),lE(n.return,e,t)}function YS(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function eU(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ai(n,e,r.children,t),r=Wn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&w3(n,t,e);else if(n.tag===19)w3(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Pn(Wn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&u1(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),YS(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&u1(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}YS(e,!0,t,null,s);break;case"together":YS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ay(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function $a(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Du|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(qe(153));if(e.child!==null){for(n=e.child,t=$l(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=$l(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function VH(n,e,t){switch(e.tag){case 3:ZF(e),Gd();break;case 5:TF(e);break;case 1:Vi(e.type)&&i1(e);break;case 4:fT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pn(a1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pn(Wn,Wn.current&1),e.flags|=128,null):t&e.child.childLanes?qF(n,e,t):(Pn(Wn,Wn.current&1),n=$a(n,e,t),n!==null?n.sibling:null);Pn(Wn,Wn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return eU(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pn(Wn,Wn.current),r)break;return null;case 22:case 23:return e.lanes=0,KF(n,e,t)}return $a(n,e,t)}var tU,gE,nU,rU;tU=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};gE=function(){};nU=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,lu(ta.current);var s=null;switch(t){case"input":i=kM(n,i),r=kM(n,r),s=[];break;case"select":i=Kn({},i,{value:void 0}),r=Kn({},r,{value:void 0}),s=[];break;case"textarea":i=GM(n,i),r=GM(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=n1)}VM(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Bn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};rU=function(n,e,t,r){t!==r&&(e.flags|=4)};function qh(n,e){if(!kn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function ni(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function WH(n,e,t){var r=e.pendingProps;switch(iT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(e),null;case 1:return Vi(e.type)&&r1(),ni(e),null;case 3:return r=e.stateNode,Vd(),On(Hi),On(fi),hT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Y0(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,go!==null&&(EE(go),go=null))),gE(n,e),ni(e),null;case 5:dT(e);var i=lu(Sm.current);if(t=e.type,n!==null&&e.stateNode!=null)nU(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(qe(166));return ni(e),null}if(n=lu(ta.current),Y0(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Ko]=e,r[_m]=s,n=(e.mode&1)!==0,t){case"dialog":Bn("cancel",r),Bn("close",r);break;case"iframe":case"object":case"embed":Bn("load",r);break;case"video":case"audio":for(i=0;i<Cp.length;i++)Bn(Cp[i],r);break;case"source":Bn("error",r);break;case"img":case"image":case"link":Bn("error",r),Bn("load",r);break;case"details":Bn("toggle",r);break;case"input":DP(r,s),Bn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Bn("invalid",r);break;case"textarea":FP(r,s),Bn("invalid",r)}VM(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&J0(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&J0(r.textContent,a,n),i=["children",""+a]):cm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Bn("scroll",r)}switch(t){case"input":N0(r),OP(r,s,!0);break;case"textarea":N0(r),UP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=n1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=PO(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Ko]=e,n[_m]=r,tU(n,e,!1,!1),e.stateNode=n;e:{switch(o=WM(t,r),t){case"dialog":Bn("cancel",n),Bn("close",n),i=r;break;case"iframe":case"object":case"embed":Bn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Cp.length;i++)Bn(Cp[i],n);i=r;break;case"source":Bn("error",n),i=r;break;case"img":case"image":case"link":Bn("error",n),Bn("load",n),i=r;break;case"details":Bn("toggle",n),i=r;break;case"input":DP(n,r),i=kM(n,r),Bn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Kn({},r,{value:void 0}),Bn("invalid",n);break;case"textarea":FP(n,r),i=GM(n,r),Bn("invalid",n);break;default:i=r}VM(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?LO(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&IO(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&um(n,l):typeof l=="number"&&um(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Bn("scroll",n):l!=null&&Vb(n,s,l,o))}switch(t){case"input":N0(n),OP(n,r,!1);break;case"textarea":N0(n),UP(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ic(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Ad(n,!!r.multiple,s,!1):r.defaultValue!=null&&Ad(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=n1)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ni(e),null;case 6:if(n&&e.stateNode!=null)rU(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(qe(166));if(t=lu(Sm.current),lu(ta.current),Y0(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ko]=e,(s=r.nodeValue!==t)&&(n=hs,n!==null))switch(n.tag){case 3:J0(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&J0(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ko]=e,e.stateNode=r}return ni(e),null;case 13:if(On(Wn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(kn&&fs!==null&&e.mode&1&&!(e.flags&128))xF(),Gd(),e.flags|=98560,s=!1;else if(s=Y0(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(qe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(qe(317));s[Ko]=e}else Gd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ni(e),s=!1}else go!==null&&(EE(go),go=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Wn.current&1?Rr===0&&(Rr=3):wT())),e.updateQueue!==null&&(e.flags|=4),ni(e),null);case 4:return Vd(),gE(n,e),n===null&&vm(e.stateNode.containerInfo),ni(e),null;case 10:return lT(e.type._context),ni(e),null;case 17:return Vi(e.type)&&r1(),ni(e),null;case 19:if(On(Wn),s=e.memoizedState,s===null)return ni(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qh(s,!1);else{if(Rr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=u1(n),o!==null){for(e.flags|=128,qh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Pn(Wn,Wn.current&1|2),e.child}n=n.sibling}s.tail!==null&&gr()>jd&&(e.flags|=128,r=!0,qh(s,!1),e.lanes=4194304)}else{if(!r)if(n=u1(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),qh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!kn)return ni(e),null}else 2*gr()-s.renderingStartTime>jd&&t!==1073741824&&(e.flags|=128,r=!0,qh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gr(),e.sibling=null,t=Wn.current,Pn(Wn,r?t&1|2:t&1),e):(ni(e),null);case 22:case 23:return ET(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ls&1073741824&&(ni(e),e.subtreeFlags&6&&(e.flags|=8192)):ni(e),null;case 24:return null;case 25:return null}throw Error(qe(156,e.tag))}function jH(n,e){switch(iT(e),e.tag){case 1:return Vi(e.type)&&r1(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Vd(),On(Hi),On(fi),hT(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return dT(e),null;case 13:if(On(Wn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(qe(340));Gd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return On(Wn),null;case 4:return Vd(),null;case 10:return lT(e.type._context),null;case 22:case 23:return ET(),null;case 24:return null;default:return null}}var Q0=!1,si=!1,XH=typeof WeakSet=="function"?WeakSet:Set,ht=null;function cd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){nr(n,e,r)}else t.current=null}function vE(n,e,t){try{t()}catch(r){nr(n,e,r)}}var b3=!1;function JH(n,e){if(eE=qy,n=aF(),nT(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,p=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(tE={focusedElem:n,selectionRange:t},qy=!1,ht=e;ht!==null;)if(e=ht,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ht=n;else for(;ht!==null;){e=ht;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,_=v.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:fo(e.type,y),_);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(M){nr(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,ht=n;break}ht=e.return}return v=b3,b3=!1,v}function Gp(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&vE(e,t,s)}i=i.next}while(i!==r)}}function a_(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function yE(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function iU(n){var e=n.alternate;e!==null&&(n.alternate=null,iU(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ko],delete e[_m],delete e[iE],delete e[RH],delete e[PH])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function sU(n){return n.tag===5||n.tag===3||n.tag===4}function T3(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||sU(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _E(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=n1));else if(r!==4&&(n=n.child,n!==null))for(_E(n,e,t),n=n.sibling;n!==null;)_E(n,e,t),n=n.sibling}function xE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(xE(n,e,t),n=n.sibling;n!==null;)xE(n,e,t),n=n.sibling}var jr=null,po=!1;function pl(n,e,t){for(t=t.child;t!==null;)oU(n,e,t),t=t.sibling}function oU(n,e,t){if(ea&&typeof ea.onCommitFiberUnmount=="function")try{ea.onCommitFiberUnmount(q1,t)}catch{}switch(t.tag){case 5:si||cd(t,e);case 6:var r=jr,i=po;jr=null,pl(n,e,t),jr=r,po=i,jr!==null&&(po?(n=jr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):jr.removeChild(t.stateNode));break;case 18:jr!==null&&(po?(n=jr,t=t.stateNode,n.nodeType===8?GS(n.parentNode,t):n.nodeType===1&&GS(n,t),pm(n)):GS(jr,t.stateNode));break;case 4:r=jr,i=po,jr=t.stateNode.containerInfo,po=!0,pl(n,e,t),jr=r,po=i;break;case 0:case 11:case 14:case 15:if(!si&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vE(t,e,o),i=i.next}while(i!==r)}pl(n,e,t);break;case 1:if(!si&&(cd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){nr(t,e,a)}pl(n,e,t);break;case 21:pl(n,e,t);break;case 22:t.mode&1?(si=(r=si)||t.memoizedState!==null,pl(n,e,t),si=r):pl(n,e,t);break;default:pl(n,e,t)}}function C3(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new XH),e.forEach(function(r){var i=n9.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function so(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:jr=a.stateNode,po=!1;break e;case 3:jr=a.stateNode.containerInfo,po=!0;break e;case 4:jr=a.stateNode.containerInfo,po=!0;break e}a=a.return}if(jr===null)throw Error(qe(160));oU(s,o,i),jr=null,po=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){nr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aU(e,n),e=e.sibling}function aU(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(so(e,n),Wo(n),r&4){try{Gp(3,n,n.return),a_(3,n)}catch(y){nr(n,n.return,y)}try{Gp(5,n,n.return)}catch(y){nr(n,n.return,y)}}break;case 1:so(e,n),Wo(n),r&512&&t!==null&&cd(t,t.return);break;case 5:if(so(e,n),Wo(n),r&512&&t!==null&&cd(t,t.return),n.flags&32){var i=n.stateNode;try{um(i,"")}catch(y){nr(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&CO(i,s),WM(a,o);var c=WM(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?LO(i,f):u==="dangerouslySetInnerHTML"?IO(i,f):u==="children"?um(i,f):Vb(i,u,f,c)}switch(a){case"input":NM(i,s);break;case"textarea":RO(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ad(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ad(i,!!s.multiple,s.defaultValue,!0):Ad(i,!!s.multiple,s.multiple?[]:"",!1))}i[_m]=s}catch(y){nr(n,n.return,y)}}break;case 6:if(so(e,n),Wo(n),r&4){if(n.stateNode===null)throw Error(qe(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){nr(n,n.return,y)}}break;case 3:if(so(e,n),Wo(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{pm(e.containerInfo)}catch(y){nr(n,n.return,y)}break;case 4:so(e,n),Wo(n);break;case 13:so(e,n),Wo(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(AT=gr())),r&4&&C3(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(si=(c=si)||u,so(e,n),si=c):so(e,n),Wo(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(ht=n,u=n.child;u!==null;){for(f=ht=u;ht!==null;){switch(p=ht,m=p.child,p.tag){case 0:case 11:case 14:case 15:Gp(4,p,p.return);break;case 1:cd(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){nr(r,t,y)}}break;case 5:cd(p,p.return);break;case 22:if(p.memoizedState!==null){P3(f);continue}}m!==null?(m.return=p,ht=m):P3(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BO("display",o))}catch(y){nr(n,n.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){nr(n,n.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:so(e,n),Wo(n),r&4&&C3(n);break;case 21:break;default:so(e,n),Wo(n)}}function Wo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(sU(t)){var r=t;break e}t=t.return}throw Error(qe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(um(i,""),r.flags&=-33);var s=T3(n);xE(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=T3(n);_E(n,a,o);break;default:throw Error(qe(161))}}catch(l){nr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function YH(n,e,t){ht=n,lU(n)}function lU(n,e,t){for(var r=(n.mode&1)!==0;ht!==null;){var i=ht,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Q0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||si;a=Q0;var c=si;if(Q0=o,(si=l)&&!c)for(ht=i;ht!==null;)o=ht,l=o.child,o.tag===22&&o.memoizedState!==null?I3(i):l!==null?(l.return=o,ht=l):I3(i);for(;s!==null;)ht=s,lU(s),s=s.sibling;ht=i,Q0=a,si=c}R3(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ht=s):R3(n)}}function R3(n){for(;ht!==null;){var e=ht;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:si||a_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!si)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:fo(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&d3(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}d3(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&pm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}si||e.flags&512&&yE(e)}catch(p){nr(e,e.return,p)}}if(e===n){ht=null;break}if(t=e.sibling,t!==null){t.return=e.return,ht=t;break}ht=e.return}}function P3(n){for(;ht!==null;){var e=ht;if(e===n){ht=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ht=t;break}ht=e.return}}function I3(n){for(;ht!==null;){var e=ht;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{a_(4,e)}catch(l){nr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){nr(e,i,l)}}var s=e.return;try{yE(e)}catch(l){nr(e,s,l)}break;case 5:var o=e.return;try{yE(e)}catch(l){nr(e,o,l)}}}catch(l){nr(e,e.return,l)}if(e===n){ht=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ht=a;break}ht=e.return}}var $H=Math.ceil,h1=nl.ReactCurrentDispatcher,xT=nl.ReactCurrentOwner,Qs=nl.ReactCurrentBatchConfig,un=0,Nr=null,Er=null,Yr=0,ls=0,ud=hc(0),Rr=0,wm=null,Du=0,l_=0,ST=0,Hp=null,Fi=null,AT=0,jd=1/0,Ba=null,p1=!1,SE=null,Jl=null,Z0=!1,Bl=null,m1=0,Vp=0,AE=null,My=-1,Ey=0;function bi(){return un&6?gr():My!==-1?My:My=gr()}function Yl(n){return n.mode&1?un&2&&Yr!==0?Yr&-Yr:BH.transition!==null?(Ey===0&&(Ey=jO()),Ey):(n=xn,n!==0||(n=window.event,n=n===void 0?16:ZO(n.type)),n):1}function Mo(n,e,t,r){if(50<Vp)throw Vp=0,AE=null,Error(qe(185));dg(n,t,r),(!(un&2)||n!==Nr)&&(n===Nr&&(!(un&2)&&(l_|=t),Rr===4&&Pl(n,Yr)),Wi(n,r),t===1&&un===0&&!(e.mode&1)&&(jd=gr()+500,i_&&pc()))}function Wi(n,e){var t=n.callbackNode;B6(n,e);var r=Zy(n,n===Nr?Yr:0);if(r===0)t!==null&&zP(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&zP(t),e===1)n.tag===0?IH(B3.bind(null,n)):vF(B3.bind(null,n)),TH(function(){!(un&6)&&pc()}),t=null;else{switch(XO(r)){case 1:t=Yb;break;case 4:t=VO;break;case 16:t=Qy;break;case 536870912:t=WO;break;default:t=Qy}t=gU(t,cU.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function cU(n,e){if(My=-1,Ey=0,un&6)throw Error(qe(327));var t=n.callbackNode;if(Td()&&n.callbackNode!==t)return null;var r=Zy(n,n===Nr?Yr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=g1(n,r);else{e=r;var i=un;un|=2;var s=fU();(Nr!==n||Yr!==e)&&(Ba=null,jd=gr()+500,vu(n,e));do try{ZH();break}catch(a){uU(n,a)}while(1);aT(),h1.current=s,un=i,Er!==null?e=0:(Nr=null,Yr=0,e=Rr)}if(e!==0){if(e===2&&(i=$M(n),i!==0&&(r=i,e=ME(n,i))),e===1)throw t=wm,vu(n,0),Pl(n,r),Wi(n,gr()),t;if(e===6)Pl(n,r);else{if(i=n.current.alternate,!(r&30)&&!KH(i)&&(e=g1(n,r),e===2&&(s=$M(n),s!==0&&(r=s,e=ME(n,s))),e===1))throw t=wm,vu(n,0),Pl(n,r),Wi(n,gr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(qe(345));case 2:$c(n,Fi,Ba);break;case 3:if(Pl(n,r),(r&130023424)===r&&(e=AT+500-gr(),10<e)){if(Zy(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){bi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=rE($c.bind(null,n,Fi,Ba),e);break}$c(n,Fi,Ba);break;case 4:if(Pl(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Ao(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=gr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$H(r/1960))-r,10<r){n.timeoutHandle=rE($c.bind(null,n,Fi,Ba),r);break}$c(n,Fi,Ba);break;case 5:$c(n,Fi,Ba);break;default:throw Error(qe(329))}}}return Wi(n,gr()),n.callbackNode===t?cU.bind(null,n):null}function ME(n,e){var t=Hp;return n.current.memoizedState.isDehydrated&&(vu(n,e).flags|=256),n=g1(n,e),n!==2&&(e=Fi,Fi=t,e!==null&&EE(e)),n}function EE(n){Fi===null?Fi=n:Fi.push.apply(Fi,n)}function KH(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!To(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pl(n,e){for(e&=~ST,e&=~l_,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ao(e),r=1<<t;n[t]=-1,e&=~r}}function B3(n){if(un&6)throw Error(qe(327));Td();var e=Zy(n,0);if(!(e&1))return Wi(n,gr()),null;var t=g1(n,e);if(n.tag!==0&&t===2){var r=$M(n);r!==0&&(e=r,t=ME(n,r))}if(t===1)throw t=wm,vu(n,0),Pl(n,e),Wi(n,gr()),t;if(t===6)throw Error(qe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,$c(n,Fi,Ba),Wi(n,gr()),null}function MT(n,e){var t=un;un|=1;try{return n(e)}finally{un=t,un===0&&(jd=gr()+500,i_&&pc())}}function Ou(n){Bl!==null&&Bl.tag===0&&!(un&6)&&Td();var e=un;un|=1;var t=Qs.transition,r=xn;try{if(Qs.transition=null,xn=1,n)return n()}finally{xn=r,Qs.transition=t,un=e,!(un&6)&&pc()}}function ET(){ls=ud.current,On(ud)}function vu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,bH(t)),Er!==null)for(t=Er.return;t!==null;){var r=t;switch(iT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&r1();break;case 3:Vd(),On(Hi),On(fi),hT();break;case 5:dT(r);break;case 4:Vd();break;case 13:On(Wn);break;case 19:On(Wn);break;case 10:lT(r.type._context);break;case 22:case 23:ET()}t=t.return}if(Nr=n,Er=n=$l(n.current,null),Yr=ls=e,Rr=0,wm=null,ST=l_=Du=0,Fi=Hp=null,au!==null){for(e=0;e<au.length;e++)if(t=au[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}au=null}return n}function uU(n,e){do{var t=Er;try{if(aT(),xy.current=d1,f1){for(var r=$n.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}f1=!1}if(Lu=0,Ur=Tr=$n=null,zp=!1,Am=0,xT.current=null,t===null||t.return===null){Rr=1,wm=e,Er=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Yr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=_3(o);if(m!==null){m.flags&=-257,x3(m,o,a,s,e),m.mode&1&&y3(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){y3(s,c,e),wT();break e}l=Error(qe(426))}}else if(kn&&a.mode&1){var _=_3(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),x3(_,o,a,s,e),sT(Wd(l,a));break e}}s=l=Wd(l,a),Rr!==4&&(Rr=2),Hp===null?Hp=[s]:Hp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=JF(s,l,e);f3(s,g);break e;case 1:a=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Jl===null||!Jl.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=YF(s,a,e);f3(s,M);break e}}s=s.return}while(s!==null)}hU(t)}catch(w){e=w,Er===t&&t!==null&&(Er=t=t.return);continue}break}while(1)}function fU(){var n=h1.current;return h1.current=d1,n===null?d1:n}function wT(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Nr===null||!(Du&268435455)&&!(l_&268435455)||Pl(Nr,Yr)}function g1(n,e){var t=un;un|=2;var r=fU();(Nr!==n||Yr!==e)&&(Ba=null,vu(n,e));do try{QH();break}catch(i){uU(n,i)}while(1);if(aT(),un=t,h1.current=r,Er!==null)throw Error(qe(261));return Nr=null,Yr=0,Rr}function QH(){for(;Er!==null;)dU(Er)}function ZH(){for(;Er!==null&&!M6();)dU(Er)}function dU(n){var e=mU(n.alternate,n,ls);n.memoizedProps=n.pendingProps,e===null?hU(n):Er=e,xT.current=null}function hU(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=jH(t,e),t!==null){t.flags&=32767,Er=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Rr=6,Er=null;return}}else if(t=WH(t,e,ls),t!==null){Er=t;return}if(e=e.sibling,e!==null){Er=e;return}Er=e=n}while(e!==null);Rr===0&&(Rr=5)}function $c(n,e,t){var r=xn,i=Qs.transition;try{Qs.transition=null,xn=1,qH(n,e,t,r)}finally{Qs.transition=i,xn=r}return null}function qH(n,e,t,r){do Td();while(Bl!==null);if(un&6)throw Error(qe(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(qe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(L6(n,s),n===Nr&&(Er=Nr=null,Yr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Z0||(Z0=!0,gU(Qy,function(){return Td(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Qs.transition,Qs.transition=null;var o=xn;xn=1;var a=un;un|=4,xT.current=null,JH(n,t),aU(t,n),_H(tE),qy=!!eE,tE=eE=null,n.current=t,YH(t),E6(),un=a,xn=o,Qs.transition=s}else n.current=t;if(Z0&&(Z0=!1,Bl=n,m1=i),s=n.pendingLanes,s===0&&(Jl=null),T6(t.stateNode),Wi(n,gr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(p1)throw p1=!1,n=SE,SE=null,n;return m1&1&&n.tag!==0&&Td(),s=n.pendingLanes,s&1?n===AE?Vp++:(Vp=0,AE=n):Vp=0,pc(),null}function Td(){if(Bl!==null){var n=XO(m1),e=Qs.transition,t=xn;try{if(Qs.transition=null,xn=16>n?16:n,Bl===null)var r=!1;else{if(n=Bl,Bl=null,m1=0,un&6)throw Error(qe(331));var i=un;for(un|=4,ht=n.current;ht!==null;){var s=ht,o=s.child;if(ht.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ht=c;ht!==null;){var u=ht;switch(u.tag){case 0:case 11:case 15:Gp(8,u,s)}var f=u.child;if(f!==null)f.return=u,ht=f;else for(;ht!==null;){u=ht;var p=u.sibling,m=u.return;if(iU(u),u===c){ht=null;break}if(p!==null){p.return=m,ht=p;break}ht=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}ht=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ht=o;else e:for(;ht!==null;){if(s=ht,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gp(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ht=g;break e}ht=s.return}}var x=n.current;for(ht=x;ht!==null;){o=ht;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ht=S;else e:for(o=x;ht!==null;){if(a=ht,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:a_(9,a)}}catch(w){nr(a,a.return,w)}if(a===o){ht=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,ht=M;break e}ht=a.return}}if(un=i,pc(),ea&&typeof ea.onPostCommitFiberRoot=="function")try{ea.onPostCommitFiberRoot(q1,n)}catch{}r=!0}return r}finally{xn=t,Qs.transition=e}}return!1}function L3(n,e,t){e=Wd(t,e),e=JF(n,e,1),n=Xl(n,e,1),e=bi(),n!==null&&(dg(n,1,e),Wi(n,e))}function nr(n,e,t){if(n.tag===3)L3(n,n,t);else for(;e!==null;){if(e.tag===3){L3(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jl===null||!Jl.has(r))){n=Wd(t,n),n=YF(e,n,1),e=Xl(e,n,1),n=bi(),e!==null&&(dg(e,1,n),Wi(e,n));break}}e=e.return}}function e9(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=bi(),n.pingedLanes|=n.suspendedLanes&t,Nr===n&&(Yr&t)===t&&(Rr===4||Rr===3&&(Yr&130023424)===Yr&&500>gr()-AT?vu(n,0):ST|=t),Wi(n,e)}function pU(n,e){e===0&&(n.mode&1?(e=H0,H0<<=1,!(H0&130023424)&&(H0=4194304)):e=1);var t=bi();n=Ya(n,e),n!==null&&(dg(n,e,t),Wi(n,t))}function t9(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),pU(n,t)}function n9(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(qe(314))}r!==null&&r.delete(e),pU(n,t)}var mU;mU=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Hi.current)zi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return zi=!1,VH(n,e,t);zi=!!(n.flags&131072)}else zi=!1,kn&&e.flags&1048576&&yF(e,o1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ay(n,e),n=e.pendingProps;var i=zd(e,fi.current);bd(e,t),i=mT(null,e,r,n,i,t);var s=gT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vi(r)?(s=!0,i1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uT(e),i.updater=s_,e.stateNode=i,i._reactInternals=e,uE(e,r,n,t),e=hE(null,e,r,!0,s,t)):(e.tag=0,kn&&s&&rT(e),Ai(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Ay(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=i9(r),n=fo(r,n),i){case 0:e=dE(null,e,r,n,t);break e;case 1:e=M3(null,e,r,n,t);break e;case 11:e=S3(null,e,r,n,t);break e;case 14:e=A3(null,e,r,fo(r.type,n),t);break e}throw Error(qe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fo(r,i),dE(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fo(r,i),M3(n,e,r,i,t);case 3:e:{if(ZF(e),n===null)throw Error(qe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,AF(n,e),c1(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Wd(Error(qe(423)),e),e=E3(n,e,r,t,i);break e}else if(r!==i){i=Wd(Error(qe(424)),e),e=E3(n,e,r,t,i);break e}else for(fs=jl(e.stateNode.containerInfo.firstChild),hs=e,kn=!0,go=null,t=bF(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Gd(),r===i){e=$a(n,e,t);break e}Ai(n,e,r,t)}e=e.child}return e;case 5:return TF(e),n===null&&aE(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,nE(r,i)?o=null:s!==null&&nE(r,s)&&(e.flags|=32),QF(n,e),Ai(n,e,o,t),e.child;case 6:return n===null&&aE(e),null;case 13:return qF(n,e,t);case 4:return fT(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Hd(e,null,r,t):Ai(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fo(r,i),S3(n,e,r,i,t);case 7:return Ai(n,e,e.pendingProps,t),e.child;case 8:return Ai(n,e,e.pendingProps.children,t),e.child;case 12:return Ai(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pn(a1,r._currentValue),r._currentValue=o,s!==null)if(To(s.value,o)){if(s.children===i.children&&!Hi.current){e=$a(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Wa(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),lE(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(qe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),lE(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ai(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bd(e,t),i=Zs(i),r=r(i),e.flags|=1,Ai(n,e,r,t),e.child;case 14:return r=e.type,i=fo(r,e.pendingProps),i=fo(r.type,i),A3(n,e,r,i,t);case 15:return $F(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fo(r,i),Ay(n,e),e.tag=1,Vi(r)?(n=!0,i1(e)):n=!1,bd(e,t),EF(e,r,i),uE(e,r,i,t),hE(null,e,r,!0,n,t);case 19:return eU(n,e,t);case 22:return KF(n,e,t)}throw Error(qe(156,e.tag))};function gU(n,e){return HO(n,e)}function r9(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(n,e,t,r){return new r9(n,e,t,r)}function bT(n){return n=n.prototype,!(!n||!n.isReactComponent)}function i9(n){if(typeof n=="function")return bT(n)?1:0;if(n!=null){if(n=n.$$typeof,n===jb)return 11;if(n===Xb)return 14}return 2}function $l(n,e){var t=n.alternate;return t===null?(t=js(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function wy(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")bT(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ed:return yu(t.children,i,s,e);case Wb:o=8,i|=8;break;case DM:return n=js(12,t,e,i|2),n.elementType=DM,n.lanes=s,n;case OM:return n=js(13,t,e,i),n.elementType=OM,n.lanes=s,n;case FM:return n=js(19,t,e,i),n.elementType=FM,n.lanes=s,n;case wO:return c_(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case MO:o=10;break e;case EO:o=9;break e;case jb:o=11;break e;case Xb:o=14;break e;case El:o=16,r=null;break e}throw Error(qe(130,n==null?n:typeof n,""))}return e=js(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function yu(n,e,t,r){return n=js(7,n,r,e),n.lanes=t,n}function c_(n,e,t,r){return n=js(22,n,r,e),n.elementType=wO,n.lanes=t,n.stateNode={isHidden:!1},n}function $S(n,e,t){return n=js(6,n,null,e),n.lanes=t,n}function KS(n,e,t){return e=js(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function s9(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=PS(0),this.expirationTimes=PS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=PS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function TT(n,e,t,r,i,s,o,a,l){return n=new s9(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=js(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},uT(s),n}function o9(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qf,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function vU(n){if(!n)return sc;n=n._reactInternals;e:{if($u(n)!==n||n.tag!==1)throw Error(qe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(qe(171))}if(n.tag===1){var t=n.type;if(Vi(t))return gF(n,t,e)}return e}function yU(n,e,t,r,i,s,o,a,l){return n=TT(t,r,!0,n,i,s,o,a,l),n.context=vU(null),t=n.current,r=bi(),i=Yl(t),s=Wa(r,i),s.callback=e??null,Xl(t,s,i),n.current.lanes=i,dg(n,i,r),Wi(n,r),n}function u_(n,e,t,r){var i=e.current,s=bi(),o=Yl(i);return t=vU(t),e.context===null?e.context=t:e.pendingContext=t,e=Wa(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Xl(i,e,o),n!==null&&(Mo(n,i,o,s),_y(n,i,o)),o}function v1(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function D3(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function CT(n,e){D3(n,e),(n=n.alternate)&&D3(n,e)}function a9(){return null}var _U=typeof reportError=="function"?reportError:function(n){console.error(n)};function RT(n){this._internalRoot=n}f_.prototype.render=RT.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(qe(409));u_(n,e,null,null)};f_.prototype.unmount=RT.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ou(function(){u_(null,n,null,null)}),e[Ja]=null}};function f_(n){this._internalRoot=n}f_.prototype.unstable_scheduleHydration=function(n){if(n){var e=$O();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Rl.length&&e!==0&&e<Rl[t].priority;t++);Rl.splice(t,0,n),t===0&&QO(n)}};function PT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function d_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function O3(){}function l9(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=v1(o);s.call(c)}}var o=yU(e,r,n,0,null,!1,!1,"",O3);return n._reactRootContainer=o,n[Ja]=o.current,vm(n.nodeType===8?n.parentNode:n),Ou(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=v1(l);a.call(c)}}var l=TT(n,0,!1,null,null,!1,!1,"",O3);return n._reactRootContainer=l,n[Ja]=l.current,vm(n.nodeType===8?n.parentNode:n),Ou(function(){u_(e,l,t,r)}),l}function h_(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=v1(o);a.call(l)}}u_(e,o,n,i)}else o=l9(t,e,n,i,r);return v1(o)}JO=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Tp(e.pendingLanes);t!==0&&($b(e,t|1),Wi(e,gr()),!(un&6)&&(jd=gr()+500,pc()))}break;case 13:Ou(function(){var r=Ya(n,1);if(r!==null){var i=bi();Mo(r,n,1,i)}}),CT(n,1)}};Kb=function(n){if(n.tag===13){var e=Ya(n,134217728);if(e!==null){var t=bi();Mo(e,n,134217728,t)}CT(n,134217728)}};YO=function(n){if(n.tag===13){var e=Yl(n),t=Ya(n,e);if(t!==null){var r=bi();Mo(t,n,e,r)}CT(n,e)}};$O=function(){return xn};KO=function(n,e){var t=xn;try{return xn=n,e()}finally{xn=t}};XM=function(n,e,t){switch(e){case"input":if(NM(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=r_(r);if(!i)throw Error(qe(90));TO(r),NM(r,i)}}}break;case"textarea":RO(n,t);break;case"select":e=t.value,e!=null&&Ad(n,!!t.multiple,e,!1)}};FO=MT;UO=Ou;var c9={usingClientEntryPoint:!1,Events:[pg,id,r_,DO,OO,MT]},ep={findFiberByHostInstance:ou,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},u9={bundleType:ep.bundleType,version:ep.version,rendererPackageName:ep.rendererPackageName,rendererConfig:ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=zO(n),n===null?null:n.stateNode},findFiberByHostInstance:ep.findFiberByHostInstance||a9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var q0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!q0.isDisabled&&q0.supportsFiber)try{q1=q0.inject(u9),ea=q0}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c9;_s.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PT(e))throw Error(qe(200));return o9(n,e,null,t)};_s.createRoot=function(n,e){if(!PT(n))throw Error(qe(299));var t=!1,r="",i=_U;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=TT(n,1,!1,null,null,t,!1,r,i),n[Ja]=e.current,vm(n.nodeType===8?n.parentNode:n),new RT(e)};_s.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(qe(188)):(n=Object.keys(n).join(","),Error(qe(268,n)));return n=zO(e),n=n===null?null:n.stateNode,n};_s.flushSync=function(n){return Ou(n)};_s.hydrate=function(n,e,t){if(!d_(e))throw Error(qe(200));return h_(null,n,e,!0,t)};_s.hydrateRoot=function(n,e,t){if(!PT(n))throw Error(qe(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=_U;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=yU(e,null,n,1,t??null,i,!1,s,o),n[Ja]=e.current,vm(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new f_(e)};_s.render=function(n,e,t){if(!d_(e))throw Error(qe(200));return h_(null,n,e,!1,t)};_s.unmountComponentAtNode=function(n){if(!d_(n))throw Error(qe(40));return n._reactRootContainer?(Ou(function(){h_(null,null,n,!1,function(){n._reactRootContainer=null,n[Ja]=null})}),!0):!1};_s.unstable_batchedUpdates=MT;_s.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!d_(t))throw Error(qe(200));if(n==null||n._reactInternals===void 0)throw Error(qe(38));return h_(n,e,t,!1,r)};_s.version="18.2.0-next-9e3b772b8-20220608";function xU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xU)}catch(n){console.error(n)}}xU(),yO.exports=_s;var IT=yO.exports;const SU=uh(IT),f9=aO({__proto__:null,default:SU},[IT]);var AU,F3=IT;AU=BM.createRoot=F3.createRoot,BM.hydrateRoot=F3.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ph="155",Kc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Qc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},MU=0,wE=1,EU=2,d9=3,wU=0,p_=1,Wp=2,ho=3,Co=0,li=1,Mi=2,h9=2,ja=0,_u=1,bE=2,TE=3,CE=4,bU=5,tu=100,TU=101,CU=102,RE=103,PE=104,RU=200,PU=201,IU=202,BU=203,BT=204,LT=205,LU=206,DU=207,OU=208,FU=209,UU=210,kU=0,NU=1,zU=2,y1=3,GU=4,HU=5,VU=6,WU=7,gg=0,jU=1,XU=2,na=0,JU=1,YU=2,$U=3,DT=4,KU=5,m_=300,aa=301,oc=302,Xd=303,bm=304,mh=306,ac=1e3,Jr=1001,Jd=1002,rr=1003,Tm=1004,p9=1004,Cd=1005,m9=1005,_n=1006,g_=1007,g9=1007,la=1008,v9=1008,ra=1009,QU=1010,ZU=1011,v_=1012,OT=1013,Ha=1014,ai=1015,wi=1016,FT=1017,UT=1018,Kl=1020,qU=1021,Ei=1023,ek=1024,tk=1025,Ql=1026,Fu=1027,kT=1028,NT=1029,nk=1030,zT=1031,GT=1033,by=33776,Ty=33777,Cy=33778,Ry=33779,IE=35840,BE=35841,LE=35842,DE=35843,rk=36196,OE=37492,FE=37496,UE=37808,kE=37809,NE=37810,zE=37811,GE=37812,HE=37813,VE=37814,WE=37815,jE=37816,XE=37817,JE=37818,YE=37819,$E=37820,KE=37821,Py=36492,ik=36283,QE=36284,ZE=36285,qE=36286,sk=2200,ok=2201,ak=2202,Yd=2300,Uu=2301,Iy=2302,cu=2400,uu=2401,Cm=2402,y_=2500,HT=2501,lk=0,VT=1,_1=2,WT=3e3,Zl=3001,ck=3200,jT=3201,mc=0,uk=1,ql="",Ht="srgb",Ro="srgb-linear",XT="display-p3",y9=0,By=7680,_9=7681,x9=7682,S9=7683,A9=34055,M9=34056,E9=5386,w9=512,b9=513,T9=514,C9=515,R9=516,P9=517,I9=518,fk=519,dk=512,hk=513,pk=514,mk=515,gk=516,vk=517,yk=518,_k=519,Rm=35044,B9=35048,L9=35040,D9=35045,O9=35049,F9=35041,U9=35046,k9=35050,N9=35042,z9="100",ew="300 es",x1=1035,Zo=2e3,Pm=2001;class fa{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const ri=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let U3=1234567;const xu=Math.PI/180,$d=180/Math.PI;function ps(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ri[n&255]+ri[n>>8&255]+ri[n>>16&255]+ri[n>>24&255]+"-"+ri[e&255]+ri[e>>8&255]+"-"+ri[e>>16&15|64]+ri[e>>24&255]+"-"+ri[t&63|128]+ri[t>>8&255]+"-"+ri[t>>16&255]+ri[t>>24&255]+ri[r&255]+ri[r>>8&255]+ri[r>>16&255]+ri[r>>24&255]).toLowerCase()}function ir(n,e,t){return Math.max(e,Math.min(t,n))}function JT(n,e){return(n%e+e)%e}function G9(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function H9(n,e,t){return n!==e?(t-n)/(e-n):0}function jp(n,e,t){return(1-t)*n+t*e}function V9(n,e,t,r){return jp(n,e,1-Math.exp(-t*r))}function W9(n,e=1){return e-Math.abs(JT(n,e*2)-e)}function j9(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function X9(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function J9(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Y9(n,e){return n+Math.random()*(e-n)}function $9(n){return n*(.5-Math.random())}function K9(n){n!==void 0&&(U3=n);let e=U3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Q9(n){return n*xu}function Z9(n){return n*$d}function tw(n){return(n&n-1)===0&&n!==0}function xk(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function S1(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function q9(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*f,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ki(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function jt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const fd={DEG2RAD:xu,RAD2DEG:$d,generateUUID:ps,clamp:ir,euclideanModulo:JT,mapLinear:G9,inverseLerp:H9,lerp:jp,damp:V9,pingpong:W9,smoothstep:j9,smootherstep:X9,randInt:J9,randFloat:Y9,randFloatSpread:$9,seededRandom:K9,degToRad:Q9,radToDeg:Z9,isPowerOfTwo:tw,ceilPowerOfTwo:xk,floorPowerOfTwo:S1,setQuaternionFromProperEuler:q9,normalize:jt,denormalize:ki};class He{constructor(e=0,t=0){He.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ir(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Wt{constructor(e,t,r,i,s,o,a,l,c){Wt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c)}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],p=r[2],m=r[5],v=r[8],y=i[0],_=i[3],g=i[6],x=i[1],S=i[4],M=i[7],w=i[2],b=i[5],T=i[8];return s[0]=o*y+a*x+l*w,s[3]=o*_+a*S+l*b,s[6]=o*g+a*M+l*T,s[1]=c*y+u*x+f*w,s[4]=c*_+u*S+f*b,s[7]=c*g+u*M+f*T,s[2]=p*y+m*x+v*w,s[5]=p*_+m*S+v*b,s[8]=p*g+m*M+v*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,p=a*l-u*s,m=c*s-o*l,v=t*f+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=f*y,e[1]=(i*c-u*r)*y,e[2]=(a*r-i*o)*y,e[3]=p*y,e[4]=(u*t-i*l)*y,e[5]=(i*s-a*t)*y,e[6]=m*y,e[7]=(r*l-c*t)*y,e[8]=(o*t-r*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(QS.makeScale(e,t)),this}rotate(e){return this.premultiply(QS.makeRotation(-e)),this}translate(e,t){return this.premultiply(QS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const QS=new Wt;function Sk(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const eV={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function dd(n,e){return new eV[n](e)}function Im(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const k3={};function Xp(n){n in k3||(k3[n]=!0,console.warn(n))}function Rd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function ZS(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const tV=new Wt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),nV=new Wt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function rV(n){return n.convertSRGBToLinear().applyMatrix3(nV)}function iV(n){return n.applyMatrix3(tV).convertLinearToSRGB()}const sV={[Ro]:n=>n,[Ht]:n=>n.convertSRGBToLinear(),[XT]:rV},oV={[Ro]:n=>n,[Ht]:n=>n.convertLinearToSRGB(),[XT]:iV},Bs={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Ro},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=sV[e],i=oV[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let _f;class YT{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{_f===void 0&&(_f=Im("canvas")),_f.width=e.width,_f.height=e.height;const r=_f.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=_f}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Im("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Rd(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Rd(t[r]/255)*255):t[r]=Rd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let aV=0;class fu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:aV++}),this.uuid=ps(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(qS(i[o].image)):s.push(qS(i[o]))}else s=qS(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function qS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?YT.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let lV=0;class In extends fa{constructor(e=In.DEFAULT_IMAGE,t=In.DEFAULT_MAPPING,r=Jr,i=Jr,s=_n,o=la,a=Ei,l=ra,c=In.DEFAULT_ANISOTROPY,u=ql){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:lV++}),this.uuid=ps(),this.name="",this.source=new fu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new He(0,0),this.repeat=new He(1,1),this.center=new He(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Wt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Xp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Zl?Ht:ql),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==m_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ac:e.x=e.x-Math.floor(e.x);break;case Jr:e.x=e.x<0?0:1;break;case Jd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ac:e.y=e.y-Math.floor(e.y);break;case Jr:e.y=e.y<0?0:1;break;case Jd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Xp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Ht?Zl:WT}set encoding(e){Xp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Zl?Ht:ql}}In.DEFAULT_IMAGE=null;In.DEFAULT_MAPPING=m_;In.DEFAULT_ANISOTROPY=1;class gn{constructor(e=0,t=0,r=0,i=1){gn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],p=l[1],m=l[5],v=l[9],y=l[2],_=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(f-y)<.01&&Math.abs(v-_)<.01){if(Math.abs(u+p)<.1&&Math.abs(f+y)<.1&&Math.abs(v+_)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,M=(m+1)/2,w=(g+1)/2,b=(u+p)/4,T=(f+y)/4,R=(v+_)/4;return S>M&&S>w?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=b/r,s=T/r):M>w?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=b/i,s=R/i):w<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(w),r=T/s,i=R/s),this.set(r,i,s,t),this}let x=Math.sqrt((_-v)*(_-v)+(f-y)*(f-y)+(p-u)*(p-u));return Math.abs(x)<.001&&(x=1),this.x=(_-v)/x,this.y=(f-y)/x,this.z=(p-u)/x,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ak extends fa{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new gn(0,0,e,t),this.scissorTest=!1,this.viewport=new gn(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(Xp("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Zl?Ht:ql),this.texture=new In(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:_n,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new fu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Po extends Ak{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class __ extends In{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=rr,this.minFilter=rr,this.wrapR=Jr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class cV extends Po{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new __(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class $T extends In{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=rr,this.minFilter=rr,this.wrapR=Jr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class uV extends Po{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new $T(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class fV extends Po{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class zr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=y;return}if(f!==y||l!==p||c!==m||u!==v){let _=1-a;const g=l*p+c*m+u*v+f*y,x=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const w=Math.sqrt(S),b=Math.atan2(w,g*x);_=Math.sin(_*b)/w,a=Math.sin(a*b)/w}const M=a*x;if(l=l*_+p*M,c=c*_+m*M,u=u*_+v*M,f=f*_+y*M,_===1-a){const w=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=w,c*=w,u*=w,f*=w}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+u*f+l*m-c*p,e[t+1]=l*v+u*p+c*f-a*m,e[t+2]=c*v+u*m+a*p-l*f,e[t+3]=u*v-a*f-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*u*f+c*m*v,this._y=c*m*f-p*u*v,this._z=c*u*v+p*m*f,this._w=c*u*f-p*m*v;break;case"YXZ":this._x=p*u*f+c*m*v,this._y=c*m*f-p*u*v,this._z=c*u*v-p*m*f,this._w=c*u*f+p*m*v;break;case"ZXY":this._x=p*u*f-c*m*v,this._y=c*m*f+p*u*v,this._z=c*u*v+p*m*f,this._w=c*u*f-p*m*v;break;case"ZYX":this._x=p*u*f-c*m*v,this._y=c*m*f+p*u*v,this._z=c*u*v-p*m*f,this._w=c*u*f+p*m*v;break;case"YZX":this._x=p*u*f+c*m*v,this._y=c*m*f+p*u*v,this._z=c*u*v-p*m*f,this._w=c*u*f-p*m*v;break;case"XZY":this._x=p*u*f-c*m*v,this._y=c*m*f-p*u*v,this._z=c*u*v+p*m*f,this._w=c*u*f+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],p=r+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ir(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class q{constructor(e=0,t=0,r=0){q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(N3.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(N3.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,f=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=c*l+p*-s+u*-a-f*-o,this.y=u*l+p*-o+f*-s-c*-a,this.z=f*l+p*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return eA.copy(this).projectOnVector(e),this.sub(eA)}reflect(e){return this.sub(eA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ir(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const eA=new q,N3=new zr;class no{constructor(e=new q(1/0,1/0,1/0),t=new q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Ea.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Ea.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ea.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),xf.copy(e.boundingBox),xf.applyMatrix4(e.matrixWorld),this.union(xf);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Ea.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ea)}else i.boundingBox===null&&i.computeBoundingBox(),xf.copy(i.boundingBox),xf.applyMatrix4(e.matrixWorld),this.union(xf)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ea),Ea.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(tp),ev.subVectors(this.max,tp),Sf.subVectors(e.a,tp),Af.subVectors(e.b,tp),Mf.subVectors(e.c,tp),ml.subVectors(Af,Sf),gl.subVectors(Mf,Af),Oc.subVectors(Sf,Mf);let t=[0,-ml.z,ml.y,0,-gl.z,gl.y,0,-Oc.z,Oc.y,ml.z,0,-ml.x,gl.z,0,-gl.x,Oc.z,0,-Oc.x,-ml.y,ml.x,0,-gl.y,gl.x,0,-Oc.y,Oc.x,0];return!tA(t,Sf,Af,Mf,ev)||(t=[1,0,0,0,1,0,0,0,1],!tA(t,Sf,Af,Mf,ev))?!1:(tv.crossVectors(ml,gl),t=[tv.x,tv.y,tv.z],tA(t,Sf,Af,Mf,ev))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ea).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ea).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ma[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ma[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ma[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ma[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ma[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ma[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ma[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ma[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ma),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ma=[new q,new q,new q,new q,new q,new q,new q,new q],Ea=new q,xf=new no,Sf=new q,Af=new q,Mf=new q,ml=new q,gl=new q,Oc=new q,tp=new q,ev=new q,tv=new q,Fc=new q;function tA(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Fc.fromArray(n,s);const a=i.x*Math.abs(Fc.x)+i.y*Math.abs(Fc.y)+i.z*Math.abs(Fc.z),l=e.dot(Fc),c=t.dot(Fc),u=r.dot(Fc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const dV=new no,np=new q,nA=new q;class Ss{constructor(e=new q,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):dV.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;np.subVectors(e,this.center);const t=np.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(np,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(nA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(np.copy(e.center).add(nA)),this.expandByPoint(np.copy(e.center).sub(nA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const wa=new q,rA=new q,nv=new q,vl=new q,iA=new q,rv=new q,sA=new q;class gh{constructor(e=new q,t=new q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wa)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=wa.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wa.copy(this.origin).addScaledVector(this.direction,t),wa.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){rA.copy(e).add(t).multiplyScalar(.5),nv.copy(t).sub(e).normalize(),vl.copy(this.origin).sub(rA);const s=e.distanceTo(t)*.5,o=-this.direction.dot(nv),a=vl.dot(this.direction),l=-vl.dot(nv),c=vl.lengthSq(),u=Math.abs(1-o*o);let f,p,m,v;if(u>0)if(f=o*l-a,p=o*a-l,v=s*u,f>=0)if(p>=-v)if(p<=v){const y=1/u;f*=y,p*=y,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+c}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p<=-v?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c):p<=v?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(rA).addScaledVector(nv,p),m}intersectSphere(e,t){wa.subVectors(e.center,this.origin);const r=wa.dot(this.direction),i=wa.dot(wa)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,wa)!==null}intersectTriangle(e,t,r,i,s){iA.subVectors(t,e),rv.subVectors(r,e),sA.crossVectors(iA,rv);let o=this.direction.dot(sA),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;vl.subVectors(this.origin,e);const l=a*this.direction.dot(rv.crossVectors(vl,rv));if(l<0)return null;const c=a*this.direction.dot(iA.cross(vl));if(c<0||l+c>o)return null;const u=-a*vl.dot(sA);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Pt{constructor(e,t,r,i,s,o,a,l,c,u,f,p,m,v,y,_){Pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c,u,f,p,m,v,y,_)}set(e,t,r,i,s,o,a,l,c,u,f,p,m,v,y,_){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=f,g[14]=p,g[3]=m,g[7]=v,g[11]=y,g[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Pt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Ef.setFromMatrixColumn(e,0).length(),s=1/Ef.setFromMatrixColumn(e,1).length(),o=1/Ef.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*f,v=a*u,y=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=m+v*c,t[5]=p-y*c,t[9]=-a*l,t[2]=y-p*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*f,v=c*u,y=c*f;t[0]=p+y*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=m*a-v,t[6]=y+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*f,v=c*u,y=c*f;t[0]=p-y*a,t[4]=-o*f,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*u,t[9]=y-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*f,v=a*u,y=a*f;t[0]=l*u,t[4]=v*c-m,t[8]=p*c+y,t[1]=l*f,t[5]=y*c+p,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,v=a*l,y=a*c;t[0]=l*u,t[4]=y-p*f,t[8]=v*f+m,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*f+v,t[10]=p-y*f}else if(e.order==="XZY"){const p=o*l,m=o*c,v=a*l,y=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=p*f+y,t[5]=o*u,t[9]=m*f-v,t[2]=v*f-m,t[6]=a*u,t[10]=y*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(hV,e,pV)}lookAt(e,t,r){const i=this.elements;return is.subVectors(e,t),is.lengthSq()===0&&(is.z=1),is.normalize(),yl.crossVectors(r,is),yl.lengthSq()===0&&(Math.abs(r.z)===1?is.x+=1e-4:is.z+=1e-4,is.normalize(),yl.crossVectors(r,is)),yl.normalize(),iv.crossVectors(is,yl),i[0]=yl.x,i[4]=iv.x,i[8]=is.x,i[1]=yl.y,i[5]=iv.y,i[9]=is.y,i[2]=yl.z,i[6]=iv.z,i[10]=is.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],p=r[9],m=r[13],v=r[2],y=r[6],_=r[10],g=r[14],x=r[3],S=r[7],M=r[11],w=r[15],b=i[0],T=i[4],R=i[8],C=i[12],B=i[1],U=i[5],k=i[9],W=i[13],Y=i[2],Q=i[6],X=i[10],J=i[14],O=i[3],V=i[7],G=i[11],D=i[15];return s[0]=o*b+a*B+l*Y+c*O,s[4]=o*T+a*U+l*Q+c*V,s[8]=o*R+a*k+l*X+c*G,s[12]=o*C+a*W+l*J+c*D,s[1]=u*b+f*B+p*Y+m*O,s[5]=u*T+f*U+p*Q+m*V,s[9]=u*R+f*k+p*X+m*G,s[13]=u*C+f*W+p*J+m*D,s[2]=v*b+y*B+_*Y+g*O,s[6]=v*T+y*U+_*Q+g*V,s[10]=v*R+y*k+_*X+g*G,s[14]=v*C+y*W+_*J+g*D,s[3]=x*b+S*B+M*Y+w*O,s[7]=x*T+S*U+M*Q+w*V,s[11]=x*R+S*k+M*X+w*G,s[15]=x*C+S*W+M*J+w*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],p=e[10],m=e[14],v=e[3],y=e[7],_=e[11],g=e[15];return v*(+s*l*f-i*c*f-s*a*p+r*c*p+i*a*m-r*l*m)+y*(+t*l*m-t*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+_*(+t*c*f-t*a*m-s*o*f+r*o*m+s*a*u-r*c*u)+g*(-i*a*u-t*l*f+t*a*p+i*o*f-r*o*p+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],p=e[10],m=e[11],v=e[12],y=e[13],_=e[14],g=e[15],x=f*_*c-y*p*c+y*l*m-a*_*m-f*l*g+a*p*g,S=v*p*c-u*_*c-v*l*m+o*_*m+u*l*g-o*p*g,M=u*y*c-v*f*c+v*a*m-o*y*m-u*a*g+o*f*g,w=v*f*l-u*y*l-v*a*p+o*y*p+u*a*_-o*f*_,b=t*x+r*S+i*M+s*w;if(b===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/b;return e[0]=x*T,e[1]=(y*p*s-f*_*s-y*i*m+r*_*m+f*i*g-r*p*g)*T,e[2]=(a*_*s-y*l*s+y*i*c-r*_*c-a*i*g+r*l*g)*T,e[3]=(f*l*s-a*p*s-f*i*c+r*p*c+a*i*m-r*l*m)*T,e[4]=S*T,e[5]=(u*_*s-v*p*s+v*i*m-t*_*m-u*i*g+t*p*g)*T,e[6]=(v*l*s-o*_*s-v*i*c+t*_*c+o*i*g-t*l*g)*T,e[7]=(o*p*s-u*l*s+u*i*c-t*p*c-o*i*m+t*l*m)*T,e[8]=M*T,e[9]=(v*f*s-u*y*s-v*r*m+t*y*m+u*r*g-t*f*g)*T,e[10]=(o*y*s-v*a*s+v*r*c-t*y*c-o*r*g+t*a*g)*T,e[11]=(u*a*s-o*f*s-u*r*c+t*f*c+o*r*m-t*a*m)*T,e[12]=w*T,e[13]=(u*y*i-v*f*i+v*r*p-t*y*p-u*r*_+t*f*_)*T,e[14]=(v*a*i-o*y*i-v*r*l+t*y*l+o*r*_-t*a*_)*T,e[15]=(o*f*i-u*a*i+u*r*l-t*f*l-o*r*p+t*a*p)*T,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,p=s*c,m=s*u,v=s*f,y=o*u,_=o*f,g=a*f,x=l*c,S=l*u,M=l*f,w=r.x,b=r.y,T=r.z;return i[0]=(1-(y+g))*w,i[1]=(m+M)*w,i[2]=(v-S)*w,i[3]=0,i[4]=(m-M)*b,i[5]=(1-(p+g))*b,i[6]=(_+x)*b,i[7]=0,i[8]=(v+S)*T,i[9]=(_-x)*T,i[10]=(1-(p+y))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Ef.set(i[0],i[1],i[2]).length();const o=Ef.set(i[4],i[5],i[6]).length(),a=Ef.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],oo.copy(this);const c=1/s,u=1/o,f=1/a;return oo.elements[0]*=c,oo.elements[1]*=c,oo.elements[2]*=c,oo.elements[4]*=u,oo.elements[5]*=u,oo.elements[6]*=u,oo.elements[8]*=f,oo.elements[9]*=f,oo.elements[10]*=f,t.setFromRotationMatrix(oo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=Zo){const l=this.elements,c=2*s/(t-e),u=2*s/(r-i),f=(t+e)/(t-e),p=(r+i)/(r-i);let m,v;if(a===Zo)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Pm)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=Zo){const l=this.elements,c=1/(t-e),u=1/(r-i),f=1/(o-s),p=(t+e)*c,m=(r+i)*u;let v,y;if(a===Zo)v=(o+s)*f,y=-2*f;else if(a===Pm)v=s*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=y,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Ef=new q,oo=new Pt,hV=new q(0,0,0),pV=new q(1,1,1),yl=new q,iv=new q,is=new q,z3=new Pt,G3=new zr;class vg{constructor(e=0,t=0,r=0,i=vg.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(ir(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ir(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(ir(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ir(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ir(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-ir(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return z3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(z3,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return G3.setFromEuler(this),this.setFromQuaternion(G3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}vg.DEFAULT_ORDER="XYZ";class Su{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let mV=0;const H3=new q,wf=new zr,ba=new Pt,sv=new q,rp=new q,gV=new q,vV=new zr,V3=new q(1,0,0),W3=new q(0,1,0),j3=new q(0,0,1),yV={type:"added"},X3={type:"removed"};class on extends fa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:mV++}),this.uuid=ps(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=on.DEFAULT_UP.clone();const e=new q,t=new vg,r=new zr,i=new q(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Pt},normalMatrix:{value:new Wt}}),this.matrix=new Pt,this.matrixWorld=new Pt,this.matrixAutoUpdate=on.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=on.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Su,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return wf.setFromAxisAngle(e,t),this.quaternion.multiply(wf),this}rotateOnWorldAxis(e,t){return wf.setFromAxisAngle(e,t),this.quaternion.premultiply(wf),this}rotateX(e){return this.rotateOnAxis(V3,e)}rotateY(e){return this.rotateOnAxis(W3,e)}rotateZ(e){return this.rotateOnAxis(j3,e)}translateOnAxis(e,t){return H3.copy(e).applyQuaternion(this.quaternion),this.position.add(H3.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(V3,e)}translateY(e){return this.translateOnAxis(W3,e)}translateZ(e){return this.translateOnAxis(j3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ba.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?sv.copy(e):sv.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),rp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ba.lookAt(rp,sv,this.up):ba.lookAt(sv,rp,this.up),this.quaternion.setFromRotationMatrix(ba),i&&(ba.extractRotation(i.matrixWorld),wf.setFromRotationMatrix(ba),this.quaternion.premultiply(wf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(yV)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(X3)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(X3)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ba.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ba.multiply(e.parent.matrixWorld)),e.applyMatrix4(ba),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rp,e,gV),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rp,vV,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}on.DEFAULT_UP=new q(0,1,0);on.DEFAULT_MATRIX_AUTO_UPDATE=!0;on.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ao=new q,Ta=new q,oA=new q,Ca=new q,bf=new q,Tf=new q,J3=new q,aA=new q,lA=new q,cA=new q;let ov=!1;class Ui{constructor(e=new q,t=new q,r=new q){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),ao.subVectors(e,t),i.cross(ao);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){ao.subVectors(i,t),Ta.subVectors(r,t),oA.subVectors(e,t);const o=ao.dot(ao),a=ao.dot(Ta),l=ao.dot(oA),c=Ta.dot(Ta),u=Ta.dot(oA),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const p=1/f,m=(c*l-a*u)*p,v=(o*u-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ca),Ca.x>=0&&Ca.y>=0&&Ca.x+Ca.y<=1}static getUV(e,t,r,i,s,o,a,l){return ov===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),ov=!0),this.getInterpolation(e,t,r,i,s,o,a,l)}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Ca),l.setScalar(0),l.addScaledVector(s,Ca.x),l.addScaledVector(o,Ca.y),l.addScaledVector(a,Ca.z),l}static isFrontFacing(e,t,r,i){return ao.subVectors(r,t),Ta.subVectors(e,t),ao.cross(Ta).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ao.subVectors(this.c,this.b),Ta.subVectors(this.a,this.b),ao.cross(Ta).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ui.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ui.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return ov===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),ov=!0),Ui.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return Ui.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Ui.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ui.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;bf.subVectors(i,r),Tf.subVectors(s,r),aA.subVectors(e,r);const l=bf.dot(aA),c=Tf.dot(aA);if(l<=0&&c<=0)return t.copy(r);lA.subVectors(e,i);const u=bf.dot(lA),f=Tf.dot(lA);if(u>=0&&f<=u)return t.copy(i);const p=l*f-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(bf,o);cA.subVectors(e,s);const m=bf.dot(cA),v=Tf.dot(cA);if(v>=0&&m<=v)return t.copy(s);const y=m*c-l*v;if(y<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(r).addScaledVector(Tf,a);const _=u*v-m*f;if(_<=0&&f-u>=0&&m-v>=0)return J3.subVectors(s,i),a=(f-u)/(f-u+(m-v)),t.copy(i).addScaledVector(J3,a);const g=1/(_+y+p);return o=y*g,a=p*g,t.copy(r).addScaledVector(bf,o).addScaledVector(Tf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let _V=0;class wr extends fa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_V++}),this.uuid=ps(),this.name="",this.type="Material",this.blending=_u,this.side=Co,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=BT,this.blendDst=LT,this.blendEquation=tu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=y1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=fk,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=By,this.stencilZFail=By,this.stencilZPass=By,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==_u&&(r.blending=this.blending),this.side!==Co&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const Mk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},lo={h:0,s:0,l:0},av={h:0,s:0,l:0};function uA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ot{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ht){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Bs.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Bs.workingColorSpace){return this.r=e,this.g=t,this.b=r,Bs.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Bs.workingColorSpace){if(e=JT(e,1),t=ir(t,0,1),r=ir(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=uA(o,s,e+1/3),this.g=uA(o,s,e),this.b=uA(o,s,e-1/3)}return Bs.toWorkingColorSpace(this,i),this}setStyle(e,t=Ht){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ht){const r=Mk[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Rd(e.r),this.g=Rd(e.g),this.b=Rd(e.b),this}copyLinearToSRGB(e){return this.r=ZS(e.r),this.g=ZS(e.g),this.b=ZS(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ht){return Bs.fromWorkingColorSpace(ii.copy(this),e),Math.round(ir(ii.r*255,0,255))*65536+Math.round(ir(ii.g*255,0,255))*256+Math.round(ir(ii.b*255,0,255))}getHexString(e=Ht){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Bs.workingColorSpace){Bs.fromWorkingColorSpace(ii.copy(this),t);const r=ii.r,i=ii.g,s=ii.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Bs.workingColorSpace){return Bs.fromWorkingColorSpace(ii.copy(this),t),e.r=ii.r,e.g=ii.g,e.b=ii.b,e}getStyle(e=Ht){Bs.fromWorkingColorSpace(ii.copy(this),e);const t=ii.r,r=ii.g,i=ii.b;return e!==Ht?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(lo),lo.h+=e,lo.s+=t,lo.l+=r,this.setHSL(lo.h,lo.s,lo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(lo),e.getHSL(av);const r=jp(lo.h,av.h,t),i=jp(lo.s,av.s,t),s=jp(lo.l,av.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ii=new ot;ot.NAMES=Mk;class Gi extends wr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Na=xV();function xV(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Oi(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=ir(n,-65504,65504),Na.floatView[0]=n;const e=Na.uint32View[0],t=e>>23&511;return Na.baseTable[t]+((e&8388607)>>Na.shiftTable[t])}function Rp(n){const e=n>>10;return Na.uint32View[0]=Na.mantissaTable[Na.offsetTable[e]+(n&1023)]+Na.exponentTable[e],Na.floatView[0]}const du={toHalfFloat:Oi,fromHalfFloat:Rp},xr=new q,lv=new He;class mn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Rm,this.updateRange={offset:0,count:-1},this.gpuType=ai,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)lv.fromBufferAttribute(this,t),lv.applyMatrix3(e),this.setXY(t,lv.x,lv.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)xr.fromBufferAttribute(this,t),xr.applyMatrix3(e),this.setXYZ(t,xr.x,xr.y,xr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)xr.fromBufferAttribute(this,t),xr.applyMatrix4(e),this.setXYZ(t,xr.x,xr.y,xr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)xr.fromBufferAttribute(this,t),xr.applyNormalMatrix(e),this.setXYZ(t,xr.x,xr.y,xr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)xr.fromBufferAttribute(this,t),xr.transformDirection(e),this.setXYZ(t,xr.x,xr.y,xr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=ki(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=jt(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=ki(t,this.array)),t}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=ki(t,this.array)),t}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=ki(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=ki(t,this.array)),t}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),r=jt(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),r=jt(r,this.array),i=jt(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),r=jt(r,this.array),i=jt(i,this.array),s=jt(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Rm&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class SV extends mn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class AV extends mn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class MV extends mn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class EV extends mn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class KT extends mn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class wV extends mn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class QT extends mn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class bV extends mn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Rp(this.array[e*this.itemSize]);return this.normalized&&(t=ki(t,this.array)),t}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize]=Oi(t),this}getY(e){let t=Rp(this.array[e*this.itemSize+1]);return this.normalized&&(t=ki(t,this.array)),t}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+1]=Oi(t),this}getZ(e){let t=Rp(this.array[e*this.itemSize+2]);return this.normalized&&(t=ki(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+2]=Oi(t),this}getW(e){let t=Rp(this.array[e*this.itemSize+3]);return this.normalized&&(t=ki(t,this.array)),t}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.array[e*this.itemSize+3]=Oi(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),r=jt(r,this.array)),this.array[e+0]=Oi(t),this.array[e+1]=Oi(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),r=jt(r,this.array),i=jt(i,this.array)),this.array[e+0]=Oi(t),this.array[e+1]=Oi(r),this.array[e+2]=Oi(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=jt(t,this.array),r=jt(r,this.array),i=jt(i,this.array),s=jt(s,this.array)),this.array[e+0]=Oi(t),this.array[e+1]=Oi(r),this.array[e+2]=Oi(i),this.array[e+3]=Oi(s),this}}class vt extends mn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class TV extends mn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let CV=0;const Is=new Pt,fA=new on,Cf=new q,ss=new no,ip=new no,Fr=new q;class zt extends fa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:CV++}),this.uuid=ps(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Sk(e)?QT:KT)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Wt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Is.makeRotationFromQuaternion(e),this.applyMatrix4(Is),this}rotateX(e){return Is.makeRotationX(e),this.applyMatrix4(Is),this}rotateY(e){return Is.makeRotationY(e),this.applyMatrix4(Is),this}rotateZ(e){return Is.makeRotationZ(e),this.applyMatrix4(Is),this}translate(e,t,r){return Is.makeTranslation(e,t,r),this.applyMatrix4(Is),this}scale(e,t,r){return Is.makeScale(e,t,r),this.applyMatrix4(Is),this}lookAt(e){return fA.lookAt(e),fA.updateMatrix(),this.applyMatrix4(fA.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cf).negate(),this.translate(Cf.x,Cf.y,Cf.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new vt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new no);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new q(-1/0,-1/0,-1/0),new q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];ss.setFromBufferAttribute(s),this.morphTargetsRelative?(Fr.addVectors(this.boundingBox.min,ss.min),this.boundingBox.expandByPoint(Fr),Fr.addVectors(this.boundingBox.max,ss.max),this.boundingBox.expandByPoint(Fr)):(this.boundingBox.expandByPoint(ss.min),this.boundingBox.expandByPoint(ss.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ss);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new q,1/0);return}if(e){const r=this.boundingSphere.center;if(ss.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];ip.setFromBufferAttribute(a),this.morphTargetsRelative?(Fr.addVectors(ss.min,ip.min),ss.expandByPoint(Fr),Fr.addVectors(ss.max,ip.max),ss.expandByPoint(Fr)):(ss.expandByPoint(ip.min),ss.expandByPoint(ip.max))}ss.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Fr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Fr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Fr.fromBufferAttribute(a,c),l&&(Cf.fromBufferAttribute(e,c),Fr.add(Cf)),i=Math.max(i,r.distanceToSquared(Fr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new mn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let B=0;B<a;B++)c[B]=new q,u[B]=new q;const f=new q,p=new q,m=new q,v=new He,y=new He,_=new He,g=new q,x=new q;function S(B,U,k){f.fromArray(i,B*3),p.fromArray(i,U*3),m.fromArray(i,k*3),v.fromArray(o,B*2),y.fromArray(o,U*2),_.fromArray(o,k*2),p.sub(f),m.sub(f),y.sub(v),_.sub(v);const W=1/(y.x*_.y-_.x*y.y);isFinite(W)&&(g.copy(p).multiplyScalar(_.y).addScaledVector(m,-y.y).multiplyScalar(W),x.copy(m).multiplyScalar(y.x).addScaledVector(p,-_.x).multiplyScalar(W),c[B].add(g),c[U].add(g),c[k].add(g),u[B].add(x),u[U].add(x),u[k].add(x))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let B=0,U=M.length;B<U;++B){const k=M[B],W=k.start,Y=k.count;for(let Q=W,X=W+Y;Q<X;Q+=3)S(r[Q+0],r[Q+1],r[Q+2])}const w=new q,b=new q,T=new q,R=new q;function C(B){T.fromArray(s,B*3),R.copy(T);const U=c[B];w.copy(U),w.sub(T.multiplyScalar(T.dot(U))).normalize(),b.crossVectors(R,U);const W=b.dot(u[B])<0?-1:1;l[B*4]=w.x,l[B*4+1]=w.y,l[B*4+2]=w.z,l[B*4+3]=W}for(let B=0,U=M.length;B<U;++B){const k=M[B],W=k.start,Y=k.count;for(let Q=W,X=W+Y;Q<X;Q+=3)C(r[Q+0]),C(r[Q+1]),C(r[Q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new mn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new q,s=new q,o=new q,a=new q,l=new q,c=new q,u=new q,f=new q;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),y=e.getX(p+1),_=e.getX(p+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,_),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,_),a.add(u),l.add(u),c.add(u),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(_,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Fr.fromBufferAttribute(e,t),Fr.normalize(),e.setXYZ(t,Fr.x,Fr.y,Fr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,p=new c.constructor(l.length*u);let m=0,v=0;for(let y=0,_=l.length;y<_;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*u;for(let g=0;g<u;g++)p[v++]=c[m++]}return new mn(p,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new zt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const p=c[u],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let p=0,m=f.length;p<m;p++)u.push(f[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Y3=new Pt,Uc=new gh,cv=new Ss,$3=new q,Rf=new q,Pf=new q,If=new q,dA=new q,uv=new q,fv=new He,dv=new He,hv=new He,K3=new q,Q3=new q,Z3=new q,pv=new q,mv=new q;class or extends on{constructor(e=new zt,t=new Gi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){uv.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(dA.fromBufferAttribute(f,e),o?uv.addScaledVector(dA,u):uv.addScaledVector(dA.sub(t),u))}t.add(uv)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),cv.copy(r.boundingSphere),cv.applyMatrix4(s),Uc.copy(e.ray).recast(e.near),!(cv.containsPoint(Uc.origin)===!1&&(Uc.intersectSphere(cv,$3)===null||Uc.origin.distanceToSquared($3)>(e.far-e.near)**2))&&(Y3.copy(s).invert(),Uc.copy(e.ray).applyMatrix4(Y3),!(r.boundingBox!==null&&Uc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Uc)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,y=p.length;v<y;v++){const _=p[v],g=o[_.materialIndex],x=Math.max(_.start,m.start),S=Math.min(a.count,Math.min(_.start+_.count,m.start+m.count));for(let M=x,w=S;M<w;M+=3){const b=a.getX(M),T=a.getX(M+1),R=a.getX(M+2);i=gv(this,g,e,r,c,u,f,b,T,R),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let _=v,g=y;_<g;_+=3){const x=a.getX(_),S=a.getX(_+1),M=a.getX(_+2);i=gv(this,o,e,r,c,u,f,x,S,M),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,y=p.length;v<y;v++){const _=p[v],g=o[_.materialIndex],x=Math.max(_.start,m.start),S=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let M=x,w=S;M<w;M+=3){const b=M,T=M+1,R=M+2;i=gv(this,g,e,r,c,u,f,b,T,R),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let _=v,g=y;_<g;_+=3){const x=_,S=_+1,M=_+2;i=gv(this,o,e,r,c,u,f,x,S,M),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}}}function RV(n,e,t,r,i,s,o,a){let l;if(e.side===li?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Co,a),l===null)return null;mv.copy(a),mv.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(mv);return c<t.near||c>t.far?null:{distance:c,point:mv.clone(),object:n}}function gv(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,Rf),n.getVertexPosition(l,Pf),n.getVertexPosition(c,If);const u=RV(n,e,t,r,Rf,Pf,If,pv);if(u){i&&(fv.fromBufferAttribute(i,a),dv.fromBufferAttribute(i,l),hv.fromBufferAttribute(i,c),u.uv=Ui.getInterpolation(pv,Rf,Pf,If,fv,dv,hv,new He)),s&&(fv.fromBufferAttribute(s,a),dv.fromBufferAttribute(s,l),hv.fromBufferAttribute(s,c),u.uv1=Ui.getInterpolation(pv,Rf,Pf,If,fv,dv,hv,new He),u.uv2=u.uv1),o&&(K3.fromBufferAttribute(o,a),Q3.fromBufferAttribute(o,l),Z3.fromBufferAttribute(o,c),u.normal=Ui.getInterpolation(pv,Rf,Pf,If,K3,Q3,Z3,new q),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new q,materialIndex:0};Ui.getNormal(Rf,Pf,If,f.normal),u.face=f}return u}class Ku extends zt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let p=0,m=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new vt(c,3)),this.setAttribute("normal",new vt(u,3)),this.setAttribute("uv",new vt(f,2));function v(y,_,g,x,S,M,w,b,T,R,C){const B=M/T,U=w/R,k=M/2,W=w/2,Y=b/2,Q=T+1,X=R+1;let J=0,O=0;const V=new q;for(let G=0;G<X;G++){const D=G*U-W;for(let H=0;H<Q;H++){const se=H*B-k;V[y]=se*x,V[_]=D*S,V[g]=Y,c.push(V.x,V.y,V.z),V[y]=0,V[_]=0,V[g]=b>0?1:-1,u.push(V.x,V.y,V.z),f.push(H/T),f.push(1-G/R),J+=1}}for(let G=0;G<R;G++)for(let D=0;D<T;D++){const H=p+D+Q*G,se=p+D+Q*(G+1),le=p+(D+1)+Q*(G+1),ae=p+(D+1)+Q*G;l.push(H,se,ae),l.push(se,le,ae),O+=6}a.addGroup(m,O,C),m+=O,p+=J}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ku(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Kd(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Si(n){const e={};for(let t=0;t<n.length;t++){const r=Kd(n[t]);for(const i in r)e[i]=r[i]}return e}function PV(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Ek(n){return n.getRenderTarget()===null?n.outputColorSpace:Ro}const ZT={clone:Kd,merge:Si};var IV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,BV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Io extends wr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=IV,this.fragmentShader=BV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Kd(e.uniforms),this.uniformsGroups=PV(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class yg extends on{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pt,this.projectionMatrix=new Pt,this.projectionMatrixInverse=new Pt,this.coordinateSystem=Zo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Nn extends yg{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=$d*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(xu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return $d*2*Math.atan(Math.tan(xu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(xu*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Bf=-90,Lf=1;class wk extends on{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new Nn(Bf,Lf,e,t);i.layers=this.layers,this.add(i);const s=new Nn(Bf,Lf,e,t);s.layers=this.layers,this.add(s);const o=new Nn(Bf,Lf,e,t);o.layers=this.layers,this.add(o);const a=new Nn(Bf,Lf,e,t);a.layers=this.layers,this.add(a);const l=new Nn(Bf,Lf,e,t);l.layers=this.layers,this.add(l);const c=new Nn(Bf,Lf,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Zo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Pm)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),f=e.xr.enabled;e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}}class _g extends In{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:aa,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class qT extends Po{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(Xp("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Zl?Ht:ql),this.texture=new _g(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:_n}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ku(5,5,5),s=new Io({name:"CubemapFromEquirect",uniforms:Kd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:li,blending:ja});s.uniforms.tEquirect.value=t;const o=new or(i,s),a=t.minFilter;return t.minFilter===la&&(t.minFilter=_n),new wk(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const hA=new q,LV=new q,DV=new Wt;let bl=class{constructor(e=new q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=hA.subVectors(r,t).cross(LV.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(hA),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||DV.getNormalMatrix(e),i=this.coplanarPoint(hA).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const kc=new Ss,vv=new q;class x_{constructor(e=new bl,t=new bl,r=new bl,i=new bl,s=new bl,o=new bl){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Zo){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=i[6],p=i[7],m=i[8],v=i[9],y=i[10],_=i[11],g=i[12],x=i[13],S=i[14],M=i[15];if(r[0].setComponents(l-s,p-c,_-m,M-g).normalize(),r[1].setComponents(l+s,p+c,_+m,M+g).normalize(),r[2].setComponents(l+o,p+u,_+v,M+x).normalize(),r[3].setComponents(l-o,p-u,_-v,M-x).normalize(),r[4].setComponents(l-a,p-f,_-y,M-S).normalize(),t===Zo)r[5].setComponents(l+a,p+f,_+y,M+S).normalize();else if(t===Pm)r[5].setComponents(a,f,y,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),kc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),kc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(kc)}intersectsSprite(e){return kc.center.set(0,0,0),kc.radius=.7071067811865476,kc.applyMatrix4(e.matrixWorld),this.intersectsSphere(kc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(vv.x=i.normal.x>0?e.max.x:e.min.x,vv.y=i.normal.y>0?e.max.y:e.min.y,vv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(vv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function bk(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function OV(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,p=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,f,p),c.onUploadCallback();let v;if(f instanceof Float32Array)v=n.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)v=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)v=n.SHORT;else if(f instanceof Uint32Array)v=n.UNSIGNED_INT;else if(f instanceof Int32Array)v=n.INT;else if(f instanceof Int8Array)v=n.BYTE;else if(f instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const p=u.array,m=u.updateRange;n.bindBuffer(f,c),m.count===-1?n.bufferSubData(f,0,p):(t?n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class gc extends zt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,p=t/l,m=[],v=[],y=[],_=[];for(let g=0;g<u;g++){const x=g*p-o;for(let S=0;S<c;S++){const M=S*f-s;v.push(M,-x,0),y.push(0,0,1),_.push(S/a),_.push(1-g/l)}}for(let g=0;g<l;g++)for(let x=0;x<a;x++){const S=x+c*g,M=x+c*(g+1),w=x+1+c*(g+1),b=x+1+c*g;m.push(S,M,b),m.push(M,w,b)}this.setIndex(m),this.setAttribute("position",new vt(v,3)),this.setAttribute("normal",new vt(y,3)),this.setAttribute("uv",new vt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gc(e.width,e.height,e.widthSegments,e.heightSegments)}}var FV=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,UV=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,kV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,NV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,zV=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,GV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,HV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,VV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,WV=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,jV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,XV=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,JV=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,YV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,$V=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,KV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,QV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ZV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,qV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,eW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,tW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,nW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,rW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,iW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,sW=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,oW=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,aW=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,lW=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,cW=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,uW="gl_FragColor = linearToOutputTexel( gl_FragColor );",fW=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,dW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,hW=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,pW=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,mW=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,gW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,vW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,yW=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,_W=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,xW=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,SW=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,AW=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,MW=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,EW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,wW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,bW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,TW=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,CW=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,RW=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,PW=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,IW=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,BW=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,LW=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,DW=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,OW=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,FW=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,UW=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,kW=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,NW=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,zW=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,GW=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,HW=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,VW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,WW=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jW=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,XW=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,JW=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,YW=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,$W=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,KW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,QW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,ZW=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,qW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,e7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,t7=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,n7=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,r7=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,i7=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,s7=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,o7=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,a7=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,l7=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,c7=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,u7=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,f7=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,d7=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,h7=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,p7=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,m7=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,g7=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,v7=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,y7=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,_7=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,x7=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,S7=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,A7=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,M7=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,E7=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,w7=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,b7=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,T7=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,C7=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,R7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,P7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,I7=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,B7=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const L7=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,D7=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,O7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,F7=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,U7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,k7=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,N7=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,z7=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,G7=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,H7=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,V7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,W7=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,j7=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,X7=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,J7=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Y7=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$7=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,K7=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Q7=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Z7=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,q7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ej=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,tj=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nj=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rj=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,ij=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sj=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oj=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aj=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,lj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cj=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uj=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,fj=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Gt={alphahash_fragment:FV,alphahash_pars_fragment:UV,alphamap_fragment:kV,alphamap_pars_fragment:NV,alphatest_fragment:zV,alphatest_pars_fragment:GV,aomap_fragment:HV,aomap_pars_fragment:VV,begin_vertex:WV,beginnormal_vertex:jV,bsdfs:XV,iridescence_fragment:JV,bumpmap_pars_fragment:YV,clipping_planes_fragment:$V,clipping_planes_pars_fragment:KV,clipping_planes_pars_vertex:QV,clipping_planes_vertex:ZV,color_fragment:qV,color_pars_fragment:eW,color_pars_vertex:tW,color_vertex:nW,common:rW,cube_uv_reflection_fragment:iW,defaultnormal_vertex:sW,displacementmap_pars_vertex:oW,displacementmap_vertex:aW,emissivemap_fragment:lW,emissivemap_pars_fragment:cW,colorspace_fragment:uW,colorspace_pars_fragment:fW,envmap_fragment:dW,envmap_common_pars_fragment:hW,envmap_pars_fragment:pW,envmap_pars_vertex:mW,envmap_physical_pars_fragment:TW,envmap_vertex:gW,fog_vertex:vW,fog_pars_vertex:yW,fog_fragment:_W,fog_pars_fragment:xW,gradientmap_pars_fragment:SW,lightmap_fragment:AW,lightmap_pars_fragment:MW,lights_lambert_fragment:EW,lights_lambert_pars_fragment:wW,lights_pars_begin:bW,lights_toon_fragment:CW,lights_toon_pars_fragment:RW,lights_phong_fragment:PW,lights_phong_pars_fragment:IW,lights_physical_fragment:BW,lights_physical_pars_fragment:LW,lights_fragment_begin:DW,lights_fragment_maps:OW,lights_fragment_end:FW,logdepthbuf_fragment:UW,logdepthbuf_pars_fragment:kW,logdepthbuf_pars_vertex:NW,logdepthbuf_vertex:zW,map_fragment:GW,map_pars_fragment:HW,map_particle_fragment:VW,map_particle_pars_fragment:WW,metalnessmap_fragment:jW,metalnessmap_pars_fragment:XW,morphcolor_vertex:JW,morphnormal_vertex:YW,morphtarget_pars_vertex:$W,morphtarget_vertex:KW,normal_fragment_begin:QW,normal_fragment_maps:ZW,normal_pars_fragment:qW,normal_pars_vertex:e7,normal_vertex:t7,normalmap_pars_fragment:n7,clearcoat_normal_fragment_begin:r7,clearcoat_normal_fragment_maps:i7,clearcoat_pars_fragment:s7,iridescence_pars_fragment:o7,opaque_fragment:a7,packing:l7,premultiplied_alpha_fragment:c7,project_vertex:u7,dithering_fragment:f7,dithering_pars_fragment:d7,roughnessmap_fragment:h7,roughnessmap_pars_fragment:p7,shadowmap_pars_fragment:m7,shadowmap_pars_vertex:g7,shadowmap_vertex:v7,shadowmask_pars_fragment:y7,skinbase_vertex:_7,skinning_pars_vertex:x7,skinning_vertex:S7,skinnormal_vertex:A7,specularmap_fragment:M7,specularmap_pars_fragment:E7,tonemapping_fragment:w7,tonemapping_pars_fragment:b7,transmission_fragment:T7,transmission_pars_fragment:C7,uv_pars_fragment:R7,uv_pars_vertex:P7,uv_vertex:I7,worldpos_vertex:B7,background_vert:L7,background_frag:D7,backgroundCube_vert:O7,backgroundCube_frag:F7,cube_vert:U7,cube_frag:k7,depth_vert:N7,depth_frag:z7,distanceRGBA_vert:G7,distanceRGBA_frag:H7,equirect_vert:V7,equirect_frag:W7,linedashed_vert:j7,linedashed_frag:X7,meshbasic_vert:J7,meshbasic_frag:Y7,meshlambert_vert:$7,meshlambert_frag:K7,meshmatcap_vert:Q7,meshmatcap_frag:Z7,meshnormal_vert:q7,meshnormal_frag:ej,meshphong_vert:tj,meshphong_frag:nj,meshphysical_vert:rj,meshphysical_frag:ij,meshtoon_vert:sj,meshtoon_frag:oj,points_vert:aj,points_frag:lj,shadow_vert:cj,shadow_frag:uj,sprite_vert:fj,sprite_frag:dj},at={common:{diffuse:{value:new ot(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Wt},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Wt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Wt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Wt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Wt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Wt},normalScale:{value:new He(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Wt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Wt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Wt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Wt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ot(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ot(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0},uvTransform:{value:new Wt}},sprite:{diffuse:{value:new ot(16777215)},opacity:{value:1},center:{value:new He(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Wt},alphaMap:{value:null},alphaMapTransform:{value:new Wt},alphaTest:{value:0}}},vo={basic:{uniforms:Si([at.common,at.specularmap,at.envmap,at.aomap,at.lightmap,at.fog]),vertexShader:Gt.meshbasic_vert,fragmentShader:Gt.meshbasic_frag},lambert:{uniforms:Si([at.common,at.specularmap,at.envmap,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.fog,at.lights,{emissive:{value:new ot(0)}}]),vertexShader:Gt.meshlambert_vert,fragmentShader:Gt.meshlambert_frag},phong:{uniforms:Si([at.common,at.specularmap,at.envmap,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.fog,at.lights,{emissive:{value:new ot(0)},specular:{value:new ot(1118481)},shininess:{value:30}}]),vertexShader:Gt.meshphong_vert,fragmentShader:Gt.meshphong_frag},standard:{uniforms:Si([at.common,at.envmap,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.roughnessmap,at.metalnessmap,at.fog,at.lights,{emissive:{value:new ot(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Gt.meshphysical_vert,fragmentShader:Gt.meshphysical_frag},toon:{uniforms:Si([at.common,at.aomap,at.lightmap,at.emissivemap,at.bumpmap,at.normalmap,at.displacementmap,at.gradientmap,at.fog,at.lights,{emissive:{value:new ot(0)}}]),vertexShader:Gt.meshtoon_vert,fragmentShader:Gt.meshtoon_frag},matcap:{uniforms:Si([at.common,at.bumpmap,at.normalmap,at.displacementmap,at.fog,{matcap:{value:null}}]),vertexShader:Gt.meshmatcap_vert,fragmentShader:Gt.meshmatcap_frag},points:{uniforms:Si([at.points,at.fog]),vertexShader:Gt.points_vert,fragmentShader:Gt.points_frag},dashed:{uniforms:Si([at.common,at.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Gt.linedashed_vert,fragmentShader:Gt.linedashed_frag},depth:{uniforms:Si([at.common,at.displacementmap]),vertexShader:Gt.depth_vert,fragmentShader:Gt.depth_frag},normal:{uniforms:Si([at.common,at.bumpmap,at.normalmap,at.displacementmap,{opacity:{value:1}}]),vertexShader:Gt.meshnormal_vert,fragmentShader:Gt.meshnormal_frag},sprite:{uniforms:Si([at.sprite,at.fog]),vertexShader:Gt.sprite_vert,fragmentShader:Gt.sprite_frag},background:{uniforms:{uvTransform:{value:new Wt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Gt.background_vert,fragmentShader:Gt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Gt.backgroundCube_vert,fragmentShader:Gt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Gt.cube_vert,fragmentShader:Gt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Gt.equirect_vert,fragmentShader:Gt.equirect_frag},distanceRGBA:{uniforms:Si([at.common,at.displacementmap,{referencePosition:{value:new q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Gt.distanceRGBA_vert,fragmentShader:Gt.distanceRGBA_frag},shadow:{uniforms:Si([at.lights,at.fog,{color:{value:new ot(0)},opacity:{value:1}}]),vertexShader:Gt.shadow_vert,fragmentShader:Gt.shadow_frag}};vo.physical={uniforms:Si([vo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Wt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Wt},clearcoatNormalScale:{value:new He(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Wt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Wt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Wt},sheen:{value:0},sheenColor:{value:new ot(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Wt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Wt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Wt},transmissionSamplerSize:{value:new He},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Wt},attenuationDistance:{value:0},attenuationColor:{value:new ot(0)},specularColor:{value:new ot(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Wt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Wt},anisotropyVector:{value:new He},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Wt}}]),vertexShader:Gt.meshphysical_vert,fragmentShader:Gt.meshphysical_frag};const yv={r:0,b:0,g:0};function hj(n,e,t,r,i,s,o){const a=new ot(0);let l=s===!0?0:1,c,u,f=null,p=0,m=null;function v(_,g){let x=!1,S=g.isScene===!0?g.background:null;switch(S&&S.isTexture&&(S=(g.backgroundBlurriness>0?t:e).get(S)),S===null?y(a,l):S&&S.isColor&&(y(S,1),x=!0),n.xr.getEnvironmentBlendMode()){case"opaque":x=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),x=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),x=!0;break}(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===mh)?(u===void 0&&(u=new or(new Ku(1,1,1),new Io({name:"BackgroundCubeMaterial",uniforms:Kd(vo.backgroundCube.uniforms),vertexShader:vo.backgroundCube.vertexShader,fragmentShader:vo.backgroundCube.fragmentShader,side:li,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(b,T,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=S.colorSpace!==Ht,(f!==S||p!==S.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=S,p=S.version,m=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new or(new gc(2,2),new Io({name:"BackgroundMaterial",uniforms:Kd(vo.background.uniforms),vertexShader:vo.background.vertexShader,fragmentShader:vo.background.fragmentShader,side:Co,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=S.colorSpace!==Ht,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(f!==S||p!==S.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=S,p=S.version,m=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function y(_,g){_.getRGB(yv,Ek(n)),r.buffers.color.setClear(yv.r,yv.g,yv.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(_,g=1){a.set(_),l=g,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,y(a,l)},render:v}}function pj(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let c=l,u=!1;function f(Y,Q,X,J,O){let V=!1;if(o){const G=y(J,X,Q);c!==G&&(c=G,m(c.object)),V=g(Y,J,X,O),V&&x(Y,J,X,O)}else{const G=Q.wireframe===!0;(c.geometry!==J.id||c.program!==X.id||c.wireframe!==G)&&(c.geometry=J.id,c.program=X.id,c.wireframe=G,V=!0)}O!==null&&t.update(O,n.ELEMENT_ARRAY_BUFFER),(V||u)&&(u=!1,R(Y,Q,X,J),O!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(O).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(Y){return r.isWebGL2?n.bindVertexArray(Y):s.bindVertexArrayOES(Y)}function v(Y){return r.isWebGL2?n.deleteVertexArray(Y):s.deleteVertexArrayOES(Y)}function y(Y,Q,X){const J=X.wireframe===!0;let O=a[Y.id];O===void 0&&(O={},a[Y.id]=O);let V=O[Q.id];V===void 0&&(V={},O[Q.id]=V);let G=V[J];return G===void 0&&(G=_(p()),V[J]=G),G}function _(Y){const Q=[],X=[],J=[];for(let O=0;O<i;O++)Q[O]=0,X[O]=0,J[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Q,enabledAttributes:X,attributeDivisors:J,object:Y,attributes:{},index:null}}function g(Y,Q,X,J){const O=c.attributes,V=Q.attributes;let G=0;const D=X.getAttributes();for(const H in D)if(D[H].location>=0){const le=O[H];let ae=V[H];if(ae===void 0&&(H==="instanceMatrix"&&Y.instanceMatrix&&(ae=Y.instanceMatrix),H==="instanceColor"&&Y.instanceColor&&(ae=Y.instanceColor)),le===void 0||le.attribute!==ae||ae&&le.data!==ae.data)return!0;G++}return c.attributesNum!==G||c.index!==J}function x(Y,Q,X,J){const O={},V=Q.attributes;let G=0;const D=X.getAttributes();for(const H in D)if(D[H].location>=0){let le=V[H];le===void 0&&(H==="instanceMatrix"&&Y.instanceMatrix&&(le=Y.instanceMatrix),H==="instanceColor"&&Y.instanceColor&&(le=Y.instanceColor));const ae={};ae.attribute=le,le&&le.data&&(ae.data=le.data),O[H]=ae,G++}c.attributes=O,c.attributesNum=G,c.index=J}function S(){const Y=c.newAttributes;for(let Q=0,X=Y.length;Q<X;Q++)Y[Q]=0}function M(Y){w(Y,0)}function w(Y,Q){const X=c.newAttributes,J=c.enabledAttributes,O=c.attributeDivisors;X[Y]=1,J[Y]===0&&(n.enableVertexAttribArray(Y),J[Y]=1),O[Y]!==Q&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Y,Q),O[Y]=Q)}function b(){const Y=c.newAttributes,Q=c.enabledAttributes;for(let X=0,J=Q.length;X<J;X++)Q[X]!==Y[X]&&(n.disableVertexAttribArray(X),Q[X]=0)}function T(Y,Q,X,J,O,V,G){G===!0?n.vertexAttribIPointer(Y,Q,X,O,V):n.vertexAttribPointer(Y,Q,X,J,O,V)}function R(Y,Q,X,J){if(r.isWebGL2===!1&&(Y.isInstancedMesh||J.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const O=J.attributes,V=X.getAttributes(),G=Q.defaultAttributeValues;for(const D in V){const H=V[D];if(H.location>=0){let se=O[D];if(se===void 0&&(D==="instanceMatrix"&&Y.instanceMatrix&&(se=Y.instanceMatrix),D==="instanceColor"&&Y.instanceColor&&(se=Y.instanceColor)),se!==void 0){const le=se.normalized,ae=se.itemSize,ue=t.get(se);if(ue===void 0)continue;const fe=ue.buffer,ye=ue.type,We=ue.bytesPerElement,Je=r.isWebGL2===!0&&(ye===n.INT||ye===n.UNSIGNED_INT||se.gpuType===OT);if(se.isInterleavedBufferAttribute){const xe=se.data,K=xe.stride,Te=se.offset;if(xe.isInstancedInterleavedBuffer){for(let Ae=0;Ae<H.locationSize;Ae++)w(H.location+Ae,xe.meshPerAttribute);Y.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Ae=0;Ae<H.locationSize;Ae++)M(H.location+Ae);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let Ae=0;Ae<H.locationSize;Ae++)T(H.location+Ae,ae/H.locationSize,ye,le,K*We,(Te+ae/H.locationSize*Ae)*We,Je)}else{if(se.isInstancedBufferAttribute){for(let xe=0;xe<H.locationSize;xe++)w(H.location+xe,se.meshPerAttribute);Y.isInstancedMesh!==!0&&J._maxInstanceCount===void 0&&(J._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let xe=0;xe<H.locationSize;xe++)M(H.location+xe);n.bindBuffer(n.ARRAY_BUFFER,fe);for(let xe=0;xe<H.locationSize;xe++)T(H.location+xe,ae/H.locationSize,ye,le,ae*We,ae/H.locationSize*xe*We,Je)}}else if(G!==void 0){const le=G[D];if(le!==void 0)switch(le.length){case 2:n.vertexAttrib2fv(H.location,le);break;case 3:n.vertexAttrib3fv(H.location,le);break;case 4:n.vertexAttrib4fv(H.location,le);break;default:n.vertexAttrib1fv(H.location,le)}}}}b()}function C(){k();for(const Y in a){const Q=a[Y];for(const X in Q){const J=Q[X];for(const O in J)v(J[O].object),delete J[O];delete Q[X]}delete a[Y]}}function B(Y){if(a[Y.id]===void 0)return;const Q=a[Y.id];for(const X in Q){const J=Q[X];for(const O in J)v(J[O].object),delete J[O];delete Q[X]}delete a[Y.id]}function U(Y){for(const Q in a){const X=a[Q];if(X[Y.id]===void 0)continue;const J=X[Y.id];for(const O in J)v(J[O].object),delete J[O];delete X[Y.id]}}function k(){W(),u=!0,c!==l&&(c=l,m(c.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:k,resetDefaultState:W,dispose:C,releaseStatesOfGeometry:B,releaseStatesOfProgram:U,initAttributes:S,enableAttribute:M,disableUnusedAttributes:b}}function mj(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,f){if(f===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,c,u,f),t.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function gj(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(T){if(T==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),x=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),S=p>0,M=o||e.has("OES_texture_float"),w=S&&M,b=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:_,maxVaryings:g,maxFragmentUniforms:x,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:w,maxSamples:b}}function vj(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new bl,a=new Wt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=u(f,p,0)},this.setState=function(f,p,m){const v=f.clippingPlanes,y=f.clipIntersection,_=f.clipShadows,g=n.get(f);if(!i||v===null||v.length===0||s&&!_)s?u(null):c();else{const x=s?0:r,S=x*4;let M=g.clippingState||null;l.value=M,M=u(v,p,S,m);for(let w=0;w!==S;++w)M[w]=t[w];g.clippingState=M,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,p,m,v){const y=f!==null?f.length:0;let _=null;if(y!==0){if(_=l.value,v!==!0||_===null){const g=m+y*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(_===null||_.length<g)&&(_=new Float32Array(g));for(let S=0,M=m;S!==y;++S,M+=4)o.copy(f[S]).applyMatrix4(x,a),o.normal.toArray(_,M),_[M+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,_}}function yj(n){let e=new WeakMap;function t(o,a){return a===Xd?o.mapping=aa:a===bm&&(o.mapping=oc),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Xd||a===bm)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new qT(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Eo extends yg{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const hd=4,q3=[.125,.215,.35,.446,.526,.582],nu=20,pA=new Eo,eI=new ot;let mA=null;const Zc=(1+Math.sqrt(5))/2,Df=1/Zc,tI=[new q(1,1,1),new q(-1,1,1),new q(1,1,-1),new q(-1,1,-1),new q(0,Zc,Df),new q(0,Zc,-Df),new q(Df,0,Zc),new q(-Df,0,Zc),new q(Zc,Df,0),new q(-Zc,Df,0)];class nw{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){mA=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=iI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=rI(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(mA),e.scissorTest=!1,_v(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===aa||e.mapping===oc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),mA=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:_n,minFilter:_n,generateMipmaps:!1,type:wi,format:Ei,colorSpace:Ro,depthBuffer:!1},i=nI(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=nI(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_j(s)),this._blurMaterial=xj(s,e,t)}return i}_compileMaterial(e){const t=new or(this._lodPlanes[0],e);this._renderer.compile(t,pA)}_sceneToCubeUV(e,t,r,i){const a=new Nn(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,p=u.toneMapping;u.getClearColor(eI),u.toneMapping=na,u.autoClear=!1;const m=new Gi({name:"PMREM.Background",side:li,depthWrite:!1,depthTest:!1}),v=new or(new Ku,m);let y=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,y=!0):(m.color.copy(eI),y=!0);for(let g=0;g<6;g++){const x=g%3;x===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):x===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const S=this._cubeSize;_v(i,x*S,g>2?S:0,S,S),u.setRenderTarget(i),y&&u.render(v,a),u.render(e,a)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=p,u.autoClear=f,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===aa||e.mapping===oc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=iI()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=rI());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new or(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;_v(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,pA)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=tI[(i-1)%tI.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new or(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*nu-1),y=s/v,_=isFinite(s)?1+Math.floor(u*y):nu;_>nu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${nu}`);const g=[];let x=0;for(let T=0;T<nu;++T){const R=T/y,C=Math.exp(-R*R/2);g.push(C),T===0?x+=C:T<_&&(x+=2*C)}for(let T=0;T<g.length;T++)g[T]=g[T]/x;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=v,p.mipInt.value=S-r;const M=this._sizeLods[i],w=3*M*(i>S-hd?i-S+hd:0),b=4*(this._cubeSize-M);_v(t,w,b,3*M,2*M),l.setRenderTarget(t),l.render(f,pA)}}function _j(n){const e=[],t=[],r=[];let i=n;const s=n-hd+1+q3.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-hd?l=q3[o-n+hd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,p=[u,u,f,u,f,f,u,u,f,f,u,f],m=6,v=6,y=3,_=2,g=1,x=new Float32Array(y*v*m),S=new Float32Array(_*v*m),M=new Float32Array(g*v*m);for(let b=0;b<m;b++){const T=b%3*2/3-1,R=b>2?0:-1,C=[T,R,0,T+2/3,R,0,T+2/3,R+1,0,T,R,0,T+2/3,R+1,0,T,R+1,0];x.set(C,y*v*b),S.set(p,_*v*b);const B=[b,b,b,b,b,b];M.set(B,g*v*b)}const w=new zt;w.setAttribute("position",new mn(x,y)),w.setAttribute("uv",new mn(S,_)),w.setAttribute("faceIndex",new mn(M,g)),e.push(w),i>hd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function nI(n,e,t){const r=new Po(n,e,t);return r.texture.mapping=mh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function _v(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function xj(n,e,t){const r=new Float32Array(nu),i=new q(0,1,0);return new Io({name:"SphericalGaussianBlur",defines:{n:nu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:eC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ja,depthTest:!1,depthWrite:!1})}function rI(){return new Io({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:eC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ja,depthTest:!1,depthWrite:!1})}function iI(){return new Io({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:eC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ja,depthTest:!1,depthWrite:!1})}function eC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Sj(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Xd||l===bm,u=l===aa||l===oc;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new nw(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){t===null&&(t=new nw(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function Aj(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Mj(n,e,t,r){const i={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);for(const v in p.morphAttributes){const y=p.morphAttributes[v];for(let _=0,g=y.length;_<g;_++)e.remove(y[_])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(f){const p=f.attributes;for(const v in p)e.update(p[v],n.ARRAY_BUFFER);const m=f.morphAttributes;for(const v in m){const y=m[v];for(let _=0,g=y.length;_<g;_++)e.update(y[_],n.ARRAY_BUFFER)}}function c(f){const p=[],m=f.index,v=f.attributes.position;let y=0;if(m!==null){const x=m.array;y=m.version;for(let S=0,M=x.length;S<M;S+=3){const w=x[S+0],b=x[S+1],T=x[S+2];p.push(w,b,b,T,T,w)}}else if(v!==void 0){const x=v.array;y=v.version;for(let S=0,M=x.length/3-1;S<M;S+=3){const w=S+0,b=S+1,T=S+2;p.push(w,b,b,T,T,w)}}else return;const _=new(Sk(p)?QT:KT)(p,1);_.version=y;const g=s.get(f);g&&e.remove(g),s.set(f,_)}function u(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function Ej(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function f(p,m,v){if(v===0)return;let y,_;if(i)y=n,_="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[_](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function wj(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function bj(n,e){return n[0]-e[0]}function Tj(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Cj(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new gn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=v!==void 0?v.length:0;let _=s.get(u);if(_===void 0||_.count!==y){let Q=function(){W.dispose(),s.delete(u),u.removeEventListener("dispose",Q)};var m=Q;_!==void 0&&_.texture.dispose();const S=u.morphAttributes.position!==void 0,M=u.morphAttributes.normal!==void 0,w=u.morphAttributes.color!==void 0,b=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],R=u.morphAttributes.color||[];let C=0;S===!0&&(C=1),M===!0&&(C=2),w===!0&&(C=3);let B=u.attributes.position.count*C,U=1;B>e.maxTextureSize&&(U=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const k=new Float32Array(B*U*4*y),W=new __(k,B,U,y);W.type=ai,W.needsUpdate=!0;const Y=C*4;for(let X=0;X<y;X++){const J=b[X],O=T[X],V=R[X],G=B*U*4*X;for(let D=0;D<J.count;D++){const H=D*Y;S===!0&&(o.fromBufferAttribute(J,D),k[G+H+0]=o.x,k[G+H+1]=o.y,k[G+H+2]=o.z,k[G+H+3]=0),M===!0&&(o.fromBufferAttribute(O,D),k[G+H+4]=o.x,k[G+H+5]=o.y,k[G+H+6]=o.z,k[G+H+7]=0),w===!0&&(o.fromBufferAttribute(V,D),k[G+H+8]=o.x,k[G+H+9]=o.y,k[G+H+10]=o.z,k[G+H+11]=V.itemSize===4?o.w:1)}}_={count:y,texture:W,size:new He(B,U)},s.set(u,_),u.addEventListener("dispose",Q)}let g=0;for(let S=0;S<p.length;S++)g+=p[S];const x=u.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",x),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const v=p===void 0?0:p.length;let y=r[u.id];if(y===void 0||y.length!==v){y=[];for(let M=0;M<v;M++)y[M]=[M,0];r[u.id]=y}for(let M=0;M<v;M++){const w=y[M];w[0]=M,w[1]=p[M]}y.sort(Tj);for(let M=0;M<8;M++)M<v&&y[M][1]?(a[M][0]=y[M][0],a[M][1]=y[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(bj);const _=u.morphAttributes.position,g=u.morphAttributes.normal;let x=0;for(let M=0;M<8;M++){const w=a[M],b=w[0],T=w[1];b!==Number.MAX_SAFE_INTEGER&&T?(_&&u.getAttribute("morphTarget"+M)!==_[b]&&u.setAttribute("morphTarget"+M,_[b]),g&&u.getAttribute("morphNormal"+M)!==g[b]&&u.setAttribute("morphNormal"+M,g[b]),i[M]=T,x+=T):(_&&u.hasAttribute("morphTarget"+M)===!0&&u.deleteAttribute("morphTarget"+M),g&&u.hasAttribute("morphNormal"+M)===!0&&u.deleteAttribute("morphNormal"+M),i[M]=0)}const S=u.morphTargetsRelative?1:1-x;f.getUniforms().setValue(n,"morphTargetBaseInfluence",S),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function Rj(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const Tk=new In,Ck=new __,Rk=new $T,Pk=new _g,sI=[],oI=[],aI=new Float32Array(16),lI=new Float32Array(9),cI=new Float32Array(4);function vh(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=sI[i];if(s===void 0&&(s=new Float32Array(i),sI[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Pr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Ir(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function S_(n,e){let t=oI[e];t===void 0&&(t=new Int32Array(e),oI[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Pj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Ij(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pr(t,e))return;n.uniform2fv(this.addr,e),Ir(t,e)}}function Bj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Pr(t,e))return;n.uniform3fv(this.addr,e),Ir(t,e)}}function Lj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pr(t,e))return;n.uniform4fv(this.addr,e),Ir(t,e)}}function Dj(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Pr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ir(t,e)}else{if(Pr(t,r))return;cI.set(r),n.uniformMatrix2fv(this.addr,!1,cI),Ir(t,r)}}function Oj(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Pr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ir(t,e)}else{if(Pr(t,r))return;lI.set(r),n.uniformMatrix3fv(this.addr,!1,lI),Ir(t,r)}}function Fj(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Pr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ir(t,e)}else{if(Pr(t,r))return;aI.set(r),n.uniformMatrix4fv(this.addr,!1,aI),Ir(t,r)}}function Uj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function kj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pr(t,e))return;n.uniform2iv(this.addr,e),Ir(t,e)}}function Nj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Pr(t,e))return;n.uniform3iv(this.addr,e),Ir(t,e)}}function zj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pr(t,e))return;n.uniform4iv(this.addr,e),Ir(t,e)}}function Gj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Hj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pr(t,e))return;n.uniform2uiv(this.addr,e),Ir(t,e)}}function Vj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Pr(t,e))return;n.uniform3uiv(this.addr,e),Ir(t,e)}}function Wj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pr(t,e))return;n.uniform4uiv(this.addr,e),Ir(t,e)}}function jj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||Tk,i)}function Xj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Rk,i)}function Jj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Pk,i)}function Yj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Ck,i)}function $j(n){switch(n){case 5126:return Pj;case 35664:return Ij;case 35665:return Bj;case 35666:return Lj;case 35674:return Dj;case 35675:return Oj;case 35676:return Fj;case 5124:case 35670:return Uj;case 35667:case 35671:return kj;case 35668:case 35672:return Nj;case 35669:case 35673:return zj;case 5125:return Gj;case 36294:return Hj;case 36295:return Vj;case 36296:return Wj;case 35678:case 36198:case 36298:case 36306:case 35682:return jj;case 35679:case 36299:case 36307:return Xj;case 35680:case 36300:case 36308:case 36293:return Jj;case 36289:case 36303:case 36311:case 36292:return Yj}}function Kj(n,e){n.uniform1fv(this.addr,e)}function Qj(n,e){const t=vh(e,this.size,2);n.uniform2fv(this.addr,t)}function Zj(n,e){const t=vh(e,this.size,3);n.uniform3fv(this.addr,t)}function qj(n,e){const t=vh(e,this.size,4);n.uniform4fv(this.addr,t)}function eX(n,e){const t=vh(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function tX(n,e){const t=vh(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function nX(n,e){const t=vh(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function rX(n,e){n.uniform1iv(this.addr,e)}function iX(n,e){n.uniform2iv(this.addr,e)}function sX(n,e){n.uniform3iv(this.addr,e)}function oX(n,e){n.uniform4iv(this.addr,e)}function aX(n,e){n.uniform1uiv(this.addr,e)}function lX(n,e){n.uniform2uiv(this.addr,e)}function cX(n,e){n.uniform3uiv(this.addr,e)}function uX(n,e){n.uniform4uiv(this.addr,e)}function fX(n,e,t){const r=this.cache,i=e.length,s=S_(t,i);Pr(r,s)||(n.uniform1iv(this.addr,s),Ir(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||Tk,s[o])}function dX(n,e,t){const r=this.cache,i=e.length,s=S_(t,i);Pr(r,s)||(n.uniform1iv(this.addr,s),Ir(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||Rk,s[o])}function hX(n,e,t){const r=this.cache,i=e.length,s=S_(t,i);Pr(r,s)||(n.uniform1iv(this.addr,s),Ir(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||Pk,s[o])}function pX(n,e,t){const r=this.cache,i=e.length,s=S_(t,i);Pr(r,s)||(n.uniform1iv(this.addr,s),Ir(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||Ck,s[o])}function mX(n){switch(n){case 5126:return Kj;case 35664:return Qj;case 35665:return Zj;case 35666:return qj;case 35674:return eX;case 35675:return tX;case 35676:return nX;case 5124:case 35670:return rX;case 35667:case 35671:return iX;case 35668:case 35672:return sX;case 35669:case 35673:return oX;case 5125:return aX;case 36294:return lX;case 36295:return cX;case 36296:return uX;case 35678:case 36198:case 36298:case 36306:case 35682:return fX;case 35679:case 36299:case 36307:return dX;case 35680:case 36300:case 36308:case 36293:return hX;case 36289:case 36303:case 36311:case 36292:return pX}}class gX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=$j(t.type)}}class vX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=mX(t.type)}}class yX{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const gA=/(\w+)(\])?(\[|\.)?/g;function uI(n,e){n.seq.push(e),n.map[e.id]=e}function _X(n,e,t){const r=n.name,i=r.length;for(gA.lastIndex=0;;){const s=gA.exec(r),o=gA.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){uI(t,c===void 0?new gX(a,n,e):new vX(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new yX(a),uI(t,f)),t=f}}}class Ly{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);_X(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function fI(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let xX=0;function SX(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function AX(n){switch(n){case Ro:return["Linear","( value )"];case Ht:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function dI(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+SX(n.getShaderSource(e),o)}else return i}function MX(n,e){const t=AX(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function EX(n,e){let t;switch(e){case JU:t="Linear";break;case YU:t="Reinhard";break;case $U:t="OptimizedCineon";break;case DT:t="ACESFilmic";break;case KU:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function wX(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Pp).join(`
`)}function bX(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function TX(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Pp(n){return n!==""}function hI(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function pI(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const CX=/^[ \t]*#include +<([\w\d./]+)>/gm;function rw(n){return n.replace(CX,PX)}const RX=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function PX(n,e){let t=Gt[e];if(t===void 0){const r=RX.get(e);if(r!==void 0)t=Gt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return rw(t)}const IX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function mI(n){return n.replace(IX,BX)}function BX(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function gI(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function LX(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===p_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Wp?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ho&&(e="SHADOWMAP_TYPE_VSM"),e}function DX(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case aa:case oc:e="ENVMAP_TYPE_CUBE";break;case mh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function OX(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case oc:e="ENVMAP_MODE_REFRACTION";break}return e}function FX(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case gg:e="ENVMAP_BLENDING_MULTIPLY";break;case jU:e="ENVMAP_BLENDING_MIX";break;case XU:e="ENVMAP_BLENDING_ADD";break}return e}function UX(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function kX(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=LX(t),c=DX(t),u=OX(t),f=FX(t),p=UX(t),m=t.isWebGL2?"":wX(t),v=bX(s),y=i.createProgram();let _,g,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Pp).join(`
`),_.length>0&&(_+=`
`),g=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Pp).join(`
`),g.length>0&&(g+=`
`)):(_=[gI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Pp).join(`
`),g=[m,gI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==na?"#define TONE_MAPPING":"",t.toneMapping!==na?Gt.tonemapping_pars_fragment:"",t.toneMapping!==na?EX("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Gt.colorspace_pars_fragment,MX("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Pp).join(`
`)),o=rw(o),o=hI(o,t),o=pI(o,t),a=rw(a),a=hI(a,t),a=pI(a,t),o=mI(o),a=mI(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,g=["#define varying in",t.glslVersion===ew?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===ew?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=x+_+o,M=x+g+a,w=fI(i,i.VERTEX_SHADER,S),b=fI(i,i.FRAGMENT_SHADER,M);if(i.attachShader(y,w),i.attachShader(y,b),t.index0AttributeName!==void 0?i.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),n.debug.checkShaderErrors){const C=i.getProgramInfoLog(y).trim(),B=i.getShaderInfoLog(w).trim(),U=i.getShaderInfoLog(b).trim();let k=!0,W=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(k=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,y,w,b);else{const Y=dI(i,w,"vertex"),Q=dI(i,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Program Info Log: `+C+`
`+Y+`
`+Q)}else C!==""?console.warn("THREE.WebGLProgram: Program Info Log:",C):(B===""||U==="")&&(W=!1);W&&(this.diagnostics={runnable:k,programLog:C,vertexShader:{log:B,prefix:_},fragmentShader:{log:U,prefix:g}})}i.deleteShader(w),i.deleteShader(b);let T;this.getUniforms=function(){return T===void 0&&(T=new Ly(i,y)),T};let R;return this.getAttributes=function(){return R===void 0&&(R=TX(i,y)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=xX++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=w,this.fragmentShader=b,this}let NX=0;class zX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new GX(e),t.set(e,r)),r}}class GX{constructor(e){this.id=NX++,this.code=e,this.usedTimes=0}}function HX(n,e,t,r,i,s,o){const a=new Su,l=new zX,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(C){return C===0?"uv":`uv${C}`}function _(C,B,U,k,W){const Y=k.fog,Q=W.geometry,X=C.isMeshStandardMaterial?k.environment:null,J=(C.isMeshStandardMaterial?t:e).get(C.envMap||X),O=J&&J.mapping===mh?J.image.height:null,V=v[C.type];C.precision!==null&&(m=i.getMaxPrecision(C.precision),m!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",m,"instead."));const G=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,D=G!==void 0?G.length:0;let H=0;Q.morphAttributes.position!==void 0&&(H=1),Q.morphAttributes.normal!==void 0&&(H=2),Q.morphAttributes.color!==void 0&&(H=3);let se,le,ae,ue;if(V){const Yt=vo[V];se=Yt.vertexShader,le=Yt.fragmentShader}else se=C.vertexShader,le=C.fragmentShader,l.update(C),ae=l.getVertexShaderID(C),ue=l.getFragmentShaderID(C);const fe=n.getRenderTarget(),ye=W.isInstancedMesh===!0,We=!!C.map,Je=!!C.matcap,xe=!!J,K=!!C.aoMap,Te=!!C.lightMap,Ae=!!C.bumpMap,Ee=!!C.normalMap,we=!!C.displacementMap,Xe=!!C.emissiveMap,Me=!!C.metalnessMap,Le=!!C.roughnessMap,Be=C.anisotropy>0,ve=C.clearcoat>0,Ye=C.iridescence>0,$=C.sheen>0,N=C.transmission>0,ce=Be&&!!C.anisotropyMap,Ge=ve&&!!C.clearcoatMap,De=ve&&!!C.clearcoatNormalMap,Oe=ve&&!!C.clearcoatRoughnessMap,Ke=Ye&&!!C.iridescenceMap,je=Ye&&!!C.iridescenceThicknessMap,ge=$&&!!C.sheenColorMap,re=$&&!!C.sheenRoughnessMap,_e=!!C.specularMap,be=!!C.specularColorMap,Re=!!C.specularIntensityMap,Ne=N&&!!C.transmissionMap,Ze=N&&!!C.thicknessMap,it=!!C.gradientMap,oe=!!C.alphaMap,pe=C.alphaTest>0,Se=!!C.alphaHash,$e=!!C.extensions,Qe=!!Q.attributes.uv1,mt=!!Q.attributes.uv2,Et=!!Q.attributes.uv3;let Tt=na;return C.toneMapped&&(fe===null||fe.isXRRenderTarget===!0)&&(Tt=n.toneMapping),{isWebGL2:u,shaderID:V,shaderType:C.type,shaderName:C.name,vertexShader:se,fragmentShader:le,defines:C.defines,customVertexShaderID:ae,customFragmentShaderID:ue,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:m,instancing:ye,instancingColor:ye&&W.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:fe===null?n.outputColorSpace:fe.isXRRenderTarget===!0?fe.texture.colorSpace:Ro,map:We,matcap:Je,envMap:xe,envMapMode:xe&&J.mapping,envMapCubeUVHeight:O,aoMap:K,lightMap:Te,bumpMap:Ae,normalMap:Ee,displacementMap:p&&we,emissiveMap:Xe,normalMapObjectSpace:Ee&&C.normalMapType===uk,normalMapTangentSpace:Ee&&C.normalMapType===mc,metalnessMap:Me,roughnessMap:Le,anisotropy:Be,anisotropyMap:ce,clearcoat:ve,clearcoatMap:Ge,clearcoatNormalMap:De,clearcoatRoughnessMap:Oe,iridescence:Ye,iridescenceMap:Ke,iridescenceThicknessMap:je,sheen:$,sheenColorMap:ge,sheenRoughnessMap:re,specularMap:_e,specularColorMap:be,specularIntensityMap:Re,transmission:N,transmissionMap:Ne,thicknessMap:Ze,gradientMap:it,opaque:C.transparent===!1&&C.blending===_u,alphaMap:oe,alphaTest:pe,alphaHash:Se,combine:C.combine,mapUv:We&&y(C.map.channel),aoMapUv:K&&y(C.aoMap.channel),lightMapUv:Te&&y(C.lightMap.channel),bumpMapUv:Ae&&y(C.bumpMap.channel),normalMapUv:Ee&&y(C.normalMap.channel),displacementMapUv:we&&y(C.displacementMap.channel),emissiveMapUv:Xe&&y(C.emissiveMap.channel),metalnessMapUv:Me&&y(C.metalnessMap.channel),roughnessMapUv:Le&&y(C.roughnessMap.channel),anisotropyMapUv:ce&&y(C.anisotropyMap.channel),clearcoatMapUv:Ge&&y(C.clearcoatMap.channel),clearcoatNormalMapUv:De&&y(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Oe&&y(C.clearcoatRoughnessMap.channel),iridescenceMapUv:Ke&&y(C.iridescenceMap.channel),iridescenceThicknessMapUv:je&&y(C.iridescenceThicknessMap.channel),sheenColorMapUv:ge&&y(C.sheenColorMap.channel),sheenRoughnessMapUv:re&&y(C.sheenRoughnessMap.channel),specularMapUv:_e&&y(C.specularMap.channel),specularColorMapUv:be&&y(C.specularColorMap.channel),specularIntensityMapUv:Re&&y(C.specularIntensityMap.channel),transmissionMapUv:Ne&&y(C.transmissionMap.channel),thicknessMapUv:Ze&&y(C.thicknessMap.channel),alphaMapUv:oe&&y(C.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Ee||Be),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,vertexUv1s:Qe,vertexUv2s:mt,vertexUv3s:Et,pointsUvs:W.isPoints===!0&&!!Q.attributes.uv&&(We||oe),fog:!!Y,useFog:C.fog===!0,fogExp2:Y&&Y.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:W.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:D,morphTextureStride:H,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&U.length>0,shadowMapType:n.shadowMap.type,toneMapping:Tt,useLegacyLights:n._useLegacyLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Mi,flipSided:C.side===li,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:$e&&C.extensions.derivatives===!0,extensionFragDepth:$e&&C.extensions.fragDepth===!0,extensionDrawBuffers:$e&&C.extensions.drawBuffers===!0,extensionShaderTextureLOD:$e&&C.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function g(C){const B=[];if(C.shaderID?B.push(C.shaderID):(B.push(C.customVertexShaderID),B.push(C.customFragmentShaderID)),C.defines!==void 0)for(const U in C.defines)B.push(U),B.push(C.defines[U]);return C.isRawShaderMaterial===!1&&(x(B,C),S(B,C),B.push(n.outputColorSpace)),B.push(C.customProgramCacheKey),B.join()}function x(C,B){C.push(B.precision),C.push(B.outputColorSpace),C.push(B.envMapMode),C.push(B.envMapCubeUVHeight),C.push(B.mapUv),C.push(B.alphaMapUv),C.push(B.lightMapUv),C.push(B.aoMapUv),C.push(B.bumpMapUv),C.push(B.normalMapUv),C.push(B.displacementMapUv),C.push(B.emissiveMapUv),C.push(B.metalnessMapUv),C.push(B.roughnessMapUv),C.push(B.anisotropyMapUv),C.push(B.clearcoatMapUv),C.push(B.clearcoatNormalMapUv),C.push(B.clearcoatRoughnessMapUv),C.push(B.iridescenceMapUv),C.push(B.iridescenceThicknessMapUv),C.push(B.sheenColorMapUv),C.push(B.sheenRoughnessMapUv),C.push(B.specularMapUv),C.push(B.specularColorMapUv),C.push(B.specularIntensityMapUv),C.push(B.transmissionMapUv),C.push(B.thicknessMapUv),C.push(B.combine),C.push(B.fogExp2),C.push(B.sizeAttenuation),C.push(B.morphTargetsCount),C.push(B.morphAttributeCount),C.push(B.numDirLights),C.push(B.numPointLights),C.push(B.numSpotLights),C.push(B.numSpotLightMaps),C.push(B.numHemiLights),C.push(B.numRectAreaLights),C.push(B.numDirLightShadows),C.push(B.numPointLightShadows),C.push(B.numSpotLightShadows),C.push(B.numSpotLightShadowsWithMaps),C.push(B.shadowMapType),C.push(B.toneMapping),C.push(B.numClippingPlanes),C.push(B.numClipIntersection),C.push(B.depthPacking)}function S(C,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUv1s&&a.enable(13),B.vertexUv2s&&a.enable(14),B.vertexUv3s&&a.enable(15),B.vertexTangents&&a.enable(16),B.anisotropy&&a.enable(17),C.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.useLegacyLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),C.push(a.mask)}function M(C){const B=v[C.type];let U;if(B){const k=vo[B];U=ZT.clone(k.uniforms)}else U=C.uniforms;return U}function w(C,B){let U;for(let k=0,W=c.length;k<W;k++){const Y=c[k];if(Y.cacheKey===B){U=Y,++U.usedTimes;break}}return U===void 0&&(U=new kX(n,B,C,s),c.push(U)),U}function b(C){if(--C.usedTimes===0){const B=c.indexOf(C);c[B]=c[c.length-1],c.pop(),C.destroy()}}function T(C){l.remove(C)}function R(){l.dispose()}return{getParameters:_,getProgramCacheKey:g,getUniforms:M,acquireProgram:w,releaseProgram:b,releaseShaderCache:T,programs:c,dispose:R}}function VX(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function WX(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function vI(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function yI(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,p,m,v,y,_){let g=n[e];return g===void 0?(g={id:f.id,object:f,geometry:p,material:m,groupOrder:v,renderOrder:f.renderOrder,z:y,group:_},n[e]=g):(g.id=f.id,g.object=f,g.geometry=p,g.material=m,g.groupOrder=v,g.renderOrder=f.renderOrder,g.z=y,g.group=_),e++,g}function a(f,p,m,v,y,_){const g=o(f,p,m,v,y,_);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):t.push(g)}function l(f,p,m,v,y,_){const g=o(f,p,m,v,y,_);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):t.unshift(g)}function c(f,p){t.length>1&&t.sort(f||WX),r.length>1&&r.sort(p||vI),i.length>1&&i.sort(p||vI)}function u(){for(let f=e,p=n.length;f<p;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function jX(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new yI,n.set(r,[o])):i>=s.length?(o=new yI,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function XX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new q,color:new ot};break;case"SpotLight":t={position:new q,direction:new q,color:new ot,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new q,color:new ot,distance:0,decay:0};break;case"HemisphereLight":t={direction:new q,skyColor:new ot,groundColor:new ot};break;case"RectAreaLight":t={color:new ot,position:new q,halfWidth:new q,halfHeight:new q};break}return n[e.id]=t,t}}}function JX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let YX=0;function $X(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function KX(n,e){const t=new XX,r=JX(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new q);const s=new q,o=new Pt,a=new Pt;function l(u,f){let p=0,m=0,v=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let y=0,_=0,g=0,x=0,S=0,M=0,w=0,b=0,T=0,R=0;u.sort($X);const C=f===!0?Math.PI:1;for(let U=0,k=u.length;U<k;U++){const W=u[U],Y=W.color,Q=W.intensity,X=W.distance,J=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=Y.r*Q*C,m+=Y.g*Q*C,v+=Y.b*Q*C;else if(W.isLightProbe)for(let O=0;O<9;O++)i.probe[O].addScaledVector(W.sh.coefficients[O],Q);else if(W.isDirectionalLight){const O=t.get(W);if(O.color.copy(W.color).multiplyScalar(W.intensity*C),W.castShadow){const V=W.shadow,G=r.get(W);G.shadowBias=V.bias,G.shadowNormalBias=V.normalBias,G.shadowRadius=V.radius,G.shadowMapSize=V.mapSize,i.directionalShadow[y]=G,i.directionalShadowMap[y]=J,i.directionalShadowMatrix[y]=W.shadow.matrix,M++}i.directional[y]=O,y++}else if(W.isSpotLight){const O=t.get(W);O.position.setFromMatrixPosition(W.matrixWorld),O.color.copy(Y).multiplyScalar(Q*C),O.distance=X,O.coneCos=Math.cos(W.angle),O.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),O.decay=W.decay,i.spot[g]=O;const V=W.shadow;if(W.map&&(i.spotLightMap[T]=W.map,T++,V.updateMatrices(W),W.castShadow&&R++),i.spotLightMatrix[g]=V.matrix,W.castShadow){const G=r.get(W);G.shadowBias=V.bias,G.shadowNormalBias=V.normalBias,G.shadowRadius=V.radius,G.shadowMapSize=V.mapSize,i.spotShadow[g]=G,i.spotShadowMap[g]=J,b++}g++}else if(W.isRectAreaLight){const O=t.get(W);O.color.copy(Y).multiplyScalar(Q),O.halfWidth.set(W.width*.5,0,0),O.halfHeight.set(0,W.height*.5,0),i.rectArea[x]=O,x++}else if(W.isPointLight){const O=t.get(W);if(O.color.copy(W.color).multiplyScalar(W.intensity*C),O.distance=W.distance,O.decay=W.decay,W.castShadow){const V=W.shadow,G=r.get(W);G.shadowBias=V.bias,G.shadowNormalBias=V.normalBias,G.shadowRadius=V.radius,G.shadowMapSize=V.mapSize,G.shadowCameraNear=V.camera.near,G.shadowCameraFar=V.camera.far,i.pointShadow[_]=G,i.pointShadowMap[_]=J,i.pointShadowMatrix[_]=W.shadow.matrix,w++}i.point[_]=O,_++}else if(W.isHemisphereLight){const O=t.get(W);O.skyColor.copy(W.color).multiplyScalar(Q*C),O.groundColor.copy(W.groundColor).multiplyScalar(Q*C),i.hemi[S]=O,S++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=at.LTC_FLOAT_1,i.rectAreaLTC2=at.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=at.LTC_HALF_1,i.rectAreaLTC2=at.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const B=i.hash;(B.directionalLength!==y||B.pointLength!==_||B.spotLength!==g||B.rectAreaLength!==x||B.hemiLength!==S||B.numDirectionalShadows!==M||B.numPointShadows!==w||B.numSpotShadows!==b||B.numSpotMaps!==T)&&(i.directional.length=y,i.spot.length=g,i.rectArea.length=x,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=b,i.spotShadowMap.length=b,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=b+T-R,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=R,B.directionalLength=y,B.pointLength=_,B.spotLength=g,B.rectAreaLength=x,B.hemiLength=S,B.numDirectionalShadows=M,B.numPointShadows=w,B.numSpotShadows=b,B.numSpotMaps=T,i.version=YX++)}function c(u,f){let p=0,m=0,v=0,y=0,_=0;const g=f.matrixWorldInverse;for(let x=0,S=u.length;x<S;x++){const M=u[x];if(M.isDirectionalLight){const w=i.directional[p];w.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(g),p++}else if(M.isSpotLight){const w=i.spot[v];w.position.setFromMatrixPosition(M.matrixWorld),w.position.applyMatrix4(g),w.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(g),v++}else if(M.isRectAreaLight){const w=i.rectArea[y];w.position.setFromMatrixPosition(M.matrixWorld),w.position.applyMatrix4(g),a.identity(),o.copy(M.matrixWorld),o.premultiply(g),a.extractRotation(o),w.halfWidth.set(M.width*.5,0,0),w.halfHeight.set(0,M.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),y++}else if(M.isPointLight){const w=i.point[m];w.position.setFromMatrixPosition(M.matrixWorld),w.position.applyMatrix4(g),m++}else if(M.isHemisphereLight){const w=i.hemi[_];w.direction.setFromMatrixPosition(M.matrixWorld),w.direction.transformDirection(g),_++}}}return{setup:l,setupView:c,state:i}}function _I(n,e){const t=new KX(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function c(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function QX(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new _I(n,e),t.set(s,[l])):o>=a.length?(l=new _I(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class A_ extends wr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ck,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class M_ extends wr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const ZX=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,qX=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function eJ(n,e,t){let r=new x_;const i=new He,s=new He,o=new gn,a=new A_({depthPacking:jT}),l=new M_,c={},u=t.maxTextureSize,f={[Co]:li,[li]:Co,[Mi]:Mi},p=new Io({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new He},radius:{value:4}},vertexShader:ZX,fragmentShader:qX}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new zt;v.setAttribute("position",new mn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new or(v,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=p_;let g=this.type;this.render=function(w,b,T){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||w.length===0)return;const R=n.getRenderTarget(),C=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),U=n.state;U.setBlending(ja),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const k=g!==ho&&this.type===ho,W=g===ho&&this.type!==ho;for(let Y=0,Q=w.length;Y<Q;Y++){const X=w[Y],J=X.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",X,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;i.copy(J.mapSize);const O=J.getFrameExtents();if(i.multiply(O),s.copy(J.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/O.x),i.x=s.x*O.x,J.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/O.y),i.y=s.y*O.y,J.mapSize.y=s.y)),J.map===null||k===!0||W===!0){const G=this.type!==ho?{minFilter:rr,magFilter:rr}:{};J.map!==null&&J.map.dispose(),J.map=new Po(i.x,i.y,G),J.map.texture.name=X.name+".shadowMap",J.camera.updateProjectionMatrix()}n.setRenderTarget(J.map),n.clear();const V=J.getViewportCount();for(let G=0;G<V;G++){const D=J.getViewport(G);o.set(s.x*D.x,s.y*D.y,s.x*D.z,s.y*D.w),U.viewport(o),J.updateMatrices(X,G),r=J.getFrustum(),M(b,T,J.camera,X,this.type)}J.isPointLightShadow!==!0&&this.type===ho&&x(J,T),J.needsUpdate=!1}g=this.type,_.needsUpdate=!1,n.setRenderTarget(R,C,B)};function x(w,b){const T=e.update(y);p.defines.VSM_SAMPLES!==w.blurSamples&&(p.defines.VSM_SAMPLES=w.blurSamples,m.defines.VSM_SAMPLES=w.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new Po(i.x,i.y)),p.uniforms.shadow_pass.value=w.map.texture,p.uniforms.resolution.value=w.mapSize,p.uniforms.radius.value=w.radius,n.setRenderTarget(w.mapPass),n.clear(),n.renderBufferDirect(b,null,T,p,y,null),m.uniforms.shadow_pass.value=w.mapPass.texture,m.uniforms.resolution.value=w.mapSize,m.uniforms.radius.value=w.radius,n.setRenderTarget(w.map),n.clear(),n.renderBufferDirect(b,null,T,m,y,null)}function S(w,b,T,R){let C=null;const B=T.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(B!==void 0)C=B;else if(C=T.isPointLight===!0?l:a,n.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const U=C.uuid,k=b.uuid;let W=c[U];W===void 0&&(W={},c[U]=W);let Y=W[k];Y===void 0&&(Y=C.clone(),W[k]=Y),C=Y}if(C.visible=b.visible,C.wireframe=b.wireframe,R===ho?C.side=b.shadowSide!==null?b.shadowSide:b.side:C.side=b.shadowSide!==null?b.shadowSide:f[b.side],C.alphaMap=b.alphaMap,C.alphaTest=b.alphaTest,C.map=b.map,C.clipShadows=b.clipShadows,C.clippingPlanes=b.clippingPlanes,C.clipIntersection=b.clipIntersection,C.displacementMap=b.displacementMap,C.displacementScale=b.displacementScale,C.displacementBias=b.displacementBias,C.wireframeLinewidth=b.wireframeLinewidth,C.linewidth=b.linewidth,T.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const U=n.properties.get(C);U.light=T}return C}function M(w,b,T,R,C){if(w.visible===!1)return;if(w.layers.test(b.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&C===ho)&&(!w.frustumCulled||r.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,w.matrixWorld);const k=e.update(w),W=w.material;if(Array.isArray(W)){const Y=k.groups;for(let Q=0,X=Y.length;Q<X;Q++){const J=Y[Q],O=W[J.materialIndex];if(O&&O.visible){const V=S(w,O,R,C);n.renderBufferDirect(T,null,k,V,w,J)}}}else if(W.visible){const Y=S(w,W,R,C);n.renderBufferDirect(T,null,k,Y,w,null)}}const U=w.children;for(let k=0,W=U.length;k<W;k++)M(U[k],b,T,R,C)}}function tJ(n,e,t){const r=t.isWebGL2;function i(){let oe=!1;const pe=new gn;let Se=null;const $e=new gn(0,0,0,0);return{setMask:function(Qe){Se!==Qe&&!oe&&(n.colorMask(Qe,Qe,Qe,Qe),Se=Qe)},setLocked:function(Qe){oe=Qe},setClear:function(Qe,mt,Et,Tt,Vt){Vt===!0&&(Qe*=Tt,mt*=Tt,Et*=Tt),pe.set(Qe,mt,Et,Tt),$e.equals(pe)===!1&&(n.clearColor(Qe,mt,Et,Tt),$e.copy(pe))},reset:function(){oe=!1,Se=null,$e.set(-1,0,0,0)}}}function s(){let oe=!1,pe=null,Se=null,$e=null;return{setTest:function(Qe){Qe?fe(n.DEPTH_TEST):ye(n.DEPTH_TEST)},setMask:function(Qe){pe!==Qe&&!oe&&(n.depthMask(Qe),pe=Qe)},setFunc:function(Qe){if(Se!==Qe){switch(Qe){case kU:n.depthFunc(n.NEVER);break;case NU:n.depthFunc(n.ALWAYS);break;case zU:n.depthFunc(n.LESS);break;case y1:n.depthFunc(n.LEQUAL);break;case GU:n.depthFunc(n.EQUAL);break;case HU:n.depthFunc(n.GEQUAL);break;case VU:n.depthFunc(n.GREATER);break;case WU:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Se=Qe}},setLocked:function(Qe){oe=Qe},setClear:function(Qe){$e!==Qe&&(n.clearDepth(Qe),$e=Qe)},reset:function(){oe=!1,pe=null,Se=null,$e=null}}}function o(){let oe=!1,pe=null,Se=null,$e=null,Qe=null,mt=null,Et=null,Tt=null,Vt=null;return{setTest:function(Yt){oe||(Yt?fe(n.STENCIL_TEST):ye(n.STENCIL_TEST))},setMask:function(Yt){pe!==Yt&&!oe&&(n.stencilMask(Yt),pe=Yt)},setFunc:function(Yt,Xt,Dt){(Se!==Yt||$e!==Xt||Qe!==Dt)&&(n.stencilFunc(Yt,Xt,Dt),Se=Yt,$e=Xt,Qe=Dt)},setOp:function(Yt,Xt,Dt){(mt!==Yt||Et!==Xt||Tt!==Dt)&&(n.stencilOp(Yt,Xt,Dt),mt=Yt,Et=Xt,Tt=Dt)},setLocked:function(Yt){oe=Yt},setClear:function(Yt){Vt!==Yt&&(n.clearStencil(Yt),Vt=Yt)},reset:function(){oe=!1,pe=null,Se=null,$e=null,Qe=null,mt=null,Et=null,Tt=null,Vt=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let p={},m={},v=new WeakMap,y=[],_=null,g=!1,x=null,S=null,M=null,w=null,b=null,T=null,R=null,C=!1,B=null,U=null,k=null,W=null,Y=null;const Q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,J=0;const O=n.getParameter(n.VERSION);O.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(O)[1]),X=J>=1):O.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),X=J>=2);let V=null,G={};const D=n.getParameter(n.SCISSOR_BOX),H=n.getParameter(n.VIEWPORT),se=new gn().fromArray(D),le=new gn().fromArray(H);function ae(oe,pe,Se,$e){const Qe=new Uint8Array(4),mt=n.createTexture();n.bindTexture(oe,mt),n.texParameteri(oe,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(oe,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Et=0;Et<Se;Et++)r&&(oe===n.TEXTURE_3D||oe===n.TEXTURE_2D_ARRAY)?n.texImage3D(pe,0,n.RGBA,1,1,$e,0,n.RGBA,n.UNSIGNED_BYTE,Qe):n.texImage2D(pe+Et,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Qe);return mt}const ue={};ue[n.TEXTURE_2D]=ae(n.TEXTURE_2D,n.TEXTURE_2D,1),ue[n.TEXTURE_CUBE_MAP]=ae(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ue[n.TEXTURE_2D_ARRAY]=ae(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ue[n.TEXTURE_3D]=ae(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),fe(n.DEPTH_TEST),l.setFunc(y1),we(!1),Xe(wE),fe(n.CULL_FACE),Ae(ja);function fe(oe){p[oe]!==!0&&(n.enable(oe),p[oe]=!0)}function ye(oe){p[oe]!==!1&&(n.disable(oe),p[oe]=!1)}function We(oe,pe){return m[oe]!==pe?(n.bindFramebuffer(oe,pe),m[oe]=pe,r&&(oe===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=pe),oe===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=pe)),!0):!1}function Je(oe,pe){let Se=y,$e=!1;if(oe)if(Se=v.get(pe),Se===void 0&&(Se=[],v.set(pe,Se)),oe.isWebGLMultipleRenderTargets){const Qe=oe.texture;if(Se.length!==Qe.length||Se[0]!==n.COLOR_ATTACHMENT0){for(let mt=0,Et=Qe.length;mt<Et;mt++)Se[mt]=n.COLOR_ATTACHMENT0+mt;Se.length=Qe.length,$e=!0}}else Se[0]!==n.COLOR_ATTACHMENT0&&(Se[0]=n.COLOR_ATTACHMENT0,$e=!0);else Se[0]!==n.BACK&&(Se[0]=n.BACK,$e=!0);$e&&(t.isWebGL2?n.drawBuffers(Se):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Se))}function xe(oe){return _!==oe?(n.useProgram(oe),_=oe,!0):!1}const K={[tu]:n.FUNC_ADD,[TU]:n.FUNC_SUBTRACT,[CU]:n.FUNC_REVERSE_SUBTRACT};if(r)K[RE]=n.MIN,K[PE]=n.MAX;else{const oe=e.get("EXT_blend_minmax");oe!==null&&(K[RE]=oe.MIN_EXT,K[PE]=oe.MAX_EXT)}const Te={[RU]:n.ZERO,[PU]:n.ONE,[IU]:n.SRC_COLOR,[BT]:n.SRC_ALPHA,[UU]:n.SRC_ALPHA_SATURATE,[OU]:n.DST_COLOR,[LU]:n.DST_ALPHA,[BU]:n.ONE_MINUS_SRC_COLOR,[LT]:n.ONE_MINUS_SRC_ALPHA,[FU]:n.ONE_MINUS_DST_COLOR,[DU]:n.ONE_MINUS_DST_ALPHA};function Ae(oe,pe,Se,$e,Qe,mt,Et,Tt){if(oe===ja){g===!0&&(ye(n.BLEND),g=!1);return}if(g===!1&&(fe(n.BLEND),g=!0),oe!==bU){if(oe!==x||Tt!==C){if((S!==tu||b!==tu)&&(n.blendEquation(n.FUNC_ADD),S=tu,b=tu),Tt)switch(oe){case _u:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case bE:n.blendFunc(n.ONE,n.ONE);break;case TE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case CE:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}else switch(oe){case _u:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case bE:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case TE:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case CE:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}M=null,w=null,T=null,R=null,x=oe,C=Tt}return}Qe=Qe||pe,mt=mt||Se,Et=Et||$e,(pe!==S||Qe!==b)&&(n.blendEquationSeparate(K[pe],K[Qe]),S=pe,b=Qe),(Se!==M||$e!==w||mt!==T||Et!==R)&&(n.blendFuncSeparate(Te[Se],Te[$e],Te[mt],Te[Et]),M=Se,w=$e,T=mt,R=Et),x=oe,C=!1}function Ee(oe,pe){oe.side===Mi?ye(n.CULL_FACE):fe(n.CULL_FACE);let Se=oe.side===li;pe&&(Se=!Se),we(Se),oe.blending===_u&&oe.transparent===!1?Ae(ja):Ae(oe.blending,oe.blendEquation,oe.blendSrc,oe.blendDst,oe.blendEquationAlpha,oe.blendSrcAlpha,oe.blendDstAlpha,oe.premultipliedAlpha),l.setFunc(oe.depthFunc),l.setTest(oe.depthTest),l.setMask(oe.depthWrite),a.setMask(oe.colorWrite);const $e=oe.stencilWrite;c.setTest($e),$e&&(c.setMask(oe.stencilWriteMask),c.setFunc(oe.stencilFunc,oe.stencilRef,oe.stencilFuncMask),c.setOp(oe.stencilFail,oe.stencilZFail,oe.stencilZPass)),Le(oe.polygonOffset,oe.polygonOffsetFactor,oe.polygonOffsetUnits),oe.alphaToCoverage===!0?fe(n.SAMPLE_ALPHA_TO_COVERAGE):ye(n.SAMPLE_ALPHA_TO_COVERAGE)}function we(oe){B!==oe&&(oe?n.frontFace(n.CW):n.frontFace(n.CCW),B=oe)}function Xe(oe){oe!==MU?(fe(n.CULL_FACE),oe!==U&&(oe===wE?n.cullFace(n.BACK):oe===EU?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ye(n.CULL_FACE),U=oe}function Me(oe){oe!==k&&(X&&n.lineWidth(oe),k=oe)}function Le(oe,pe,Se){oe?(fe(n.POLYGON_OFFSET_FILL),(W!==pe||Y!==Se)&&(n.polygonOffset(pe,Se),W=pe,Y=Se)):ye(n.POLYGON_OFFSET_FILL)}function Be(oe){oe?fe(n.SCISSOR_TEST):ye(n.SCISSOR_TEST)}function ve(oe){oe===void 0&&(oe=n.TEXTURE0+Q-1),V!==oe&&(n.activeTexture(oe),V=oe)}function Ye(oe,pe,Se){Se===void 0&&(V===null?Se=n.TEXTURE0+Q-1:Se=V);let $e=G[Se];$e===void 0&&($e={type:void 0,texture:void 0},G[Se]=$e),($e.type!==oe||$e.texture!==pe)&&(V!==Se&&(n.activeTexture(Se),V=Se),n.bindTexture(oe,pe||ue[oe]),$e.type=oe,$e.texture=pe)}function $(){const oe=G[V];oe!==void 0&&oe.type!==void 0&&(n.bindTexture(oe.type,null),oe.type=void 0,oe.texture=void 0)}function N(){try{n.compressedTexImage2D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Ge(){try{n.texSubImage2D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function De(){try{n.texSubImage3D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Oe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Ke(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function je(){try{n.texStorage2D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function ge(){try{n.texStorage3D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function re(){try{n.texImage2D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function _e(){try{n.texImage3D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function be(oe){se.equals(oe)===!1&&(n.scissor(oe.x,oe.y,oe.z,oe.w),se.copy(oe))}function Re(oe){le.equals(oe)===!1&&(n.viewport(oe.x,oe.y,oe.z,oe.w),le.copy(oe))}function Ne(oe,pe){let Se=f.get(pe);Se===void 0&&(Se=new WeakMap,f.set(pe,Se));let $e=Se.get(oe);$e===void 0&&($e=n.getUniformBlockIndex(pe,oe.name),Se.set(oe,$e))}function Ze(oe,pe){const $e=f.get(pe).get(oe);u.get(pe)!==$e&&(n.uniformBlockBinding(pe,$e,oe.__bindingPointIndex),u.set(pe,$e))}function it(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},V=null,G={},m={},v=new WeakMap,y=[],_=null,g=!1,x=null,S=null,M=null,w=null,b=null,T=null,R=null,C=!1,B=null,U=null,k=null,W=null,Y=null,se.set(0,0,n.canvas.width,n.canvas.height),le.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:fe,disable:ye,bindFramebuffer:We,drawBuffers:Je,useProgram:xe,setBlending:Ae,setMaterial:Ee,setFlipSided:we,setCullFace:Xe,setLineWidth:Me,setPolygonOffset:Le,setScissorTest:Be,activeTexture:ve,bindTexture:Ye,unbindTexture:$,compressedTexImage2D:N,compressedTexImage3D:ce,texImage2D:re,texImage3D:_e,updateUBOMapping:Ne,uniformBlockBinding:Ze,texStorage2D:je,texStorage3D:ge,texSubImage2D:Ge,texSubImage3D:De,compressedTexSubImage2D:Oe,compressedTexSubImage3D:Ke,scissor:be,viewport:Re,reset:it}}function nJ(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const _=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x($,N){return g?new OffscreenCanvas($,N):Im("canvas")}function S($,N,ce,Ge){let De=1;if(($.width>Ge||$.height>Ge)&&(De=Ge/Math.max($.width,$.height)),De<1||N===!0)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap){const Oe=N?S1:Math.floor,Ke=Oe(De*$.width),je=Oe(De*$.height);y===void 0&&(y=x(Ke,je));const ge=ce?x(Ke,je):y;return ge.width=Ke,ge.height=je,ge.getContext("2d").drawImage($,0,0,Ke,je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$.width+"x"+$.height+") to ("+Ke+"x"+je+")."),ge}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$.width+"x"+$.height+")."),$;return $}function M($){return tw($.width)&&tw($.height)}function w($){return a?!1:$.wrapS!==Jr||$.wrapT!==Jr||$.minFilter!==rr&&$.minFilter!==_n}function b($,N){return $.generateMipmaps&&N&&$.minFilter!==rr&&$.minFilter!==_n}function T($){n.generateMipmap($)}function R($,N,ce,Ge,De=!1){if(a===!1)return N;if($!==null){if(n[$]!==void 0)return n[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let Oe=N;return N===n.RED&&(ce===n.FLOAT&&(Oe=n.R32F),ce===n.HALF_FLOAT&&(Oe=n.R16F),ce===n.UNSIGNED_BYTE&&(Oe=n.R8)),N===n.RED_INTEGER&&(ce===n.UNSIGNED_BYTE&&(Oe=n.R8UI),ce===n.UNSIGNED_SHORT&&(Oe=n.R16UI),ce===n.UNSIGNED_INT&&(Oe=n.R32UI),ce===n.BYTE&&(Oe=n.R8I),ce===n.SHORT&&(Oe=n.R16I),ce===n.INT&&(Oe=n.R32I)),N===n.RG&&(ce===n.FLOAT&&(Oe=n.RG32F),ce===n.HALF_FLOAT&&(Oe=n.RG16F),ce===n.UNSIGNED_BYTE&&(Oe=n.RG8)),N===n.RGBA&&(ce===n.FLOAT&&(Oe=n.RGBA32F),ce===n.HALF_FLOAT&&(Oe=n.RGBA16F),ce===n.UNSIGNED_BYTE&&(Oe=Ge===Ht&&De===!1?n.SRGB8_ALPHA8:n.RGBA8),ce===n.UNSIGNED_SHORT_4_4_4_4&&(Oe=n.RGBA4),ce===n.UNSIGNED_SHORT_5_5_5_1&&(Oe=n.RGB5_A1)),(Oe===n.R16F||Oe===n.R32F||Oe===n.RG16F||Oe===n.RG32F||Oe===n.RGBA16F||Oe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Oe}function C($,N,ce){return b($,ce)===!0||$.isFramebufferTexture&&$.minFilter!==rr&&$.minFilter!==_n?Math.log2(Math.max(N.width,N.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?N.mipmaps.length:1}function B($){return $===rr||$===Tm||$===Cd?n.NEAREST:n.LINEAR}function U($){const N=$.target;N.removeEventListener("dispose",U),W(N),N.isVideoTexture&&v.delete(N)}function k($){const N=$.target;N.removeEventListener("dispose",k),Q(N)}function W($){const N=r.get($);if(N.__webglInit===void 0)return;const ce=$.source,Ge=_.get(ce);if(Ge){const De=Ge[N.__cacheKey];De.usedTimes--,De.usedTimes===0&&Y($),Object.keys(Ge).length===0&&_.delete(ce)}r.remove($)}function Y($){const N=r.get($);n.deleteTexture(N.__webglTexture);const ce=$.source,Ge=_.get(ce);delete Ge[N.__cacheKey],o.memory.textures--}function Q($){const N=$.texture,ce=r.get($),Ge=r.get(N);if(Ge.__webglTexture!==void 0&&(n.deleteTexture(Ge.__webglTexture),o.memory.textures--),$.depthTexture&&$.depthTexture.dispose(),$.isWebGLCubeRenderTarget)for(let De=0;De<6;De++){if(Array.isArray(ce.__webglFramebuffer[De]))for(let Oe=0;Oe<ce.__webglFramebuffer[De].length;Oe++)n.deleteFramebuffer(ce.__webglFramebuffer[De][Oe]);else n.deleteFramebuffer(ce.__webglFramebuffer[De]);ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer[De])}else{if(Array.isArray(ce.__webglFramebuffer))for(let De=0;De<ce.__webglFramebuffer.length;De++)n.deleteFramebuffer(ce.__webglFramebuffer[De]);else n.deleteFramebuffer(ce.__webglFramebuffer);if(ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer),ce.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ce.__webglMultisampledFramebuffer),ce.__webglColorRenderbuffer)for(let De=0;De<ce.__webglColorRenderbuffer.length;De++)ce.__webglColorRenderbuffer[De]&&n.deleteRenderbuffer(ce.__webglColorRenderbuffer[De]);ce.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ce.__webglDepthRenderbuffer)}if($.isWebGLMultipleRenderTargets)for(let De=0,Oe=N.length;De<Oe;De++){const Ke=r.get(N[De]);Ke.__webglTexture&&(n.deleteTexture(Ke.__webglTexture),o.memory.textures--),r.remove(N[De])}r.remove(N),r.remove($)}let X=0;function J(){X=0}function O(){const $=X;return $>=l&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+l),X+=1,$}function V($){const N=[];return N.push($.wrapS),N.push($.wrapT),N.push($.wrapR||0),N.push($.magFilter),N.push($.minFilter),N.push($.anisotropy),N.push($.internalFormat),N.push($.format),N.push($.type),N.push($.generateMipmaps),N.push($.premultiplyAlpha),N.push($.flipY),N.push($.unpackAlignment),N.push($.colorSpace),N.join()}function G($,N){const ce=r.get($);if($.isVideoTexture&&ve($),$.isRenderTargetTexture===!1&&$.version>0&&ce.__version!==$.version){const Ge=$.image;if(Ge===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ge.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{We(ce,$,N);return}}t.bindTexture(n.TEXTURE_2D,ce.__webglTexture,n.TEXTURE0+N)}function D($,N){const ce=r.get($);if($.version>0&&ce.__version!==$.version){We(ce,$,N);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ce.__webglTexture,n.TEXTURE0+N)}function H($,N){const ce=r.get($);if($.version>0&&ce.__version!==$.version){We(ce,$,N);return}t.bindTexture(n.TEXTURE_3D,ce.__webglTexture,n.TEXTURE0+N)}function se($,N){const ce=r.get($);if($.version>0&&ce.__version!==$.version){Je(ce,$,N);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+N)}const le={[ac]:n.REPEAT,[Jr]:n.CLAMP_TO_EDGE,[Jd]:n.MIRRORED_REPEAT},ae={[rr]:n.NEAREST,[Tm]:n.NEAREST_MIPMAP_NEAREST,[Cd]:n.NEAREST_MIPMAP_LINEAR,[_n]:n.LINEAR,[g_]:n.LINEAR_MIPMAP_NEAREST,[la]:n.LINEAR_MIPMAP_LINEAR},ue={[dk]:n.NEVER,[_k]:n.ALWAYS,[hk]:n.LESS,[mk]:n.LEQUAL,[pk]:n.EQUAL,[yk]:n.GEQUAL,[gk]:n.GREATER,[vk]:n.NOTEQUAL};function fe($,N,ce){if(ce?(n.texParameteri($,n.TEXTURE_WRAP_S,le[N.wrapS]),n.texParameteri($,n.TEXTURE_WRAP_T,le[N.wrapT]),($===n.TEXTURE_3D||$===n.TEXTURE_2D_ARRAY)&&n.texParameteri($,n.TEXTURE_WRAP_R,le[N.wrapR]),n.texParameteri($,n.TEXTURE_MAG_FILTER,ae[N.magFilter]),n.texParameteri($,n.TEXTURE_MIN_FILTER,ae[N.minFilter])):(n.texParameteri($,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri($,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),($===n.TEXTURE_3D||$===n.TEXTURE_2D_ARRAY)&&n.texParameteri($,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(N.wrapS!==Jr||N.wrapT!==Jr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri($,n.TEXTURE_MAG_FILTER,B(N.magFilter)),n.texParameteri($,n.TEXTURE_MIN_FILTER,B(N.minFilter)),N.minFilter!==rr&&N.minFilter!==_n&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),N.compareFunction&&(n.texParameteri($,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri($,n.TEXTURE_COMPARE_FUNC,ue[N.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ge=e.get("EXT_texture_filter_anisotropic");if(N.magFilter===rr||N.minFilter!==Cd&&N.minFilter!==la||N.type===ai&&e.has("OES_texture_float_linear")===!1||a===!1&&N.type===wi&&e.has("OES_texture_half_float_linear")===!1)return;(N.anisotropy>1||r.get(N).__currentAnisotropy)&&(n.texParameterf($,Ge.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(N.anisotropy,i.getMaxAnisotropy())),r.get(N).__currentAnisotropy=N.anisotropy)}}function ye($,N){let ce=!1;$.__webglInit===void 0&&($.__webglInit=!0,N.addEventListener("dispose",U));const Ge=N.source;let De=_.get(Ge);De===void 0&&(De={},_.set(Ge,De));const Oe=V(N);if(Oe!==$.__cacheKey){De[Oe]===void 0&&(De[Oe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ce=!0),De[Oe].usedTimes++;const Ke=De[$.__cacheKey];Ke!==void 0&&(De[$.__cacheKey].usedTimes--,Ke.usedTimes===0&&Y(N)),$.__cacheKey=Oe,$.__webglTexture=De[Oe].texture}return ce}function We($,N,ce){let Ge=n.TEXTURE_2D;(N.isDataArrayTexture||N.isCompressedArrayTexture)&&(Ge=n.TEXTURE_2D_ARRAY),N.isData3DTexture&&(Ge=n.TEXTURE_3D);const De=ye($,N),Oe=N.source;t.bindTexture(Ge,$.__webglTexture,n.TEXTURE0+ce);const Ke=r.get(Oe);if(Oe.version!==Ke.__version||De===!0){t.activeTexture(n.TEXTURE0+ce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,N.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,N.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const je=w(N)&&M(N.image)===!1;let ge=S(N.image,je,!1,u);ge=Ye(N,ge);const re=M(ge)||a,_e=s.convert(N.format,N.colorSpace);let be=s.convert(N.type),Re=R(N.internalFormat,_e,be,N.colorSpace);fe(Ge,N,re);let Ne;const Ze=N.mipmaps,it=a&&N.isVideoTexture!==!0,oe=Ke.__version===void 0||De===!0,pe=C(N,ge,re);if(N.isDepthTexture)Re=n.DEPTH_COMPONENT,a?N.type===ai?Re=n.DEPTH_COMPONENT32F:N.type===Ha?Re=n.DEPTH_COMPONENT24:N.type===Kl?Re=n.DEPTH24_STENCIL8:Re=n.DEPTH_COMPONENT16:N.type===ai&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),N.format===Ql&&Re===n.DEPTH_COMPONENT&&N.type!==v_&&N.type!==Ha&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),N.type=Ha,be=s.convert(N.type)),N.format===Fu&&Re===n.DEPTH_COMPONENT&&(Re=n.DEPTH_STENCIL,N.type!==Kl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),N.type=Kl,be=s.convert(N.type))),oe&&(it?t.texStorage2D(n.TEXTURE_2D,1,Re,ge.width,ge.height):t.texImage2D(n.TEXTURE_2D,0,Re,ge.width,ge.height,0,_e,be,null));else if(N.isDataTexture)if(Ze.length>0&&re){it&&oe&&t.texStorage2D(n.TEXTURE_2D,pe,Re,Ze[0].width,Ze[0].height);for(let Se=0,$e=Ze.length;Se<$e;Se++)Ne=Ze[Se],it?t.texSubImage2D(n.TEXTURE_2D,Se,0,0,Ne.width,Ne.height,_e,be,Ne.data):t.texImage2D(n.TEXTURE_2D,Se,Re,Ne.width,Ne.height,0,_e,be,Ne.data);N.generateMipmaps=!1}else it?(oe&&t.texStorage2D(n.TEXTURE_2D,pe,Re,ge.width,ge.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ge.width,ge.height,_e,be,ge.data)):t.texImage2D(n.TEXTURE_2D,0,Re,ge.width,ge.height,0,_e,be,ge.data);else if(N.isCompressedTexture)if(N.isCompressedArrayTexture){it&&oe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,pe,Re,Ze[0].width,Ze[0].height,ge.depth);for(let Se=0,$e=Ze.length;Se<$e;Se++)Ne=Ze[Se],N.format!==Ei?_e!==null?it?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Se,0,0,0,Ne.width,Ne.height,ge.depth,_e,Ne.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Se,Re,Ne.width,Ne.height,ge.depth,0,Ne.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):it?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Se,0,0,0,Ne.width,Ne.height,ge.depth,_e,be,Ne.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Se,Re,Ne.width,Ne.height,ge.depth,0,_e,be,Ne.data)}else{it&&oe&&t.texStorage2D(n.TEXTURE_2D,pe,Re,Ze[0].width,Ze[0].height);for(let Se=0,$e=Ze.length;Se<$e;Se++)Ne=Ze[Se],N.format!==Ei?_e!==null?it?t.compressedTexSubImage2D(n.TEXTURE_2D,Se,0,0,Ne.width,Ne.height,_e,Ne.data):t.compressedTexImage2D(n.TEXTURE_2D,Se,Re,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):it?t.texSubImage2D(n.TEXTURE_2D,Se,0,0,Ne.width,Ne.height,_e,be,Ne.data):t.texImage2D(n.TEXTURE_2D,Se,Re,Ne.width,Ne.height,0,_e,be,Ne.data)}else if(N.isDataArrayTexture)it?(oe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,pe,Re,ge.width,ge.height,ge.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ge.width,ge.height,ge.depth,_e,be,ge.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Re,ge.width,ge.height,ge.depth,0,_e,be,ge.data);else if(N.isData3DTexture)it?(oe&&t.texStorage3D(n.TEXTURE_3D,pe,Re,ge.width,ge.height,ge.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ge.width,ge.height,ge.depth,_e,be,ge.data)):t.texImage3D(n.TEXTURE_3D,0,Re,ge.width,ge.height,ge.depth,0,_e,be,ge.data);else if(N.isFramebufferTexture){if(oe)if(it)t.texStorage2D(n.TEXTURE_2D,pe,Re,ge.width,ge.height);else{let Se=ge.width,$e=ge.height;for(let Qe=0;Qe<pe;Qe++)t.texImage2D(n.TEXTURE_2D,Qe,Re,Se,$e,0,_e,be,null),Se>>=1,$e>>=1}}else if(Ze.length>0&&re){it&&oe&&t.texStorage2D(n.TEXTURE_2D,pe,Re,Ze[0].width,Ze[0].height);for(let Se=0,$e=Ze.length;Se<$e;Se++)Ne=Ze[Se],it?t.texSubImage2D(n.TEXTURE_2D,Se,0,0,_e,be,Ne):t.texImage2D(n.TEXTURE_2D,Se,Re,_e,be,Ne);N.generateMipmaps=!1}else it?(oe&&t.texStorage2D(n.TEXTURE_2D,pe,Re,ge.width,ge.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,_e,be,ge)):t.texImage2D(n.TEXTURE_2D,0,Re,_e,be,ge);b(N,re)&&T(Ge),Ke.__version=Oe.version,N.onUpdate&&N.onUpdate(N)}$.__version=N.version}function Je($,N,ce){if(N.image.length!==6)return;const Ge=ye($,N),De=N.source;t.bindTexture(n.TEXTURE_CUBE_MAP,$.__webglTexture,n.TEXTURE0+ce);const Oe=r.get(De);if(De.version!==Oe.__version||Ge===!0){t.activeTexture(n.TEXTURE0+ce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,N.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,N.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,N.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Ke=N.isCompressedTexture||N.image[0].isCompressedTexture,je=N.image[0]&&N.image[0].isDataTexture,ge=[];for(let Se=0;Se<6;Se++)!Ke&&!je?ge[Se]=S(N.image[Se],!1,!0,c):ge[Se]=je?N.image[Se].image:N.image[Se],ge[Se]=Ye(N,ge[Se]);const re=ge[0],_e=M(re)||a,be=s.convert(N.format,N.colorSpace),Re=s.convert(N.type),Ne=R(N.internalFormat,be,Re,N.colorSpace),Ze=a&&N.isVideoTexture!==!0,it=Oe.__version===void 0||Ge===!0;let oe=C(N,re,_e);fe(n.TEXTURE_CUBE_MAP,N,_e);let pe;if(Ke){Ze&&it&&t.texStorage2D(n.TEXTURE_CUBE_MAP,oe,Ne,re.width,re.height);for(let Se=0;Se<6;Se++){pe=ge[Se].mipmaps;for(let $e=0;$e<pe.length;$e++){const Qe=pe[$e];N.format!==Ei?be!==null?Ze?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e,0,0,Qe.width,Qe.height,be,Qe.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e,Ne,Qe.width,Qe.height,0,Qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e,0,0,Qe.width,Qe.height,be,Re,Qe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e,Ne,Qe.width,Qe.height,0,be,Re,Qe.data)}}}else{pe=N.mipmaps,Ze&&it&&(pe.length>0&&oe++,t.texStorage2D(n.TEXTURE_CUBE_MAP,oe,Ne,ge[0].width,ge[0].height));for(let Se=0;Se<6;Se++)if(je){Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,ge[Se].width,ge[Se].height,be,Re,ge[Se].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,Ne,ge[Se].width,ge[Se].height,0,be,Re,ge[Se].data);for(let $e=0;$e<pe.length;$e++){const mt=pe[$e].image[Se].image;Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e+1,0,0,mt.width,mt.height,be,Re,mt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e+1,Ne,mt.width,mt.height,0,be,Re,mt.data)}}else{Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,be,Re,ge[Se]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,Ne,be,Re,ge[Se]);for(let $e=0;$e<pe.length;$e++){const Qe=pe[$e];Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e+1,0,0,be,Re,Qe.image[Se]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Se,$e+1,Ne,be,Re,Qe.image[Se])}}}b(N,_e)&&T(n.TEXTURE_CUBE_MAP),Oe.__version=De.version,N.onUpdate&&N.onUpdate(N)}$.__version=N.version}function xe($,N,ce,Ge,De,Oe){const Ke=s.convert(ce.format,ce.colorSpace),je=s.convert(ce.type),ge=R(ce.internalFormat,Ke,je,ce.colorSpace);if(!r.get(N).__hasExternalTextures){const _e=Math.max(1,N.width>>Oe),be=Math.max(1,N.height>>Oe);De===n.TEXTURE_3D||De===n.TEXTURE_2D_ARRAY?t.texImage3D(De,Oe,ge,_e,be,N.depth,0,Ke,je,null):t.texImage2D(De,Oe,ge,_e,be,0,Ke,je,null)}t.bindFramebuffer(n.FRAMEBUFFER,$),Be(N)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ge,De,r.get(ce).__webglTexture,0,Le(N)):(De===n.TEXTURE_2D||De>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&De<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ge,De,r.get(ce).__webglTexture,Oe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function K($,N,ce){if(n.bindRenderbuffer(n.RENDERBUFFER,$),N.depthBuffer&&!N.stencilBuffer){let Ge=n.DEPTH_COMPONENT16;if(ce||Be(N)){const De=N.depthTexture;De&&De.isDepthTexture&&(De.type===ai?Ge=n.DEPTH_COMPONENT32F:De.type===Ha&&(Ge=n.DEPTH_COMPONENT24));const Oe=Le(N);Be(N)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Oe,Ge,N.width,N.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Oe,Ge,N.width,N.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ge,N.width,N.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,$)}else if(N.depthBuffer&&N.stencilBuffer){const Ge=Le(N);ce&&Be(N)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ge,n.DEPTH24_STENCIL8,N.width,N.height):Be(N)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ge,n.DEPTH24_STENCIL8,N.width,N.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,N.width,N.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,$)}else{const Ge=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let De=0;De<Ge.length;De++){const Oe=Ge[De],Ke=s.convert(Oe.format,Oe.colorSpace),je=s.convert(Oe.type),ge=R(Oe.internalFormat,Ke,je,Oe.colorSpace),re=Le(N);ce&&Be(N)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,re,ge,N.width,N.height):Be(N)?p.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,re,ge,N.width,N.height):n.renderbufferStorage(n.RENDERBUFFER,ge,N.width,N.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Te($,N){if(N&&N.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,$),!(N.depthTexture&&N.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(N.depthTexture).__webglTexture||N.depthTexture.image.width!==N.width||N.depthTexture.image.height!==N.height)&&(N.depthTexture.image.width=N.width,N.depthTexture.image.height=N.height,N.depthTexture.needsUpdate=!0),G(N.depthTexture,0);const Ge=r.get(N.depthTexture).__webglTexture,De=Le(N);if(N.depthTexture.format===Ql)Be(N)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ge,0,De):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ge,0);else if(N.depthTexture.format===Fu)Be(N)?p.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ge,0,De):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ge,0);else throw new Error("Unknown depthTexture format")}function Ae($){const N=r.get($),ce=$.isWebGLCubeRenderTarget===!0;if($.depthTexture&&!N.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");Te(N.__webglFramebuffer,$)}else if(ce){N.__webglDepthbuffer=[];for(let Ge=0;Ge<6;Ge++)t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer[Ge]),N.__webglDepthbuffer[Ge]=n.createRenderbuffer(),K(N.__webglDepthbuffer[Ge],$,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,N.__webglFramebuffer),N.__webglDepthbuffer=n.createRenderbuffer(),K(N.__webglDepthbuffer,$,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ee($,N,ce){const Ge=r.get($);N!==void 0&&xe(Ge.__webglFramebuffer,$,$.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ce!==void 0&&Ae($)}function we($){const N=$.texture,ce=r.get($),Ge=r.get(N);$.addEventListener("dispose",k),$.isWebGLMultipleRenderTargets!==!0&&(Ge.__webglTexture===void 0&&(Ge.__webglTexture=n.createTexture()),Ge.__version=N.version,o.memory.textures++);const De=$.isWebGLCubeRenderTarget===!0,Oe=$.isWebGLMultipleRenderTargets===!0,Ke=M($)||a;if(De){ce.__webglFramebuffer=[];for(let je=0;je<6;je++)if(a&&N.mipmaps&&N.mipmaps.length>0){ce.__webglFramebuffer[je]=[];for(let ge=0;ge<N.mipmaps.length;ge++)ce.__webglFramebuffer[je][ge]=n.createFramebuffer()}else ce.__webglFramebuffer[je]=n.createFramebuffer()}else{if(a&&N.mipmaps&&N.mipmaps.length>0){ce.__webglFramebuffer=[];for(let je=0;je<N.mipmaps.length;je++)ce.__webglFramebuffer[je]=n.createFramebuffer()}else ce.__webglFramebuffer=n.createFramebuffer();if(Oe)if(i.drawBuffers){const je=$.texture;for(let ge=0,re=je.length;ge<re;ge++){const _e=r.get(je[ge]);_e.__webglTexture===void 0&&(_e.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&$.samples>0&&Be($)===!1){const je=Oe?N:[N];ce.__webglMultisampledFramebuffer=n.createFramebuffer(),ce.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let ge=0;ge<je.length;ge++){const re=je[ge];ce.__webglColorRenderbuffer[ge]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ce.__webglColorRenderbuffer[ge]);const _e=s.convert(re.format,re.colorSpace),be=s.convert(re.type),Re=R(re.internalFormat,_e,be,re.colorSpace,$.isXRRenderTarget===!0),Ne=Le($);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ne,Re,$.width,$.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ge,n.RENDERBUFFER,ce.__webglColorRenderbuffer[ge])}n.bindRenderbuffer(n.RENDERBUFFER,null),$.depthBuffer&&(ce.__webglDepthRenderbuffer=n.createRenderbuffer(),K(ce.__webglDepthRenderbuffer,$,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(De){t.bindTexture(n.TEXTURE_CUBE_MAP,Ge.__webglTexture),fe(n.TEXTURE_CUBE_MAP,N,Ke);for(let je=0;je<6;je++)if(a&&N.mipmaps&&N.mipmaps.length>0)for(let ge=0;ge<N.mipmaps.length;ge++)xe(ce.__webglFramebuffer[je][ge],$,N,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+je,ge);else xe(ce.__webglFramebuffer[je],$,N,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+je,0);b(N,Ke)&&T(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Oe){const je=$.texture;for(let ge=0,re=je.length;ge<re;ge++){const _e=je[ge],be=r.get(_e);t.bindTexture(n.TEXTURE_2D,be.__webglTexture),fe(n.TEXTURE_2D,_e,Ke),xe(ce.__webglFramebuffer,$,_e,n.COLOR_ATTACHMENT0+ge,n.TEXTURE_2D,0),b(_e,Ke)&&T(n.TEXTURE_2D)}t.unbindTexture()}else{let je=n.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(a?je=$.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(je,Ge.__webglTexture),fe(je,N,Ke),a&&N.mipmaps&&N.mipmaps.length>0)for(let ge=0;ge<N.mipmaps.length;ge++)xe(ce.__webglFramebuffer[ge],$,N,n.COLOR_ATTACHMENT0,je,ge);else xe(ce.__webglFramebuffer,$,N,n.COLOR_ATTACHMENT0,je,0);b(N,Ke)&&T(je),t.unbindTexture()}$.depthBuffer&&Ae($)}function Xe($){const N=M($)||a,ce=$.isWebGLMultipleRenderTargets===!0?$.texture:[$.texture];for(let Ge=0,De=ce.length;Ge<De;Ge++){const Oe=ce[Ge];if(b(Oe,N)){const Ke=$.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,je=r.get(Oe).__webglTexture;t.bindTexture(Ke,je),T(Ke),t.unbindTexture()}}}function Me($){if(a&&$.samples>0&&Be($)===!1){const N=$.isWebGLMultipleRenderTargets?$.texture:[$.texture],ce=$.width,Ge=$.height;let De=n.COLOR_BUFFER_BIT;const Oe=[],Ke=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,je=r.get($),ge=$.isWebGLMultipleRenderTargets===!0;if(ge)for(let re=0;re<N.length;re++)t.bindFramebuffer(n.FRAMEBUFFER,je.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+re,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,je.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+re,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,je.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,je.__webglFramebuffer);for(let re=0;re<N.length;re++){Oe.push(n.COLOR_ATTACHMENT0+re),$.depthBuffer&&Oe.push(Ke);const _e=je.__ignoreDepthValues!==void 0?je.__ignoreDepthValues:!1;if(_e===!1&&($.depthBuffer&&(De|=n.DEPTH_BUFFER_BIT),$.stencilBuffer&&(De|=n.STENCIL_BUFFER_BIT)),ge&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,je.__webglColorRenderbuffer[re]),_e===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Ke]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Ke])),ge){const be=r.get(N[re]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,be,0)}n.blitFramebuffer(0,0,ce,Ge,0,0,ce,Ge,De,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Oe)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ge)for(let re=0;re<N.length;re++){t.bindFramebuffer(n.FRAMEBUFFER,je.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+re,n.RENDERBUFFER,je.__webglColorRenderbuffer[re]);const _e=r.get(N[re]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,je.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+re,n.TEXTURE_2D,_e,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,je.__webglMultisampledFramebuffer)}}function Le($){return Math.min(f,$.samples)}function Be($){const N=r.get($);return a&&$.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&N.__useRenderToTexture!==!1}function ve($){const N=o.render.frame;v.get($)!==N&&(v.set($,N),$.update())}function Ye($,N){const ce=$.colorSpace,Ge=$.format,De=$.type;return $.isCompressedTexture===!0||$.format===x1||ce!==Ro&&ce!==ql&&(ce===Ht?a===!1?e.has("EXT_sRGB")===!0&&Ge===Ei?($.format=x1,$.minFilter=_n,$.generateMipmaps=!1):N=YT.sRGBToLinear(N):(Ge!==Ei||De!==ra)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ce)),N}this.allocateTextureUnit=O,this.resetTextureUnits=J,this.setTexture2D=G,this.setTexture2DArray=D,this.setTexture3D=H,this.setTextureCube=se,this.rebindTextures=Ee,this.setupRenderTarget=we,this.updateRenderTargetMipmap=Xe,this.updateMultisampleRenderTarget=Me,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=Be}function Ik(n,e,t){const r=t.isWebGL2;function i(s,o=ql){let a;if(s===ra)return n.UNSIGNED_BYTE;if(s===FT)return n.UNSIGNED_SHORT_4_4_4_4;if(s===UT)return n.UNSIGNED_SHORT_5_5_5_1;if(s===QU)return n.BYTE;if(s===ZU)return n.SHORT;if(s===v_)return n.UNSIGNED_SHORT;if(s===OT)return n.INT;if(s===Ha)return n.UNSIGNED_INT;if(s===ai)return n.FLOAT;if(s===wi)return r?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===qU)return n.ALPHA;if(s===Ei)return n.RGBA;if(s===ek)return n.LUMINANCE;if(s===tk)return n.LUMINANCE_ALPHA;if(s===Ql)return n.DEPTH_COMPONENT;if(s===Fu)return n.DEPTH_STENCIL;if(s===x1)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===kT)return n.RED;if(s===NT)return n.RED_INTEGER;if(s===nk)return n.RG;if(s===zT)return n.RG_INTEGER;if(s===GT)return n.RGBA_INTEGER;if(s===by||s===Ty||s===Cy||s===Ry)if(o===Ht)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===by)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Ty)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Cy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Ry)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===by)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Ty)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Cy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Ry)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===IE||s===BE||s===LE||s===DE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===IE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===BE)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===LE)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===DE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===rk)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===OE||s===FE)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===OE)return o===Ht?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===FE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===UE||s===kE||s===NE||s===zE||s===GE||s===HE||s===VE||s===WE||s===jE||s===XE||s===JE||s===YE||s===$E||s===KE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===UE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===kE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===NE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===zE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===GE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===HE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===VE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===WE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===jE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===XE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===JE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===YE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===$E)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===KE)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Py)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===Py)return o===Ht?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===ik||s===QE||s===ZE||s===qE)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===Py)return a.COMPRESSED_RED_RGTC1_EXT;if(s===QE)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===ZE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===qE)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Kl?r?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class Bk extends Nn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let Va=class extends on{constructor(){super(),this.isGroup=!0,this.type="Group"}};const rJ={type:"move"};class vA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Va,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Va,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Va,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const _=t.getJointPose(y,r),g=this._getHandJoint(c,y);_!==null&&(g.matrix.fromArray(_.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=_.radius),g.visible=_!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=u.position.distanceTo(f.position),m=.02,v=.005;c.inputState.pinching&&p>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(rJ)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Va;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class Lk extends In{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Ql,u!==Ql&&u!==Fu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Ql&&(r=Ha),r===void 0&&u===Fu&&(r=Kl),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:rr,this.minFilter=l!==void 0?l:rr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class iJ extends fa{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,p=null,m=null,v=null;const y=t.getContextAttributes();let _=null,g=null;const x=[],S=[],M=new Nn;M.layers.enable(1),M.viewport=new gn;const w=new Nn;w.layers.enable(2),w.viewport=new gn;const b=[M,w],T=new Bk;T.layers.enable(1),T.layers.enable(2);let R=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(D){let H=x[D];return H===void 0&&(H=new vA,x[D]=H),H.getTargetRaySpace()},this.getControllerGrip=function(D){let H=x[D];return H===void 0&&(H=new vA,x[D]=H),H.getGripSpace()},this.getHand=function(D){let H=x[D];return H===void 0&&(H=new vA,x[D]=H),H.getHandSpace()};function B(D){const H=S.indexOf(D.inputSource);if(H===-1)return;const se=x[H];se!==void 0&&(se.update(D.inputSource,D.frame,c||o),se.dispatchEvent({type:D.type,data:D.inputSource}))}function U(){i.removeEventListener("select",B),i.removeEventListener("selectstart",B),i.removeEventListener("selectend",B),i.removeEventListener("squeeze",B),i.removeEventListener("squeezestart",B),i.removeEventListener("squeezeend",B),i.removeEventListener("end",U),i.removeEventListener("inputsourceschange",k);for(let D=0;D<x.length;D++){const H=S[D];H!==null&&(S[D]=null,x[D].disconnect(H))}R=null,C=null,e.setRenderTarget(_),m=null,p=null,f=null,i=null,g=null,G.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(D){s=D,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(D){a=D,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(D){c=D},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(D){if(i=D,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",U),i.addEventListener("inputsourceschange",k),y.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const H={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,H),i.updateRenderState({baseLayer:m}),g=new Po(m.framebufferWidth,m.framebufferHeight,{format:Ei,type:ra,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let H=null,se=null,le=null;y.depth&&(le=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,H=y.stencil?Fu:Ql,se=y.stencil?Kl:Ha);const ae={colorFormat:t.RGBA8,depthFormat:le,scaleFactor:s};f=new XRWebGLBinding(i,t),p=f.createProjectionLayer(ae),i.updateRenderState({layers:[p]}),g=new Po(p.textureWidth,p.textureHeight,{format:Ei,type:ra,depthTexture:new Lk(p.textureWidth,p.textureHeight,se,void 0,void 0,void 0,void 0,void 0,void 0,H),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const ue=e.properties.get(g);ue.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),G.setContext(i),G.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function k(D){for(let H=0;H<D.removed.length;H++){const se=D.removed[H],le=S.indexOf(se);le>=0&&(S[le]=null,x[le].disconnect(se))}for(let H=0;H<D.added.length;H++){const se=D.added[H];let le=S.indexOf(se);if(le===-1){for(let ue=0;ue<x.length;ue++)if(ue>=S.length){S.push(se),le=ue;break}else if(S[ue]===null){S[ue]=se,le=ue;break}if(le===-1)break}const ae=x[le];ae&&ae.connect(se)}}const W=new q,Y=new q;function Q(D,H,se){W.setFromMatrixPosition(H.matrixWorld),Y.setFromMatrixPosition(se.matrixWorld);const le=W.distanceTo(Y),ae=H.projectionMatrix.elements,ue=se.projectionMatrix.elements,fe=ae[14]/(ae[10]-1),ye=ae[14]/(ae[10]+1),We=(ae[9]+1)/ae[5],Je=(ae[9]-1)/ae[5],xe=(ae[8]-1)/ae[0],K=(ue[8]+1)/ue[0],Te=fe*xe,Ae=fe*K,Ee=le/(-xe+K),we=Ee*-xe;H.matrixWorld.decompose(D.position,D.quaternion,D.scale),D.translateX(we),D.translateZ(Ee),D.matrixWorld.compose(D.position,D.quaternion,D.scale),D.matrixWorldInverse.copy(D.matrixWorld).invert();const Xe=fe+Ee,Me=ye+Ee,Le=Te-we,Be=Ae+(le-we),ve=We*ye/Me*Xe,Ye=Je*ye/Me*Xe;D.projectionMatrix.makePerspective(Le,Be,ve,Ye,Xe,Me),D.projectionMatrixInverse.copy(D.projectionMatrix).invert()}function X(D,H){H===null?D.matrixWorld.copy(D.matrix):D.matrixWorld.multiplyMatrices(H.matrixWorld,D.matrix),D.matrixWorldInverse.copy(D.matrixWorld).invert()}this.updateCamera=function(D){if(i===null)return;T.near=w.near=M.near=D.near,T.far=w.far=M.far=D.far,(R!==T.near||C!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),R=T.near,C=T.far);const H=D.parent,se=T.cameras;X(T,H);for(let le=0;le<se.length;le++)X(se[le],H);se.length===2?Q(T,M,w):T.projectionMatrix.copy(M.projectionMatrix),J(D,T,H)};function J(D,H,se){se===null?D.matrix.copy(H.matrixWorld):(D.matrix.copy(se.matrixWorld),D.matrix.invert(),D.matrix.multiply(H.matrixWorld)),D.matrix.decompose(D.position,D.quaternion,D.scale),D.updateMatrixWorld(!0);const le=D.children;for(let ae=0,ue=le.length;ae<ue;ae++)le[ae].updateMatrixWorld(!0);D.projectionMatrix.copy(H.projectionMatrix),D.projectionMatrixInverse.copy(H.projectionMatrixInverse),D.isPerspectiveCamera&&(D.fov=$d*2*Math.atan(1/D.projectionMatrix.elements[5]),D.zoom=1)}this.getCamera=function(){return T},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(D){l=D,p!==null&&(p.fixedFoveation=D),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=D)};let O=null;function V(D,H){if(u=H.getViewerPose(c||o),v=H,u!==null){const se=u.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let le=!1;se.length!==T.cameras.length&&(T.cameras.length=0,le=!0);for(let ae=0;ae<se.length;ae++){const ue=se[ae];let fe=null;if(m!==null)fe=m.getViewport(ue);else{const We=f.getViewSubImage(p,ue);fe=We.viewport,ae===0&&(e.setRenderTargetTextures(g,We.colorTexture,p.ignoreDepthValues?void 0:We.depthStencilTexture),e.setRenderTarget(g))}let ye=b[ae];ye===void 0&&(ye=new Nn,ye.layers.enable(ae),ye.viewport=new gn,b[ae]=ye),ye.matrix.fromArray(ue.transform.matrix),ye.matrix.decompose(ye.position,ye.quaternion,ye.scale),ye.projectionMatrix.fromArray(ue.projectionMatrix),ye.projectionMatrixInverse.copy(ye.projectionMatrix).invert(),ye.viewport.set(fe.x,fe.y,fe.width,fe.height),ae===0&&(T.matrix.copy(ye.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),le===!0&&T.cameras.push(ye)}}for(let se=0;se<x.length;se++){const le=S[se],ae=x[se];le!==null&&ae!==void 0&&ae.update(le,H,c||o)}O&&O(D,H),H.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:H}),v=null}const G=new bk;G.setAnimationLoop(V),this.setAnimationLoop=function(D){O=D},this.dispose=function(){}}}function sJ(n,e){function t(_,g){_.matrixAutoUpdate===!0&&_.updateMatrix(),g.value.copy(_.matrix)}function r(_,g){g.color.getRGB(_.fogColor.value,Ek(n)),g.isFog?(_.fogNear.value=g.near,_.fogFar.value=g.far):g.isFogExp2&&(_.fogDensity.value=g.density)}function i(_,g,x,S,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(_,g):g.isMeshToonMaterial?(s(_,g),f(_,g)):g.isMeshPhongMaterial?(s(_,g),u(_,g)):g.isMeshStandardMaterial?(s(_,g),p(_,g),g.isMeshPhysicalMaterial&&m(_,g,M)):g.isMeshMatcapMaterial?(s(_,g),v(_,g)):g.isMeshDepthMaterial?s(_,g):g.isMeshDistanceMaterial?(s(_,g),y(_,g)):g.isMeshNormalMaterial?s(_,g):g.isLineBasicMaterial?(o(_,g),g.isLineDashedMaterial&&a(_,g)):g.isPointsMaterial?l(_,g,x,S):g.isSpriteMaterial?c(_,g):g.isShadowMaterial?(_.color.value.copy(g.color),_.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(_,g){_.opacity.value=g.opacity,g.color&&_.diffuse.value.copy(g.color),g.emissive&&_.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.bumpMap&&(_.bumpMap.value=g.bumpMap,t(g.bumpMap,_.bumpMapTransform),_.bumpScale.value=g.bumpScale,g.side===li&&(_.bumpScale.value*=-1)),g.normalMap&&(_.normalMap.value=g.normalMap,t(g.normalMap,_.normalMapTransform),_.normalScale.value.copy(g.normalScale),g.side===li&&_.normalScale.value.negate()),g.displacementMap&&(_.displacementMap.value=g.displacementMap,t(g.displacementMap,_.displacementMapTransform),_.displacementScale.value=g.displacementScale,_.displacementBias.value=g.displacementBias),g.emissiveMap&&(_.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,_.emissiveMapTransform)),g.specularMap&&(_.specularMap.value=g.specularMap,t(g.specularMap,_.specularMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest);const x=e.get(g).envMap;if(x&&(_.envMap.value=x,_.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=g.reflectivity,_.ior.value=g.ior,_.refractionRatio.value=g.refractionRatio),g.lightMap){_.lightMap.value=g.lightMap;const S=n._useLegacyLights===!0?Math.PI:1;_.lightMapIntensity.value=g.lightMapIntensity*S,t(g.lightMap,_.lightMapTransform)}g.aoMap&&(_.aoMap.value=g.aoMap,_.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,_.aoMapTransform))}function o(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform))}function a(_,g){_.dashSize.value=g.dashSize,_.totalSize.value=g.dashSize+g.gapSize,_.scale.value=g.scale}function l(_,g,x,S){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.size.value=g.size*x,_.scale.value=S*.5,g.map&&(_.map.value=g.map,t(g.map,_.uvTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}function c(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.rotation.value=g.rotation,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}function u(_,g){_.specular.value.copy(g.specular),_.shininess.value=Math.max(g.shininess,1e-4)}function f(_,g){g.gradientMap&&(_.gradientMap.value=g.gradientMap)}function p(_,g){_.metalness.value=g.metalness,g.metalnessMap&&(_.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,_.metalnessMapTransform)),_.roughness.value=g.roughness,g.roughnessMap&&(_.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,_.roughnessMapTransform)),e.get(g).envMap&&(_.envMapIntensity.value=g.envMapIntensity)}function m(_,g,x){_.ior.value=g.ior,g.sheen>0&&(_.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),_.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(_.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,_.sheenColorMapTransform)),g.sheenRoughnessMap&&(_.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,_.sheenRoughnessMapTransform))),g.clearcoat>0&&(_.clearcoat.value=g.clearcoat,_.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(_.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,_.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(_.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===li&&_.clearcoatNormalScale.value.negate())),g.iridescence>0&&(_.iridescence.value=g.iridescence,_.iridescenceIOR.value=g.iridescenceIOR,_.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(_.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,_.iridescenceMapTransform)),g.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),g.transmission>0&&(_.transmission.value=g.transmission,_.transmissionSamplerMap.value=x.texture,_.transmissionSamplerSize.value.set(x.width,x.height),g.transmissionMap&&(_.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,_.transmissionMapTransform)),_.thickness.value=g.thickness,g.thicknessMap&&(_.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=g.attenuationDistance,_.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(_.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(_.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=g.specularIntensity,_.specularColor.value.copy(g.specularColor),g.specularColorMap&&(_.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,_.specularColorMapTransform)),g.specularIntensityMap&&(_.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,_.specularIntensityMapTransform))}function v(_,g){g.matcap&&(_.matcap.value=g.matcap)}function y(_,g){const x=e.get(g).light;_.referencePosition.value.setFromMatrixPosition(x.matrixWorld),_.nearDistance.value=x.shadow.camera.near,_.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function oJ(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,S){const M=S.program;r.uniformBlockBinding(x,M)}function c(x,S){let M=i[x.id];M===void 0&&(v(x),M=u(x),i[x.id]=M,x.addEventListener("dispose",_));const w=S.program;r.updateUBOMapping(x,w);const b=e.render.frame;s[x.id]!==b&&(p(x),s[x.id]=b)}function u(x){const S=f();x.__bindingPointIndex=S;const M=n.createBuffer(),w=x.__size,b=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,w,b),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,M),M}function f(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const S=i[x.id],M=x.uniforms,w=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let b=0,T=M.length;b<T;b++){const R=M[b];if(m(R,b,w)===!0){const C=R.__offset,B=Array.isArray(R.value)?R.value:[R.value];let U=0;for(let k=0;k<B.length;k++){const W=B[k],Y=y(W);typeof W=="number"?(R.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,C+U,R.__data)):W.isMatrix3?(R.__data[0]=W.elements[0],R.__data[1]=W.elements[1],R.__data[2]=W.elements[2],R.__data[3]=W.elements[0],R.__data[4]=W.elements[3],R.__data[5]=W.elements[4],R.__data[6]=W.elements[5],R.__data[7]=W.elements[0],R.__data[8]=W.elements[6],R.__data[9]=W.elements[7],R.__data[10]=W.elements[8],R.__data[11]=W.elements[0]):(W.toArray(R.__data,U),U+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,C,R.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(x,S,M){const w=x.value;if(M[S]===void 0){if(typeof w=="number")M[S]=w;else{const b=Array.isArray(w)?w:[w],T=[];for(let R=0;R<b.length;R++)T.push(b[R].clone());M[S]=T}return!0}else if(typeof w=="number"){if(M[S]!==w)return M[S]=w,!0}else{const b=Array.isArray(M[S])?M[S]:[M[S]],T=Array.isArray(w)?w:[w];for(let R=0;R<b.length;R++){const C=b[R];if(C.equals(T[R])===!1)return C.copy(T[R]),!0}}return!1}function v(x){const S=x.uniforms;let M=0;const w=16;let b=0;for(let T=0,R=S.length;T<R;T++){const C=S[T],B={boundary:0,storage:0},U=Array.isArray(C.value)?C.value:[C.value];for(let k=0,W=U.length;k<W;k++){const Y=U[k],Q=y(Y);B.boundary+=Q.boundary,B.storage+=Q.storage}if(C.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),C.__offset=M,T>0){b=M%w;const k=w-b;b!==0&&k-B.boundary<0&&(M+=w-b,C.__offset=M)}M+=B.storage}return b=M%w,b>0&&(M+=w-b),x.__size=M,x.__cache={},this}function y(x){const S={boundary:0,storage:0};return typeof x=="number"?(S.boundary=4,S.storage=4):x.isVector2?(S.boundary=8,S.storage=8):x.isVector3||x.isColor?(S.boundary=16,S.storage=12):x.isVector4?(S.boundary=16,S.storage=16):x.isMatrix3?(S.boundary=48,S.storage=48):x.isMatrix4?(S.boundary=64,S.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),S}function _(x){const S=x.target;S.removeEventListener("dispose",_);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function g(){for(const x in i)n.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:c,dispose:g}}function aJ(){const n=Im("canvas");return n.style.display="block",n}class tC{constructor(e={}){const{canvas:t=aJ(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),v=new Int32Array(4);let y=null,_=null;const g=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Ht,this._useLegacyLights=!1,this.toneMapping=na,this.toneMappingExposure=1;const S=this;let M=!1,w=0,b=0,T=null,R=-1,C=null;const B=new gn,U=new gn;let k=null;const W=new ot(0);let Y=0,Q=t.width,X=t.height,J=1,O=null,V=null;const G=new gn(0,0,Q,X),D=new gn(0,0,Q,X);let H=!1;const se=new x_;let le=!1,ae=!1,ue=null;const fe=new Pt,ye=new He,We=new q,Je={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return T===null?J:1}let K=r;function Te(I,j){for(let ee=0;ee<I.length;ee++){const Z=I[ee],te=t.getContext(Z,j);if(te!==null)return te}return null}try{const I={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${ph}`),t.addEventListener("webglcontextlost",pe,!1),t.addEventListener("webglcontextrestored",Se,!1),t.addEventListener("webglcontextcreationerror",$e,!1),K===null){const j=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&j.shift(),K=Te(j,I),K===null)throw Te(j)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&K instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),K.getShaderPrecisionFormat===void 0&&(K.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(I){throw console.error("THREE.WebGLRenderer: "+I.message),I}let Ae,Ee,we,Xe,Me,Le,Be,ve,Ye,$,N,ce,Ge,De,Oe,Ke,je,ge,re,_e,be,Re,Ne,Ze;function it(){Ae=new Aj(K),Ee=new gj(K,Ae,e),Ae.init(Ee),Re=new Ik(K,Ae,Ee),we=new tJ(K,Ae,Ee),Xe=new wj(K),Me=new VX,Le=new nJ(K,Ae,we,Me,Ee,Re,Xe),Be=new yj(S),ve=new Sj(S),Ye=new OV(K,Ee),Ne=new pj(K,Ae,Ye,Ee),$=new Mj(K,Ye,Xe,Ne),N=new Rj(K,$,Ye,Xe),re=new Cj(K,Ee,Le),Ke=new vj(Me),ce=new HX(S,Be,ve,Ae,Ee,Ne,Ke),Ge=new sJ(S,Me),De=new jX,Oe=new QX(Ae,Ee),ge=new hj(S,Be,ve,we,N,p,l),je=new eJ(S,N,Ee),Ze=new oJ(K,Xe,Ee,we),_e=new mj(K,Ae,Xe,Ee),be=new Ej(K,Ae,Xe,Ee),Xe.programs=ce.programs,S.capabilities=Ee,S.extensions=Ae,S.properties=Me,S.renderLists=De,S.shadowMap=je,S.state=we,S.info=Xe}it();const oe=new iJ(S,K);this.xr=oe,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const I=Ae.get("WEBGL_lose_context");I&&I.loseContext()},this.forceContextRestore=function(){const I=Ae.get("WEBGL_lose_context");I&&I.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(I){I!==void 0&&(J=I,this.setSize(Q,X,!1))},this.getSize=function(I){return I.set(Q,X)},this.setSize=function(I,j,ee=!0){if(oe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Q=I,X=j,t.width=Math.floor(I*J),t.height=Math.floor(j*J),ee===!0&&(t.style.width=I+"px",t.style.height=j+"px"),this.setViewport(0,0,I,j)},this.getDrawingBufferSize=function(I){return I.set(Q*J,X*J).floor()},this.setDrawingBufferSize=function(I,j,ee){Q=I,X=j,J=ee,t.width=Math.floor(I*ee),t.height=Math.floor(j*ee),this.setViewport(0,0,I,j)},this.getCurrentViewport=function(I){return I.copy(B)},this.getViewport=function(I){return I.copy(G)},this.setViewport=function(I,j,ee,Z){I.isVector4?G.set(I.x,I.y,I.z,I.w):G.set(I,j,ee,Z),we.viewport(B.copy(G).multiplyScalar(J).floor())},this.getScissor=function(I){return I.copy(D)},this.setScissor=function(I,j,ee,Z){I.isVector4?D.set(I.x,I.y,I.z,I.w):D.set(I,j,ee,Z),we.scissor(U.copy(D).multiplyScalar(J).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(I){we.setScissorTest(H=I)},this.setOpaqueSort=function(I){O=I},this.setTransparentSort=function(I){V=I},this.getClearColor=function(I){return I.copy(ge.getClearColor())},this.setClearColor=function(){ge.setClearColor.apply(ge,arguments)},this.getClearAlpha=function(){return ge.getClearAlpha()},this.setClearAlpha=function(){ge.setClearAlpha.apply(ge,arguments)},this.clear=function(I=!0,j=!0,ee=!0){let Z=0;if(I){let te=!1;if(T!==null){const Ce=T.texture.format;te=Ce===GT||Ce===zT||Ce===NT}if(te){const Ce=T.texture.type,Pe=Ce===ra||Ce===Ha||Ce===v_||Ce===Kl||Ce===FT||Ce===UT,Ue=ge.getClearColor(),ke=ge.getClearAlpha(),Ve=Ue.r,de=Ue.g,ct=Ue.b;Pe?(m[0]=Ve,m[1]=de,m[2]=ct,m[3]=ke,K.clearBufferuiv(K.COLOR,0,m)):(v[0]=Ve,v[1]=de,v[2]=ct,v[3]=ke,K.clearBufferiv(K.COLOR,0,v))}else Z|=K.COLOR_BUFFER_BIT}j&&(Z|=K.DEPTH_BUFFER_BIT),ee&&(Z|=K.STENCIL_BUFFER_BIT),K.clear(Z)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",pe,!1),t.removeEventListener("webglcontextrestored",Se,!1),t.removeEventListener("webglcontextcreationerror",$e,!1),De.dispose(),Oe.dispose(),Me.dispose(),Be.dispose(),ve.dispose(),N.dispose(),Ne.dispose(),Ze.dispose(),ce.dispose(),oe.dispose(),oe.removeEventListener("sessionstart",Yt),oe.removeEventListener("sessionend",Xt),ue&&(ue.dispose(),ue=null),Dt.stop()};function pe(I){I.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function Se(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const I=Xe.autoReset,j=je.enabled,ee=je.autoUpdate,Z=je.needsUpdate,te=je.type;it(),Xe.autoReset=I,je.enabled=j,je.autoUpdate=ee,je.needsUpdate=Z,je.type=te}function $e(I){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",I.statusMessage)}function Qe(I){const j=I.target;j.removeEventListener("dispose",Qe),mt(j)}function mt(I){Et(I),Me.remove(I)}function Et(I){const j=Me.get(I).programs;j!==void 0&&(j.forEach(function(ee){ce.releaseProgram(ee)}),I.isShaderMaterial&&ce.releaseShaderCache(I))}this.renderBufferDirect=function(I,j,ee,Z,te,Ce){j===null&&(j=Je);const Pe=te.isMesh&&te.matrixWorld.determinant()<0,Ue=qn(I,j,ee,Z,te);we.setMaterial(Z,Pe);let ke=ee.index,Ve=1;if(Z.wireframe===!0){if(ke=$.getWireframeAttribute(ee),ke===void 0)return;Ve=2}const de=ee.drawRange,ct=ee.attributes.position;let nt=de.start*Ve,tt=(de.start+de.count)*Ve;Ce!==null&&(nt=Math.max(nt,Ce.start*Ve),tt=Math.min(tt,(Ce.start+Ce.count)*Ve)),ke!==null?(nt=Math.max(nt,0),tt=Math.min(tt,ke.count)):ct!=null&&(nt=Math.max(nt,0),tt=Math.min(tt,ct.count));const gt=tt-nt;if(gt<0||gt===1/0)return;Ne.setup(te,Z,Ue,ee,ke);let At,_t=_e;if(ke!==null&&(At=Ye.get(ke),_t=be,_t.setIndex(At)),te.isMesh)Z.wireframe===!0?(we.setLineWidth(Z.wireframeLinewidth*xe()),_t.setMode(K.LINES)):_t.setMode(K.TRIANGLES);else if(te.isLine){let lt=Z.linewidth;lt===void 0&&(lt=1),we.setLineWidth(lt*xe()),te.isLineSegments?_t.setMode(K.LINES):te.isLineLoop?_t.setMode(K.LINE_LOOP):_t.setMode(K.LINE_STRIP)}else te.isPoints?_t.setMode(K.POINTS):te.isSprite&&_t.setMode(K.TRIANGLES);if(te.isInstancedMesh)_t.renderInstances(nt,gt,te.count);else if(ee.isInstancedBufferGeometry){const lt=ee._maxInstanceCount!==void 0?ee._maxInstanceCount:1/0,Mt=Math.min(ee.instanceCount,lt);_t.renderInstances(nt,gt,Mt)}else _t.render(nt,gt)},this.compile=function(I,j){function ee(Z,te,Ce){Z.transparent===!0&&Z.side===Mi&&Z.forceSinglePass===!1?(Z.side=li,Z.needsUpdate=!0,an(Z,te,Ce),Z.side=Co,Z.needsUpdate=!0,an(Z,te,Ce),Z.side=Mi):an(Z,te,Ce)}_=Oe.get(I),_.init(),x.push(_),I.traverseVisible(function(Z){Z.isLight&&Z.layers.test(j.layers)&&(_.pushLight(Z),Z.castShadow&&_.pushShadow(Z))}),_.setupLights(S._useLegacyLights),I.traverse(function(Z){const te=Z.material;if(te)if(Array.isArray(te))for(let Ce=0;Ce<te.length;Ce++){const Pe=te[Ce];ee(Pe,I,Z)}else ee(te,I,Z)}),x.pop(),_=null};let Tt=null;function Vt(I){Tt&&Tt(I)}function Yt(){Dt.stop()}function Xt(){Dt.start()}const Dt=new bk;Dt.setAnimationLoop(Vt),typeof self<"u"&&Dt.setContext(self),this.setAnimationLoop=function(I){Tt=I,oe.setAnimationLoop(I),I===null?Dt.stop():Dt.start()},oe.addEventListener("sessionstart",Yt),oe.addEventListener("sessionend",Xt),this.render=function(I,j){if(j!==void 0&&j.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;I.matrixWorldAutoUpdate===!0&&I.updateMatrixWorld(),j.parent===null&&j.matrixWorldAutoUpdate===!0&&j.updateMatrixWorld(),oe.enabled===!0&&oe.isPresenting===!0&&(oe.cameraAutoUpdate===!0&&oe.updateCamera(j),j=oe.getCamera()),I.isScene===!0&&I.onBeforeRender(S,I,j,T),_=Oe.get(I,x.length),_.init(),x.push(_),fe.multiplyMatrices(j.projectionMatrix,j.matrixWorldInverse),se.setFromProjectionMatrix(fe),ae=this.localClippingEnabled,le=Ke.init(this.clippingPlanes,ae),y=De.get(I,g.length),y.init(),g.push(y),vr(I,j,0,S.sortObjects),y.finish(),S.sortObjects===!0&&y.sort(O,V),this.info.render.frame++,le===!0&&Ke.beginShadows();const ee=_.state.shadowsArray;if(je.render(ee,I,j),le===!0&&Ke.endShadows(),this.info.autoReset===!0&&this.info.reset(),ge.render(y,I),_.setupLights(S._useLegacyLights),j.isArrayCamera){const Z=j.cameras;for(let te=0,Ce=Z.length;te<Ce;te++){const Pe=Z[te];Zn(y,I,Pe,Pe.viewport)}}else Zn(y,I,j);T!==null&&(Le.updateMultisampleRenderTarget(T),Le.updateRenderTargetMipmap(T)),I.isScene===!0&&I.onAfterRender(S,I,j),Ne.resetDefaultState(),R=-1,C=null,x.pop(),x.length>0?_=x[x.length-1]:_=null,g.pop(),g.length>0?y=g[g.length-1]:y=null};function vr(I,j,ee,Z){if(I.visible===!1)return;if(I.layers.test(j.layers)){if(I.isGroup)ee=I.renderOrder;else if(I.isLOD)I.autoUpdate===!0&&I.update(j);else if(I.isLight)_.pushLight(I),I.castShadow&&_.pushShadow(I);else if(I.isSprite){if(!I.frustumCulled||se.intersectsSprite(I)){Z&&We.setFromMatrixPosition(I.matrixWorld).applyMatrix4(fe);const Pe=N.update(I),Ue=I.material;Ue.visible&&y.push(I,Pe,Ue,ee,We.z,null)}}else if((I.isMesh||I.isLine||I.isPoints)&&(!I.frustumCulled||se.intersectsObject(I))){const Pe=N.update(I),Ue=I.material;if(Z&&(I.boundingSphere!==void 0?(I.boundingSphere===null&&I.computeBoundingSphere(),We.copy(I.boundingSphere.center)):(Pe.boundingSphere===null&&Pe.computeBoundingSphere(),We.copy(Pe.boundingSphere.center)),We.applyMatrix4(I.matrixWorld).applyMatrix4(fe)),Array.isArray(Ue)){const ke=Pe.groups;for(let Ve=0,de=ke.length;Ve<de;Ve++){const ct=ke[Ve],nt=Ue[ct.materialIndex];nt&&nt.visible&&y.push(I,Pe,nt,ee,We.z,ct)}}else Ue.visible&&y.push(I,Pe,Ue,ee,We.z,null)}}const Ce=I.children;for(let Pe=0,Ue=Ce.length;Pe<Ue;Pe++)vr(Ce[Pe],j,ee,Z)}function Zn(I,j,ee,Z){const te=I.opaque,Ce=I.transmissive,Pe=I.transparent;_.setupLightsView(ee),le===!0&&Ke.setGlobalState(S.clippingPlanes,ee),Ce.length>0&&It(te,Ce,j,ee),Z&&we.viewport(B.copy(Z)),te.length>0&&An(te,j,ee),Ce.length>0&&An(Ce,j,ee),Pe.length>0&&An(Pe,j,ee),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function It(I,j,ee,Z){const te=Ee.isWebGL2;ue===null&&(ue=new Po(1,1,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")?wi:ra,minFilter:la,samples:te?4:0})),S.getDrawingBufferSize(ye),te?ue.setSize(ye.x,ye.y):ue.setSize(S1(ye.x),S1(ye.y));const Ce=S.getRenderTarget();S.setRenderTarget(ue),S.getClearColor(W),Y=S.getClearAlpha(),Y<1&&S.setClearColor(16777215,.5),S.clear();const Pe=S.toneMapping;S.toneMapping=na,An(I,ee,Z),Le.updateMultisampleRenderTarget(ue),Le.updateRenderTargetMipmap(ue);let Ue=!1;for(let ke=0,Ve=j.length;ke<Ve;ke++){const de=j[ke],ct=de.object,nt=de.geometry,tt=de.material,gt=de.group;if(tt.side===Mi&&ct.layers.test(Z.layers)){const At=tt.side;tt.side=li,tt.needsUpdate=!0,Gn(ct,ee,Z,nt,tt,gt),tt.side=At,tt.needsUpdate=!0,Ue=!0}}Ue===!0&&(Le.updateMultisampleRenderTarget(ue),Le.updateRenderTargetMipmap(ue)),S.setRenderTarget(Ce),S.setClearColor(W,Y),S.toneMapping=Pe}function An(I,j,ee){const Z=j.isScene===!0?j.overrideMaterial:null;for(let te=0,Ce=I.length;te<Ce;te++){const Pe=I[te],Ue=Pe.object,ke=Pe.geometry,Ve=Z===null?Pe.material:Z,de=Pe.group;Ue.layers.test(ee.layers)&&Gn(Ue,j,ee,ke,Ve,de)}}function Gn(I,j,ee,Z,te,Ce){I.onBeforeRender(S,j,ee,Z,te,Ce),I.modelViewMatrix.multiplyMatrices(ee.matrixWorldInverse,I.matrixWorld),I.normalMatrix.getNormalMatrix(I.modelViewMatrix),te.onBeforeRender(S,j,ee,Z,I,Ce),te.transparent===!0&&te.side===Mi&&te.forceSinglePass===!1?(te.side=li,te.needsUpdate=!0,S.renderBufferDirect(ee,j,Z,te,I,Ce),te.side=Co,te.needsUpdate=!0,S.renderBufferDirect(ee,j,Z,te,I,Ce),te.side=Mi):S.renderBufferDirect(ee,j,Z,te,I,Ce),I.onAfterRender(S,j,ee,Z,te,Ce)}function an(I,j,ee){j.isScene!==!0&&(j=Je);const Z=Me.get(I),te=_.state.lights,Ce=_.state.shadowsArray,Pe=te.state.version,Ue=ce.getParameters(I,te.state,Ce,j,ee),ke=ce.getProgramCacheKey(Ue);let Ve=Z.programs;Z.environment=I.isMeshStandardMaterial?j.environment:null,Z.fog=j.fog,Z.envMap=(I.isMeshStandardMaterial?ve:Be).get(I.envMap||Z.environment),Ve===void 0&&(I.addEventListener("dispose",Qe),Ve=new Map,Z.programs=Ve);let de=Ve.get(ke);if(de!==void 0){if(Z.currentProgram===de&&Z.lightsStateVersion===Pe)return yt(I,Ue),de}else Ue.uniforms=ce.getUniforms(I),I.onBuild(ee,Ue,S),I.onBeforeCompile(Ue,S),de=ce.acquireProgram(Ue,ke),Ve.set(ke,de),Z.uniforms=Ue.uniforms;const ct=Z.uniforms;(!I.isShaderMaterial&&!I.isRawShaderMaterial||I.clipping===!0)&&(ct.clippingPlanes=Ke.uniform),yt(I,Ue),Z.needsLights=F(I),Z.lightsStateVersion=Pe,Z.needsLights&&(ct.ambientLightColor.value=te.state.ambient,ct.lightProbe.value=te.state.probe,ct.directionalLights.value=te.state.directional,ct.directionalLightShadows.value=te.state.directionalShadow,ct.spotLights.value=te.state.spot,ct.spotLightShadows.value=te.state.spotShadow,ct.rectAreaLights.value=te.state.rectArea,ct.ltc_1.value=te.state.rectAreaLTC1,ct.ltc_2.value=te.state.rectAreaLTC2,ct.pointLights.value=te.state.point,ct.pointLightShadows.value=te.state.pointShadow,ct.hemisphereLights.value=te.state.hemi,ct.directionalShadowMap.value=te.state.directionalShadowMap,ct.directionalShadowMatrix.value=te.state.directionalShadowMatrix,ct.spotShadowMap.value=te.state.spotShadowMap,ct.spotLightMatrix.value=te.state.spotLightMatrix,ct.spotLightMap.value=te.state.spotLightMap,ct.pointShadowMap.value=te.state.pointShadowMap,ct.pointShadowMatrix.value=te.state.pointShadowMatrix);const nt=de.getUniforms(),tt=Ly.seqWithValue(nt.seq,ct);return Z.currentProgram=de,Z.uniformsList=tt,de}function yt(I,j){const ee=Me.get(I);ee.outputColorSpace=j.outputColorSpace,ee.instancing=j.instancing,ee.instancingColor=j.instancingColor,ee.skinning=j.skinning,ee.morphTargets=j.morphTargets,ee.morphNormals=j.morphNormals,ee.morphColors=j.morphColors,ee.morphTargetsCount=j.morphTargetsCount,ee.numClippingPlanes=j.numClippingPlanes,ee.numIntersection=j.numClipIntersection,ee.vertexAlphas=j.vertexAlphas,ee.vertexTangents=j.vertexTangents,ee.toneMapping=j.toneMapping}function qn(I,j,ee,Z,te){j.isScene!==!0&&(j=Je),Le.resetTextureUnits();const Ce=j.fog,Pe=Z.isMeshStandardMaterial?j.environment:null,Ue=T===null?S.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:Ro,ke=(Z.isMeshStandardMaterial?ve:Be).get(Z.envMap||Pe),Ve=Z.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,de=!!ee.attributes.tangent&&(!!Z.normalMap||Z.anisotropy>0),ct=!!ee.morphAttributes.position,nt=!!ee.morphAttributes.normal,tt=!!ee.morphAttributes.color;let gt=na;Z.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(gt=S.toneMapping);const At=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,_t=At!==void 0?At.length:0,lt=Me.get(Z),Mt=_.state.lights;if(le===!0&&(ae===!0||I!==C)){const Rt=I===C&&Z.id===R;Ke.setState(Z,I,Rt)}let dt=!1;Z.version===lt.__version?(lt.needsLights&&lt.lightsStateVersion!==Mt.state.version||lt.outputColorSpace!==Ue||te.isInstancedMesh&&lt.instancing===!1||!te.isInstancedMesh&&lt.instancing===!0||te.isSkinnedMesh&&lt.skinning===!1||!te.isSkinnedMesh&&lt.skinning===!0||te.isInstancedMesh&&lt.instancingColor===!0&&te.instanceColor===null||te.isInstancedMesh&&lt.instancingColor===!1&&te.instanceColor!==null||lt.envMap!==ke||Z.fog===!0&&lt.fog!==Ce||lt.numClippingPlanes!==void 0&&(lt.numClippingPlanes!==Ke.numPlanes||lt.numIntersection!==Ke.numIntersection)||lt.vertexAlphas!==Ve||lt.vertexTangents!==de||lt.morphTargets!==ct||lt.morphNormals!==nt||lt.morphColors!==tt||lt.toneMapping!==gt||Ee.isWebGL2===!0&&lt.morphTargetsCount!==_t)&&(dt=!0):(dt=!0,lt.__version=Z.version);let Ct=lt.currentProgram;dt===!0&&(Ct=an(Z,j,te));let ln=!1,bt=!1,cn=!1;const Qt=Ct.getUniforms(),fn=lt.uniforms;if(we.useProgram(Ct.program)&&(ln=!0,bt=!0,cn=!0),Z.id!==R&&(R=Z.id,bt=!0),ln||C!==I){if(Qt.setValue(K,"projectionMatrix",I.projectionMatrix),Ee.logarithmicDepthBuffer&&Qt.setValue(K,"logDepthBufFC",2/(Math.log(I.far+1)/Math.LN2)),C!==I&&(C=I,bt=!0,cn=!0),Z.isShaderMaterial||Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshStandardMaterial||Z.envMap){const Rt=Qt.map.cameraPosition;Rt!==void 0&&Rt.setValue(K,We.setFromMatrixPosition(I.matrixWorld))}(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial)&&Qt.setValue(K,"isOrthographic",I.isOrthographicCamera===!0),(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial||Z.isShadowMaterial||te.isSkinnedMesh)&&Qt.setValue(K,"viewMatrix",I.matrixWorldInverse)}if(te.isSkinnedMesh){Qt.setOptional(K,te,"bindMatrix"),Qt.setOptional(K,te,"bindMatrixInverse");const Rt=te.skeleton;Rt&&(Ee.floatVertexTextures?(Rt.boneTexture===null&&Rt.computeBoneTexture(),Qt.setValue(K,"boneTexture",Rt.boneTexture,Le),Qt.setValue(K,"boneTextureSize",Rt.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Mn=ee.morphAttributes;if((Mn.position!==void 0||Mn.normal!==void 0||Mn.color!==void 0&&Ee.isWebGL2===!0)&&re.update(te,ee,Ct),(bt||lt.receiveShadow!==te.receiveShadow)&&(lt.receiveShadow=te.receiveShadow,Qt.setValue(K,"receiveShadow",te.receiveShadow)),Z.isMeshGouraudMaterial&&Z.envMap!==null&&(fn.envMap.value=ke,fn.flipEnvMap.value=ke.isCubeTexture&&ke.isRenderTargetTexture===!1?-1:1),bt&&(Qt.setValue(K,"toneMappingExposure",S.toneMappingExposure),lt.needsLights&&Ri(fn,cn),Ce&&Z.fog===!0&&Ge.refreshFogUniforms(fn,Ce),Ge.refreshMaterialUniforms(fn,Z,J,X,ue),Ly.upload(K,lt.uniformsList,fn,Le)),Z.isShaderMaterial&&Z.uniformsNeedUpdate===!0&&(Ly.upload(K,lt.uniformsList,fn,Le),Z.uniformsNeedUpdate=!1),Z.isSpriteMaterial&&Qt.setValue(K,"center",te.center),Qt.setValue(K,"modelViewMatrix",te.modelViewMatrix),Qt.setValue(K,"normalMatrix",te.normalMatrix),Qt.setValue(K,"modelMatrix",te.matrixWorld),Z.isShaderMaterial||Z.isRawShaderMaterial){const Rt=Z.uniformsGroups;for(let wn=0,en=Rt.length;wn<en;wn++)if(Ee.isWebGL2){const Bt=Rt[wn];Ze.update(Bt,Ct),Ze.bind(Bt,Ct)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ct}function Ri(I,j){I.ambientLightColor.needsUpdate=j,I.lightProbe.needsUpdate=j,I.directionalLights.needsUpdate=j,I.directionalLightShadows.needsUpdate=j,I.pointLights.needsUpdate=j,I.pointLightShadows.needsUpdate=j,I.spotLights.needsUpdate=j,I.spotLightShadows.needsUpdate=j,I.rectAreaLights.needsUpdate=j,I.hemisphereLights.needsUpdate=j}function F(I){return I.isMeshLambertMaterial||I.isMeshToonMaterial||I.isMeshPhongMaterial||I.isMeshStandardMaterial||I.isShadowMaterial||I.isShaderMaterial&&I.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(I,j,ee){Me.get(I.texture).__webglTexture=j,Me.get(I.depthTexture).__webglTexture=ee;const Z=Me.get(I);Z.__hasExternalTextures=!0,Z.__hasExternalTextures&&(Z.__autoAllocateDepthBuffer=ee===void 0,Z.__autoAllocateDepthBuffer||Ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Z.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(I,j){const ee=Me.get(I);ee.__webglFramebuffer=j,ee.__useDefaultFramebuffer=j===void 0},this.setRenderTarget=function(I,j=0,ee=0){T=I,w=j,b=ee;let Z=!0,te=null,Ce=!1,Pe=!1;if(I){const ke=Me.get(I);ke.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(K.FRAMEBUFFER,null),Z=!1):ke.__webglFramebuffer===void 0?Le.setupRenderTarget(I):ke.__hasExternalTextures&&Le.rebindTextures(I,Me.get(I.texture).__webglTexture,Me.get(I.depthTexture).__webglTexture);const Ve=I.texture;(Ve.isData3DTexture||Ve.isDataArrayTexture||Ve.isCompressedArrayTexture)&&(Pe=!0);const de=Me.get(I).__webglFramebuffer;I.isWebGLCubeRenderTarget?(Array.isArray(de[j])?te=de[j][ee]:te=de[j],Ce=!0):Ee.isWebGL2&&I.samples>0&&Le.useMultisampledRTT(I)===!1?te=Me.get(I).__webglMultisampledFramebuffer:Array.isArray(de)?te=de[ee]:te=de,B.copy(I.viewport),U.copy(I.scissor),k=I.scissorTest}else B.copy(G).multiplyScalar(J).floor(),U.copy(D).multiplyScalar(J).floor(),k=H;if(we.bindFramebuffer(K.FRAMEBUFFER,te)&&Ee.drawBuffers&&Z&&we.drawBuffers(I,te),we.viewport(B),we.scissor(U),we.setScissorTest(k),Ce){const ke=Me.get(I.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+j,ke.__webglTexture,ee)}else if(Pe){const ke=Me.get(I.texture),Ve=j||0;K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,ke.__webglTexture,ee||0,Ve)}R=-1},this.readRenderTargetPixels=function(I,j,ee,Z,te,Ce,Pe){if(!(I&&I.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ue=Me.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&Pe!==void 0&&(Ue=Ue[Pe]),Ue){we.bindFramebuffer(K.FRAMEBUFFER,Ue);try{const ke=I.texture,Ve=ke.format,de=ke.type;if(Ve!==Ei&&Re.convert(Ve)!==K.getParameter(K.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ct=de===wi&&(Ae.has("EXT_color_buffer_half_float")||Ee.isWebGL2&&Ae.has("EXT_color_buffer_float"));if(de!==ra&&Re.convert(de)!==K.getParameter(K.IMPLEMENTATION_COLOR_READ_TYPE)&&!(de===ai&&(Ee.isWebGL2||Ae.has("OES_texture_float")||Ae.has("WEBGL_color_buffer_float")))&&!ct){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}j>=0&&j<=I.width-Z&&ee>=0&&ee<=I.height-te&&K.readPixels(j,ee,Z,te,Re.convert(Ve),Re.convert(de),Ce)}finally{const ke=T!==null?Me.get(T).__webglFramebuffer:null;we.bindFramebuffer(K.FRAMEBUFFER,ke)}}},this.copyFramebufferToTexture=function(I,j,ee=0){const Z=Math.pow(2,-ee),te=Math.floor(j.image.width*Z),Ce=Math.floor(j.image.height*Z);Le.setTexture2D(j,0),K.copyTexSubImage2D(K.TEXTURE_2D,ee,0,0,I.x,I.y,te,Ce),we.unbindTexture()},this.copyTextureToTexture=function(I,j,ee,Z=0){const te=j.image.width,Ce=j.image.height,Pe=Re.convert(ee.format),Ue=Re.convert(ee.type);Le.setTexture2D(ee,0),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,ee.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,ee.unpackAlignment),j.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,Z,I.x,I.y,te,Ce,Pe,Ue,j.image.data):j.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,Z,I.x,I.y,j.mipmaps[0].width,j.mipmaps[0].height,Pe,j.mipmaps[0].data):K.texSubImage2D(K.TEXTURE_2D,Z,I.x,I.y,Pe,Ue,j.image),Z===0&&ee.generateMipmaps&&K.generateMipmap(K.TEXTURE_2D),we.unbindTexture()},this.copyTextureToTexture3D=function(I,j,ee,Z,te=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ce=I.max.x-I.min.x+1,Pe=I.max.y-I.min.y+1,Ue=I.max.z-I.min.z+1,ke=Re.convert(Z.format),Ve=Re.convert(Z.type);let de;if(Z.isData3DTexture)Le.setTexture3D(Z,0),de=K.TEXTURE_3D;else if(Z.isDataArrayTexture)Le.setTexture2DArray(Z,0),de=K.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,Z.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,Z.unpackAlignment);const ct=K.getParameter(K.UNPACK_ROW_LENGTH),nt=K.getParameter(K.UNPACK_IMAGE_HEIGHT),tt=K.getParameter(K.UNPACK_SKIP_PIXELS),gt=K.getParameter(K.UNPACK_SKIP_ROWS),At=K.getParameter(K.UNPACK_SKIP_IMAGES),_t=ee.isCompressedTexture?ee.mipmaps[0]:ee.image;K.pixelStorei(K.UNPACK_ROW_LENGTH,_t.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,_t.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,I.min.x),K.pixelStorei(K.UNPACK_SKIP_ROWS,I.min.y),K.pixelStorei(K.UNPACK_SKIP_IMAGES,I.min.z),ee.isDataTexture||ee.isData3DTexture?K.texSubImage3D(de,te,j.x,j.y,j.z,Ce,Pe,Ue,ke,Ve,_t.data):ee.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),K.compressedTexSubImage3D(de,te,j.x,j.y,j.z,Ce,Pe,Ue,ke,_t.data)):K.texSubImage3D(de,te,j.x,j.y,j.z,Ce,Pe,Ue,ke,Ve,_t),K.pixelStorei(K.UNPACK_ROW_LENGTH,ct),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,nt),K.pixelStorei(K.UNPACK_SKIP_PIXELS,tt),K.pixelStorei(K.UNPACK_SKIP_ROWS,gt),K.pixelStorei(K.UNPACK_SKIP_IMAGES,At),te===0&&Z.generateMipmaps&&K.generateMipmap(de),we.unbindTexture()},this.initTexture=function(I){I.isCubeTexture?Le.setTextureCube(I,0):I.isData3DTexture?Le.setTexture3D(I,0):I.isDataArrayTexture||I.isCompressedArrayTexture?Le.setTexture2DArray(I,0):Le.setTexture2D(I,0),we.unbindTexture()},this.resetState=function(){w=0,b=0,T=null,we.reset(),Ne.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Zo}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Ht?Zl:WT}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Zl?Ht:Ro}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class Dk extends tC{}Dk.prototype.isWebGL1Renderer=!0;class E_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ot(e),this.density=t}clone(){return new E_(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class w_{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new ot(e),this.near=t,this.far=r}clone(){return new w_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Bm extends on{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class xg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Rm,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ps()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ps()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ps()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const xi=new q;class lc{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)xi.fromBufferAttribute(this,t),xi.applyMatrix4(e),this.setXYZ(t,xi.x,xi.y,xi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)xi.fromBufferAttribute(this,t),xi.applyNormalMatrix(e),this.setXYZ(t,xi.x,xi.y,xi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)xi.fromBufferAttribute(this,t),xi.transformDirection(e),this.setXYZ(t,xi.x,xi.y,xi.z);return this}setX(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=jt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=ki(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=ki(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=ki(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=ki(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),r=jt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),r=jt(r,this.array),i=jt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=jt(t,this.array),r=jt(r,this.array),i=jt(i,this.array),s=jt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new mn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new lc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class nC extends wr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ot(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Of;const sp=new q,Ff=new q,Uf=new q,kf=new He,op=new He,Ok=new Pt,xv=new q,ap=new q,Sv=new q,xI=new He,yA=new He,SI=new He;class Fk extends on{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Of===void 0){Of=new zt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new xg(t,5);Of.setIndex([0,1,2,0,2,3]),Of.setAttribute("position",new lc(r,3,0,!1)),Of.setAttribute("uv",new lc(r,2,3,!1))}this.geometry=Of,this.material=e!==void 0?e:new nC,this.center=new He(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ff.setFromMatrixScale(this.matrixWorld),Ok.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Uf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ff.multiplyScalar(-Uf.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Av(xv.set(-.5,-.5,0),Uf,o,Ff,i,s),Av(ap.set(.5,-.5,0),Uf,o,Ff,i,s),Av(Sv.set(.5,.5,0),Uf,o,Ff,i,s),xI.set(0,0),yA.set(1,0),SI.set(1,1);let a=e.ray.intersectTriangle(xv,ap,Sv,!1,sp);if(a===null&&(Av(ap.set(-.5,.5,0),Uf,o,Ff,i,s),yA.set(0,1),a=e.ray.intersectTriangle(xv,Sv,ap,!1,sp),a===null))return;const l=e.ray.origin.distanceTo(sp);l<e.near||l>e.far||t.push({distance:l,point:sp.clone(),uv:Ui.getInterpolation(sp,xv,ap,Sv,xI,yA,SI,new He),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Av(n,e,t,r,i,s){kf.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(op.x=s*kf.x-i*kf.y,op.y=i*kf.x+s*kf.y):op.copy(kf),n.copy(e),n.x+=op.x,n.y+=op.y,n.applyMatrix4(Ok)}const Mv=new q,AI=new q;class Uk extends on{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Mv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Mv);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Mv.setFromMatrixPosition(e.matrixWorld),AI.setFromMatrixPosition(this.matrixWorld);const r=Mv.distanceTo(AI)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const MI=new q,EI=new gn,wI=new gn,lJ=new q,bI=new Pt,Nf=new q,_A=new Ss,TI=new Pt,xA=new gh;class rC extends or{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Pt,this.bindMatrixInverse=new Pt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new no),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Nf.fromBufferAttribute(t,r),this.applyBoneTransform(r,Nf),this.boundingBox.expandByPoint(Nf)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ss),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Nf.fromBufferAttribute(t,r),this.applyBoneTransform(r,Nf),this.boundingSphere.expandByPoint(Nf)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_A.copy(this.boundingSphere),_A.applyMatrix4(i),e.ray.intersectsSphere(_A)!==!1&&(TI.copy(i).invert(),xA.copy(e.ray).applyMatrix4(TI),!(this.boundingBox!==null&&xA.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,xA)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new gn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;EI.fromBufferAttribute(i.attributes.skinIndex,e),wI.fromBufferAttribute(i.attributes.skinWeight,e),MI.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=wI.getComponent(s);if(o!==0){const a=EI.getComponent(s);bI.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(lJ.copy(MI).applyMatrix4(bI),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class b_ extends on{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Pd extends In{constructor(e=null,t=1,r=1,i,s,o,a,l,c=rr,u=rr,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const CI=new Pt,cJ=new Pt;class Sg{constructor(e=[],t=[]){this.uuid=ps(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Pt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Pt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:cJ;CI.multiplyMatrices(a,t[s]),CI.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Sg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=xk(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Pd(t,e,e,Ei,ai);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new b_),this.bones.push(o),this.boneInverses.push(new Pt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class ku extends mn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const zf=new Pt,RI=new Pt,Ev=[],PI=new no,uJ=new Pt,lp=new or,cp=new Ss;class iC extends or{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ku(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,uJ)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new no),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,zf),PI.copy(e.boundingBox).applyMatrix4(zf),this.boundingBox.union(PI)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ss),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,zf),cp.copy(e.boundingSphere).applyMatrix4(zf),this.boundingSphere.union(cp)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(lp.geometry=this.geometry,lp.material=this.material,lp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),cp.copy(this.boundingSphere),cp.applyMatrix4(r),e.ray.intersectsSphere(cp)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,zf),RI.multiplyMatrices(r,zf),lp.matrixWorld=RI,lp.raycast(e,Ev);for(let o=0,a=Ev.length;o<a;o++){const l=Ev[o];l.instanceId=s,l.object=this,t.push(l)}Ev.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ku(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class di extends wr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ot(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const II=new q,BI=new q,LI=new Pt,SA=new gh,wv=new Ss;class Ka extends on{constructor(e=new zt,t=new di){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)II.fromBufferAttribute(t,i-1),BI.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=II.distanceTo(BI);e.setAttribute("lineDistance",new vt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),wv.copy(r.boundingSphere),wv.applyMatrix4(i),wv.radius+=s,e.ray.intersectsSphere(wv)===!1)return;LI.copy(i).invert(),SA.copy(e.ray).applyMatrix4(LI);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new q,u=new q,f=new q,p=new q,m=this.isLineSegments?2:1,v=r.index,_=r.attributes.position;if(v!==null){const g=Math.max(0,o.start),x=Math.min(v.count,o.start+o.count);for(let S=g,M=x-1;S<M;S+=m){const w=v.getX(S),b=v.getX(S+1);if(c.fromBufferAttribute(_,w),u.fromBufferAttribute(_,b),SA.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(p);R<e.near||R>e.far||t.push({distance:R,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),x=Math.min(_.count,o.start+o.count);for(let S=g,M=x-1;S<M;S+=m){if(c.fromBufferAttribute(_,S),u.fromBufferAttribute(_,S+1),SA.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(p);b<e.near||b>e.far||t.push({distance:b,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const DI=new q,OI=new q;class Lo extends Ka{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)DI.fromBufferAttribute(t,i),OI.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+DI.distanceTo(OI);e.setAttribute("lineDistance",new vt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class sC extends Ka{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class T_ extends wr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ot(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const FI=new Pt,iw=new gh,bv=new Ss,Tv=new q;class oC extends on{constructor(e=new zt,t=new T_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),bv.copy(r.boundingSphere),bv.applyMatrix4(i),bv.radius+=s,e.ray.intersectsSphere(bv)===!1)return;FI.copy(i).invert(),iw.copy(e.ray).applyMatrix4(FI);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=p,y=m;v<y;v++){const _=c.getX(v);Tv.fromBufferAttribute(f,_),UI(Tv,_,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let v=p,y=m;v<y;v++)Tv.fromBufferAttribute(f,v),UI(Tv,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function UI(n,e,t,r,i,s,o){const a=iw.distanceSqToPoint(n);if(a<t){const l=new q;iw.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class fJ extends In{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:_n,this.magFilter=s!==void 0?s:_n,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class dJ extends In{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=rr,this.minFilter=rr,this.generateMipmaps=!1,this.needsUpdate=!0}}class C_ extends In{constructor(e,t,r,i,s,o,a,l,c,u,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class hJ extends C_{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Jr}}class pJ extends C_{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,aa),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class mJ extends In{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Do{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new He:new q);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new q,i=[],s=[],o=[],a=new q,l=new Pt;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new q)}s[0]=new q,o[0]=new q;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(ir(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(ir(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class R_ extends Do{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new He,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*f+this.aX,c=p*f+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class kk extends R_{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function aC(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+f)+(l-a)/f;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Cv=new q,AA=new aC,MA=new aC,EA=new aC;class Nk extends Do{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new q){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(Cv.subVectors(i[0],i[1]).add(i[0]),c=Cv);const f=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(Cv.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=Cv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(f),m),y=Math.pow(f.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(u),m);y<1e-4&&(y=1),v<1e-4&&(v=y),_<1e-4&&(_=y),AA.initNonuniformCatmullRom(c.x,f.x,p.x,u.x,v,y,_),MA.initNonuniformCatmullRom(c.y,f.y,p.y,u.y,v,y,_),EA.initNonuniformCatmullRom(c.z,f.z,p.z,u.z,v,y,_)}else this.curveType==="catmullrom"&&(AA.initCatmullRom(c.x,f.x,p.x,u.x,this.tension),MA.initCatmullRom(c.y,f.y,p.y,u.y,this.tension),EA.initCatmullRom(c.z,f.z,p.z,u.z,this.tension));return r.set(AA.calc(l),MA.calc(l),EA.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new q().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function kI(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function gJ(n,e){const t=1-n;return t*t*e}function vJ(n,e){return 2*(1-n)*n*e}function yJ(n,e){return n*n*e}function Jp(n,e,t,r){return gJ(n,e)+vJ(n,t)+yJ(n,r)}function _J(n,e){const t=1-n;return t*t*t*e}function xJ(n,e){const t=1-n;return 3*t*t*n*e}function SJ(n,e){return 3*(1-n)*n*n*e}function AJ(n,e){return n*n*n*e}function Yp(n,e,t,r,i){return _J(n,e)+xJ(n,t)+SJ(n,r)+AJ(n,i)}class lC extends Do{constructor(e=new He,t=new He,r=new He,i=new He){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new He){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Yp(e,i.x,s.x,o.x,a.x),Yp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class zk extends Do{constructor(e=new q,t=new q,r=new q,i=new q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new q){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Yp(e,i.x,s.x,o.x,a.x),Yp(e,i.y,s.y,o.y,a.y),Yp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class P_ extends Do{constructor(e=new He,t=new He){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new He){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new He){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Gk extends Do{constructor(e=new q,t=new q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new q){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new q){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cC extends Do{constructor(e=new He,t=new He,r=new He){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new He){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Jp(e,i.x,s.x,o.x),Jp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class uC extends Do{constructor(e=new q,t=new q,r=new q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new q){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Jp(e,i.x,s.x,o.x),Jp(e,i.y,s.y,o.y),Jp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fC extends Do{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new He){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(kI(a,l.x,c.x,u.x,f.x),kI(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new He().fromArray(i))}return this}}var dC=Object.freeze({__proto__:null,ArcCurve:kk,CatmullRomCurve3:Nk,CubicBezierCurve:lC,CubicBezierCurve3:zk,EllipseCurve:R_,LineCurve:P_,LineCurve3:Gk,QuadraticBezierCurve:cC,QuadraticBezierCurve3:uC,SplineCurve:fC});class Hk extends Do{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new P_(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new dC[i.type]().fromJSON(i))}return this}}class Lm extends Hk{constructor(e){super(),this.type="Path",this.currentPoint=new He,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new P_(this.currentPoint.clone(),new He(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new cC(this.currentPoint.clone(),new He(e,t),new He(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new lC(this.currentPoint.clone(),new He(e,t),new He(r,i),new He(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new fC(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new R_(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ag extends zt{constructor(e=[new He(0,-.5),new He(.5,0),new He(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=ir(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new q,p=new He,m=new q,v=new q,y=new q;let _=0,g=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:_=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-_,m.z=g*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:_=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-_,m.z=g*0,v.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(v)}for(let x=0;x<=t;x++){const S=r+x*u*i,M=Math.sin(S),w=Math.cos(S);for(let b=0;b<=e.length-1;b++){f.x=e[b].x*M,f.y=e[b].y,f.z=e[b].x*w,o.push(f.x,f.y,f.z),p.x=x/t,p.y=b/(e.length-1),a.push(p.x,p.y);const T=l[3*b+0]*M,R=l[3*b+1],C=l[3*b+0]*w;c.push(T,R,C)}}for(let x=0;x<t;x++)for(let S=0;S<e.length-1;S++){const M=S+x*e.length,w=M,b=M+e.length,T=M+e.length+1,R=M+1;s.push(w,b,R),s.push(T,R,b)}this.setIndex(s),this.setAttribute("position",new vt(o,3)),this.setAttribute("uv",new vt(a,2)),this.setAttribute("normal",new vt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ag(e.points,e.segments,e.phiStart,e.phiLength)}}class I_ extends Ag{constructor(e=1,t=1,r=4,i=8){const s=new Lm;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new I_(e.radius,e.length,e.capSegments,e.radialSegments)}}class B_ extends zt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new q,u=new He;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const m=r+f/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new vt(o,3)),this.setAttribute("normal",new vt(a,3)),this.setAttribute("uv",new vt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new B_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class yh extends zt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],p=[],m=[];let v=0;const y=[],_=r/2;let g=0;x(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new vt(f,3)),this.setAttribute("normal",new vt(p,3)),this.setAttribute("uv",new vt(m,2));function x(){const M=new q,w=new q;let b=0;const T=(t-e)/r;for(let R=0;R<=s;R++){const C=[],B=R/s,U=B*(t-e)+e;for(let k=0;k<=i;k++){const W=k/i,Y=W*l+a,Q=Math.sin(Y),X=Math.cos(Y);w.x=U*Q,w.y=-B*r+_,w.z=U*X,f.push(w.x,w.y,w.z),M.set(Q,T,X).normalize(),p.push(M.x,M.y,M.z),m.push(W,1-B),C.push(v++)}y.push(C)}for(let R=0;R<i;R++)for(let C=0;C<s;C++){const B=y[C][R],U=y[C+1][R],k=y[C+1][R+1],W=y[C][R+1];u.push(B,U,W),u.push(U,k,W),b+=6}c.addGroup(g,b,0),g+=b}function S(M){const w=v,b=new He,T=new q;let R=0;const C=M===!0?e:t,B=M===!0?1:-1;for(let k=1;k<=i;k++)f.push(0,_*B,0),p.push(0,B,0),m.push(.5,.5),v++;const U=v;for(let k=0;k<=i;k++){const Y=k/i*l+a,Q=Math.cos(Y),X=Math.sin(Y);T.x=C*X,T.y=_*B,T.z=C*Q,f.push(T.x,T.y,T.z),p.push(0,B,0),b.x=Q*.5+.5,b.y=X*.5*B+.5,m.push(b.x,b.y),v++}for(let k=0;k<i;k++){const W=w+k,Y=U+k;M===!0?u.push(Y,Y+1,W):u.push(Y+1,Y,W),R+=3}c.addGroup(g,R,M===!0?1:2),g+=R}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class L_ extends yh{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new L_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class vc extends zt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new vt(s,3)),this.setAttribute("normal",new vt(s.slice(),3)),this.setAttribute("uv",new vt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const S=new q,M=new q,w=new q;for(let b=0;b<t.length;b+=3)m(t[b+0],S),m(t[b+1],M),m(t[b+2],w),l(S,M,w,x)}function l(x,S,M,w){const b=w+1,T=[];for(let R=0;R<=b;R++){T[R]=[];const C=x.clone().lerp(M,R/b),B=S.clone().lerp(M,R/b),U=b-R;for(let k=0;k<=U;k++)k===0&&R===b?T[R][k]=C:T[R][k]=C.clone().lerp(B,k/U)}for(let R=0;R<b;R++)for(let C=0;C<2*(b-R)-1;C++){const B=Math.floor(C/2);C%2===0?(p(T[R][B+1]),p(T[R+1][B]),p(T[R][B])):(p(T[R][B+1]),p(T[R+1][B+1]),p(T[R+1][B]))}}function c(x){const S=new q;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(x),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function u(){const x=new q;for(let S=0;S<s.length;S+=3){x.x=s[S+0],x.y=s[S+1],x.z=s[S+2];const M=_(x)/2/Math.PI+.5,w=g(x)/Math.PI+.5;o.push(M,1-w)}v(),f()}function f(){for(let x=0;x<o.length;x+=6){const S=o[x+0],M=o[x+2],w=o[x+4],b=Math.max(S,M,w),T=Math.min(S,M,w);b>.9&&T<.1&&(S<.2&&(o[x+0]+=1),M<.2&&(o[x+2]+=1),w<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,S){const M=x*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function v(){const x=new q,S=new q,M=new q,w=new q,b=new He,T=new He,R=new He;for(let C=0,B=0;C<s.length;C+=9,B+=6){x.set(s[C+0],s[C+1],s[C+2]),S.set(s[C+3],s[C+4],s[C+5]),M.set(s[C+6],s[C+7],s[C+8]),b.set(o[B+0],o[B+1]),T.set(o[B+2],o[B+3]),R.set(o[B+4],o[B+5]),w.copy(x).add(S).add(M).divideScalar(3);const U=_(w);y(b,B+0,x,U),y(T,B+2,S,U),y(R,B+4,M,U)}}function y(x,S,M,w){w<0&&x.x===1&&(o[S]=x.x-1),M.x===0&&M.z===0&&(o[S]=w/2/Math.PI+.5)}function _(x){return Math.atan2(x.z,-x.x)}function g(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vc(e.vertices,e.indices,e.radius,e.details)}}class D_ extends vc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new D_(e.radius,e.detail)}}const Rv=new q,Pv=new q,wA=new q,Iv=new Ui;class Vk extends zt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(xu*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:y,b:_,c:g}=Iv;if(y.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),Iv.getNormal(wA),f[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const S=(x+1)%3,M=f[x],w=f[S],b=Iv[u[x]],T=Iv[u[S]],R=`${M}_${w}`,C=`${w}_${M}`;C in p&&p[C]?(wA.dot(p[C].normal)<=s&&(m.push(b.x,b.y,b.z),m.push(T.x,T.y,T.z)),p[C]=null):R in p||(p[R]={index0:c[x],index1:c[S],normal:wA.clone()})}}for(const v in p)if(p[v]){const{index0:y,index1:_}=p[v];Rv.fromBufferAttribute(a,y),Pv.fromBufferAttribute(a,_),m.push(Rv.x,Rv.y,Rv.z),m.push(Pv.x,Pv.y,Pv.z)}this.setAttribute("position",new vt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Au extends Lm{constructor(e){super(e),this.uuid=ps(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Lm().fromJSON(i))}return this}}const MJ={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=Wk(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,p,m;if(r&&(s=CJ(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let v=t;v<i;v+=t)f=n[v],p=n[v+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Dm(s,o,t,a,l,m,0),o}};function Wk(n,e,t,r,i){let s,o;if(i===NJ(n,e,t,r)>0)for(s=e;s<t;s+=r)o=NI(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=NI(s,n[s],n[s+1],o);return o&&O_(o,o.next)&&(Fm(o),o=o.next),o}function Nu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(O_(t,t.next)||Xn(t.prev,t,t.next)===0)){if(Fm(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Dm(n,e,t,r,i,s,o){if(!n)return;!o&&s&&LJ(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?wJ(n,r,i,s):EJ(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Fm(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=bJ(Nu(n),e,t),Dm(n,e,t,r,i,s,2)):o===2&&TJ(n,e,t,r,i,s):Dm(Nu(n),e,t,r,i,s,1);break}}}function EJ(n){const e=n.prev,t=n,r=n.next;if(Xn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=r.next;for(;v!==e;){if(v.x>=u&&v.x<=p&&v.y>=f&&v.y<=m&&pd(i,a,s,l,o,c,v.x,v.y)&&Xn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function wJ(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Xn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,v=u<f?u<p?u:p:f<p?f:p,y=a>l?a>c?a:c:l>c?l:c,_=u>f?u>p?u:p:f>p?f:p,g=sw(m,v,e,t,r),x=sw(y,_,e,t,r);let S=n.prevZ,M=n.nextZ;for(;S&&S.z>=g&&M&&M.z<=x;){if(S.x>=m&&S.x<=y&&S.y>=v&&S.y<=_&&S!==i&&S!==o&&pd(a,u,l,f,c,p,S.x,S.y)&&Xn(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=y&&M.y>=v&&M.y<=_&&M!==i&&M!==o&&pd(a,u,l,f,c,p,M.x,M.y)&&Xn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=y&&S.y>=v&&S.y<=_&&S!==i&&S!==o&&pd(a,u,l,f,c,p,S.x,S.y)&&Xn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=x;){if(M.x>=m&&M.x<=y&&M.y>=v&&M.y<=_&&M!==i&&M!==o&&pd(a,u,l,f,c,p,M.x,M.y)&&Xn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function bJ(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!O_(i,s)&&jk(i,r,r.next,s)&&Om(i,s)&&Om(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Fm(r),Fm(r.next),r=n=s),r=r.next}while(r!==n);return Nu(r)}function TJ(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&FJ(o,a)){let l=Xk(o,a);o=Nu(o,o.next),l=Nu(l,l.next),Dm(o,e,t,r,i,s,0),Dm(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function CJ(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=Wk(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(OJ(c));for(i.sort(RJ),s=0;s<i.length;s++)t=PJ(i[s],t);return t}function RJ(n,e){return n.x-e.x}function PJ(n,e){const t=IJ(n,e);if(!t)return e;const r=Xk(t,n);return Nu(r,r.next),Nu(t,t.next)}function IJ(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&pd(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),Om(t,n)&&(f<u||f===u&&(t.x>i.x||t.x===i.x&&BJ(i,t)))&&(i=t,u=f)),t=t.next;while(t!==a);return i}function BJ(n,e){return Xn(n.prev,n,e.prev)<0&&Xn(e.next,n,n.next)<0}function LJ(n,e,t,r){let i=n;do i.z===0&&(i.z=sw(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,DJ(i)}function DJ(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function sw(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function OJ(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function pd(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function FJ(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!UJ(n,e)&&(Om(n,e)&&Om(e,n)&&kJ(n,e)&&(Xn(n.prev,n,e.prev)||Xn(n,e.prev,e))||O_(n,e)&&Xn(n.prev,n,n.next)>0&&Xn(e.prev,e,e.next)>0)}function Xn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function O_(n,e){return n.x===e.x&&n.y===e.y}function jk(n,e,t,r){const i=Lv(Xn(n,e,t)),s=Lv(Xn(n,e,r)),o=Lv(Xn(t,r,n)),a=Lv(Xn(t,r,e));return!!(i!==s&&o!==a||i===0&&Bv(n,t,e)||s===0&&Bv(n,r,e)||o===0&&Bv(t,n,r)||a===0&&Bv(t,e,r))}function Bv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Lv(n){return n>0?1:n<0?-1:0}function UJ(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&jk(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Om(n,e){return Xn(n.prev,n,n.next)<0?Xn(n,e,n.next)>=0&&Xn(n,n.prev,e)>=0:Xn(n,e,n.prev)<0||Xn(n,n.next,e)<0}function kJ(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function Xk(n,e){const t=new ow(n.i,n.x,n.y),r=new ow(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function NI(n,e,t,r){const i=new ow(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Fm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function ow(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function NJ(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class ia{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return ia.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];zI(e),GI(r,e);let o=e.length;t.forEach(zI);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,GI(r,t[l]);const a=MJ.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function zI(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function GI(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class F_ extends zt{constructor(e=new Au([new He(.5,.5),new He(-.5,.5),new He(-.5,-.5),new He(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new vt(i,3)),this.setAttribute("uv",new vt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:zJ;let S,M=!1,w,b,T,R;g&&(S=g.getSpacedPoints(u),M=!0,p=!1,w=g.computeFrenetFrames(u,!1),b=new q,T=new q,R=new q),p||(_=0,m=0,v=0,y=0);const C=a.extractPoints(c);let B=C.shape;const U=C.holes;if(!ia.isClockWise(B)){B=B.reverse();for(let K=0,Te=U.length;K<Te;K++){const Ae=U[K];ia.isClockWise(Ae)&&(U[K]=Ae.reverse())}}const W=ia.triangulateShape(B,U),Y=B;for(let K=0,Te=U.length;K<Te;K++){const Ae=U[K];B=B.concat(Ae)}function Q(K,Te,Ae){return Te||console.error("THREE.ExtrudeGeometry: vec does not exist"),K.clone().addScaledVector(Te,Ae)}const X=B.length,J=W.length;function O(K,Te,Ae){let Ee,we,Xe;const Me=K.x-Te.x,Le=K.y-Te.y,Be=Ae.x-K.x,ve=Ae.y-K.y,Ye=Me*Me+Le*Le,$=Me*ve-Le*Be;if(Math.abs($)>Number.EPSILON){const N=Math.sqrt(Ye),ce=Math.sqrt(Be*Be+ve*ve),Ge=Te.x-Le/N,De=Te.y+Me/N,Oe=Ae.x-ve/ce,Ke=Ae.y+Be/ce,je=((Oe-Ge)*ve-(Ke-De)*Be)/(Me*ve-Le*Be);Ee=Ge+Me*je-K.x,we=De+Le*je-K.y;const ge=Ee*Ee+we*we;if(ge<=2)return new He(Ee,we);Xe=Math.sqrt(ge/2)}else{let N=!1;Me>Number.EPSILON?Be>Number.EPSILON&&(N=!0):Me<-Number.EPSILON?Be<-Number.EPSILON&&(N=!0):Math.sign(Le)===Math.sign(ve)&&(N=!0),N?(Ee=-Le,we=Me,Xe=Math.sqrt(Ye)):(Ee=Me,we=Le,Xe=Math.sqrt(Ye/2))}return new He(Ee/Xe,we/Xe)}const V=[];for(let K=0,Te=Y.length,Ae=Te-1,Ee=K+1;K<Te;K++,Ae++,Ee++)Ae===Te&&(Ae=0),Ee===Te&&(Ee=0),V[K]=O(Y[K],Y[Ae],Y[Ee]);const G=[];let D,H=V.concat();for(let K=0,Te=U.length;K<Te;K++){const Ae=U[K];D=[];for(let Ee=0,we=Ae.length,Xe=we-1,Me=Ee+1;Ee<we;Ee++,Xe++,Me++)Xe===we&&(Xe=0),Me===we&&(Me=0),D[Ee]=O(Ae[Ee],Ae[Xe],Ae[Me]);G.push(D),H=H.concat(D)}for(let K=0;K<_;K++){const Te=K/_,Ae=m*Math.cos(Te*Math.PI/2),Ee=v*Math.sin(Te*Math.PI/2)+y;for(let we=0,Xe=Y.length;we<Xe;we++){const Me=Q(Y[we],V[we],Ee);fe(Me.x,Me.y,-Ae)}for(let we=0,Xe=U.length;we<Xe;we++){const Me=U[we];D=G[we];for(let Le=0,Be=Me.length;Le<Be;Le++){const ve=Q(Me[Le],D[Le],Ee);fe(ve.x,ve.y,-Ae)}}}const se=v+y;for(let K=0;K<X;K++){const Te=p?Q(B[K],H[K],se):B[K];M?(T.copy(w.normals[0]).multiplyScalar(Te.x),b.copy(w.binormals[0]).multiplyScalar(Te.y),R.copy(S[0]).add(T).add(b),fe(R.x,R.y,R.z)):fe(Te.x,Te.y,0)}for(let K=1;K<=u;K++)for(let Te=0;Te<X;Te++){const Ae=p?Q(B[Te],H[Te],se):B[Te];M?(T.copy(w.normals[K]).multiplyScalar(Ae.x),b.copy(w.binormals[K]).multiplyScalar(Ae.y),R.copy(S[K]).add(T).add(b),fe(R.x,R.y,R.z)):fe(Ae.x,Ae.y,f/u*K)}for(let K=_-1;K>=0;K--){const Te=K/_,Ae=m*Math.cos(Te*Math.PI/2),Ee=v*Math.sin(Te*Math.PI/2)+y;for(let we=0,Xe=Y.length;we<Xe;we++){const Me=Q(Y[we],V[we],Ee);fe(Me.x,Me.y,f+Ae)}for(let we=0,Xe=U.length;we<Xe;we++){const Me=U[we];D=G[we];for(let Le=0,Be=Me.length;Le<Be;Le++){const ve=Q(Me[Le],D[Le],Ee);M?fe(ve.x,ve.y+S[u-1].y,S[u-1].x+Ae):fe(ve.x,ve.y,f+Ae)}}}le(),ae();function le(){const K=i.length/3;if(p){let Te=0,Ae=X*Te;for(let Ee=0;Ee<J;Ee++){const we=W[Ee];ye(we[2]+Ae,we[1]+Ae,we[0]+Ae)}Te=u+_*2,Ae=X*Te;for(let Ee=0;Ee<J;Ee++){const we=W[Ee];ye(we[0]+Ae,we[1]+Ae,we[2]+Ae)}}else{for(let Te=0;Te<J;Te++){const Ae=W[Te];ye(Ae[2],Ae[1],Ae[0])}for(let Te=0;Te<J;Te++){const Ae=W[Te];ye(Ae[0]+X*u,Ae[1]+X*u,Ae[2]+X*u)}}r.addGroup(K,i.length/3-K,0)}function ae(){const K=i.length/3;let Te=0;ue(Y,Te),Te+=Y.length;for(let Ae=0,Ee=U.length;Ae<Ee;Ae++){const we=U[Ae];ue(we,Te),Te+=we.length}r.addGroup(K,i.length/3-K,1)}function ue(K,Te){let Ae=K.length;for(;--Ae>=0;){const Ee=Ae;let we=Ae-1;we<0&&(we=K.length-1);for(let Xe=0,Me=u+_*2;Xe<Me;Xe++){const Le=X*Xe,Be=X*(Xe+1),ve=Te+Ee+Le,Ye=Te+we+Le,$=Te+we+Be,N=Te+Ee+Be;We(ve,Ye,$,N)}}}function fe(K,Te,Ae){l.push(K),l.push(Te),l.push(Ae)}function ye(K,Te,Ae){Je(K),Je(Te),Je(Ae);const Ee=i.length/3,we=x.generateTopUV(r,i,Ee-3,Ee-2,Ee-1);xe(we[0]),xe(we[1]),xe(we[2])}function We(K,Te,Ae,Ee){Je(K),Je(Te),Je(Ee),Je(Te),Je(Ae),Je(Ee);const we=i.length/3,Xe=x.generateSideWallUV(r,i,we-6,we-3,we-2,we-1);xe(Xe[0]),xe(Xe[1]),xe(Xe[3]),xe(Xe[1]),xe(Xe[2]),xe(Xe[3])}function Je(K){i.push(l[K*3+0]),i.push(l[K*3+1]),i.push(l[K*3+2])}function xe(K){s.push(K.x),s.push(K.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return GJ(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new dC[i.type]().fromJSON(i)),new F_(r,e.options)}}const zJ={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new He(s,o),new He(a,l),new He(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],y=e[s*3],_=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new He(o,1-l),new He(c,1-f),new He(p,1-v),new He(y,1-g)]:[new He(a,1-l),new He(u,1-f),new He(m,1-v),new He(_,1-g)]}};function GJ(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Mg extends vc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Mg(e.radius,e.detail)}}class Eg extends vc{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Eg(e.radius,e.detail)}}class U_ extends zt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const p=(t-e)/i,m=new q,v=new He;for(let y=0;y<=i;y++){for(let _=0;_<=r;_++){const g=s+_/r*o;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,u.push(v.x,v.y)}f+=p}for(let y=0;y<i;y++){const _=y*(r+1);for(let g=0;g<r;g++){const x=g+_,S=x,M=x+r+1,w=x+r+2,b=x+1;a.push(S,M,b),a.push(M,w,b)}}this.setIndex(a),this.setAttribute("position",new vt(l,3)),this.setAttribute("normal",new vt(c,3)),this.setAttribute("uv",new vt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new U_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class k_ extends zt{constructor(e=new Au([new He(0,.5),new He(-.5,-.5),new He(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new vt(i,3)),this.setAttribute("normal",new vt(s,3)),this.setAttribute("uv",new vt(o,2));function c(u){const f=i.length/3,p=u.extractPoints(t);let m=p.shape;const v=p.holes;ia.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,g=v.length;_<g;_++){const x=v[_];ia.isClockWise(x)===!0&&(v[_]=x.reverse())}const y=ia.triangulateShape(m,v);for(let _=0,g=v.length;_<g;_++){const x=v[_];m=m.concat(x)}for(let _=0,g=m.length;_<g;_++){const x=m[_];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let _=0,g=y.length;_<g;_++){const x=y[_],S=x[0]+f,M=x[1]+f,w=x[2]+f;r.push(S,M,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return HJ(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new k_(r,e.curveSegments)}}function HJ(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class wg extends zt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new q,p=new q,m=[],v=[],y=[],_=[];for(let g=0;g<=r;g++){const x=[],S=g/r;let M=0;g===0&&o===0?M=.5/t:g===r&&l===Math.PI&&(M=-.5/t);for(let w=0;w<=t;w++){const b=w/t;f.x=-e*Math.cos(i+b*s)*Math.sin(o+S*a),f.y=e*Math.cos(o+S*a),f.z=e*Math.sin(i+b*s)*Math.sin(o+S*a),v.push(f.x,f.y,f.z),p.copy(f).normalize(),y.push(p.x,p.y,p.z),_.push(b+M,1-S),x.push(c++)}u.push(x)}for(let g=0;g<r;g++)for(let x=0;x<t;x++){const S=u[g][x+1],M=u[g][x],w=u[g+1][x],b=u[g+1][x+1];(g!==0||o>0)&&m.push(S,M,b),(g!==r-1||l<Math.PI)&&m.push(M,w,b)}this.setIndex(m),this.setAttribute("position",new vt(v,3)),this.setAttribute("normal",new vt(y,3)),this.setAttribute("uv",new vt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class N_ extends vc{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new N_(e.radius,e.detail)}}class z_ extends zt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new q,f=new q,p=new q;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const y=v/i*s,_=m/r*Math.PI*2;f.x=(e+t*Math.cos(_))*Math.cos(y),f.y=(e+t*Math.cos(_))*Math.sin(y),f.z=t*Math.sin(_),a.push(f.x,f.y,f.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),p.subVectors(f,u).normalize(),l.push(p.x,p.y,p.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const y=(i+1)*m+v-1,_=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,x=(i+1)*m+v;o.push(y,_,x),o.push(_,g,x)}this.setIndex(o),this.setAttribute("position",new vt(a,3)),this.setAttribute("normal",new vt(l,3)),this.setAttribute("uv",new vt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new z_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class G_ extends zt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new q,p=new q,m=new q,v=new q,y=new q,_=new q,g=new q;for(let S=0;S<=r;++S){const M=S/r*s*Math.PI*2;x(M,s,o,e,m),x(M+.01,s,o,e,v),_.subVectors(v,m),g.addVectors(v,m),y.crossVectors(_,g),g.crossVectors(y,_),y.normalize(),g.normalize();for(let w=0;w<=i;++w){const b=w/i*Math.PI*2,T=-t*Math.cos(b),R=t*Math.sin(b);f.x=m.x+(T*g.x+R*y.x),f.y=m.y+(T*g.y+R*y.y),f.z=m.z+(T*g.z+R*y.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),c.push(p.x,p.y,p.z),u.push(S/r),u.push(w/i)}}for(let S=1;S<=r;S++)for(let M=1;M<=i;M++){const w=(i+1)*(S-1)+(M-1),b=(i+1)*S+(M-1),T=(i+1)*S+M,R=(i+1)*(S-1)+M;a.push(w,b,R),a.push(b,T,R)}this.setIndex(a),this.setAttribute("position",new vt(l,3)),this.setAttribute("normal",new vt(c,3)),this.setAttribute("uv",new vt(u,2));function x(S,M,w,b,T){const R=Math.cos(S),C=Math.sin(S),B=w/M*S,U=Math.cos(B);T.x=b*(2+U)*.5*R,T.y=b*(2+U)*C*.5,T.z=b*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new G_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class H_ extends zt{constructor(e=new uC(new q(-1,-1,0),new q(-1,1,0),new q(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new q,l=new q,c=new He;let u=new q;const f=[],p=[],m=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new vt(f,3)),this.setAttribute("normal",new vt(p,3)),this.setAttribute("uv",new vt(m,2));function y(){for(let S=0;S<t;S++)_(S);_(s===!1?t:0),x(),g()}function _(S){u=e.getPointAt(S/t,u);const M=o.normals[S],w=o.binormals[S];for(let b=0;b<=i;b++){const T=b/i*Math.PI*2,R=Math.sin(T),C=-Math.cos(T);l.x=C*M.x+R*w.x,l.y=C*M.y+R*w.y,l.z=C*M.z+R*w.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=t;S++)for(let M=1;M<=i;M++){const w=(i+1)*(S-1)+(M-1),b=(i+1)*S+(M-1),T=(i+1)*S+M,R=(i+1)*(S-1)+M;v.push(w,b,R),v.push(b,T,R)}}function x(){for(let S=0;S<=t;S++)for(let M=0;M<=i;M++)c.x=S/t,c.y=M/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new H_(new dC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Jk extends zt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new q,s=new q;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],p=f.start,m=f.count;for(let v=p,y=p+m;v<y;v+=3)for(let _=0;_<3;_++){const g=a.getX(v+_),x=a.getX(v+(_+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,x),HI(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),HI(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new vt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function HI(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var VI=Object.freeze({__proto__:null,BoxGeometry:Ku,CapsuleGeometry:I_,CircleGeometry:B_,ConeGeometry:L_,CylinderGeometry:yh,DodecahedronGeometry:D_,EdgesGeometry:Vk,ExtrudeGeometry:F_,IcosahedronGeometry:Mg,LatheGeometry:Ag,OctahedronGeometry:Eg,PlaneGeometry:gc,PolyhedronGeometry:vc,RingGeometry:U_,ShapeGeometry:k_,SphereGeometry:wg,TetrahedronGeometry:N_,TorusGeometry:z_,TorusKnotGeometry:G_,TubeGeometry:H_,WireframeGeometry:Jk});class Yk extends wr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ot(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class $k extends Io{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class bg extends wr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ot(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mc,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class da extends bg{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new He(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ir(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ot(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ot(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ot(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Kk extends wr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ot(16777215),this.specular=new ot(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mc,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Qk extends wr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ot(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mc,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Zk extends wr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mc,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class qk extends wr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mc,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eN extends wr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ot(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mc,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tN extends di{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Fs(n,e,t){return hC(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function hu(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function hC(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function nN(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function aw(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function pC(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function VJ(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],p=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<t||v>=r)){f.push(c.times[m]);for(let y=0;y<u;++y)p.push(c.values[m*u+y])}}f.length!==0&&(c.times=hu(f,c.times.constructor),c.values=hu(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function WJ(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const g=u,x=f-u;y=Fs(a.values,g,x)}else if(s>=a.times[v]){const g=v*f+u,x=g+f-u;y=Fs(a.values,g,x)}else{const g=a.createInterpolant(),x=u,S=f-u;g.evaluate(s),y=Fs(g.resultBuffer,x,S)}l==="quaternion"&&new zr().fromArray(y).normalize().conjugate().toArray(y);const _=c.times.length;for(let g=0;g<_;++g){const x=g*m+p;if(l==="quaternion")zr.multiplyQuaternionsFlat(c.values,x,y,0,c.values,x);else{const S=m-p*2;for(let M=0;M<S;++M)c.values[x+M]-=y[M]}}}return n.blendMode=HT,n}const jJ={arraySlice:Fs,convertArray:hu,isTypedArray:hC,getKeyframeOrder:nN,sortedArray:aw,flattenJSON:pC,subclip:VJ,makeClipAdditive:WJ};class _h{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class rN extends _h{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:cu,endingEnd:cu}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case uu:s=e,a=2*t-r;break;case Cm:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case uu:o=e,l=2*r-t;break;case Cm:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-t)/(i-t),y=v*v,_=y*v,g=-p*_+2*p*y-p*v,x=(1+p)*_+(-1.5-2*p)*y+(-.5+p)*v+1,S=(-1-m)*_+(1.5+m)*y+.5*v,M=m*_-m*y;for(let w=0;w!==a;++w)s[w]=g*o[u+w]+x*o[c+w]+S*o[l+w]+M*o[f+w];return s}}class mC extends _h{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),f=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*f+o[l+p]*u;return s}}class iN extends _h{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Oo{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=hu(t,this.TimeBufferType),this.values=hu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:hu(e.times,Array),values:hu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new iN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new mC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new rN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Yd:t=this.InterpolantFactoryMethodDiscrete;break;case Uu:t=this.InterpolantFactoryMethodLinear;break;case Iy:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Yd;case this.InterpolantFactoryMethodLinear:return Uu;case this.InterpolantFactoryMethodSmooth:return Iy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Fs(r,s,o),this.values=Fs(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&hC(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Fs(this.times),t=Fs(this.values),r=this.getValueSize(),i=this.getInterpolation()===Iy,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,p=f-r,m=f+r;for(let v=0;v!==r;++v){const y=t[f+v];if(y!==t[p+v]||y!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Fs(e,0,o),this.values=Fs(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Fs(this.times,0),t=Fs(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Oo.prototype.TimeBufferType=Float32Array;Oo.prototype.ValueBufferType=Float32Array;Oo.prototype.DefaultInterpolation=Uu;class Qu extends Oo{}Qu.prototype.ValueTypeName="bool";Qu.prototype.ValueBufferType=Array;Qu.prototype.DefaultInterpolation=Yd;Qu.prototype.InterpolantFactoryMethodLinear=void 0;Qu.prototype.InterpolantFactoryMethodSmooth=void 0;class gC extends Oo{}gC.prototype.ValueTypeName="color";class Qd extends Oo{}Qd.prototype.ValueTypeName="number";class sN extends _h{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)zr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class cc extends Oo{InterpolantFactoryMethodLinear(e){return new sN(this.times,this.values,this.getValueSize(),e)}}cc.prototype.ValueTypeName="quaternion";cc.prototype.DefaultInterpolation=Uu;cc.prototype.InterpolantFactoryMethodSmooth=void 0;class Zu extends Oo{}Zu.prototype.ValueTypeName="string";Zu.prototype.ValueBufferType=Array;Zu.prototype.DefaultInterpolation=Yd;Zu.prototype.InterpolantFactoryMethodLinear=void 0;Zu.prototype.InterpolantFactoryMethodSmooth=void 0;class Zd extends Oo{}Zd.prototype.ValueTypeName="vector";class qd{constructor(e,t=-1,r,i=y_){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ps(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(JJ(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Oo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=nN(l);l=aw(l,1,u),c=aw(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Qd(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let p=i[f];p||(i[f]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,v,y){if(m.length!==0){const _=[],g=[];pC(m,_,g,v),_.length!==0&&y.push(new f(p,_,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const p=c[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let y=0;y<p[v].morphTargets.length;y++)m[p[v].morphTargets[y]]=-1;for(const y in m){const _=[],g=[];for(let x=0;x!==p[v].morphTargets.length;++x){const S=p[v];_.push(S.time),g.push(S.morphTarget===y?1:0)}i.push(new Qd(".morphTargetInfluence["+y+"]",_,g))}l=m.length*o}else{const m=".bones["+t[f].name+"]";r(Zd,m+".position",p,"pos",i),r(cc,m+".quaternion",p,"rot",i),r(Zd,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function XJ(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Qd;case"vector":case"vector2":case"vector3":case"vector4":return Zd;case"color":return gC;case"quaternion":return cc;case"bool":case"boolean":return Qu;case"string":return Zu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function JJ(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=XJ(n.type);if(n.times===void 0){const t=[],r=[];pC(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const zu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class vC{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,p=c.length;f<p;f+=2){const m=c[f],v=c[f+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}}const oN=new vC;class hi{constructor(e){this.manager=e!==void 0?e:oN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}hi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ra={};class YJ extends Error{constructor(e,t){super(e),this.response=t}}class vs extends hi{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=zu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ra[e]!==void 0){Ra[e].push({onLoad:t,onProgress:r,onError:i});return}Ra[e]=[],Ra[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Ra[e],f=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,v=m!==0;let y=0;const _=new ReadableStream({start(g){x();function x(){f.read().then(({done:S,value:M})=>{if(S)g.close();else{y+=M.byteLength;const w=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:m});for(let b=0,T=u.length;b<T;b++){const R=u[b];R.onProgress&&R.onProgress(w)}g.enqueue(M),x()}})}}});return new Response(_)}else throw new YJ(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{zu.add(e,c);const u=Ra[e];delete Ra[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Ra[e];if(u===void 0)throw this.manager.itemError(e),c;delete Ra[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class $J extends hi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new vs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=qd.parse(e[r]);t.push(i)}return t}}class KJ extends hi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new C_,l=new vs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=_n),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)u(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+y]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=_n),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Um extends hi{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=zu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Im("img");function l(){u(),zu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class aN extends hi{constructor(e){super(e)}load(e,t,r,i){const s=new _g;s.colorSpace=Ht;const o=new Um(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class yC extends hi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Pd,a=new vs(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}if(!c)return i();c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Jr,o.wrapT=c.wrapT!==void 0?c.wrapT:Jr,o.magFilter=c.magFilter!==void 0?c.magFilter:_n,o.minFilter=c.minFilter!==void 0?c.minFilter:_n,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=la),c.mipmapCount===1&&(o.minFilter=_n),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},r,i),o}}class lN extends hi{constructor(e){super(e)}load(e,t,r,i){const s=new In,o=new Um(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class yc extends on{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ot(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class cN extends yc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(on.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ot(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const bA=new Pt,WI=new q,jI=new q;class _C{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new He(512,512),this.map=null,this.mapPass=null,this.matrix=new Pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new x_,this._frameExtents=new He(1,1),this._viewportCount=1,this._viewports=[new gn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;WI.setFromMatrixPosition(e.matrixWorld),t.position.copy(WI),jI.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(jI),t.updateMatrixWorld(),bA.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(bA),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(bA)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class QJ extends _C{constructor(){super(new Nn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=$d*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class xC extends yc{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(on.DEFAULT_UP),this.updateMatrix(),this.target=new on,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new QJ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const XI=new Pt,up=new q,TA=new q;class ZJ extends _C{constructor(){super(new Nn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new He(4,2),this._viewportCount=6,this._viewports=[new gn(2,1,1,1),new gn(0,1,1,1),new gn(3,1,1,1),new gn(1,1,1,1),new gn(3,0,1,1),new gn(1,0,1,1)],this._cubeDirections=[new q(1,0,0),new q(-1,0,0),new q(0,0,1),new q(0,0,-1),new q(0,1,0),new q(0,-1,0)],this._cubeUps=[new q(0,1,0),new q(0,1,0),new q(0,1,0),new q(0,1,0),new q(0,0,1),new q(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),up.setFromMatrixPosition(e.matrixWorld),r.position.copy(up),TA.copy(r.position),TA.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(TA),r.updateMatrixWorld(),i.makeTranslation(-up.x,-up.y,-up.z),XI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(XI)}}class SC extends yc{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new ZJ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class qJ extends _C{constructor(){super(new Eo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class AC extends yc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(on.DEFAULT_UP),this.updateMatrix(),this.target=new on,this.shadow=new qJ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class uN extends yc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class fN extends yc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class dN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class V_ extends yc{constructor(e=new dN,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class W_ extends hi{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new vs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=W_.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ot().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new ot().setHex(o.value);break;case"v2":i.uniforms[s].value=new He().fromArray(o.value);break;case"v3":i.uniforms[s].value=new q().fromArray(o.value);break;case"v4":i.uniforms[s].value=new gn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Wt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Pt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new He().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new He().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:Yk,SpriteMaterial:nC,RawShaderMaterial:$k,ShaderMaterial:Io,PointsMaterial:T_,MeshPhysicalMaterial:da,MeshStandardMaterial:bg,MeshPhongMaterial:Kk,MeshToonMaterial:Qk,MeshNormalMaterial:Zk,MeshLambertMaterial:qk,MeshDepthMaterial:A_,MeshDistanceMaterial:M_,MeshBasicMaterial:Gi,MeshMatcapMaterial:eN,LineDashedMaterial:tN,LineBasicMaterial:di,Material:wr};return new t[e]}}class sa{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class MC extends zt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class hN extends hi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new vs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,v){if(t[v]!==void 0)return t[v];const _=m.interleavedBuffers[v],g=s(m,_.buffer),x=dd(_.type,g),S=new xg(x,_.stride);return S.uuid=_.uuid,t[v]=S,S}function s(m,v){if(r[v]!==void 0)return r[v];const _=m.arrayBuffers[v],g=new Uint32Array(_).buffer;return r[v]=g,g}const o=e.isInstancedBufferGeometry?new MC:new zt,a=e.data.index;if(a!==void 0){const m=dd(a.type,a.array);o.setIndex(new mn(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let y;if(v.isInterleavedBufferAttribute){const _=i(e.data,v.data);y=new lc(_,v.itemSize,v.offset,v.normalized)}else{const _=dd(v.type,v.array),g=v.isInstancedBufferAttribute?ku:mn;y=new g(_,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),o.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],y=[];for(let _=0,g=v.length;_<g;_++){const x=v[_];let S;if(x.isInterleavedBufferAttribute){const M=i(e.data,x.data);S=new lc(M,x.itemSize,x.offset,x.normalized)}else{const M=dd(x.type,x.array);S=new mn(M,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),y.push(S)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,v=f.length;m!==v;++m){const y=f[m];o.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new q;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Ss(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class eY extends hi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?sa.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new vs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?sa.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new vs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Au().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Sg().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new hN;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in VI?a=VI[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new W_;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=qd.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:dd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new vC(t);s=new Um(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],p=f.url;if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const _=p[v],g=a(_);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Pd(g.data,g.width,g.height)))}i[f.uuid]=new fu(m)}else{const m=a(f.url);i[f.uuid]=new fu(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:dd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Um(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f],v=await s(m);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new Pd(v.data,v.width,v.height)))}r[l.uuid]=new fu(u)}else{const u=await s(l.url);r[l.uuid]=new fu(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new _g,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Pd:u=new In,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,tY)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],JI),u.wrapT=r(a.wrap[1],JI)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,YI)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,YI)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const _=p[v];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(r[_])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,f;switch(e.type){case"Scene":o=new Bm,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ot(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new w_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new E_(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Nn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Eo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new uN(e.color,e.intensity);break;case"DirectionalLight":o=new AC(e.color,e.intensity);break;case"PointLight":o=new SC(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new fN(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new xC(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new cN(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new V_().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new rC(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new or(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new iC(u,f,p),o.instanceMatrix=new ku(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new ku(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new Uk;break;case"Line":o=new Ka(a(e.geometry),l(e.material));break;case"LineLoop":o=new sC(a(e.geometry),l(e.material));break;case"LineSegments":o=new Lo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new oC(a(e.geometry),l(e.material));break;case"Sprite":o=new Fk(l(e.material));break;case"Group":o=new Va;break;case"Bone":o=new b_;break;default:o=new on}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const tY={UVMapping:m_,CubeReflectionMapping:aa,CubeRefractionMapping:oc,EquirectangularReflectionMapping:Xd,EquirectangularRefractionMapping:bm,CubeUVReflectionMapping:mh},JI={RepeatWrapping:ac,ClampToEdgeWrapping:Jr,MirroredRepeatWrapping:Jd},YI={NearestFilter:rr,NearestMipmapNearestFilter:Tm,NearestMipmapLinearFilter:Cd,LinearFilter:_n,LinearMipmapNearestFilter:g_,LinearMipmapLinearFilter:la};class pN extends hi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=zu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){zu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Dv;class EC{static getContext(){return Dv===void 0&&(Dv=new(window.AudioContext||window.webkitAudioContext)),Dv}static setContext(e){Dv=e}}class nY extends hi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new vs(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);EC.getContext().decodeAudioData(c,function(f){t(f)},a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class rY extends V_{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new ot().set(e),s=new ot().set(t),o=new q(i.r,i.g,i.b),a=new q(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class iY extends V_{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new ot().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const $I=new Pt,KI=new Pt,Nc=new Pt;class sY{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Nn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Nn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Nc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(xu*t.fov*.5)/t.zoom;let a,l;KI.elements[12]=-i,$I.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Nc.elements[0]=2*t.near/(l-a),Nc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Nc),a=-o*t.aspect-s,l=o*t.aspect-s,Nc.elements[0]=2*t.near/(l-a),Nc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Nc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(KI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply($I)}}class wC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=QI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=QI();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function QI(){return(typeof performance>"u"?Date:performance).now()}const zc=new q,ZI=new zr,oY=new q,Gc=new q;class aY extends on{constructor(){super(),this.type="AudioListener",this.context=EC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new wC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(zc,ZI,oY),Gc.set(0,0,-1).applyQuaternion(ZI),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(zc.x,i),t.positionY.linearRampToValueAtTime(zc.y,i),t.positionZ.linearRampToValueAtTime(zc.z,i),t.forwardX.linearRampToValueAtTime(Gc.x,i),t.forwardY.linearRampToValueAtTime(Gc.y,i),t.forwardZ.linearRampToValueAtTime(Gc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(zc.x,zc.y,zc.z),t.setOrientation(Gc.x,Gc.y,Gc.z,r.x,r.y,r.z)}}class mN extends on{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Hc=new q,qI=new zr,lY=new q,Vc=new q;class cY extends mN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Hc,qI,lY),Vc.set(0,0,1).applyQuaternion(qI);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Hc.x,r),t.positionY.linearRampToValueAtTime(Hc.y,r),t.positionZ.linearRampToValueAtTime(Hc.z,r),t.orientationX.linearRampToValueAtTime(Vc.x,r),t.orientationY.linearRampToValueAtTime(Vc.y,r),t.orientationZ.linearRampToValueAtTime(Vc.z,r)}else t.setPosition(Hc.x,Hc.y,Hc.z),t.setOrientation(Vc.x,Vc.y,Vc.z)}}class uY{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class gN{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){zr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;zr.multiplyQuaternionsFlat(e,o,e,t,e,r),zr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const bC="\\[\\]\\.:\\/",fY=new RegExp("["+bC+"]","g"),TC="[^"+bC+"]",dY="[^"+bC.replace("\\.","")+"]",hY=/((?:WC+[\/:])*)/.source.replace("WC",TC),pY=/(WCOD+)?/.source.replace("WCOD",dY),mY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",TC),gY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",TC),vY=new RegExp("^"+hY+pY+mY+gY+"$"),yY=["material","materials","bones","map"];class _Y{constructor(e,t,r){const i=r||sn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class sn{constructor(e,t,r){this.path=t,this.parsedPath=r||sn.parseTrackName(t),this.node=sn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new sn.Composite(e,t,r):new sn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(fY,"")}static parseTrackName(e){const t=vY.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);yY.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=sn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}sn.Composite=_Y;sn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};sn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};sn.prototype.GetterByBindingType=[sn.prototype._getValue_direct,sn.prototype._getValue_array,sn.prototype._getValue_arrayElement,sn.prototype._getValue_toArray];sn.prototype.SetterByBindingTypeAndVersioning=[[sn.prototype._setValue_direct,sn.prototype._setValue_direct_setNeedsUpdate,sn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_array,sn.prototype._setValue_array_setNeedsUpdate,sn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_arrayElement,sn.prototype._setValue_arrayElement_setNeedsUpdate,sn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_fromArray,sn.prototype._setValue_fromArray_setNeedsUpdate,sn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class xY{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ps(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const p=arguments[u],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let y=0,_=o;y!==_;++y)s[y].push(new sn(p,r[y],i[y]))}else if(v<c){a=e[v];const y=--c,_=e[y];t[_.uuid]=v,e[v]=_,t[m]=y,e[y]=p;for(let g=0,x=o;g!==x;++g){const S=s[g],M=S[y];let w=S[v];S[v]=M,w===void 0&&(w=new sn(p,r[g],i[g])),S[y]=w}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,p=e[f];t[p.uuid]=u,e[u]=p,t[c]=f,e[f]=l;for(let m=0,v=i;m!==v;++m){const y=r[m],_=y[f],g=y[u];y[u]=_,y[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const p=--s,m=e[p],v=--o,y=e[v];t[m.uuid]=f,e[f]=m,t[y.uuid]=p,e[p]=y,e.pop();for(let _=0,g=i;_!==g;++_){const x=r[_],S=x[p],M=x[v];x[f]=S,x[p]=M,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let v=0,y=i;v!==y;++v){const _=r[v];_[f]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let p=u,m=l.length;p!==m;++p){const v=l[p];f[p]=new sn(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class vN{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:cu,endingEnd:cu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ok,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case HT:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case y_:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===ak;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===sk){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=uu,i.endingEnd=uu):(e?i.endingStart=this.zeroSlopeAtStart?uu:cu:i.endingStart=Cm,t?i.endingEnd=this.zeroSlopeAtEnd?uu:cu:i.endingEnd=Cm)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const SY=new Float32Array(1);class AY extends fa{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const p=i[f],m=p.name;let v=u[m];if(v!==void 0)++v.referenceCount,o[f]=v;else{if(v=o[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const y=t&&t._propertyBindings[f].binding.parsedPath;v=new gN(sn.create(r,m,y),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[f]=v}a[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new mC(new Float32Array(2),new Float32Array(2),1,SY),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?qd.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=y_),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new vN(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?qd.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class CC{constructor(e){this.value=e}clone(){return new CC(this.value.clone===void 0?this.value:this.value.clone())}}let MY=0;class EY extends fa{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:MY++}),this.name="",this.usage=Rm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class wY extends xg{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class bY{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class RC{constructor(e,t,r=0,i=1/0){this.ray=new gh(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Su,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return lw(e,this,r,t),r.sort(eB),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)lw(e[i],this,r,t);return r.sort(eB),r}}function eB(n,e){return n.distance-e.distance}function lw(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)lw(i[s],e,t,!0)}}class cw{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(ir(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class TY{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const tB=new He;class CY{constructor(e=new He(1/0,1/0),t=new He(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=tB.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,tB).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const nB=new q,Ov=new q;class RY{constructor(e=new q,t=new q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){nB.subVectors(e,this.start),Ov.subVectors(this.end,this.start);const r=Ov.dot(Ov);let s=Ov.dot(nB)/r;return t&&(s=ir(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const rB=new q;class PY extends on{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new zt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new vt(i,3));const s=new di({fog:!1,toneMapped:!1});this.cone=new Lo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),rB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(rB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _l=new q,Fv=new Pt,CA=new Pt;class IY extends Lo{constructor(e){const t=yN(e),r=new zt,i=[],s=[],o=new ot(0,0,1),a=new ot(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new vt(i,3)),r.setAttribute("color",new vt(s,3));const l=new di({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");CA.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Fv.multiplyMatrices(CA,a.matrixWorld),_l.setFromMatrixPosition(Fv),i.setXYZ(o,_l.x,_l.y,_l.z),Fv.multiplyMatrices(CA,a.parent.matrixWorld),_l.setFromMatrixPosition(Fv),i.setXYZ(o+1,_l.x,_l.y,_l.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function yN(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,yN(n.children[t]));return e}class BY extends or{constructor(e,t,r){const i=new wg(t,4,2),s=new Gi({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const LY=new q,iB=new ot,sB=new ot;class DY extends on{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Eg(t);i.rotateY(Math.PI*.5),this.material=new Gi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new mn(o,3)),this.add(new or(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");iB.copy(this.light.color),sB.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?iB:sB;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(LY.setFromMatrixPosition(this.light.matrixWorld).negate())}}class OY extends Lo{constructor(e=10,t=10,r=4473924,i=8947848){r=new ot(r),i=new ot(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=p===s?r:i;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const u=new zt;u.setAttribute("position",new vt(l,3)),u.setAttribute("color",new vt(c,3));const f=new di({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class FY extends Lo{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new ot(s),o=new ot(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const y=f&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let f=0;f<r;f++){const p=f&1?s:o,m=e-e/r*f;for(let v=0;v<i;v++){let y=v/i*(Math.PI*2),_=Math.sin(y)*m,g=Math.cos(y)*m;a.push(_,0,g),l.push(p.r,p.g,p.b),y=(v+1)/i*(Math.PI*2),_=Math.sin(y)*m,g=Math.cos(y)*m,a.push(_,0,g),l.push(p.r,p.g,p.b)}}const c=new zt;c.setAttribute("position",new vt(a,3)),c.setAttribute("color",new vt(l,3));const u=new di({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const oB=new q,Uv=new q,aB=new q;class UY extends on{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new zt;i.setAttribute("position",new vt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new di({fog:!1,toneMapped:!1});this.lightPlane=new Ka(i,s),this.add(this.lightPlane),i=new zt,i.setAttribute("position",new vt([0,0,0,0,0,1],3)),this.targetLine=new Ka(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),oB.setFromMatrixPosition(this.light.matrixWorld),Uv.setFromMatrixPosition(this.light.target.matrixWorld),aB.subVectors(Uv,oB),this.lightPlane.lookAt(Uv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Uv),this.targetLine.scale.z=aB.length()}}const kv=new q,tr=new yg;class kY extends Lo{constructor(e){const t=new zt,r=new di({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){l(v),l(y)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new vt(i,3)),t.setAttribute("color",new vt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ot(16755200),u=new ot(16711680),f=new ot(43775),p=new ot(16777215),m=new ot(3355443);this.setColors(c,u,f,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;tr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),pr("c",t,e,tr,0,0,-1),pr("t",t,e,tr,0,0,1),pr("n1",t,e,tr,-r,-i,-1),pr("n2",t,e,tr,r,-i,-1),pr("n3",t,e,tr,-r,i,-1),pr("n4",t,e,tr,r,i,-1),pr("f1",t,e,tr,-r,-i,1),pr("f2",t,e,tr,r,-i,1),pr("f3",t,e,tr,-r,i,1),pr("f4",t,e,tr,r,i,1),pr("u1",t,e,tr,r*.7,i*1.1,-1),pr("u2",t,e,tr,-r*.7,i*1.1,-1),pr("u3",t,e,tr,0,i*2,-1),pr("cf1",t,e,tr,-r,0,1),pr("cf2",t,e,tr,r,0,1),pr("cf3",t,e,tr,0,-i,1),pr("cf4",t,e,tr,0,i,1),pr("cn1",t,e,tr,-r,0,-1),pr("cn2",t,e,tr,r,0,-1),pr("cn3",t,e,tr,0,-i,-1),pr("cn4",t,e,tr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function pr(n,e,t,r,i,s,o){kv.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],kv.x,kv.y,kv.z)}}const Nv=new no;class NY extends Lo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new zt;s.setIndex(new mn(r,1)),s.setAttribute("position",new mn(i,3)),super(s,new di({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Nv.setFromObject(this.object),Nv.isEmpty())return;const t=Nv.min,r=Nv.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class zY extends Lo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new zt;s.setIndex(new mn(r,1)),s.setAttribute("position",new vt(i,3)),super(s,new di({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class GY extends Ka{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new zt;o.setAttribute("position",new vt(s,3)),o.computeBoundingSphere(),super(o,new di({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new zt;l.setAttribute("position",new vt(a,3)),l.computeBoundingSphere(),this.add(new or(l,new Gi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const lB=new q;let zv,RA;class HY extends on{constructor(e=new q(0,0,1),t=new q(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",zv===void 0&&(zv=new zt,zv.setAttribute("position",new vt([0,0,0,0,1,0],3)),RA=new yh(0,.5,1,5,1),RA.translate(0,-.5,0)),this.position.copy(t),this.line=new Ka(zv,new di({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new or(RA,new Gi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{lB.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(lB,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class VY extends Lo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new zt;i.setAttribute("position",new vt(t,3)),i.setAttribute("color",new vt(r,3));const s=new di({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new ot,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class WY{constructor(){this.type="ShapePath",this.color=new ot,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Lm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const x=[];for(let S=0,M=g.length;S<M;S++){const w=g[S],b=new Au;b.curves=w.curves,x.push(b)}return x}function r(g,x){const S=x.length;let M=!1;for(let w=S-1,b=0;b<S;w=b++){let T=x[w],R=x[b],C=R.x-T.x,B=R.y-T.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(T=x[b],C=-C,R=x[w],B=-B),g.y<T.y||g.y>R.y)continue;if(g.y===T.y){if(g.x===T.x)return!0}else{const U=B*(g.x-T.x)-C*(g.y-T.y);if(U===0)return!0;if(U<0)continue;M=!M}}else{if(g.y!==T.y)continue;if(R.x<=g.x&&g.x<=T.x||T.x<=g.x&&g.x<=R.x)return!0}}return M}const i=ia.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Au,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],p=[];let m=[],v=0,y;p[v]=void 0,m[v]=[];for(let g=0,x=s.length;g<x;g++)a=s[g],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!u&&p[v]&&v++,p[v]={s:new Au,p:y},p[v].s.curves=a.curves,u&&v++,m[v]=[]):m[v].push({h:a,p:y[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,x=0;for(let S=0,M=p.length;S<M;S++)f[S]=[];for(let S=0,M=p.length;S<M;S++){const w=m[S];for(let b=0;b<w.length;b++){const T=w[b];let R=!0;for(let C=0;C<p.length;C++)r(T.p,p[C].p)&&(S!==C&&x++,R?(R=!1,f[C].push(T)):g=!0);R&&f[S].push(T)}}x>0&&g===!1&&(m=f)}let _;for(let g=0,x=p.length;g<x;g++){l=p[g].s,c.push(l),_=m[g];for(let S=0,M=_.length;S<M;S++)l.holes.push(_[S].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ph}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ph);const PC=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:DT,AddEquation:tu,AddOperation:XU,AdditiveAnimationBlendMode:HT,AdditiveBlending:bE,AlphaFormat:qU,AlwaysCompare:_k,AlwaysDepth:NU,AlwaysStencilFunc:fk,AmbientLight:uN,AmbientLightProbe:iY,AnimationAction:vN,AnimationClip:qd,AnimationLoader:$J,AnimationMixer:AY,AnimationObjectGroup:xY,AnimationUtils:jJ,ArcCurve:kk,ArrayCamera:Bk,ArrowHelper:HY,Audio:mN,AudioAnalyser:uY,AudioContext:EC,AudioListener:aY,AudioLoader:nY,AxesHelper:VY,BackSide:li,BasicDepthPacking:ck,BasicShadowMap:wU,Bone:b_,BooleanKeyframeTrack:Qu,Box2:CY,Box3:no,Box3Helper:zY,BoxGeometry:Ku,BoxHelper:NY,BufferAttribute:mn,BufferGeometry:zt,BufferGeometryLoader:hN,ByteType:QU,Cache:zu,Camera:yg,CameraHelper:kY,CanvasTexture:mJ,CapsuleGeometry:I_,CatmullRomCurve3:Nk,CineonToneMapping:$U,CircleGeometry:B_,ClampToEdgeWrapping:Jr,Clock:wC,Color:ot,ColorKeyframeTrack:gC,ColorManagement:Bs,CompressedArrayTexture:hJ,CompressedCubeTexture:pJ,CompressedTexture:C_,CompressedTextureLoader:KJ,ConeGeometry:L_,CubeCamera:wk,CubeReflectionMapping:aa,CubeRefractionMapping:oc,CubeTexture:_g,CubeTextureLoader:aN,CubeUVReflectionMapping:mh,CubicBezierCurve:lC,CubicBezierCurve3:zk,CubicInterpolant:rN,CullFaceBack:wE,CullFaceFront:EU,CullFaceFrontBack:d9,CullFaceNone:MU,Curve:Do,CurvePath:Hk,CustomBlending:bU,CustomToneMapping:KU,CylinderGeometry:yh,Cylindrical:TY,Data3DTexture:$T,DataArrayTexture:__,DataTexture:Pd,DataTextureLoader:yC,DataUtils:du,DecrementStencilOp:S9,DecrementWrapStencilOp:M9,DefaultLoadingManager:oN,DepthFormat:Ql,DepthStencilFormat:Fu,DepthTexture:Lk,DirectionalLight:AC,DirectionalLightHelper:UY,DiscreteInterpolant:iN,DisplayP3ColorSpace:XT,DodecahedronGeometry:D_,DoubleSide:Mi,DstAlphaFactor:LU,DstColorFactor:OU,DynamicCopyUsage:k9,DynamicDrawUsage:B9,DynamicReadUsage:O9,EdgesGeometry:Vk,EllipseCurve:R_,EqualCompare:pk,EqualDepth:GU,EqualStencilFunc:T9,EquirectangularReflectionMapping:Xd,EquirectangularRefractionMapping:bm,Euler:vg,EventDispatcher:fa,ExtrudeGeometry:F_,FileLoader:vs,Float16BufferAttribute:bV,Float32BufferAttribute:vt,Float64BufferAttribute:TV,FloatType:ai,Fog:w_,FogExp2:E_,FramebufferTexture:dJ,FrontSide:Co,Frustum:x_,GLBufferAttribute:bY,GLSL1:z9,GLSL3:ew,GreaterCompare:gk,GreaterDepth:VU,GreaterEqualCompare:yk,GreaterEqualDepth:HU,GreaterEqualStencilFunc:I9,GreaterStencilFunc:R9,GridHelper:OY,Group:Va,HalfFloatType:wi,HemisphereLight:cN,HemisphereLightHelper:DY,HemisphereLightProbe:rY,IcosahedronGeometry:Mg,ImageBitmapLoader:pN,ImageLoader:Um,ImageUtils:YT,IncrementStencilOp:x9,IncrementWrapStencilOp:A9,InstancedBufferAttribute:ku,InstancedBufferGeometry:MC,InstancedInterleavedBuffer:wY,InstancedMesh:iC,Int16BufferAttribute:EV,Int32BufferAttribute:wV,Int8BufferAttribute:SV,IntType:OT,InterleavedBuffer:xg,InterleavedBufferAttribute:lc,Interpolant:_h,InterpolateDiscrete:Yd,InterpolateLinear:Uu,InterpolateSmooth:Iy,InvertStencilOp:E9,KeepStencilOp:By,KeyframeTrack:Oo,LOD:Uk,LatheGeometry:Ag,Layers:Su,LessCompare:hk,LessDepth:zU,LessEqualCompare:mk,LessEqualDepth:y1,LessEqualStencilFunc:C9,LessStencilFunc:b9,Light:yc,LightProbe:V_,Line:Ka,Line3:RY,LineBasicMaterial:di,LineCurve:P_,LineCurve3:Gk,LineDashedMaterial:tN,LineLoop:sC,LineSegments:Lo,LinearEncoding:WT,LinearFilter:_n,LinearInterpolant:mC,LinearMipMapLinearFilter:v9,LinearMipMapNearestFilter:g9,LinearMipmapLinearFilter:la,LinearMipmapNearestFilter:g_,LinearSRGBColorSpace:Ro,LinearToneMapping:JU,Loader:hi,LoaderUtils:sa,LoadingManager:vC,LoopOnce:sk,LoopPingPong:ak,LoopRepeat:ok,LuminanceAlphaFormat:tk,LuminanceFormat:ek,MOUSE:Kc,Material:wr,MaterialLoader:W_,MathUtils:fd,Matrix3:Wt,Matrix4:Pt,MaxEquation:PE,Mesh:or,MeshBasicMaterial:Gi,MeshDepthMaterial:A_,MeshDistanceMaterial:M_,MeshLambertMaterial:qk,MeshMatcapMaterial:eN,MeshNormalMaterial:Zk,MeshPhongMaterial:Kk,MeshPhysicalMaterial:da,MeshStandardMaterial:bg,MeshToonMaterial:Qk,MinEquation:RE,MirroredRepeatWrapping:Jd,MixOperation:jU,MultiplyBlending:CE,MultiplyOperation:gg,NearestFilter:rr,NearestMipMapLinearFilter:m9,NearestMipMapNearestFilter:p9,NearestMipmapLinearFilter:Cd,NearestMipmapNearestFilter:Tm,NeverCompare:dk,NeverDepth:kU,NeverStencilFunc:w9,NoBlending:ja,NoColorSpace:ql,NoToneMapping:na,NormalAnimationBlendMode:y_,NormalBlending:_u,NotEqualCompare:vk,NotEqualDepth:WU,NotEqualStencilFunc:P9,NumberKeyframeTrack:Qd,Object3D:on,ObjectLoader:eY,ObjectSpaceNormalMap:uk,OctahedronGeometry:Eg,OneFactor:PU,OneMinusDstAlphaFactor:DU,OneMinusDstColorFactor:FU,OneMinusSrcAlphaFactor:LT,OneMinusSrcColorFactor:BU,OrthographicCamera:Eo,PCFShadowMap:p_,PCFSoftShadowMap:Wp,PMREMGenerator:nw,Path:Lm,PerspectiveCamera:Nn,Plane:bl,PlaneGeometry:gc,PlaneHelper:GY,PointLight:SC,PointLightHelper:BY,Points:oC,PointsMaterial:T_,PolarGridHelper:FY,PolyhedronGeometry:vc,PositionalAudio:cY,PropertyBinding:sn,PropertyMixer:gN,QuadraticBezierCurve:cC,QuadraticBezierCurve3:uC,Quaternion:zr,QuaternionKeyframeTrack:cc,QuaternionLinearInterpolant:sN,RED_GREEN_RGTC2_Format:ZE,RED_RGTC1_Format:ik,REVISION:ph,RGBADepthPacking:jT,RGBAFormat:Ei,RGBAIntegerFormat:GT,RGBA_ASTC_10x10_Format:YE,RGBA_ASTC_10x5_Format:jE,RGBA_ASTC_10x6_Format:XE,RGBA_ASTC_10x8_Format:JE,RGBA_ASTC_12x10_Format:$E,RGBA_ASTC_12x12_Format:KE,RGBA_ASTC_4x4_Format:UE,RGBA_ASTC_5x4_Format:kE,RGBA_ASTC_5x5_Format:NE,RGBA_ASTC_6x5_Format:zE,RGBA_ASTC_6x6_Format:GE,RGBA_ASTC_8x5_Format:HE,RGBA_ASTC_8x6_Format:VE,RGBA_ASTC_8x8_Format:WE,RGBA_BPTC_Format:Py,RGBA_ETC2_EAC_Format:FE,RGBA_PVRTC_2BPPV1_Format:DE,RGBA_PVRTC_4BPPV1_Format:LE,RGBA_S3TC_DXT1_Format:Ty,RGBA_S3TC_DXT3_Format:Cy,RGBA_S3TC_DXT5_Format:Ry,RGB_ETC1_Format:rk,RGB_ETC2_Format:OE,RGB_PVRTC_2BPPV1_Format:BE,RGB_PVRTC_4BPPV1_Format:IE,RGB_S3TC_DXT1_Format:by,RGFormat:nk,RGIntegerFormat:zT,RawShaderMaterial:$k,Ray:gh,Raycaster:RC,RectAreaLight:fN,RedFormat:kT,RedIntegerFormat:NT,ReinhardToneMapping:YU,RenderTarget:Ak,RepeatWrapping:ac,ReplaceStencilOp:_9,ReverseSubtractEquation:CU,RingGeometry:U_,SIGNED_RED_GREEN_RGTC2_Format:qE,SIGNED_RED_RGTC1_Format:QE,SRGBColorSpace:Ht,Scene:Bm,ShaderChunk:Gt,ShaderLib:vo,ShaderMaterial:Io,ShadowMaterial:Yk,Shape:Au,ShapeGeometry:k_,ShapePath:WY,ShapeUtils:ia,ShortType:ZU,Skeleton:Sg,SkeletonHelper:IY,SkinnedMesh:rC,Source:fu,Sphere:Ss,SphereGeometry:wg,Spherical:cw,SphericalHarmonics3:dN,SplineCurve:fC,SpotLight:xC,SpotLightHelper:PY,Sprite:Fk,SpriteMaterial:nC,SrcAlphaFactor:BT,SrcAlphaSaturateFactor:UU,SrcColorFactor:IU,StaticCopyUsage:U9,StaticDrawUsage:Rm,StaticReadUsage:D9,StereoCamera:sY,StreamCopyUsage:N9,StreamDrawUsage:L9,StreamReadUsage:F9,StringKeyframeTrack:Zu,SubtractEquation:TU,SubtractiveBlending:TE,TOUCH:Qc,TangentSpaceNormalMap:mc,TetrahedronGeometry:N_,Texture:In,TextureLoader:lN,TorusGeometry:z_,TorusKnotGeometry:G_,Triangle:Ui,TriangleFanDrawMode:_1,TriangleStripDrawMode:VT,TrianglesDrawMode:lk,TubeGeometry:H_,TwoPassDoubleSide:h9,UVMapping:m_,Uint16BufferAttribute:KT,Uint32BufferAttribute:QT,Uint8BufferAttribute:AV,Uint8ClampedBufferAttribute:MV,Uniform:CC,UniformsGroup:EY,UniformsLib:at,UniformsUtils:ZT,UnsignedByteType:ra,UnsignedInt248Type:Kl,UnsignedIntType:Ha,UnsignedShort4444Type:FT,UnsignedShort5551Type:UT,UnsignedShortType:v_,VSMShadowMap:ho,Vector2:He,Vector3:q,Vector4:gn,VectorKeyframeTrack:Zd,VideoTexture:fJ,WebGL1Renderer:Dk,WebGL3DRenderTarget:uV,WebGLArrayRenderTarget:cV,WebGLCoordinateSystem:Zo,WebGLCubeRenderTarget:qT,WebGLMultipleRenderTargets:fV,WebGLRenderTarget:Po,WebGLRenderer:tC,WebGLUtils:Ik,WebGPUCoordinateSystem:Pm,WireframeGeometry:Jk,WrapAroundEnding:Cm,ZeroCurvatureEnding:cu,ZeroFactor:RU,ZeroSlopeEnding:uu,ZeroStencilOp:y9,_SRGBAFormat:x1,sRGBEncoding:Zl},Symbol.toStringTag,{value:"Module"}));var _N={exports:{}},qu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */qu.ConcurrentRoot=1;qu.ContinuousEventPriority=4;qu.DefaultEventPriority=16;qu.DiscreteEventPriority=1;qu.IdleEventPriority=536870912;qu.LegacyRoot=0;_N.exports=qu;var md=_N.exports;function jY(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=u?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const v=u(e);if(!f(p,v)){const y=p;c(p=v,y)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const XY=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),cB=XY?z.useEffect:z.useLayoutEffect;function xN(n){const e=typeof n=="function"?jY(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=z.useReducer(_=>_+1,0),o=e.getState(),a=z.useRef(o),l=z.useRef(r),c=z.useRef(i),u=z.useRef(!1),f=z.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(f.current,p)),cB(()=>{m&&(f.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const v=z.useRef(o);cB(()=>{const _=()=>{try{const x=e.getState(),S=l.current(x);c.current(f.current,S)||(a.current=x,f.current=S,s())}catch{u.current=!0,s()}},g=e.subscribe(_);return e.getState()!==v.current&&_(),g},[]);const y=m?p:f.current;return z.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var SN={exports:{}},AN={exports:{}},MN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,V){var G=O.length;O.push(V);e:for(;0<G;){var D=G-1>>>1,H=O[D];if(0<i(H,V))O[D]=V,O[G]=H,G=D;else break e}}function t(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var V=O[0],G=O.pop();if(G!==V){O[0]=G;e:for(var D=0,H=O.length,se=H>>>1;D<se;){var le=2*(D+1)-1,ae=O[le],ue=le+1,fe=O[ue];if(0>i(ae,G))ue<H&&0>i(fe,ae)?(O[D]=fe,O[ue]=G,D=ue):(O[D]=ae,O[le]=G,D=le);else if(ue<H&&0>i(fe,G))O[D]=fe,O[ue]=G,D=ue;else break e}}return V}function i(O,V){var G=O.sortIndex-V.sortIndex;return G!==0?G:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,v=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var V=t(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=O)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=t(c)}}function M(O){if(y=!1,S(O),!v)if(t(l)!==null)v=!0,X(w);else{var V=t(c);V!==null&&J(M,V.startTime-O)}}function w(O,V){v=!1,y&&(y=!1,g(R),R=-1),m=!0;var G=p;try{for(S(V),f=t(l);f!==null&&(!(f.expirationTime>V)||O&&!U());){var D=f.callback;if(typeof D=="function"){f.callback=null,p=f.priorityLevel;var H=D(f.expirationTime<=V);V=n.unstable_now(),typeof H=="function"?f.callback=H:f===t(l)&&r(l),S(V)}else r(l);f=t(l)}if(f!==null)var se=!0;else{var le=t(c);le!==null&&J(M,le.startTime-V),se=!1}return se}finally{f=null,p=G,m=!1}}var b=!1,T=null,R=-1,C=5,B=-1;function U(){return!(n.unstable_now()-B<C)}function k(){if(T!==null){var O=n.unstable_now();B=O;var V=!0;try{V=T(!0,O)}finally{V?W():(b=!1,T=null)}}else b=!1}var W;if(typeof x=="function")W=function(){x(k)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Q=Y.port2;Y.port1.onmessage=k,W=function(){Q.postMessage(null)}}else W=function(){_(k,0)};function X(O){T=O,b||(b=!0,W())}function J(O,V){R=_(function(){O(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,X(w))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(O){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var G=p;p=V;try{return O()}finally{p=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=p;p=O;try{return V()}finally{p=G}},n.unstable_scheduleCallback=function(O,V,G){var D=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?D+G:D):G=D,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,O={id:u++,callback:V,priorityLevel:O,startTime:G,expirationTime:H,sortIndex:-1},G>D?(O.sortIndex=G,e(c,O),t(l)===null&&O===t(c)&&(y?(g(R),R=-1):y=!0,J(M,G-D))):(O.sortIndex=H,e(l,O),v||m||(v=!0,X(w))),O},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(O){var V=p;return function(){var G=p;p=V;try{return O.apply(this,arguments)}finally{p=G}}}})(MN);AN.exports=MN;var uw=AN.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JY=function(e){var t={},r=z,i=uw,s=Object.assign;function o(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,A=1;A<arguments.length;A++)h+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),w=Symbol.iterator;function b(d){return d===null||typeof d!="object"?null:(d=w&&d[w]||d["@@iterator"],typeof d=="function"?d:null)}function T(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case _:return"Suspense";case g:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case v:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case y:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case x:return h=d.displayName||null,h!==null?h:T(d.type)||"Memo";case S:h=d._payload,d=d._init;try{return T(d(h))}catch{}}return null}function R(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(h);case 8:return h===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function C(d){var h=d,A=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,h.flags&4098&&(A=h.return),d=h.return;while(d)}return h.tag===3?A:null}function B(d){if(C(d)!==d)throw Error(o(188))}function U(d){var h=d.alternate;if(!h){if(h=C(d),h===null)throw Error(o(188));return h!==d?null:d}for(var A=d,E=h;;){var P=A.return;if(P===null)break;var L=P.alternate;if(L===null){if(E=P.return,E!==null){A=E;continue}break}if(P.child===L.child){for(L=P.child;L;){if(L===A)return B(P),d;if(L===E)return B(P),h;L=L.sibling}throw Error(o(188))}if(A.return!==E.return)A=P,E=L;else{for(var ne=!1,he=P.child;he;){if(he===A){ne=!0,A=P,E=L;break}if(he===E){ne=!0,E=P,A=L;break}he=he.sibling}if(!ne){for(he=L.child;he;){if(he===A){ne=!0,A=L,E=P;break}if(he===E){ne=!0,E=L,A=P;break}he=he.sibling}if(!ne)throw Error(o(189))}}if(A.alternate!==E)throw Error(o(190))}if(A.tag!==3)throw Error(o(188));return A.stateNode.current===A?d:h}function k(d){return d=U(d),d!==null?W(d):null}function W(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=W(d);if(h!==null)return h;d=d.sibling}return null}function Y(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=Y(d);if(h!==null)return h}d=d.sibling}return null}var Q=Array.isArray,X=e.getPublicInstance,J=e.getRootHostContext,O=e.getChildHostContext,V=e.prepareForCommit,G=e.resetAfterCommit,D=e.createInstance,H=e.appendInitialChild,se=e.finalizeInitialChildren,le=e.prepareUpdate,ae=e.shouldSetTextContent,ue=e.createTextInstance,fe=e.scheduleTimeout,ye=e.cancelTimeout,We=e.noTimeout,Je=e.isPrimaryRenderer,xe=e.supportsMutation,K=e.supportsPersistence,Te=e.supportsHydration,Ae=e.getInstanceFromNode,Ee=e.preparePortalMount,we=e.getCurrentEventPriority,Xe=e.detachDeletedInstance,Me=e.supportsMicrotasks,Le=e.scheduleMicrotask,Be=e.supportsTestSelectors,ve=e.findFiberRoot,Ye=e.getBoundingRect,$=e.getTextContent,N=e.isHiddenSubtree,ce=e.matchAccessibilityRole,Ge=e.setFocusIfFocusable,De=e.setupIntersectionObserver,Oe=e.appendChild,Ke=e.appendChildToContainer,je=e.commitTextUpdate,ge=e.commitMount,re=e.commitUpdate,_e=e.insertBefore,be=e.insertInContainerBefore,Re=e.removeChild,Ne=e.removeChildFromContainer,Ze=e.resetTextContent,it=e.hideInstance,oe=e.hideTextInstance,pe=e.unhideInstance,Se=e.unhideTextInstance,$e=e.clearContainer,Qe=e.cloneInstance,mt=e.createContainerChildSet,Et=e.appendChildToContainerChildSet,Tt=e.finalizeContainerChildren,Vt=e.replaceContainerChildren,Yt=e.cloneHiddenInstance,Xt=e.cloneHiddenTextInstance,Dt=e.canHydrateInstance,vr=e.canHydrateTextInstance,Zn=e.canHydrateSuspenseInstance,It=e.isSuspenseInstancePending,An=e.isSuspenseInstanceFallback,Gn=e.registerSuspenseInstanceRetry,an=e.getNextHydratableSibling,yt=e.getFirstHydratableChild,qn=e.getFirstHydratableChildWithinContainer,Ri=e.getFirstHydratableChildWithinSuspenseInstance,F=e.hydrateInstance,I=e.hydrateTextInstance,j=e.hydrateSuspenseInstance,ee=e.getNextHydratableInstanceAfterSuspenseInstance,Z=e.commitHydratedContainer,te=e.commitHydratedSuspenseInstance,Ce=e.clearSuspenseBoundary,Pe=e.clearSuspenseBoundaryFromContainer,Ue=e.shouldDeleteUnhydratedTailInstances,ke=e.didNotMatchHydratedContainerTextInstance,Ve=e.didNotMatchHydratedTextInstance,de;function ct(d){if(de===void 0)try{throw Error()}catch(A){var h=A.stack.trim().match(/\n( *(at )?)/);de=h&&h[1]||""}return`
`+de+d}var nt=!1;function tt(d,h){if(!d||nt)return"";nt=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(et){var E=et}Reflect.construct(d,[],h)}else{try{h.call()}catch(et){E=et}d.call(h.prototype)}else{try{throw Error()}catch(et){E=et}d()}}catch(et){if(et&&E&&typeof et.stack=="string"){for(var P=et.stack.split(`
`),L=E.stack.split(`
`),ne=P.length-1,he=L.length-1;1<=ne&&0<=he&&P[ne]!==L[he];)he--;for(;1<=ne&&0<=he;ne--,he--)if(P[ne]!==L[he]){if(ne!==1||he!==1)do if(ne--,he--,0>he||P[ne]!==L[he]){var ze=`
`+P[ne].replace(" at new "," at ");return d.displayName&&ze.includes("<anonymous>")&&(ze=ze.replace("<anonymous>",d.displayName)),ze}while(1<=ne&&0<=he);break}}}finally{nt=!1,Error.prepareStackTrace=A}return(d=d?d.displayName||d.name:"")?ct(d):""}var gt=Object.prototype.hasOwnProperty,At=[],_t=-1;function lt(d){return{current:d}}function Mt(d){0>_t||(d.current=At[_t],At[_t]=null,_t--)}function dt(d,h){_t++,At[_t]=d.current,d.current=h}var Ct={},ln=lt(Ct),bt=lt(!1),cn=Ct;function Qt(d,h){var A=d.type.contextTypes;if(!A)return Ct;var E=d.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===h)return E.__reactInternalMemoizedMaskedChildContext;var P={},L;for(L in A)P[L]=h[L];return E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=P),P}function fn(d){return d=d.childContextTypes,d!=null}function Mn(){Mt(bt),Mt(ln)}function Rt(d,h,A){if(ln.current!==Ct)throw Error(o(168));dt(ln,h),dt(bt,A)}function wn(d,h,A){var E=d.stateNode;if(h=h.childContextTypes,typeof E.getChildContext!="function")return A;E=E.getChildContext();for(var P in E)if(!(P in h))throw Error(o(108,R(d)||"Unknown",P));return s({},A,E)}function en(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Ct,cn=ln.current,dt(ln,d),dt(bt,bt.current),!0}function Bt(d,h,A){var E=d.stateNode;if(!E)throw Error(o(169));A?(d=wn(d,h,cn),E.__reactInternalMemoizedMergedChildContext=d,Mt(bt),Mt(ln),dt(ln,d)):Mt(bt),dt(bt,A)}var Rn=Math.clz32?Math.clz32:Ki,Pi=Math.log,ur=Math.LN2;function Ki(d){return d>>>=0,d===0?32:31-(Pi(d)/ur|0)|0}var ha=64,pa=4194304;function ma(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function xc(d,h){var A=d.pendingLanes;if(A===0)return 0;var E=0,P=d.suspendedLanes,L=d.pingedLanes,ne=A&268435455;if(ne!==0){var he=ne&~P;he!==0?E=ma(he):(L&=ne,L!==0&&(E=ma(L)))}else ne=A&~P,ne!==0?E=ma(ne):L!==0&&(E=ma(L));if(E===0)return 0;if(h!==0&&h!==E&&!(h&P)&&(P=E&-E,L=h&-h,P>=L||P===16&&(L&4194240)!==0))return h;if(E&4&&(E|=A&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=E;0<h;)A=31-Rn(h),P=1<<A,E|=d[A],h&=~P;return E}function Jg(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mh(d,h){for(var A=d.suspendedLanes,E=d.pingedLanes,P=d.expirationTimes,L=d.pendingLanes;0<L;){var ne=31-Rn(L),he=1<<ne,ze=P[ne];ze===-1?(!(he&A)||he&E)&&(P[ne]=Jg(he,h)):ze<=h&&(d.expiredLanes|=he),L&=~he}}function ga(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function rf(d){for(var h=[],A=0;31>A;A++)h.push(d);return h}function ko(d,h,A){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-Rn(h),d[h]=A}function il(d,h){var A=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var E=d.eventTimes;for(d=d.expirationTimes;0<A;){var P=31-Rn(A),L=1<<P;h[P]=0,E[P]=-1,d[P]=-1,A&=~L}}function No(d,h){var A=d.entangledLanes|=h;for(d=d.entanglements;A;){var E=31-Rn(A),P=1<<E;P&h|d[E]&h&&(d[E]|=h),A&=~P}}var Zt=0;function Eh(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var va=i.unstable_scheduleCallback,sf=i.unstable_cancelCallback,wh=i.unstable_shouldYield,Yg=i.unstable_requestPaint,Hn=i.unstable_now,Sc=i.unstable_ImmediatePriority,$g=i.unstable_UserBlockingPriority,pi=i.unstable_NormalPriority,bh=i.unstable_IdlePriority,Ac=null,Qi=null;function Th(d){if(Qi&&typeof Qi.onCommitFiberRoot=="function")try{Qi.onCommitFiberRoot(Ac,d,void 0,(d.current.flags&128)===128)}catch{}}function Kg(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var Zi=typeof Object.is=="function"?Object.is:Kg,mi=null,zo=!1,Ms=!1;function Ch(d){mi===null?mi=[d]:mi.push(d)}function Rh(d){zo=!0,Ch(d)}function Ii(){if(!Ms&&mi!==null){Ms=!0;var d=0,h=Zt;try{var A=mi;for(Zt=1;d<A.length;d++){var E=A[d];do E=E(!0);while(E!==null)}mi=null,zo=!1}catch(P){throw mi!==null&&(mi=mi.slice(d+1)),va(Sc,Ii),P}finally{Zt=h,Ms=!1}}return null}var Mc=a.ReactCurrentBatchConfig;function Ec(d,h){if(Zi(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var A=Object.keys(d),E=Object.keys(h);if(A.length!==E.length)return!1;for(E=0;E<A.length;E++){var P=A[E];if(!gt.call(h,P)||!Zi(d[P],h[P]))return!1}return!0}function wc(d){switch(d.tag){case 5:return ct(d.type);case 16:return ct("Lazy");case 13:return ct("Suspense");case 19:return ct("SuspenseList");case 0:case 2:case 15:return d=tt(d.type,!1),d;case 11:return d=tt(d.type.render,!1),d;case 1:return d=tt(d.type,!0),d;default:return""}}function gi(d,h){if(d&&d.defaultProps){h=s({},h),d=d.defaultProps;for(var A in d)h[A]===void 0&&(h[A]=d[A]);return h}return h}var Br=lt(null),of=null,ro=null,sl=null;function af(){sl=ro=of=null}function Qg(d,h,A){Je?(dt(Br,h._currentValue),h._currentValue=A):(dt(Br,h._currentValue2),h._currentValue2=A)}function Lr(d){var h=Br.current;Mt(Br),Je?d._currentValue=h:d._currentValue2=h}function vi(d,h,A){for(;d!==null;){var E=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,E!==null&&(E.childLanes|=h)):E!==null&&(E.childLanes&h)!==h&&(E.childLanes|=h),d===A)break;d=d.return}}function fr(d,h){of=d,sl=ro=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&h&&(ns=!0),d.firstContext=null)}function dr(d){var h=Je?d._currentValue:d._currentValue2;if(sl!==d)if(d={context:d,memoizedValue:h,next:null},ro===null){if(of===null)throw Error(o(308));ro=d,of.dependencies={lanes:0,firstContext:d}}else ro=ro.next=d;return h}var qi=null,ol=!1;function Bx(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tR(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function ya(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function al(d,h){var A=d.updateQueue;A!==null&&(A=A.shared,yr!==null&&d.mode&1&&!($t&2)?(d=A.interleaved,d===null?(h.next=h,qi===null?qi=[A]:qi.push(A)):(h.next=d.next,d.next=h),A.interleaved=h):(d=A.pending,d===null?h.next=h:(h.next=d.next,d.next=h),A.pending=h))}function Zg(d,h,A){if(h=h.updateQueue,h!==null&&(h=h.shared,(A&4194240)!==0)){var E=h.lanes;E&=d.pendingLanes,A|=E,h.lanes=A,No(d,A)}}function nR(d,h){var A=d.updateQueue,E=d.alternate;if(E!==null&&(E=E.updateQueue,A===E)){var P=null,L=null;if(A=A.firstBaseUpdate,A!==null){do{var ne={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};L===null?P=L=ne:L=L.next=ne,A=A.next}while(A!==null);L===null?P=L=h:L=L.next=h}else P=L=h;A={baseState:E.baseState,firstBaseUpdate:P,lastBaseUpdate:L,shared:E.shared,effects:E.effects},d.updateQueue=A;return}d=A.lastBaseUpdate,d===null?A.firstBaseUpdate=h:d.next=h,A.lastBaseUpdate=h}function qg(d,h,A,E){var P=d.updateQueue;ol=!1;var L=P.firstBaseUpdate,ne=P.lastBaseUpdate,he=P.shared.pending;if(he!==null){P.shared.pending=null;var ze=he,et=ze.next;ze.next=null,ne===null?L=et:ne.next=et,ne=ze;var pt=d.alternate;pt!==null&&(pt=pt.updateQueue,he=pt.lastBaseUpdate,he!==ne&&(he===null?pt.firstBaseUpdate=et:he.next=et,pt.lastBaseUpdate=ze))}if(L!==null){var kt=P.baseState;ne=0,pt=et=ze=null,he=L;do{var wt=he.lane,bn=he.eventTime;if((E&wt)===wt){pt!==null&&(pt=pt.next={eventTime:bn,lane:0,tag:he.tag,payload:he.payload,callback:he.callback,next:null});e:{var St=d,ei=he;switch(wt=h,bn=A,ei.tag){case 1:if(St=ei.payload,typeof St=="function"){kt=St.call(bn,kt,wt);break e}kt=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=ei.payload,wt=typeof St=="function"?St.call(bn,kt,wt):St,wt==null)break e;kt=s({},kt,wt);break e;case 2:ol=!0}}he.callback!==null&&he.lane!==0&&(d.flags|=64,wt=P.effects,wt===null?P.effects=[he]:wt.push(he))}else bn={eventTime:bn,lane:wt,tag:he.tag,payload:he.payload,callback:he.callback,next:null},pt===null?(et=pt=bn,ze=kt):pt=pt.next=bn,ne|=wt;if(he=he.next,he===null){if(he=P.shared.pending,he===null)break;wt=he,he=wt.next,wt.next=null,P.lastBaseUpdate=wt,P.shared.pending=null}}while(1);if(pt===null&&(ze=kt),P.baseState=ze,P.firstBaseUpdate=et,P.lastBaseUpdate=pt,h=P.shared.interleaved,h!==null){P=h;do ne|=P.lane,P=P.next;while(P!==h)}else L===null&&(P.shared.lanes=0);gf|=ne,d.lanes=ne,d.memoizedState=kt}}function rR(d,h,A){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var E=d[h],P=E.callback;if(P!==null){if(E.callback=null,E=A,typeof P!="function")throw Error(o(191,P));P.call(E)}}}var iR=new r.Component().refs;function Lx(d,h,A,E){h=d.memoizedState,A=A(E,h),A=A==null?h:s({},h,A),d.memoizedState=A,d.lanes===0&&(d.updateQueue.baseState=A)}var e0={isMounted:function(d){return(d=d._reactInternals)?C(d)===d:!1},enqueueSetState:function(d,h,A){d=d._reactInternals;var E=_i(),P=ul(d),L=ya(E,P);L.payload=h,A!=null&&(L.callback=A),al(d,L),h=Cs(d,P,E),h!==null&&Zg(h,d,P)},enqueueReplaceState:function(d,h,A){d=d._reactInternals;var E=_i(),P=ul(d),L=ya(E,P);L.tag=1,L.payload=h,A!=null&&(L.callback=A),al(d,L),h=Cs(d,P,E),h!==null&&Zg(h,d,P)},enqueueForceUpdate:function(d,h){d=d._reactInternals;var A=_i(),E=ul(d),P=ya(A,E);P.tag=2,h!=null&&(P.callback=h),al(d,P),h=Cs(d,E,A),h!==null&&Zg(h,d,E)}};function sR(d,h,A,E,P,L,ne){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(E,L,ne):h.prototype&&h.prototype.isPureReactComponent?!Ec(A,E)||!Ec(P,L):!0}function oR(d,h,A){var E=!1,P=Ct,L=h.contextType;return typeof L=="object"&&L!==null?L=dr(L):(P=fn(h)?cn:ln.current,E=h.contextTypes,L=(E=E!=null)?Qt(d,P):Ct),h=new h(A,L),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=e0,d.stateNode=h,h._reactInternals=d,E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=P,d.__reactInternalMemoizedMaskedChildContext=L),h}function aR(d,h,A,E){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(A,E),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(A,E),h.state!==d&&e0.enqueueReplaceState(h,h.state,null)}function Dx(d,h,A,E){var P=d.stateNode;P.props=A,P.state=d.memoizedState,P.refs=iR,Bx(d);var L=h.contextType;typeof L=="object"&&L!==null?P.context=dr(L):(L=fn(h)?cn:ln.current,P.context=Qt(d,L)),P.state=d.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(Lx(d,h,L,A),P.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(h=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),h!==P.state&&e0.enqueueReplaceState(P,P.state,null),qg(d,A,P,E),P.state=d.memoizedState),typeof P.componentDidMount=="function"&&(d.flags|=4194308)}var lf=[],cf=0,t0=null,n0=0,Es=[],ws=0,bc=null,_a=1,xa="";function Tc(d,h){lf[cf++]=n0,lf[cf++]=t0,t0=d,n0=h}function lR(d,h,A){Es[ws++]=_a,Es[ws++]=xa,Es[ws++]=bc,bc=d;var E=_a;d=xa;var P=32-Rn(E)-1;E&=~(1<<P),A+=1;var L=32-Rn(h)+P;if(30<L){var ne=P-P%5;L=(E&(1<<ne)-1).toString(32),E>>=ne,P-=ne,_a=1<<32-Rn(h)+P|A<<P|E,xa=L+d}else _a=1<<L|A<<P|E,xa=d}function Ox(d){d.return!==null&&(Tc(d,1),lR(d,1,0))}function Fx(d){for(;d===t0;)t0=lf[--cf],lf[cf]=null,n0=lf[--cf],lf[cf]=null;for(;d===bc;)bc=Es[--ws],Es[ws]=null,xa=Es[--ws],Es[ws]=null,_a=Es[--ws],Es[ws]=null}var es=null,ts=null,Un=!1,Ph=!1,io=null;function cR(d,h){var A=Rs(5,null,null,0);A.elementType="DELETED",A.stateNode=h,A.return=d,h=d.deletions,h===null?(d.deletions=[A],d.flags|=16):h.push(A)}function uR(d,h){switch(d.tag){case 5:return h=Dt(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,es=d,ts=yt(h),!0):!1;case 6:return h=vr(h,d.pendingProps),h!==null?(d.stateNode=h,es=d,ts=null,!0):!1;case 13:if(h=Zn(h),h!==null){var A=bc!==null?{id:_a,overflow:xa}:null;return d.memoizedState={dehydrated:h,treeContext:A,retryLane:1073741824},A=Rs(18,null,null,0),A.stateNode=h,A.return=d,d.child=A,es=d,ts=null,!0}return!1;default:return!1}}function Ux(d){return(d.mode&1)!==0&&(d.flags&128)===0}function kx(d){if(Un){var h=ts;if(h){var A=h;if(!uR(d,h)){if(Ux(d))throw Error(o(418));h=an(A);var E=es;h&&uR(d,h)?cR(E,A):(d.flags=d.flags&-4097|2,Un=!1,es=d)}}else{if(Ux(d))throw Error(o(418));d.flags=d.flags&-4097|2,Un=!1,es=d}}}function fR(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;es=d}function Ih(d){if(!Te||d!==es)return!1;if(!Un)return fR(d),Un=!0,!1;if(d.tag!==3&&(d.tag!==5||Ue(d.type)&&!ae(d.type,d.memoizedProps))){var h=ts;if(h){if(Ux(d)){for(d=ts;d;)d=an(d);throw Error(o(418))}for(;h;)cR(d,h),h=an(h)}}if(fR(d),d.tag===13){if(!Te)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));ts=ee(d)}else ts=es?an(d.stateNode):null;return!0}function uf(){Te&&(ts=es=null,Ph=Un=!1)}function Nx(d){io===null?io=[d]:io.push(d)}function Bh(d,h,A){if(d=A.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(o(309));var E=A.stateNode}if(!E)throw Error(o(147,d));var P=E,L=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===L?h.ref:(h=function(ne){var he=P.refs;he===iR&&(he=P.refs={}),ne===null?delete he[L]:he[L]=ne},h._stringRef=L,h)}if(typeof d!="string")throw Error(o(284));if(!A._owner)throw Error(o(290,d))}return d}function r0(d,h){throw d=Object.prototype.toString.call(h),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function dR(d){var h=d._init;return h(d._payload)}function hR(d){function h(Ie,me){if(d){var Fe=Ie.deletions;Fe===null?(Ie.deletions=[me],Ie.flags|=16):Fe.push(me)}}function A(Ie,me){if(!d)return null;for(;me!==null;)h(Ie,me),me=me.sibling;return null}function E(Ie,me){for(Ie=new Map;me!==null;)me.key!==null?Ie.set(me.key,me):Ie.set(me.index,me),me=me.sibling;return Ie}function P(Ie,me){return Ie=dl(Ie,me),Ie.index=0,Ie.sibling=null,Ie}function L(Ie,me,Fe){return Ie.index=Fe,d?(Fe=Ie.alternate,Fe!==null?(Fe=Fe.index,Fe<me?(Ie.flags|=2,me):Fe):(Ie.flags|=2,me)):(Ie.flags|=1048576,me)}function ne(Ie){return d&&Ie.alternate===null&&(Ie.flags|=2),Ie}function he(Ie,me,Fe,ft){return me===null||me.tag!==6?(me=AS(Fe,Ie.mode,ft),me.return=Ie,me):(me=P(me,Fe),me.return=Ie,me)}function ze(Ie,me,Fe,ft){var xt=Fe.type;return xt===u?pt(Ie,me,Fe.props.children,ft,Fe.key):me!==null&&(me.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===S&&dR(xt)===me.type)?(ft=P(me,Fe.props),ft.ref=Bh(Ie,me,Fe),ft.return=Ie,ft):(ft=D0(Fe.type,Fe.key,Fe.props,null,Ie.mode,ft),ft.ref=Bh(Ie,me,Fe),ft.return=Ie,ft)}function et(Ie,me,Fe,ft){return me===null||me.tag!==4||me.stateNode.containerInfo!==Fe.containerInfo||me.stateNode.implementation!==Fe.implementation?(me=MS(Fe,Ie.mode,ft),me.return=Ie,me):(me=P(me,Fe.children||[]),me.return=Ie,me)}function pt(Ie,me,Fe,ft,xt){return me===null||me.tag!==7?(me=Dc(Fe,Ie.mode,ft,xt),me.return=Ie,me):(me=P(me,Fe),me.return=Ie,me)}function kt(Ie,me,Fe){if(typeof me=="string"&&me!==""||typeof me=="number")return me=AS(""+me,Ie.mode,Fe),me.return=Ie,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return Fe=D0(me.type,me.key,me.props,null,Ie.mode,Fe),Fe.ref=Bh(Ie,null,me),Fe.return=Ie,Fe;case c:return me=MS(me,Ie.mode,Fe),me.return=Ie,me;case S:var ft=me._init;return kt(Ie,ft(me._payload),Fe)}if(Q(me)||b(me))return me=Dc(me,Ie.mode,Fe,null),me.return=Ie,me;r0(Ie,me)}return null}function wt(Ie,me,Fe,ft){var xt=me!==null?me.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return xt!==null?null:he(Ie,me,""+Fe,ft);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:return Fe.key===xt?ze(Ie,me,Fe,ft):null;case c:return Fe.key===xt?et(Ie,me,Fe,ft):null;case S:return xt=Fe._init,wt(Ie,me,xt(Fe._payload),ft)}if(Q(Fe)||b(Fe))return xt!==null?null:pt(Ie,me,Fe,ft,null);r0(Ie,Fe)}return null}function bn(Ie,me,Fe,ft,xt){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return Ie=Ie.get(Fe)||null,he(me,Ie,""+ft,xt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case l:return Ie=Ie.get(ft.key===null?Fe:ft.key)||null,ze(me,Ie,ft,xt);case c:return Ie=Ie.get(ft.key===null?Fe:ft.key)||null,et(me,Ie,ft,xt);case S:var Jt=ft._init;return bn(Ie,me,Fe,Jt(ft._payload),xt)}if(Q(ft)||b(ft))return Ie=Ie.get(Fe)||null,pt(me,Ie,ft,xt,null);r0(me,ft)}return null}function St(Ie,me,Fe,ft){for(var xt=null,Jt=null,Nt=me,dn=me=0,Or=null;Nt!==null&&dn<Fe.length;dn++){Nt.index>dn?(Or=Nt,Nt=null):Or=Nt.sibling;var hn=wt(Ie,Nt,Fe[dn],ft);if(hn===null){Nt===null&&(Nt=Or);break}d&&Nt&&hn.alternate===null&&h(Ie,Nt),me=L(hn,me,dn),Jt===null?xt=hn:Jt.sibling=hn,Jt=hn,Nt=Or}if(dn===Fe.length)return A(Ie,Nt),Un&&Tc(Ie,dn),xt;if(Nt===null){for(;dn<Fe.length;dn++)Nt=kt(Ie,Fe[dn],ft),Nt!==null&&(me=L(Nt,me,dn),Jt===null?xt=Nt:Jt.sibling=Nt,Jt=Nt);return Un&&Tc(Ie,dn),xt}for(Nt=E(Ie,Nt);dn<Fe.length;dn++)Or=bn(Nt,Ie,dn,Fe[dn],ft),Or!==null&&(d&&Or.alternate!==null&&Nt.delete(Or.key===null?dn:Or.key),me=L(Or,me,dn),Jt===null?xt=Or:Jt.sibling=Or,Jt=Or);return d&&Nt.forEach(function(hl){return h(Ie,hl)}),Un&&Tc(Ie,dn),xt}function ei(Ie,me,Fe,ft){var xt=b(Fe);if(typeof xt!="function")throw Error(o(150));if(Fe=xt.call(Fe),Fe==null)throw Error(o(151));for(var Jt=xt=null,Nt=me,dn=me=0,Or=null,hn=Fe.next();Nt!==null&&!hn.done;dn++,hn=Fe.next()){Nt.index>dn?(Or=Nt,Nt=null):Or=Nt.sibling;var hl=wt(Ie,Nt,hn.value,ft);if(hl===null){Nt===null&&(Nt=Or);break}d&&Nt&&hl.alternate===null&&h(Ie,Nt),me=L(hl,me,dn),Jt===null?xt=hl:Jt.sibling=hl,Jt=hl,Nt=Or}if(hn.done)return A(Ie,Nt),Un&&Tc(Ie,dn),xt;if(Nt===null){for(;!hn.done;dn++,hn=Fe.next())hn=kt(Ie,hn.value,ft),hn!==null&&(me=L(hn,me,dn),Jt===null?xt=hn:Jt.sibling=hn,Jt=hn);return Un&&Tc(Ie,dn),xt}for(Nt=E(Ie,Nt);!hn.done;dn++,hn=Fe.next())hn=bn(Nt,Ie,dn,hn.value,ft),hn!==null&&(d&&hn.alternate!==null&&Nt.delete(hn.key===null?dn:hn.key),me=L(hn,me,dn),Jt===null?xt=hn:Jt.sibling=hn,Jt=hn);return d&&Nt.forEach(function(zG){return h(Ie,zG)}),Un&&Tc(Ie,dn),xt}function Ps(Ie,me,Fe,ft){if(typeof Fe=="object"&&Fe!==null&&Fe.type===u&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:e:{for(var xt=Fe.key,Jt=me;Jt!==null;){if(Jt.key===xt){if(xt=Fe.type,xt===u){if(Jt.tag===7){A(Ie,Jt.sibling),me=P(Jt,Fe.props.children),me.return=Ie,Ie=me;break e}}else if(Jt.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===S&&dR(xt)===Jt.type){A(Ie,Jt.sibling),me=P(Jt,Fe.props),me.ref=Bh(Ie,Jt,Fe),me.return=Ie,Ie=me;break e}A(Ie,Jt);break}else h(Ie,Jt);Jt=Jt.sibling}Fe.type===u?(me=Dc(Fe.props.children,Ie.mode,ft,Fe.key),me.return=Ie,Ie=me):(ft=D0(Fe.type,Fe.key,Fe.props,null,Ie.mode,ft),ft.ref=Bh(Ie,me,Fe),ft.return=Ie,Ie=ft)}return ne(Ie);case c:e:{for(Jt=Fe.key;me!==null;){if(me.key===Jt)if(me.tag===4&&me.stateNode.containerInfo===Fe.containerInfo&&me.stateNode.implementation===Fe.implementation){A(Ie,me.sibling),me=P(me,Fe.children||[]),me.return=Ie,Ie=me;break e}else{A(Ie,me);break}else h(Ie,me);me=me.sibling}me=MS(Fe,Ie.mode,ft),me.return=Ie,Ie=me}return ne(Ie);case S:return Jt=Fe._init,Ps(Ie,me,Jt(Fe._payload),ft)}if(Q(Fe))return St(Ie,me,Fe,ft);if(b(Fe))return ei(Ie,me,Fe,ft);r0(Ie,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,me!==null&&me.tag===6?(A(Ie,me.sibling),me=P(me,Fe),me.return=Ie,Ie=me):(A(Ie,me),me=AS(Fe,Ie.mode,ft),me.return=Ie,Ie=me),ne(Ie)):A(Ie,me)}return Ps}var ff=hR(!0),pR=hR(!1),Lh={},bs=lt(Lh),Dh=lt(Lh),df=lt(Lh);function Go(d){if(d===Lh)throw Error(o(174));return d}function zx(d,h){dt(df,h),dt(Dh,d),dt(bs,Lh),d=J(h),Mt(bs),dt(bs,d)}function hf(){Mt(bs),Mt(Dh),Mt(df)}function mR(d){var h=Go(df.current),A=Go(bs.current);h=O(A,d.type,h),A!==h&&(dt(Dh,d),dt(bs,h))}function Gx(d){Dh.current===d&&(Mt(bs),Mt(Dh))}var Vn=lt(0);function i0(d){for(var h=d;h!==null;){if(h.tag===13){var A=h.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||It(A)||An(A)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Hx=[];function Vx(){for(var d=0;d<Hx.length;d++){var h=Hx[d];Je?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}Hx.length=0}var s0=a.ReactCurrentDispatcher,Ts=a.ReactCurrentBatchConfig,pf=0,er=null,Qr=null,Dr=null,o0=!1,Oh=!1,Fh=0,fG=0;function Zr(){throw Error(o(321))}function Wx(d,h){if(h===null)return!1;for(var A=0;A<h.length&&A<d.length;A++)if(!Zi(d[A],h[A]))return!1;return!0}function jx(d,h,A,E,P,L){if(pf=L,er=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,s0.current=d===null||d.memoizedState===null?mG:gG,d=A(E,P),Oh){L=0;do{if(Oh=!1,Fh=0,25<=L)throw Error(o(301));L+=1,Dr=Qr=null,h.updateQueue=null,s0.current=vG,d=A(E,P)}while(Oh)}if(s0.current=f0,h=Qr!==null&&Qr.next!==null,pf=0,Dr=Qr=er=null,o0=!1,h)throw Error(o(300));return d}function Xx(){var d=Fh!==0;return Fh=0,d}function Sa(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?er.memoizedState=Dr=d:Dr=Dr.next=d,Dr}function Ho(){if(Qr===null){var d=er.alternate;d=d!==null?d.memoizedState:null}else d=Qr.next;var h=Dr===null?er.memoizedState:Dr.next;if(h!==null)Dr=h,Qr=d;else{if(d===null)throw Error(o(310));Qr=d,d={memoizedState:Qr.memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},Dr===null?er.memoizedState=Dr=d:Dr=Dr.next=d}return Dr}function Cc(d,h){return typeof h=="function"?h(d):h}function a0(d){var h=Ho(),A=h.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=d;var E=Qr,P=E.baseQueue,L=A.pending;if(L!==null){if(P!==null){var ne=P.next;P.next=L.next,L.next=ne}E.baseQueue=P=L,A.pending=null}if(P!==null){L=P.next,E=E.baseState;var he=ne=null,ze=null,et=L;do{var pt=et.lane;if((pf&pt)===pt)ze!==null&&(ze=ze.next={lane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),E=et.hasEagerState?et.eagerState:d(E,et.action);else{var kt={lane:pt,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null};ze===null?(he=ze=kt,ne=E):ze=ze.next=kt,er.lanes|=pt,gf|=pt}et=et.next}while(et!==null&&et!==L);ze===null?ne=E:ze.next=he,Zi(E,h.memoizedState)||(ns=!0),h.memoizedState=E,h.baseState=ne,h.baseQueue=ze,A.lastRenderedState=E}if(d=A.interleaved,d!==null){P=d;do L=P.lane,er.lanes|=L,gf|=L,P=P.next;while(P!==d)}else P===null&&(A.lanes=0);return[h.memoizedState,A.dispatch]}function l0(d){var h=Ho(),A=h.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=d;var E=A.dispatch,P=A.pending,L=h.memoizedState;if(P!==null){A.pending=null;var ne=P=P.next;do L=d(L,ne.action),ne=ne.next;while(ne!==P);Zi(L,h.memoizedState)||(ns=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),A.lastRenderedState=L}return[L,E]}function gR(){}function vR(d,h){var A=er,E=Ho(),P=h(),L=!Zi(E.memoizedState,P);if(L&&(E.memoizedState=P,ns=!0),E=E.queue,kh(xR.bind(null,A,E,d),[d]),E.getSnapshot!==h||L||Dr!==null&&Dr.memoizedState.tag&1){if(A.flags|=2048,Uh(9,_R.bind(null,A,E,P,h),void 0,null),yr===null)throw Error(o(349));pf&30||yR(A,h,P)}return P}function yR(d,h,A){d.flags|=16384,d={getSnapshot:h,value:A},h=er.updateQueue,h===null?(h={lastEffect:null,stores:null},er.updateQueue=h,h.stores=[d]):(A=h.stores,A===null?h.stores=[d]:A.push(d))}function _R(d,h,A,E){h.value=A,h.getSnapshot=E,SR(h)&&Cs(d,1,-1)}function xR(d,h,A){return A(function(){SR(h)&&Cs(d,1,-1)})}function SR(d){var h=d.getSnapshot;d=d.value;try{var A=h();return!Zi(d,A)}catch{return!0}}function Jx(d){var h=Sa();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:d},h.queue=d,d=d.dispatch=pG.bind(null,er,d),[h.memoizedState,d]}function Uh(d,h,A,E){return d={tag:d,create:h,destroy:A,deps:E,next:null},h=er.updateQueue,h===null?(h={lastEffect:null,stores:null},er.updateQueue=h,h.lastEffect=d.next=d):(A=h.lastEffect,A===null?h.lastEffect=d.next=d:(E=A.next,A.next=d,d.next=E,h.lastEffect=d)),d}function AR(){return Ho().memoizedState}function c0(d,h,A,E){var P=Sa();er.flags|=d,P.memoizedState=Uh(1|h,A,void 0,E===void 0?null:E)}function u0(d,h,A,E){var P=Ho();E=E===void 0?null:E;var L=void 0;if(Qr!==null){var ne=Qr.memoizedState;if(L=ne.destroy,E!==null&&Wx(E,ne.deps)){P.memoizedState=Uh(h,A,L,E);return}}er.flags|=d,P.memoizedState=Uh(1|h,A,L,E)}function Yx(d,h){return c0(8390656,8,d,h)}function kh(d,h){return u0(2048,8,d,h)}function MR(d,h){return u0(4,2,d,h)}function ER(d,h){return u0(4,4,d,h)}function wR(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function bR(d,h,A){return A=A!=null?A.concat([d]):null,u0(4,4,wR.bind(null,h,d),A)}function $x(){}function TR(d,h){var A=Ho();h=h===void 0?null:h;var E=A.memoizedState;return E!==null&&h!==null&&Wx(h,E[1])?E[0]:(A.memoizedState=[d,h],d)}function CR(d,h){var A=Ho();h=h===void 0?null:h;var E=A.memoizedState;return E!==null&&h!==null&&Wx(h,E[1])?E[0]:(d=d(),A.memoizedState=[d,h],d)}function dG(d,h){var A=Zt;Zt=A!==0&&4>A?A:4,d(!0);var E=Ts.transition;Ts.transition={};try{d(!1),h()}finally{Zt=A,Ts.transition=E}}function RR(){return Ho().memoizedState}function hG(d,h,A){var E=ul(d);A={lane:E,action:A,hasEagerState:!1,eagerState:null,next:null},PR(d)?IR(h,A):(BR(d,h,A),A=_i(),d=Cs(d,E,A),d!==null&&LR(d,h,E))}function pG(d,h,A){var E=ul(d),P={lane:E,action:A,hasEagerState:!1,eagerState:null,next:null};if(PR(d))IR(h,P);else{BR(d,h,P);var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var ne=h.lastRenderedState,he=L(ne,A);if(P.hasEagerState=!0,P.eagerState=he,Zi(he,ne))return}catch{}finally{}A=_i(),d=Cs(d,E,A),d!==null&&LR(d,h,E)}}function PR(d){var h=d.alternate;return d===er||h!==null&&h===er}function IR(d,h){Oh=o0=!0;var A=d.pending;A===null?h.next=h:(h.next=A.next,A.next=h),d.pending=h}function BR(d,h,A){yr!==null&&d.mode&1&&!($t&2)?(d=h.interleaved,d===null?(A.next=A,qi===null?qi=[h]:qi.push(h)):(A.next=d.next,d.next=A),h.interleaved=A):(d=h.pending,d===null?A.next=A:(A.next=d.next,d.next=A),h.pending=A)}function LR(d,h,A){if(A&4194240){var E=h.lanes;E&=d.pendingLanes,A|=E,h.lanes=A,No(d,A)}}var f0={readContext:dr,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},mG={readContext:dr,useCallback:function(d,h){return Sa().memoizedState=[d,h===void 0?null:h],d},useContext:dr,useEffect:Yx,useImperativeHandle:function(d,h,A){return A=A!=null?A.concat([d]):null,c0(4194308,4,wR.bind(null,h,d),A)},useLayoutEffect:function(d,h){return c0(4194308,4,d,h)},useInsertionEffect:function(d,h){return c0(4,2,d,h)},useMemo:function(d,h){var A=Sa();return h=h===void 0?null:h,d=d(),A.memoizedState=[d,h],d},useReducer:function(d,h,A){var E=Sa();return h=A!==void 0?A(h):h,E.memoizedState=E.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},E.queue=d,d=d.dispatch=hG.bind(null,er,d),[E.memoizedState,d]},useRef:function(d){var h=Sa();return d={current:d},h.memoizedState=d},useState:Jx,useDebugValue:$x,useDeferredValue:function(d){var h=Jx(d),A=h[0],E=h[1];return Yx(function(){var P=Ts.transition;Ts.transition={};try{E(d)}finally{Ts.transition=P}},[d]),A},useTransition:function(){var d=Jx(!1),h=d[0];return d=dG.bind(null,d[1]),Sa().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,A){var E=er,P=Sa();if(Un){if(A===void 0)throw Error(o(407));A=A()}else{if(A=h(),yr===null)throw Error(o(349));pf&30||yR(E,h,A)}P.memoizedState=A;var L={value:A,getSnapshot:h};return P.queue=L,Yx(xR.bind(null,E,L,d),[d]),E.flags|=2048,Uh(9,_R.bind(null,E,L,A,h),void 0,null),A},useId:function(){var d=Sa(),h=yr.identifierPrefix;if(Un){var A=xa,E=_a;A=(E&~(1<<32-Rn(E)-1)).toString(32)+A,h=":"+h+"R"+A,A=Fh++,0<A&&(h+="H"+A.toString(32)),h+=":"}else A=fG++,h=":"+h+"r"+A.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},gG={readContext:dr,useCallback:TR,useContext:dr,useEffect:kh,useImperativeHandle:bR,useInsertionEffect:MR,useLayoutEffect:ER,useMemo:CR,useReducer:a0,useRef:AR,useState:function(){return a0(Cc)},useDebugValue:$x,useDeferredValue:function(d){var h=a0(Cc),A=h[0],E=h[1];return kh(function(){var P=Ts.transition;Ts.transition={};try{E(d)}finally{Ts.transition=P}},[d]),A},useTransition:function(){var d=a0(Cc)[0],h=Ho().memoizedState;return[d,h]},useMutableSource:gR,useSyncExternalStore:vR,useId:RR,unstable_isNewReconciler:!1},vG={readContext:dr,useCallback:TR,useContext:dr,useEffect:kh,useImperativeHandle:bR,useInsertionEffect:MR,useLayoutEffect:ER,useMemo:CR,useReducer:l0,useRef:AR,useState:function(){return l0(Cc)},useDebugValue:$x,useDeferredValue:function(d){var h=l0(Cc),A=h[0],E=h[1];return kh(function(){var P=Ts.transition;Ts.transition={};try{E(d)}finally{Ts.transition=P}},[d]),A},useTransition:function(){var d=l0(Cc)[0],h=Ho().memoizedState;return[d,h]},useMutableSource:gR,useSyncExternalStore:vR,useId:RR,unstable_isNewReconciler:!1};function Kx(d,h){try{var A="",E=h;do A+=wc(E),E=E.return;while(E);var P=A}catch(L){P=`
Error generating stack: `+L.message+`
`+L.stack}return{value:d,source:h,stack:P}}function Qx(d,h){try{console.error(h.value)}catch(A){setTimeout(function(){throw A})}}var yG=typeof WeakMap=="function"?WeakMap:Map;function DR(d,h,A){A=ya(-1,A),A.tag=3,A.payload={element:null};var E=h.value;return A.callback=function(){T0||(T0=!0,mS=E),Qx(d,h)},A}function OR(d,h,A){A=ya(-1,A),A.tag=3;var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var P=h.value;A.payload=function(){return E(P)},A.callback=function(){Qx(d,h)}}var L=d.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(A.callback=function(){Qx(d,h),typeof E!="function"&&(ll===null?ll=new Set([this]):ll.add(this));var ne=h.stack;this.componentDidCatch(h.value,{componentStack:ne!==null?ne:""})}),A}function FR(d,h,A){var E=d.pingCache;if(E===null){E=d.pingCache=new yG;var P=new Set;E.set(h,P)}else P=E.get(h),P===void 0&&(P=new Set,E.set(h,P));P.has(A)||(P.add(A),d=BG.bind(null,d,h,A),h.then(d,d))}function UR(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function kR(d,h,A,E,P){return d.mode&1?(d.flags|=65536,d.lanes=P,d):(d===h?d.flags|=65536:(d.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(h=ya(-1,1),h.tag=2,al(A,h))),A.lanes|=1),d)}function Vo(d){d.flags|=4}function NR(d,h){if(d!==null&&d.child===h.child)return!0;if(h.flags&16)return!1;for(d=h.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Nh,zh,d0,h0;if(xe)Nh=function(d,h){for(var A=h.child;A!==null;){if(A.tag===5||A.tag===6)H(d,A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},zh=function(){},d0=function(d,h,A,E,P){if(d=d.memoizedProps,d!==E){var L=h.stateNode,ne=Go(bs.current);A=le(L,A,d,E,P,ne),(h.updateQueue=A)&&Vo(h)}},h0=function(d,h,A,E){A!==E&&Vo(h)};else if(K){Nh=function(d,h,A,E){for(var P=h.child;P!==null;){if(P.tag===5){var L=P.stateNode;A&&E&&(L=Yt(L,P.type,P.memoizedProps,P)),H(d,L)}else if(P.tag===6)L=P.stateNode,A&&E&&(L=Xt(L,P.memoizedProps,P)),H(d,L);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)L=P.child,L!==null&&(L.return=P),Nh(d,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===h)break;for(;P.sibling===null;){if(P.return===null||P.return===h)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var zR=function(d,h,A,E){for(var P=h.child;P!==null;){if(P.tag===5){var L=P.stateNode;A&&E&&(L=Yt(L,P.type,P.memoizedProps,P)),Et(d,L)}else if(P.tag===6)L=P.stateNode,A&&E&&(L=Xt(L,P.memoizedProps,P)),Et(d,L);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)L=P.child,L!==null&&(L.return=P),zR(d,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===h)break;for(;P.sibling===null;){if(P.return===null||P.return===h)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};zh=function(d,h){var A=h.stateNode;if(!NR(d,h)){d=A.containerInfo;var E=mt(d);zR(E,h,!1,!1),A.pendingChildren=E,Vo(h),Tt(d,E)}},d0=function(d,h,A,E,P){var L=d.stateNode,ne=d.memoizedProps;if((d=NR(d,h))&&ne===E)h.stateNode=L;else{var he=h.stateNode,ze=Go(bs.current),et=null;ne!==E&&(et=le(he,A,ne,E,P,ze)),d&&et===null?h.stateNode=L:(L=Qe(L,et,A,ne,E,h,d,he),se(L,A,E,P,ze)&&Vo(h),h.stateNode=L,d?Vo(h):Nh(L,h,!1,!1))}},h0=function(d,h,A,E){A!==E?(d=Go(df.current),A=Go(bs.current),h.stateNode=ue(E,d,A,h),Vo(h)):h.stateNode=d.stateNode}}else zh=function(){},d0=function(){},h0=function(){};function Gh(d,h){if(!Un)switch(d.tailMode){case"hidden":h=d.tail;for(var A=null;h!==null;)h.alternate!==null&&(A=h),h=h.sibling;A===null?d.tail=null:A.sibling=null;break;case"collapsed":A=d.tail;for(var E=null;A!==null;)A.alternate!==null&&(E=A),A=A.sibling;E===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:E.sibling=null}}function qr(d){var h=d.alternate!==null&&d.alternate.child===d.child,A=0,E=0;if(h)for(var P=d.child;P!==null;)A|=P.lanes|P.childLanes,E|=P.subtreeFlags&14680064,E|=P.flags&14680064,P.return=d,P=P.sibling;else for(P=d.child;P!==null;)A|=P.lanes|P.childLanes,E|=P.subtreeFlags,E|=P.flags,P.return=d,P=P.sibling;return d.subtreeFlags|=E,d.childLanes=A,h}function _G(d,h,A){var E=h.pendingProps;switch(Fx(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(h),null;case 1:return fn(h.type)&&Mn(),qr(h),null;case 3:return E=h.stateNode,hf(),Mt(bt),Mt(ln),Vx(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(d===null||d.child===null)&&(Ih(h)?Vo(h):d===null||d.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,io!==null&&(yS(io),io=null))),zh(d,h),qr(h),null;case 5:Gx(h),A=Go(df.current);var P=h.type;if(d!==null&&h.stateNode!=null)d0(d,h,P,E,A),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!E){if(h.stateNode===null)throw Error(o(166));return qr(h),null}if(d=Go(bs.current),Ih(h)){if(!Te)throw Error(o(175));d=F(h.stateNode,h.type,h.memoizedProps,A,d,h,!Ph),h.updateQueue=d,d!==null&&Vo(h)}else{var L=D(P,E,A,d,h);Nh(L,h,!1,!1),h.stateNode=L,se(L,P,E,A,d)&&Vo(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return qr(h),null;case 6:if(d&&h.stateNode!=null)h0(d,h,d.memoizedProps,E);else{if(typeof E!="string"&&h.stateNode===null)throw Error(o(166));if(d=Go(df.current),A=Go(bs.current),Ih(h)){if(!Te)throw Error(o(176));if(d=h.stateNode,E=h.memoizedProps,(A=I(d,E,h,!Ph))&&(P=es,P!==null))switch(L=(P.mode&1)!==0,P.tag){case 3:ke(P.stateNode.containerInfo,d,E,L);break;case 5:Ve(P.type,P.memoizedProps,P.stateNode,d,E,L)}A&&Vo(h)}else h.stateNode=ue(E,d,A,h)}return qr(h),null;case 13:if(Mt(Vn),E=h.memoizedState,Un&&ts!==null&&h.mode&1&&!(h.flags&128)){for(d=ts;d;)d=an(d);return uf(),h.flags|=98560,h}if(E!==null&&E.dehydrated!==null){if(E=Ih(h),d===null){if(!E)throw Error(o(318));if(!Te)throw Error(o(344));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));j(d,h)}else uf(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return qr(h),null}return io!==null&&(yS(io),io=null),h.flags&128?(h.lanes=A,h):(E=E!==null,A=!1,d===null?Ih(h):A=d.memoizedState!==null,E&&!A&&(h.child.flags|=8192,h.mode&1&&(d===null||Vn.current&1?br===0&&(br=3):xS())),h.updateQueue!==null&&(h.flags|=4),qr(h),null);case 4:return hf(),zh(d,h),d===null&&Ee(h.stateNode.containerInfo),qr(h),null;case 10:return Lr(h.type._context),qr(h),null;case 17:return fn(h.type)&&Mn(),qr(h),null;case 19:if(Mt(Vn),P=h.memoizedState,P===null)return qr(h),null;if(E=(h.flags&128)!==0,L=P.rendering,L===null)if(E)Gh(P,!1);else{if(br!==0||d!==null&&d.flags&128)for(d=h.child;d!==null;){if(L=i0(d),L!==null){for(h.flags|=128,Gh(P,!1),d=L.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=A,E=h.child;E!==null;)A=E,P=d,A.flags&=14680066,L=A.alternate,L===null?(A.childLanes=0,A.lanes=P,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=L.childLanes,A.lanes=L.lanes,A.child=L.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=L.memoizedProps,A.memoizedState=L.memoizedState,A.updateQueue=L.updateQueue,A.type=L.type,P=L.dependencies,A.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),E=E.sibling;return dt(Vn,Vn.current&1|2),h.child}d=d.sibling}P.tail!==null&&Hn()>pS&&(h.flags|=128,E=!0,Gh(P,!1),h.lanes=4194304)}else{if(!E)if(d=i0(L),d!==null){if(h.flags|=128,E=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),Gh(P,!0),P.tail===null&&P.tailMode==="hidden"&&!L.alternate&&!Un)return qr(h),null}else 2*Hn()-P.renderingStartTime>pS&&A!==1073741824&&(h.flags|=128,E=!0,Gh(P,!1),h.lanes=4194304);P.isBackwards?(L.sibling=h.child,h.child=L):(d=P.last,d!==null?d.sibling=L:h.child=L,P.last=L)}return P.tail!==null?(h=P.tail,P.rendering=h,P.tail=h.sibling,P.renderingStartTime=Hn(),h.sibling=null,d=Vn.current,dt(Vn,E?d&1|2:d&1),h):(qr(h),null);case 22:case 23:return _S(),E=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==E&&(h.flags|=8192),E&&h.mode&1?rs&1073741824&&(qr(h),xe&&h.subtreeFlags&6&&(h.flags|=8192)):qr(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var xG=a.ReactCurrentOwner,ns=!1;function yi(d,h,A,E){h.child=d===null?pR(h,null,A,E):ff(h,d.child,A,E)}function GR(d,h,A,E,P){A=A.render;var L=h.ref;return fr(h,P),E=jx(d,h,A,E,L,P),A=Xx(),d!==null&&!ns?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~P,Aa(d,h,P)):(Un&&A&&Ox(h),h.flags|=1,yi(d,h,E,P),h.child)}function HR(d,h,A,E,P){if(d===null){var L=A.type;return typeof L=="function"&&!SS(L)&&L.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(h.tag=15,h.type=L,VR(d,h,L,E,P)):(d=D0(A.type,null,E,h,h.mode,P),d.ref=h.ref,d.return=h,h.child=d)}if(L=d.child,!(d.lanes&P)){var ne=L.memoizedProps;if(A=A.compare,A=A!==null?A:Ec,A(ne,E)&&d.ref===h.ref)return Aa(d,h,P)}return h.flags|=1,d=dl(L,E),d.ref=h.ref,d.return=h,h.child=d}function VR(d,h,A,E,P){if(d!==null&&Ec(d.memoizedProps,E)&&d.ref===h.ref)if(ns=!1,(d.lanes&P)!==0)d.flags&131072&&(ns=!0);else return h.lanes=d.lanes,Aa(d,h,P);return Zx(d,h,A,E,P)}function WR(d,h,A){var E=h.pendingProps,P=E.children,L=d!==null?d.memoizedState:null;if(E.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},dt(mf,rs),rs|=A;else if(A&1073741824)h.memoizedState={baseLanes:0,cachePool:null},E=L!==null?L.baseLanes:A,dt(mf,rs),rs|=E;else return d=L!==null?L.baseLanes|A:A,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null},h.updateQueue=null,dt(mf,rs),rs|=d,null;else L!==null?(E=L.baseLanes|A,h.memoizedState=null):E=A,dt(mf,rs),rs|=E;return yi(d,h,P,A),h.child}function jR(d,h){var A=h.ref;(d===null&&A!==null||d!==null&&d.ref!==A)&&(h.flags|=512,h.flags|=2097152)}function Zx(d,h,A,E,P){var L=fn(A)?cn:ln.current;return L=Qt(h,L),fr(h,P),A=jx(d,h,A,E,L,P),E=Xx(),d!==null&&!ns?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~P,Aa(d,h,P)):(Un&&E&&Ox(h),h.flags|=1,yi(d,h,A,P),h.child)}function XR(d,h,A,E,P){if(fn(A)){var L=!0;en(h)}else L=!1;if(fr(h,P),h.stateNode===null)d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),oR(h,A,E),Dx(h,A,E,P),E=!0;else if(d===null){var ne=h.stateNode,he=h.memoizedProps;ne.props=he;var ze=ne.context,et=A.contextType;typeof et=="object"&&et!==null?et=dr(et):(et=fn(A)?cn:ln.current,et=Qt(h,et));var pt=A.getDerivedStateFromProps,kt=typeof pt=="function"||typeof ne.getSnapshotBeforeUpdate=="function";kt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(he!==E||ze!==et)&&aR(h,ne,E,et),ol=!1;var wt=h.memoizedState;ne.state=wt,qg(h,E,ne,P),ze=h.memoizedState,he!==E||wt!==ze||bt.current||ol?(typeof pt=="function"&&(Lx(h,A,pt,E),ze=h.memoizedState),(he=ol||sR(h,A,he,E,wt,ze,et))?(kt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(h.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=E,h.memoizedState=ze),ne.props=E,ne.state=ze,ne.context=et,E=he):(typeof ne.componentDidMount=="function"&&(h.flags|=4194308),E=!1)}else{ne=h.stateNode,tR(d,h),he=h.memoizedProps,et=h.type===h.elementType?he:gi(h.type,he),ne.props=et,kt=h.pendingProps,wt=ne.context,ze=A.contextType,typeof ze=="object"&&ze!==null?ze=dr(ze):(ze=fn(A)?cn:ln.current,ze=Qt(h,ze));var bn=A.getDerivedStateFromProps;(pt=typeof bn=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(he!==kt||wt!==ze)&&aR(h,ne,E,ze),ol=!1,wt=h.memoizedState,ne.state=wt,qg(h,E,ne,P);var St=h.memoizedState;he!==kt||wt!==St||bt.current||ol?(typeof bn=="function"&&(Lx(h,A,bn,E),St=h.memoizedState),(et=ol||sR(h,A,et,E,wt,St,ze)||!1)?(pt||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(E,St,ze),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(E,St,ze)),typeof ne.componentDidUpdate=="function"&&(h.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof ne.componentDidUpdate!="function"||he===d.memoizedProps&&wt===d.memoizedState||(h.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||he===d.memoizedProps&&wt===d.memoizedState||(h.flags|=1024),h.memoizedProps=E,h.memoizedState=St),ne.props=E,ne.state=St,ne.context=ze,E=et):(typeof ne.componentDidUpdate!="function"||he===d.memoizedProps&&wt===d.memoizedState||(h.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||he===d.memoizedProps&&wt===d.memoizedState||(h.flags|=1024),E=!1)}return qx(d,h,A,E,L,P)}function qx(d,h,A,E,P,L){jR(d,h);var ne=(h.flags&128)!==0;if(!E&&!ne)return P&&Bt(h,A,!1),Aa(d,h,L);E=h.stateNode,xG.current=h;var he=ne&&typeof A.getDerivedStateFromError!="function"?null:E.render();return h.flags|=1,d!==null&&ne?(h.child=ff(h,d.child,null,L),h.child=ff(h,null,he,L)):yi(d,h,he,L),h.memoizedState=E.state,P&&Bt(h,A,!0),h.child}function JR(d){var h=d.stateNode;h.pendingContext?Rt(d,h.pendingContext,h.pendingContext!==h.context):h.context&&Rt(d,h.context,!1),zx(d,h.containerInfo)}function YR(d,h,A,E,P){return uf(),Nx(P),h.flags|=256,yi(d,h,A,E),h.child}var p0={dehydrated:null,treeContext:null,retryLane:0};function m0(d){return{baseLanes:d,cachePool:null}}function $R(d,h,A){var E=h.pendingProps,P=Vn.current,L=!1,ne=(h.flags&128)!==0,he;if((he=ne)||(he=d!==null&&d.memoizedState===null?!1:(P&2)!==0),he?(L=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(P|=1),dt(Vn,P&1),d===null)return kx(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(h.mode&1?An(d)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(P=E.children,d=E.fallback,L?(E=h.mode,L=h.child,P={mode:"hidden",children:P},!(E&1)&&L!==null?(L.childLanes=0,L.pendingProps=P):L=O0(P,E,0,null),d=Dc(d,E,A,null),L.return=h,d.return=h,L.sibling=d,h.child=L,h.child.memoizedState=m0(A),h.memoizedState=p0,d):eS(h,P));if(P=d.memoizedState,P!==null){if(he=P.dehydrated,he!==null){if(ne)return h.flags&256?(h.flags&=-257,g0(d,h,A,Error(o(422)))):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(L=E.fallback,P=h.mode,E=O0({mode:"visible",children:E.children},P,0,null),L=Dc(L,P,A,null),L.flags|=2,E.return=h,L.return=h,E.sibling=L,h.child=E,h.mode&1&&ff(h,d.child,null,A),h.child.memoizedState=m0(A),h.memoizedState=p0,L);if(!(h.mode&1))h=g0(d,h,A,null);else if(An(he))h=g0(d,h,A,Error(o(419)));else if(E=(A&d.childLanes)!==0,ns||E){if(E=yr,E!==null){switch(A&-A){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}E=L&(E.suspendedLanes|A)?0:L,E!==0&&E!==P.retryLane&&(P.retryLane=E,Cs(d,E,-1))}xS(),h=g0(d,h,A,Error(o(421)))}else It(he)?(h.flags|=128,h.child=d.child,h=LG.bind(null,d),Gn(he,h),h=null):(A=P.treeContext,Te&&(ts=Ri(he),es=h,Un=!0,io=null,Ph=!1,A!==null&&(Es[ws++]=_a,Es[ws++]=xa,Es[ws++]=bc,_a=A.id,xa=A.overflow,bc=h)),h=eS(h,h.pendingProps.children),h.flags|=4096);return h}return L?(E=QR(d,h,E.children,E.fallback,A),L=h.child,P=d.child.memoizedState,L.memoizedState=P===null?m0(A):{baseLanes:P.baseLanes|A,cachePool:null},L.childLanes=d.childLanes&~A,h.memoizedState=p0,E):(A=KR(d,h,E.children,A),h.memoizedState=null,A)}return L?(E=QR(d,h,E.children,E.fallback,A),L=h.child,P=d.child.memoizedState,L.memoizedState=P===null?m0(A):{baseLanes:P.baseLanes|A,cachePool:null},L.childLanes=d.childLanes&~A,h.memoizedState=p0,E):(A=KR(d,h,E.children,A),h.memoizedState=null,A)}function eS(d,h){return h=O0({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function KR(d,h,A,E){var P=d.child;return d=P.sibling,A=dl(P,{mode:"visible",children:A}),!(h.mode&1)&&(A.lanes=E),A.return=h,A.sibling=null,d!==null&&(E=h.deletions,E===null?(h.deletions=[d],h.flags|=16):E.push(d)),h.child=A}function QR(d,h,A,E,P){var L=h.mode;d=d.child;var ne=d.sibling,he={mode:"hidden",children:A};return!(L&1)&&h.child!==d?(A=h.child,A.childLanes=0,A.pendingProps=he,h.deletions=null):(A=dl(d,he),A.subtreeFlags=d.subtreeFlags&14680064),ne!==null?E=dl(ne,E):(E=Dc(E,L,P,null),E.flags|=2),E.return=h,A.return=h,A.sibling=E,h.child=A,E}function g0(d,h,A,E){return E!==null&&Nx(E),ff(h,d.child,null,A),d=eS(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function ZR(d,h,A){d.lanes|=h;var E=d.alternate;E!==null&&(E.lanes|=h),vi(d.return,h,A)}function tS(d,h,A,E,P){var L=d.memoizedState;L===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:E,tail:A,tailMode:P}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=E,L.tail=A,L.tailMode=P)}function qR(d,h,A){var E=h.pendingProps,P=E.revealOrder,L=E.tail;if(yi(d,h,E.children,A),E=Vn.current,E&2)E=E&1|2,h.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&ZR(d,A,h);else if(d.tag===19)ZR(d,A,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}E&=1}if(dt(Vn,E),!(h.mode&1))h.memoizedState=null;else switch(P){case"forwards":for(A=h.child,P=null;A!==null;)d=A.alternate,d!==null&&i0(d)===null&&(P=A),A=A.sibling;A=P,A===null?(P=h.child,h.child=null):(P=A.sibling,A.sibling=null),tS(h,!1,P,A,L);break;case"backwards":for(A=null,P=h.child,h.child=null;P!==null;){if(d=P.alternate,d!==null&&i0(d)===null){h.child=P;break}d=P.sibling,P.sibling=A,A=P,P=d}tS(h,!0,A,null,L);break;case"together":tS(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Aa(d,h,A){if(d!==null&&(h.dependencies=d.dependencies),gf|=h.lanes,!(A&h.childLanes))return null;if(d!==null&&h.child!==d.child)throw Error(o(153));if(h.child!==null){for(d=h.child,A=dl(d,d.pendingProps),h.child=A,A.return=h;d.sibling!==null;)d=d.sibling,A=A.sibling=dl(d,d.pendingProps),A.return=h;A.sibling=null}return h.child}function SG(d,h,A){switch(h.tag){case 3:JR(h),uf();break;case 5:mR(h);break;case 1:fn(h.type)&&en(h);break;case 4:zx(h,h.stateNode.containerInfo);break;case 10:Qg(h,h.type._context,h.memoizedProps.value);break;case 13:var E=h.memoizedState;if(E!==null)return E.dehydrated!==null?(dt(Vn,Vn.current&1),h.flags|=128,null):A&h.child.childLanes?$R(d,h,A):(dt(Vn,Vn.current&1),d=Aa(d,h,A),d!==null?d.sibling:null);dt(Vn,Vn.current&1);break;case 19:if(E=(A&h.childLanes)!==0,d.flags&128){if(E)return qR(d,h,A);h.flags|=128}var P=h.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),dt(Vn,Vn.current),E)break;return null;case 22:case 23:return h.lanes=0,WR(d,h,A)}return Aa(d,h,A)}function AG(d,h){switch(Fx(h),h.tag){case 1:return fn(h.type)&&Mn(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return hf(),Mt(bt),Mt(ln),Vx(),d=h.flags,d&65536&&!(d&128)?(h.flags=d&-65537|128,h):null;case 5:return Gx(h),null;case 13:if(Mt(Vn),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(o(340));uf()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Mt(Vn),null;case 4:return hf(),null;case 10:return Lr(h.type._context),null;case 22:case 23:return _S(),null;case 24:return null;default:return null}}var v0=!1,Rc=!1,MG=typeof WeakSet=="function"?WeakSet:Set,ut=null;function y0(d,h){var A=d.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(E){Di(d,h,E)}else A.current=null}function nS(d,h,A){try{A()}catch(E){Di(d,h,E)}}var eP=!1;function EG(d,h){for(V(d.containerInfo),ut=h;ut!==null;)if(d=ut,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,ut=h;else for(;ut!==null;){d=ut;try{var A=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var E=A.memoizedProps,P=A.memoizedState,L=d.stateNode,ne=L.getSnapshotBeforeUpdate(d.elementType===d.type?E:gi(d.type,E),P);L.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:xe&&$e(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(he){Di(d,d.return,he)}if(h=d.sibling,h!==null){h.return=d.return,ut=h;break}ut=d.return}return A=eP,eP=!1,A}function Pc(d,h,A){var E=h.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var P=E=E.next;do{if((P.tag&d)===d){var L=P.destroy;P.destroy=void 0,L!==void 0&&nS(h,A,L)}P=P.next}while(P!==E)}}function Hh(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var A=h=h.next;do{if((A.tag&d)===d){var E=A.create;A.destroy=E()}A=A.next}while(A!==h)}}function rS(d){var h=d.ref;if(h!==null){var A=d.stateNode;switch(d.tag){case 5:d=X(A);break;default:d=A}typeof h=="function"?h(d):h.current=d}}function tP(d,h,A){if(Qi&&typeof Qi.onCommitFiberUnmount=="function")try{Qi.onCommitFiberUnmount(Ac,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var E=d=d.next;do{var P=E,L=P.destroy;P=P.tag,L!==void 0&&(P&2||P&4)&&nS(h,A,L),E=E.next}while(E!==d)}break;case 1:if(y0(h,A),d=h.stateNode,typeof d.componentWillUnmount=="function")try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch(ne){Di(h,A,ne)}break;case 5:y0(h,A);break;case 4:xe?aP(d,h,A):K&&K&&(h=h.stateNode.containerInfo,A=mt(h),Vt(h,A))}}function nP(d,h,A){for(var E=h;;)if(tP(d,E,A),E.child===null||xe&&E.tag===4){if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else E.child.return=E,E=E.child}function rP(d){var h=d.alternate;h!==null&&(d.alternate=null,rP(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&Xe(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function iP(d){return d.tag===5||d.tag===3||d.tag===4}function sP(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||iP(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function oP(d){if(xe){e:{for(var h=d.return;h!==null;){if(iP(h))break e;h=h.return}throw Error(o(160))}var A=h;switch(A.tag){case 5:h=A.stateNode,A.flags&32&&(Ze(h),A.flags&=-33),A=sP(d),sS(d,A,h);break;case 3:case 4:h=A.stateNode.containerInfo,A=sP(d),iS(d,A,h);break;default:throw Error(o(161))}}}function iS(d,h,A){var E=d.tag;if(E===5||E===6)d=d.stateNode,h?be(A,d,h):Ke(A,d);else if(E!==4&&(d=d.child,d!==null))for(iS(d,h,A),d=d.sibling;d!==null;)iS(d,h,A),d=d.sibling}function sS(d,h,A){var E=d.tag;if(E===5||E===6)d=d.stateNode,h?_e(A,d,h):Oe(A,d);else if(E!==4&&(d=d.child,d!==null))for(sS(d,h,A),d=d.sibling;d!==null;)sS(d,h,A),d=d.sibling}function aP(d,h,A){for(var E=h,P=!1,L,ne;;){if(!P){P=E.return;e:for(;;){if(P===null)throw Error(o(160));switch(L=P.stateNode,P.tag){case 5:ne=!1;break e;case 3:L=L.containerInfo,ne=!0;break e;case 4:L=L.containerInfo,ne=!0;break e}P=P.return}P=!0}if(E.tag===5||E.tag===6)nP(d,E,A),ne?Ne(L,E.stateNode):Re(L,E.stateNode);else if(E.tag===18)ne?Pe(L,E.stateNode):Ce(L,E.stateNode);else if(E.tag===4){if(E.child!==null){L=E.stateNode.containerInfo,ne=!0,E.child.return=E,E=E.child;continue}}else if(tP(d,E,A),E.child!==null){E.child.return=E,E=E.child;continue}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return,E.tag===4&&(P=!1)}E.sibling.return=E.return,E=E.sibling}}function oS(d,h){if(xe){switch(h.tag){case 0:case 11:case 14:case 15:Pc(3,h,h.return),Hh(3,h),Pc(5,h,h.return);return;case 1:return;case 5:var A=h.stateNode;if(A!=null){var E=h.memoizedProps;d=d!==null?d.memoizedProps:E;var P=h.type,L=h.updateQueue;h.updateQueue=null,L!==null&&re(A,L,P,d,E,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));A=h.memoizedProps,je(h.stateNode,d!==null?d.memoizedProps:A,A);return;case 3:Te&&d!==null&&d.memoizedState.isDehydrated&&Z(h.stateNode.containerInfo);return;case 12:return;case 13:_0(h);return;case 19:_0(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:Pc(3,h,h.return),Hh(3,h),Pc(5,h,h.return);return;case 12:return;case 13:_0(h);return;case 19:_0(h);return;case 3:Te&&d!==null&&d.memoizedState.isDehydrated&&Z(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(K){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,Vt(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function _0(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var A=d.stateNode;A===null&&(A=d.stateNode=new MG),h.forEach(function(E){var P=DG.bind(null,d,E);A.has(E)||(A.add(E),E.then(P,P))})}}function wG(d,h){for(ut=h;ut!==null;){h=ut;var A=h.deletions;if(A!==null)for(var E=0;E<A.length;E++){var P=A[E];try{var L=d;xe?aP(L,P,h):nP(L,P,h);var ne=P.alternate;ne!==null&&(ne.return=null),P.return=null}catch(xt){Di(P,h,xt)}}if(A=h.child,h.subtreeFlags&12854&&A!==null)A.return=h,ut=A;else for(;ut!==null;){h=ut;try{var he=h.flags;if(he&32&&xe&&Ze(h.stateNode),he&512){var ze=h.alternate;if(ze!==null){var et=ze.ref;et!==null&&(typeof et=="function"?et(null):et.current=null)}}if(he&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var pt=h.alternate;(pt===null||pt.memoizedState===null)&&(hS=Hn())}break;case 22:var kt=h.memoizedState!==null,wt=h.alternate,bn=wt!==null&&wt.memoizedState!==null;if(A=h,xe){e:if(E=A,P=kt,L=null,xe)for(var St=E;;){if(St.tag===5){if(L===null){L=St;var ei=St.stateNode;P?it(ei):pe(St.stateNode,St.memoizedProps)}}else if(St.tag===6){if(L===null){var Ps=St.stateNode;P?oe(Ps):Se(Ps,St.memoizedProps)}}else if((St.tag!==22&&St.tag!==23||St.memoizedState===null||St===E)&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===E)break;for(;St.sibling===null;){if(St.return===null||St.return===E)break e;L===St&&(L=null),St=St.return}L===St&&(L=null),St.sibling.return=St.return,St=St.sibling}}if(kt&&!bn&&A.mode&1){ut=A;for(var Ie=A.child;Ie!==null;){for(A=ut=Ie;ut!==null;){E=ut;var me=E.child;switch(E.tag){case 0:case 11:case 14:case 15:Pc(4,E,E.return);break;case 1:y0(E,E.return);var Fe=E.stateNode;if(typeof Fe.componentWillUnmount=="function"){var ft=E.return;try{Fe.props=E.memoizedProps,Fe.state=E.memoizedState,Fe.componentWillUnmount()}catch(xt){Di(E,ft,xt)}}break;case 5:y0(E,E.return);break;case 22:if(E.memoizedState!==null){uP(A);continue}}me!==null?(me.return=E,ut=me):uP(A)}Ie=Ie.sibling}}}switch(he&4102){case 2:oP(h),h.flags&=-3;break;case 6:oP(h),h.flags&=-3,oS(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,oS(h.alternate,h);break;case 4:oS(h.alternate,h)}}catch(xt){Di(h,h.return,xt)}if(A=h.sibling,A!==null){A.return=h.return,ut=A;break}ut=h.return}}}function bG(d,h,A){ut=d,lP(d)}function lP(d,h,A){for(var E=(d.mode&1)!==0;ut!==null;){var P=ut,L=P.child;if(P.tag===22&&E){var ne=P.memoizedState!==null||v0;if(!ne){var he=P.alternate,ze=he!==null&&he.memoizedState!==null||Rc;he=v0;var et=Rc;if(v0=ne,(Rc=ze)&&!et)for(ut=P;ut!==null;)ne=ut,ze=ne.child,ne.tag===22&&ne.memoizedState!==null?fP(P):ze!==null?(ze.return=ne,ut=ze):fP(P);for(;L!==null;)ut=L,lP(L),L=L.sibling;ut=P,v0=he,Rc=et}cP(d)}else P.subtreeFlags&8772&&L!==null?(L.return=P,ut=L):cP(d)}}function cP(d){for(;ut!==null;){var h=ut;if(h.flags&8772){var A=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Rc||Hh(5,h);break;case 1:var E=h.stateNode;if(h.flags&4&&!Rc)if(A===null)E.componentDidMount();else{var P=h.elementType===h.type?A.memoizedProps:gi(h.type,A.memoizedProps);E.componentDidUpdate(P,A.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&rR(h,L,E);break;case 3:var ne=h.updateQueue;if(ne!==null){if(A=null,h.child!==null)switch(h.child.tag){case 5:A=X(h.child.stateNode);break;case 1:A=h.child.stateNode}rR(h,ne,A)}break;case 5:var he=h.stateNode;A===null&&h.flags&4&&ge(he,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Te&&h.memoizedState===null){var ze=h.alternate;if(ze!==null){var et=ze.memoizedState;if(et!==null){var pt=et.dehydrated;pt!==null&&te(pt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Rc||h.flags&512&&rS(h)}catch(kt){Di(h,h.return,kt)}}if(h===d){ut=null;break}if(A=h.sibling,A!==null){A.return=h.return,ut=A;break}ut=h.return}}function uP(d){for(;ut!==null;){var h=ut;if(h===d){ut=null;break}var A=h.sibling;if(A!==null){A.return=h.return,ut=A;break}ut=h.return}}function fP(d){for(;ut!==null;){var h=ut;try{switch(h.tag){case 0:case 11:case 15:var A=h.return;try{Hh(4,h)}catch(ze){Di(h,A,ze)}break;case 1:var E=h.stateNode;if(typeof E.componentDidMount=="function"){var P=h.return;try{E.componentDidMount()}catch(ze){Di(h,P,ze)}}var L=h.return;try{rS(h)}catch(ze){Di(h,L,ze)}break;case 5:var ne=h.return;try{rS(h)}catch(ze){Di(h,ne,ze)}}}catch(ze){Di(h,h.return,ze)}if(h===d){ut=null;break}var he=h.sibling;if(he!==null){he.return=h.return,ut=he;break}ut=h.return}}var x0=0,S0=1,A0=2,M0=3,E0=4;if(typeof Symbol=="function"&&Symbol.for){var Vh=Symbol.for;x0=Vh("selector.component"),S0=Vh("selector.has_pseudo_class"),A0=Vh("selector.role"),M0=Vh("selector.test_id"),E0=Vh("selector.text")}function aS(d){var h=Ae(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(d=ve(d),d===null)throw Error(o(362));return d.stateNode.current}function lS(d,h){switch(h.$$typeof){case x0:if(d.type===h.value)return!0;break;case S0:e:{h=h.value,d=[d,0];for(var A=0;A<d.length;){var E=d[A++],P=d[A++],L=h[P];if(E.tag!==5||!N(E)){for(;L!=null&&lS(E,L);)P++,L=h[P];if(P===h.length){h=!0;break e}else for(E=E.child;E!==null;)d.push(E,P),E=E.sibling}}h=!1}return h;case A0:if(d.tag===5&&ce(d.stateNode,h.value))return!0;break;case E0:if((d.tag===5||d.tag===6)&&(d=$(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case M0:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function cS(d){switch(d.$$typeof){case x0:return"<"+(T(d.value)||"Unknown")+">";case S0:return":has("+(cS(d)||"")+")";case A0:return'[role="'+d.value+'"]';case E0:return'"'+d.value+'"';case M0:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function dP(d,h){var A=[];d=[d,0];for(var E=0;E<d.length;){var P=d[E++],L=d[E++],ne=h[L];if(P.tag!==5||!N(P)){for(;ne!=null&&lS(P,ne);)L++,ne=h[L];if(L===h.length)A.push(P);else for(P=P.child;P!==null;)d.push(P,L),P=P.sibling}}return A}function uS(d,h){if(!Be)throw Error(o(363));d=aS(d),d=dP(d,h),h=[],d=Array.from(d);for(var A=0;A<d.length;){var E=d[A++];if(E.tag===5)N(E)||h.push(E.stateNode);else for(E=E.child;E!==null;)d.push(E),E=E.sibling}return h}var TG=Math.ceil,w0=a.ReactCurrentDispatcher,fS=a.ReactCurrentOwner,hr=a.ReactCurrentBatchConfig,$t=0,yr=null,_r=null,Vr=0,rs=0,mf=lt(0),br=0,Wh=null,gf=0,b0=0,dS=0,jh=null,Bi=null,hS=0,pS=1/0;function vf(){pS=Hn()+500}var T0=!1,mS=null,ll=null,C0=!1,cl=null,R0=0,Xh=0,gS=null,P0=-1,I0=0;function _i(){return $t&6?Hn():P0!==-1?P0:P0=Hn()}function ul(d){return d.mode&1?$t&2&&Vr!==0?Vr&-Vr:Mc.transition!==null?(I0===0&&(d=ha,ha<<=1,!(ha&4194240)&&(ha=64),I0=d),I0):(d=Zt,d!==0?d:we()):1}function Cs(d,h,A){if(50<Xh)throw Xh=0,gS=null,Error(o(185));var E=B0(d,h);return E===null?null:(ko(E,h,A),(!($t&2)||E!==yr)&&(E===yr&&(!($t&2)&&(b0|=h),br===4&&fl(E,Vr)),Li(E,A),h===1&&$t===0&&!(d.mode&1)&&(vf(),zo&&Ii())),E)}function B0(d,h){d.lanes|=h;var A=d.alternate;for(A!==null&&(A.lanes|=h),A=d,d=d.return;d!==null;)d.childLanes|=h,A=d.alternate,A!==null&&(A.childLanes|=h),A=d,d=d.return;return A.tag===3?A.stateNode:null}function Li(d,h){var A=d.callbackNode;Mh(d,h);var E=xc(d,d===yr?Vr:0);if(E===0)A!==null&&sf(A),d.callbackNode=null,d.callbackPriority=0;else if(h=E&-E,d.callbackPriority!==h){if(A!=null&&sf(A),h===1)d.tag===0?Rh(pP.bind(null,d)):Ch(pP.bind(null,d)),Me?Le(function(){$t===0&&Ii()}):va(Sc,Ii),A=null;else{switch(Eh(E)){case 1:A=Sc;break;case 4:A=$g;break;case 16:A=pi;break;case 536870912:A=bh;break;default:A=pi}A=MP(A,hP.bind(null,d))}d.callbackPriority=h,d.callbackNode=A}}function hP(d,h){if(P0=-1,I0=0,$t&6)throw Error(o(327));var A=d.callbackNode;if(Lc()&&d.callbackNode!==A)return null;var E=xc(d,d===yr?Vr:0);if(E===0)return null;if(E&30||E&d.expiredLanes||h)h=L0(d,E);else{h=E;var P=$t;$t|=2;var L=vP();(yr!==d||Vr!==h)&&(vf(),Ic(d,h));do try{PG();break}catch(he){gP(d,he)}while(1);af(),w0.current=L,$t=P,_r!==null?h=0:(yr=null,Vr=0,h=br)}if(h!==0){if(h===2&&(P=ga(d),P!==0&&(E=P,h=vS(d,P))),h===1)throw A=Wh,Ic(d,0),fl(d,E),Li(d,Hn()),A;if(h===6)fl(d,E);else{if(P=d.current.alternate,!(E&30)&&!CG(P)&&(h=L0(d,E),h===2&&(L=ga(d),L!==0&&(E=L,h=vS(d,L))),h===1))throw A=Wh,Ic(d,0),fl(d,E),Li(d,Hn()),A;switch(d.finishedWork=P,d.finishedLanes=E,h){case 0:case 1:throw Error(o(345));case 2:Bc(d,Bi);break;case 3:if(fl(d,E),(E&130023424)===E&&(h=hS+500-Hn(),10<h)){if(xc(d,0)!==0)break;if(P=d.suspendedLanes,(P&E)!==E){_i(),d.pingedLanes|=d.suspendedLanes&P;break}d.timeoutHandle=fe(Bc.bind(null,d,Bi),h);break}Bc(d,Bi);break;case 4:if(fl(d,E),(E&4194240)===E)break;for(h=d.eventTimes,P=-1;0<E;){var ne=31-Rn(E);L=1<<ne,ne=h[ne],ne>P&&(P=ne),E&=~L}if(E=P,E=Hn()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*TG(E/1960))-E,10<E){d.timeoutHandle=fe(Bc.bind(null,d,Bi),E);break}Bc(d,Bi);break;case 5:Bc(d,Bi);break;default:throw Error(o(329))}}}return Li(d,Hn()),d.callbackNode===A?hP.bind(null,d):null}function vS(d,h){var A=jh;return d.current.memoizedState.isDehydrated&&(Ic(d,h).flags|=256),d=L0(d,h),d!==2&&(h=Bi,Bi=A,h!==null&&yS(h)),d}function yS(d){Bi===null?Bi=d:Bi.push.apply(Bi,d)}function CG(d){for(var h=d;;){if(h.flags&16384){var A=h.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var E=0;E<A.length;E++){var P=A[E],L=P.getSnapshot;P=P.value;try{if(!Zi(L(),P))return!1}catch{return!1}}}if(A=h.child,h.subtreeFlags&16384&&A!==null)A.return=h,h=A;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function fl(d,h){for(h&=~dS,h&=~b0,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var A=31-Rn(h),E=1<<A;d[A]=-1,h&=~E}}function pP(d){if($t&6)throw Error(o(327));Lc();var h=xc(d,0);if(!(h&1))return Li(d,Hn()),null;var A=L0(d,h);if(d.tag!==0&&A===2){var E=ga(d);E!==0&&(h=E,A=vS(d,E))}if(A===1)throw A=Wh,Ic(d,0),fl(d,h),Li(d,Hn()),A;if(A===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,Bc(d,Bi),Li(d,Hn()),null}function mP(d){cl!==null&&cl.tag===0&&!($t&6)&&Lc();var h=$t;$t|=1;var A=hr.transition,E=Zt;try{if(hr.transition=null,Zt=1,d)return d()}finally{Zt=E,hr.transition=A,$t=h,!($t&6)&&Ii()}}function _S(){rs=mf.current,Mt(mf)}function Ic(d,h){d.finishedWork=null,d.finishedLanes=0;var A=d.timeoutHandle;if(A!==We&&(d.timeoutHandle=We,ye(A)),_r!==null)for(A=_r.return;A!==null;){var E=A;switch(Fx(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Mn();break;case 3:hf(),Mt(bt),Mt(ln),Vx();break;case 5:Gx(E);break;case 4:hf();break;case 13:Mt(Vn);break;case 19:Mt(Vn);break;case 10:Lr(E.type._context);break;case 22:case 23:_S()}A=A.return}if(yr=d,_r=d=dl(d.current,null),Vr=rs=h,br=0,Wh=null,dS=b0=gf=0,Bi=jh=null,qi!==null){for(h=0;h<qi.length;h++)if(A=qi[h],E=A.interleaved,E!==null){A.interleaved=null;var P=E.next,L=A.pending;if(L!==null){var ne=L.next;L.next=P,E.next=ne}A.pending=E}qi=null}return d}function gP(d,h){do{var A=_r;try{if(af(),s0.current=f0,o0){for(var E=er.memoizedState;E!==null;){var P=E.queue;P!==null&&(P.pending=null),E=E.next}o0=!1}if(pf=0,Dr=Qr=er=null,Oh=!1,Fh=0,fS.current=null,A===null||A.return===null){br=1,Wh=h,_r=null;break}e:{var L=d,ne=A.return,he=A,ze=h;if(h=Vr,he.flags|=32768,ze!==null&&typeof ze=="object"&&typeof ze.then=="function"){var et=ze,pt=he,kt=pt.tag;if(!(pt.mode&1)&&(kt===0||kt===11||kt===15)){var wt=pt.alternate;wt?(pt.updateQueue=wt.updateQueue,pt.memoizedState=wt.memoizedState,pt.lanes=wt.lanes):(pt.updateQueue=null,pt.memoizedState=null)}var bn=UR(ne);if(bn!==null){bn.flags&=-257,kR(bn,ne,he,L,h),bn.mode&1&&FR(L,et,h),h=bn,ze=et;var St=h.updateQueue;if(St===null){var ei=new Set;ei.add(ze),h.updateQueue=ei}else St.add(ze);break e}else{if(!(h&1)){FR(L,et,h),xS();break e}ze=Error(o(426))}}else if(Un&&he.mode&1){var Ps=UR(ne);if(Ps!==null){!(Ps.flags&65536)&&(Ps.flags|=256),kR(Ps,ne,he,L,h),Nx(ze);break e}}L=ze,br!==4&&(br=2),jh===null?jh=[L]:jh.push(L),ze=Kx(ze,he),he=ne;do{switch(he.tag){case 3:he.flags|=65536,h&=-h,he.lanes|=h;var Ie=DR(he,ze,h);nR(he,Ie);break e;case 1:L=ze;var me=he.type,Fe=he.stateNode;if(!(he.flags&128)&&(typeof me.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&(ll===null||!ll.has(Fe)))){he.flags|=65536,h&=-h,he.lanes|=h;var ft=OR(he,L,h);nR(he,ft);break e}}he=he.return}while(he!==null)}_P(A)}catch(xt){h=xt,_r===A&&A!==null&&(_r=A=A.return);continue}break}while(1)}function vP(){var d=w0.current;return w0.current=f0,d===null?f0:d}function xS(){(br===0||br===3||br===2)&&(br=4),yr===null||!(gf&268435455)&&!(b0&268435455)||fl(yr,Vr)}function L0(d,h){var A=$t;$t|=2;var E=vP();yr===d&&Vr===h||Ic(d,h);do try{RG();break}catch(P){gP(d,P)}while(1);if(af(),$t=A,w0.current=E,_r!==null)throw Error(o(261));return yr=null,Vr=0,br}function RG(){for(;_r!==null;)yP(_r)}function PG(){for(;_r!==null&&!wh();)yP(_r)}function yP(d){var h=AP(d.alternate,d,rs);d.memoizedProps=d.pendingProps,h===null?_P(d):_r=h,fS.current=null}function _P(d){var h=d;do{var A=h.alternate;if(d=h.return,h.flags&32768){if(A=AG(A,h),A!==null){A.flags&=32767,_r=A;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{br=6,_r=null;return}}else if(A=_G(A,h,rs),A!==null){_r=A;return}if(h=h.sibling,h!==null){_r=h;return}_r=h=d}while(h!==null);br===0&&(br=5)}function Bc(d,h){var A=Zt,E=hr.transition;try{hr.transition=null,Zt=1,IG(d,h,A)}finally{hr.transition=E,Zt=A}return null}function IG(d,h,A){do Lc();while(cl!==null);if($t&6)throw Error(o(327));var E=d.finishedWork,P=d.finishedLanes;if(E===null)return null;if(d.finishedWork=null,d.finishedLanes=0,E===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var L=E.lanes|E.childLanes;if(il(d,L),d===yr&&(_r=yr=null,Vr=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||C0||(C0=!0,MP(pi,function(){return Lc(),null})),L=(E.flags&15990)!==0,E.subtreeFlags&15990||L){L=hr.transition,hr.transition=null;var ne=Zt;Zt=1;var he=$t;$t|=4,fS.current=null,EG(d,E),wG(d,E),G(d.containerInfo),d.current=E,bG(E),Yg(),$t=he,Zt=ne,hr.transition=L}else d.current=E;if(C0&&(C0=!1,cl=d,R0=P),L=d.pendingLanes,L===0&&(ll=null),Th(E.stateNode),Li(d,Hn()),h!==null)for(A=d.onRecoverableError,E=0;E<h.length;E++)A(h[E]);if(T0)throw T0=!1,d=mS,mS=null,d;return R0&1&&d.tag!==0&&Lc(),L=d.pendingLanes,L&1?d===gS?Xh++:(Xh=0,gS=d):Xh=0,Ii(),null}function Lc(){if(cl!==null){var d=Eh(R0),h=hr.transition,A=Zt;try{if(hr.transition=null,Zt=16>d?16:d,cl===null)var E=!1;else{if(d=cl,cl=null,R0=0,$t&6)throw Error(o(331));var P=$t;for($t|=4,ut=d.current;ut!==null;){var L=ut,ne=L.child;if(ut.flags&16){var he=L.deletions;if(he!==null){for(var ze=0;ze<he.length;ze++){var et=he[ze];for(ut=et;ut!==null;){var pt=ut;switch(pt.tag){case 0:case 11:case 15:Pc(8,pt,L)}var kt=pt.child;if(kt!==null)kt.return=pt,ut=kt;else for(;ut!==null;){pt=ut;var wt=pt.sibling,bn=pt.return;if(rP(pt),pt===et){ut=null;break}if(wt!==null){wt.return=bn,ut=wt;break}ut=bn}}}var St=L.alternate;if(St!==null){var ei=St.child;if(ei!==null){St.child=null;do{var Ps=ei.sibling;ei.sibling=null,ei=Ps}while(ei!==null)}}ut=L}}if(L.subtreeFlags&2064&&ne!==null)ne.return=L,ut=ne;else e:for(;ut!==null;){if(L=ut,L.flags&2048)switch(L.tag){case 0:case 11:case 15:Pc(9,L,L.return)}var Ie=L.sibling;if(Ie!==null){Ie.return=L.return,ut=Ie;break e}ut=L.return}}var me=d.current;for(ut=me;ut!==null;){ne=ut;var Fe=ne.child;if(ne.subtreeFlags&2064&&Fe!==null)Fe.return=ne,ut=Fe;else e:for(ne=me;ut!==null;){if(he=ut,he.flags&2048)try{switch(he.tag){case 0:case 11:case 15:Hh(9,he)}}catch(xt){Di(he,he.return,xt)}if(he===ne){ut=null;break e}var ft=he.sibling;if(ft!==null){ft.return=he.return,ut=ft;break e}ut=he.return}}if($t=P,Ii(),Qi&&typeof Qi.onPostCommitFiberRoot=="function")try{Qi.onPostCommitFiberRoot(Ac,d)}catch{}E=!0}return E}finally{Zt=A,hr.transition=h}}return!1}function xP(d,h,A){h=Kx(A,h),h=DR(d,h,1),al(d,h),h=_i(),d=B0(d,1),d!==null&&(ko(d,1,h),Li(d,h))}function Di(d,h,A){if(d.tag===3)xP(d,d,A);else for(;h!==null;){if(h.tag===3){xP(h,d,A);break}else if(h.tag===1){var E=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(ll===null||!ll.has(E))){d=Kx(A,d),d=OR(h,d,1),al(h,d),d=_i(),h=B0(h,1),h!==null&&(ko(h,1,d),Li(h,d));break}}h=h.return}}function BG(d,h,A){var E=d.pingCache;E!==null&&E.delete(h),h=_i(),d.pingedLanes|=d.suspendedLanes&A,yr===d&&(Vr&A)===A&&(br===4||br===3&&(Vr&130023424)===Vr&&500>Hn()-hS?Ic(d,0):dS|=A),Li(d,h)}function SP(d,h){h===0&&(d.mode&1?(h=pa,pa<<=1,!(pa&130023424)&&(pa=4194304)):h=1);var A=_i();d=B0(d,h),d!==null&&(ko(d,h,A),Li(d,A))}function LG(d){var h=d.memoizedState,A=0;h!==null&&(A=h.retryLane),SP(d,A)}function DG(d,h){var A=0;switch(d.tag){case 13:var E=d.stateNode,P=d.memoizedState;P!==null&&(A=P.retryLane);break;case 19:E=d.stateNode;break;default:throw Error(o(314))}E!==null&&E.delete(h),SP(d,A)}var AP;AP=function(d,h,A){if(d!==null)if(d.memoizedProps!==h.pendingProps||bt.current)ns=!0;else{if(!(d.lanes&A)&&!(h.flags&128))return ns=!1,SG(d,h,A);ns=!!(d.flags&131072)}else ns=!1,Un&&h.flags&1048576&&lR(h,n0,h.index);switch(h.lanes=0,h.tag){case 2:var E=h.type;d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps;var P=Qt(h,ln.current);fr(h,A),P=jx(null,h,E,d,P,A);var L=Xx();return h.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,fn(E)?(L=!0,en(h)):L=!1,h.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Bx(h),P.updater=e0,h.stateNode=P,P._reactInternals=h,Dx(h,E,d,A),h=qx(null,h,E,!0,L,A)):(h.tag=0,Un&&L&&Ox(h),yi(null,h,P,A),h=h.child),h;case 16:E=h.elementType;e:{switch(d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps,P=E._init,E=P(E._payload),h.type=E,P=h.tag=FG(E),d=gi(E,d),P){case 0:h=Zx(null,h,E,d,A);break e;case 1:h=XR(null,h,E,d,A);break e;case 11:h=GR(null,h,E,d,A);break e;case 14:h=HR(null,h,E,gi(E.type,d),A);break e}throw Error(o(306,E,""))}return h;case 0:return E=h.type,P=h.pendingProps,P=h.elementType===E?P:gi(E,P),Zx(d,h,E,P,A);case 1:return E=h.type,P=h.pendingProps,P=h.elementType===E?P:gi(E,P),XR(d,h,E,P,A);case 3:e:{if(JR(h),d===null)throw Error(o(387));E=h.pendingProps,L=h.memoizedState,P=L.element,tR(d,h),qg(h,E,null,A);var ne=h.memoizedState;if(E=ne.element,Te&&L.isDehydrated)if(L={element:E,isDehydrated:!1,cache:ne.cache,transitions:ne.transitions},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){P=Error(o(423)),h=YR(d,h,E,A,P);break e}else if(E!==P){P=Error(o(424)),h=YR(d,h,E,A,P);break e}else for(Te&&(ts=qn(h.stateNode.containerInfo),es=h,Un=!0,io=null,Ph=!1),A=pR(h,null,E,A),h.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(uf(),E===P){h=Aa(d,h,A);break e}yi(d,h,E,A)}h=h.child}return h;case 5:return mR(h),d===null&&kx(h),E=h.type,P=h.pendingProps,L=d!==null?d.memoizedProps:null,ne=P.children,ae(E,P)?ne=null:L!==null&&ae(E,L)&&(h.flags|=32),jR(d,h),yi(d,h,ne,A),h.child;case 6:return d===null&&kx(h),null;case 13:return $R(d,h,A);case 4:return zx(h,h.stateNode.containerInfo),E=h.pendingProps,d===null?h.child=ff(h,null,E,A):yi(d,h,E,A),h.child;case 11:return E=h.type,P=h.pendingProps,P=h.elementType===E?P:gi(E,P),GR(d,h,E,P,A);case 7:return yi(d,h,h.pendingProps,A),h.child;case 8:return yi(d,h,h.pendingProps.children,A),h.child;case 12:return yi(d,h,h.pendingProps.children,A),h.child;case 10:e:{if(E=h.type._context,P=h.pendingProps,L=h.memoizedProps,ne=P.value,Qg(h,E,ne),L!==null)if(Zi(L.value,ne)){if(L.children===P.children&&!bt.current){h=Aa(d,h,A);break e}}else for(L=h.child,L!==null&&(L.return=h);L!==null;){var he=L.dependencies;if(he!==null){ne=L.child;for(var ze=he.firstContext;ze!==null;){if(ze.context===E){if(L.tag===1){ze=ya(-1,A&-A),ze.tag=2;var et=L.updateQueue;if(et!==null){et=et.shared;var pt=et.pending;pt===null?ze.next=ze:(ze.next=pt.next,pt.next=ze),et.pending=ze}}L.lanes|=A,ze=L.alternate,ze!==null&&(ze.lanes|=A),vi(L.return,A,h),he.lanes|=A;break}ze=ze.next}}else if(L.tag===10)ne=L.type===h.type?null:L.child;else if(L.tag===18){if(ne=L.return,ne===null)throw Error(o(341));ne.lanes|=A,he=ne.alternate,he!==null&&(he.lanes|=A),vi(ne,A,h),ne=L.sibling}else ne=L.child;if(ne!==null)ne.return=L;else for(ne=L;ne!==null;){if(ne===h){ne=null;break}if(L=ne.sibling,L!==null){L.return=ne.return,ne=L;break}ne=ne.return}L=ne}yi(d,h,P.children,A),h=h.child}return h;case 9:return P=h.type,E=h.pendingProps.children,fr(h,A),P=dr(P),E=E(P),h.flags|=1,yi(d,h,E,A),h.child;case 14:return E=h.type,P=gi(E,h.pendingProps),P=gi(E.type,P),HR(d,h,E,P,A);case 15:return VR(d,h,h.type,h.pendingProps,A);case 17:return E=h.type,P=h.pendingProps,P=h.elementType===E?P:gi(E,P),d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,fn(E)?(d=!0,en(h)):d=!1,fr(h,A),oR(h,E,P),Dx(h,E,P,A),qx(null,h,E,!0,d,A);case 19:return qR(d,h,A);case 22:return WR(d,h,A)}throw Error(o(156,h.tag))};function MP(d,h){return va(d,h)}function OG(d,h,A,E){this.tag=d,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(d,h,A,E){return new OG(d,h,A,E)}function SS(d){return d=d.prototype,!(!d||!d.isReactComponent)}function FG(d){if(typeof d=="function")return SS(d)?1:0;if(d!=null){if(d=d.$$typeof,d===y)return 11;if(d===x)return 14}return 2}function dl(d,h){var A=d.alternate;return A===null?(A=Rs(d.tag,h,d.key,d.mode),A.elementType=d.elementType,A.type=d.type,A.stateNode=d.stateNode,A.alternate=d,d.alternate=A):(A.pendingProps=h,A.type=d.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=d.flags&14680064,A.childLanes=d.childLanes,A.lanes=d.lanes,A.child=d.child,A.memoizedProps=d.memoizedProps,A.memoizedState=d.memoizedState,A.updateQueue=d.updateQueue,h=d.dependencies,A.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},A.sibling=d.sibling,A.index=d.index,A.ref=d.ref,A}function D0(d,h,A,E,P,L){var ne=2;if(E=d,typeof d=="function")SS(d)&&(ne=1);else if(typeof d=="string")ne=5;else e:switch(d){case u:return Dc(A.children,P,L,h);case f:ne=8,P|=8;break;case p:return d=Rs(12,A,h,P|2),d.elementType=p,d.lanes=L,d;case _:return d=Rs(13,A,h,P),d.elementType=_,d.lanes=L,d;case g:return d=Rs(19,A,h,P),d.elementType=g,d.lanes=L,d;case M:return O0(A,P,L,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:ne=10;break e;case v:ne=9;break e;case y:ne=11;break e;case x:ne=14;break e;case S:ne=16,E=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return h=Rs(ne,A,h,P),h.elementType=d,h.type=E,h.lanes=L,h}function Dc(d,h,A,E){return d=Rs(7,d,E,h),d.lanes=A,d}function O0(d,h,A,E){return d=Rs(22,d,E,h),d.elementType=M,d.lanes=A,d.stateNode={},d}function AS(d,h,A){return d=Rs(6,d,null,h),d.lanes=A,d}function MS(d,h,A){return h=Rs(4,d.children!==null?d.children:[],d.key,h),h.lanes=A,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function UG(d,h,A,E,P){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=We,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rf(0),this.expirationTimes=rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.identifierPrefix=E,this.onRecoverableError=P,Te&&(this.mutableSourceEagerHydrationData=null)}function EP(d,h,A,E,P,L,ne,he,ze){return d=new UG(d,h,A,he,ze),h===1?(h=1,L===!0&&(h|=8)):h=0,L=Rs(3,null,null,h),d.current=L,L.stateNode=d,L.memoizedState={element:E,isDehydrated:A,cache:null,transitions:null},Bx(L),d}function wP(d){if(!d)return Ct;d=d._reactInternals;e:{if(C(d)!==d||d.tag!==1)throw Error(o(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(fn(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(d.tag===1){var A=d.type;if(fn(A))return wn(d,A,h)}return h}function bP(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=k(h),d===null?null:d.stateNode}function TP(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var A=d.retryLane;d.retryLane=A!==0&&A<h?A:h}}function ES(d,h){TP(d,h),(d=d.alternate)&&TP(d,h)}function kG(d){return d=k(d),d===null?null:d.stateNode}function NG(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var h=_i();Cs(d,134217728,h),ES(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=_i(),A=ul(d);Cs(d,A,h),ES(d,A)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var A=ma(h.pendingLanes);A!==0&&(No(h,A|1),Li(h,Hn()),!($t&6)&&(vf(),Ii()))}break;case 13:var E=_i();mP(function(){return Cs(d,1,E)}),ES(d,1)}},t.batchedUpdates=function(d,h){var A=$t;$t|=1;try{return d(h)}finally{$t=A,$t===0&&(vf(),zo&&Ii())}},t.createComponentSelector=function(d){return{$$typeof:x0,value:d}},t.createContainer=function(d,h,A,E,P,L,ne){return EP(d,h,!1,null,A,E,P,L,ne)},t.createHasPseudoClassSelector=function(d){return{$$typeof:S0,value:d}},t.createHydrationContainer=function(d,h,A,E,P,L,ne,he,ze){return d=EP(A,E,!0,d,P,L,ne,he,ze),d.context=wP(null),A=d.current,E=_i(),P=ul(A),L=ya(E,P),L.callback=h??null,al(A,L),d.current.lanes=P,ko(d,P,E),Li(d,E),d},t.createPortal=function(d,h,A){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:d,containerInfo:h,implementation:A}},t.createRoleSelector=function(d){return{$$typeof:A0,value:d}},t.createTestNameSelector=function(d){return{$$typeof:M0,value:d}},t.createTextSelector=function(d){return{$$typeof:E0,value:d}},t.deferredUpdates=function(d){var h=Zt,A=hr.transition;try{return hr.transition=null,Zt=16,d()}finally{Zt=h,hr.transition=A}},t.discreteUpdates=function(d,h,A,E,P){var L=Zt,ne=hr.transition;try{return hr.transition=null,Zt=1,d(h,A,E,P)}finally{Zt=L,hr.transition=ne,$t===0&&vf()}},t.findAllNodes=uS,t.findBoundingRects=function(d,h){if(!Be)throw Error(o(363));h=uS(d,h),d=[];for(var A=0;A<h.length;A++)d.push(Ye(h[A]));for(h=d.length-1;0<h;h--){A=d[h];for(var E=A.x,P=E+A.width,L=A.y,ne=L+A.height,he=h-1;0<=he;he--)if(h!==he){var ze=d[he],et=ze.x,pt=et+ze.width,kt=ze.y,wt=kt+ze.height;if(E>=et&&L>=kt&&P<=pt&&ne<=wt){d.splice(h,1);break}else if(E!==et||A.width!==ze.width||wt<L||kt>ne){if(!(L!==kt||A.height!==ze.height||pt<E||et>P)){et>E&&(ze.width+=et-E,ze.x=E),pt<P&&(ze.width=P-et),d.splice(h,1);break}}else{kt>L&&(ze.height+=kt-L,ze.y=L),wt<ne&&(ze.height=ne-kt),d.splice(h,1);break}}}return d},t.findHostInstance=bP,t.findHostInstanceWithNoPortals=function(d){return d=U(d),d=d!==null?Y(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return bP(d)},t.flushControlled=function(d){var h=$t;$t|=1;var A=hr.transition,E=Zt;try{hr.transition=null,Zt=1,d()}finally{Zt=E,hr.transition=A,$t=h,$t===0&&(vf(),Ii())}},t.flushPassiveEffects=Lc,t.flushSync=mP,t.focusWithin=function(d,h){if(!Be)throw Error(o(363));for(d=aS(d),h=dP(d,h),h=Array.from(h),d=0;d<h.length;){var A=h[d++];if(!N(A)){if(A.tag===5&&Ge(A.stateNode))return!0;for(A=A.child;A!==null;)h.push(A),A=A.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Zt},t.getFindAllNodesFailureDescription=function(d,h){if(!Be)throw Error(o(363));var A=0,E=[];d=[aS(d),0];for(var P=0;P<d.length;){var L=d[P++],ne=d[P++],he=h[ne];if((L.tag!==5||!N(L))&&(lS(L,he)&&(E.push(cS(he)),ne++,ne>A&&(A=ne)),ne<h.length))for(L=L.child;L!==null;)d.push(L,ne),L=L.sibling}if(A<h.length){for(d=[];A<h.length;A++)d.push(cS(h[A]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return X(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:kG,findFiberByHostInstance:d.findFiberByHostInstance||NG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{Ac=h.inject(d),Qi=h}catch{}d=!!h.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,h,A,E){if(!Be)throw Error(o(363));d=uS(d,h);var P=De(d,A,E).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(d,h){var A=h._getVersion;A=A(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,A]:d.mutableSourceEagerHydrationData.push(h,A)},t.runWithPriority=function(d,h){var A=Zt;try{return Zt=d,h()}finally{Zt=A}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,h,A,E){var P=h.current,L=_i(),ne=ul(P);return A=wP(A),h.context===null?h.context=A:h.pendingContext=A,h=ya(L,ne),h.payload={element:d},E=E===void 0?null:E,E!==null&&(h.callback=E),al(P,h),d=Cs(P,ne,L),d!==null&&Zg(d,P,ne),ne},t};SN.exports=JY;var YY=SN.exports;const $Y=uh(YY),KY=n=>typeof n=="object"&&typeof n.then=="function",pu=[];function EN(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function wN(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of pu)if(EN(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=pu.indexOf(i);s!==-1&&pu.splice(s,1)},promise:(KY(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(pu.push(i),!t)throw i.promise}const bN=(n,e,t)=>wN(n,e,!1,t),QY=(n,e,t)=>void wN(n,e,!0,t),ZY=n=>{if(n===void 0||n.length===0)pu.splice(0,pu.length);else{const e=pu.find(t=>EN(n,t.keys,t.equal));e&&e.remove()}},IC={},TN=n=>void Object.assign(IC,n);function qY(n,e){function t(u,{args:f=[],attach:p,...m},v){let y=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;_=$f(g,{type:u,root:v,attach:p,primitive:!0})}else{const g=IC[y];if(!g)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");_=$f(new g(...f),{type:u,root:v,attach:p,memoizedProps:{args:f}})}return _.__r3f.attach===void 0&&(_ instanceof zt?_.__r3f.attach="geometry":_ instanceof wr&&(_.__r3f.attach="material")),y!=="inject"&&BA(_,m),_}function r(u,f){let p=!1;if(f){var m,v;(m=f.__r3f)!=null&&m.attach?IA(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),p=!0),p||(v=u.__r3f)==null||v.objects.push(f),f.__r3f||$f(f,{}),f.__r3f.parent=u,dw(f),Kf(f)}}function i(u,f,p){let m=!1;if(f){var v,y;if((v=f.__r3f)!=null&&v.attach)IA(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const _=u.children.filter(x=>x!==f),g=_.indexOf(p);u.children=[..._.slice(0,g),f,..._.slice(g)],m=!0}m||(y=u.__r3f)==null||y.objects.push(f),f.__r3f||$f(f,{}),f.__r3f.parent=u,dw(f),Kf(f)}}function s(u,f,p=!1){u&&[...u].forEach(m=>o(f,m,p))}function o(u,f,p){if(f){var m,v,y;if(f.__r3f&&(f.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(M=>M!==f)),(v=f.__r3f)!=null&&v.attach)pB(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var _;u.remove(f),(_=f.__r3f)!=null&&_.root&&o$(f.__r3f.root,f)}const x=(y=f.__r3f)==null?void 0:y.primitive,S=p===void 0?f.dispose!==null&&!x:p;if(!x){var g;s((g=f.__r3f)==null?void 0:g.objects,f,S),s(f.children,f,S)}delete f.__r3f,S&&f.dispose&&f.type!=="Scene"&&uw.unstable_scheduleCallback(uw.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),Kf(u)}}function a(u,f,p,m){var v;const y=(v=u.__r3f)==null?void 0:v.parent;if(!y)return;const _=t(f,p,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(_,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(_,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(y,u),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(y,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=_,g.ref&&(typeof g.ref=="function"?g.ref(_):g.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:$Y({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,p)=>{if(!f||!p)return;const m=u.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,p,m){var v;if(((v=u==null?void 0:u.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:_=[],children:g,...x}=m,{args:S=[],children:M,...w}=p;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((T,R)=>T!==S[R]))return[!0];const b=DN(u,x,w,!0);return b.changes.length?[!1,b]:null}},commitUpdate(u,[f,p],m,v,y,_){f?a(u,m,y,_):BA(u,p)},commitMount(u,f,p,m){var v;const y=(v=u.__r3f)!=null?v:{};u.raycast&&y.handlers&&y.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>$f(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:p,parent:m}=(f=u.__r3f)!=null?f:{};p&&m&&pB(m,u,p),u.isObject3D&&(u.visible=!1),Kf(u)},unhideInstance(u,f){var p;const{attach:m,parent:v}=(p=u.__r3f)!=null?p:{};m&&v&&IA(v,u,m),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),Kf(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():md.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Ln.fun(performance.now)?performance.now:Ln.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Ln.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Ln.fun(clearTimeout)?clearTimeout:void 0}),applyProps:BA}}var uB,fB;const PA=n=>"colorSpace"in n||"outputColorSpace"in n,CN=()=>{var n;return(n=IC.ColorManagement)!=null?n:null},RN=n=>n&&n.isOrthographicCamera,e$=n=>n&&n.hasOwnProperty("current"),Tg=typeof window<"u"&&((uB=window.document)!=null&&uB.createElement||((fB=window.navigator)==null?void 0:fB.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function PN(n){const e=z.useRef(n);return Tg(()=>void(e.current=n),[n]),e}function t$({set:n}){return Tg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class IN extends z.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}IN.getDerivedStateFromError=()=>({error:!0});const BN="__default",dB=new Map,n$=n=>n&&!!n.memoized&&!!n.changes;function LN(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const fp=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Ln={obj:n=>n===Object(n)&&!Ln.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ln.str(n)||Ln.num(n))return n===e;const s=Ln.obj(n);if(s&&r==="reference")return n===e;const o=Ln.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!Ln.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(Ln.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function r$(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function i$(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function $f(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function fw(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const hB=/-\d+$/;function IA(n,e,t){if(Ln.str(t)){if(hB.test(t)){const s=t.replace(hB,""),{target:o,key:a}=fw(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=fw(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function pB(n,e,t){var r,i;if(Ln.str(t)){const{target:s,key:o}=fw(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function DN(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const y=Object.keys(l);for(let _=0;_<y.length;_++)i.hasOwnProperty(y[_])||p.unshift([y[_],BN+"remove"])}p.forEach(([y,_])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&y==="object"||Ln.equ(_,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,_,!0,[]]);let x=[];y.includes("-")&&(x=y.split("-")),m.push([y,_,!1,x]);for(const S in i){const M=i[S];S.startsWith(`${y}-`)&&m.push([S,M,!1,S.split("-")])}});const v={...i};return f.memoizedProps&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:m}}function BA(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=n$(e)?e:DN(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,v,y,_]=c[p];if(PA(n)){const M="srgb",w="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?M:w):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?M:w)}let g=n,x=g[m];if(_.length&&(x=_.reduce((S,M)=>S[M],n),!(x&&x.set))){const[S,...M]=_.reverse();g=M.reverse().reduce((w,b)=>w[b],n),m=S}if(v===BN+"remove")if(g.constructor){let S=dB.get(g.constructor);S||(S=new g.constructor,dB.set(g.constructor,S)),v=S[m]}else v=0;if(y)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof Su)){if(Array.isArray(v))x.fromArray?x.fromArray(v):x.set(...v);else if(x.copy&&v&&v.constructor&&x.constructor===v.constructor)x.copy(v);else if(v!==void 0){const S=x instanceof ot;!S&&x.setScalar?x.setScalar(v):x instanceof Su&&v instanceof Su?x.mask=v.mask:x.set(v),!CN()&&!a.linear&&S&&x.convertSRGBToLinear()}}else if(g[m]=v,g[m]instanceof In&&g[m].format===Ei&&g[m].type===ra){const S=g[m];PA(S)&&PA(a.gl)?S.colorSpace=a.gl.outputColorSpace:S.encoding=a.gl.outputEncoding}Kf(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const p=a.internal.interaction.indexOf(n);p>-1&&a.internal.interaction.splice(p,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&dw(n),n}function Kf(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function dw(n){n.onUpdate==null||n.onUpdate(n)}function ON(n,e){n.manual||(RN(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Gv(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function s$(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return md.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return md.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return md.ContinuousEventPriority;default:return md.DefaultEventPriority}}function FN(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function o$(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{FN(t.capturedMap,e,r,i)})}function a$(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),f=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const x=fp(m[g]);x&&(x.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(g){const x=fp(g);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var S;x.events.compute==null||x.events.compute(l,x,(S=x.previousRoot)==null?void 0:S.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(g,!0):[]}let y=m.flatMap(v).sort((g,x)=>{const S=fp(g.object),M=fp(x.object);return!S||!M?g.distance-x.distance:M.events.priority-S.events.priority||g.distance-x.distance}).filter(g=>{const x=Gv(g);return f.has(x)?!1:(f.add(x),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const g of y){let x=g.object;for(;x;){var _;(_=x.__r3f)!=null&&_.eventCount&&p.push({...g,eventObject:x}),x=x.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())f.has(Gv(g.intersection))||p.push(g.intersection);return p}function i(l,c,u,f){const p=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const y=fp(v.object)||p,{raycaster:_,pointer:g,camera:x,internal:S}=y,M=new q(g.x,g.y,0).unproject(x),w=B=>{var U,k;return(U=(k=S.capturedMap.get(B))==null?void 0:k.has(v.eventObject))!=null?U:!1},b=B=>{const U={intersection:v,target:c.target};S.capturedMap.has(B)?S.capturedMap.get(B).set(v.eventObject,U):S.capturedMap.set(B,new Map([[v.eventObject,U]])),c.target.setPointerCapture(B)},T=B=>{const U=S.capturedMap.get(B);U&&FN(S.capturedMap,v.eventObject,U,B)};let R={};for(let B in c){let U=c[B];typeof U!="function"&&(R[B]=U)}let C={...v,...R,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:M,ray:_.ray,camera:x,stopPropagation(){const B="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!B||B.has(v.eventObject))&&(C.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(U=>U.eventObject===v.eventObject))){const U=l.slice(0,l.indexOf(v));s([...U,v])}},target:{hasPointerCapture:w,setPointerCapture:b,releasePointerCapture:T},currentTarget:{hasPointerCapture:w,setPointerCapture:b,releasePointerCapture:T},nativeEvent:c};if(f(C),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Gv(u)),p!=null&&p.eventCount){const v={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(u,m?t:void 0),g=v?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=_.map(S=>S.eventObject)),v&&!_.length&&g<=2&&(o(u,p.interaction),f&&f(u)),m&&s(_);function x(S){const M=S.eventObject,w=M.__r3f,b=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(m){if(b.onPointerOver||b.onPointerEnter||b.onPointerOut||b.onPointerLeave){const T=Gv(S),R=p.hovered.get(T);R?R.stopped&&S.stopPropagation():(p.hovered.set(T,S),b.onPointerOver==null||b.onPointerOver(S),b.onPointerEnter==null||b.onPointerEnter(S))}b.onPointerMove==null||b.onPointerMove(S)}else{const T=b[l];T?(!v||p.initialHits.includes(M))&&(o(u,p.interaction.filter(R=>!p.initialHits.includes(R))),T(S)):v&&p.initialHits.includes(M)&&o(u,p.interaction.filter(R=>!p.initialHits.includes(R)))}}i(_,u,g,x)}}return{handlePointer:a}}const l$=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],UN=n=>!!(n!=null&&n.render),BC=z.createContext(null),c$=(n,e)=>{const t=xN((a,l)=>{const c=new q,u=new q,f=new q;function p(g=l().camera,x=u,S=l().size){const{width:M,height:w,top:b,left:T}=S,R=M/w;x instanceof q?f.copy(x):f.set(...x);const C=g.getWorldPosition(c).distanceTo(f);if(RN(g))return{width:M/g.zoom,height:w/g.zoom,top:b,left:T,factor:1,distance:C,aspect:R};{const B=g.fov*Math.PI/180,U=2*Math.tan(B/2)*C,k=U*(M/w);return{width:k,height:U,top:b,left:T,factor:M/k,distance:C,aspect:R}}}let m;const v=g=>a(x=>({performance:{...x.performance,current:g}})),y=new He;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,x)=>e(g,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new wC,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(x=>({...x,events:{...x.events,...g}})),setSize:(g,x,S,M,w)=>{const b=l().camera,T={width:g,height:x,top:M||0,left:w||0,updateStyle:S};a(R=>({size:T,viewport:{...R.viewport,...p(b,u,T)}}))},setDpr:g=>a(x=>{const S=LN(g);return{viewport:{...x.viewport,dpr:S,initialDpr:x.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,g!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,x,S)=>{const M=l().internal;return M.priority=M.priority+(x>0?1:0),M.subscribers.push({ref:g,priority:x,store:S}),M.subscribers=M.subscribers.sort((w,b)=>w.priority-b.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(x>0?1:0),w.subscribers=w.subscribers.filter(b=>b.ref!==g))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l!==i||c.dpr!==s){var p;i=l,s=c.dpr,ON(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};function u$(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let Hv,kN=new Set,f$=new Set,d$=new Set;const NN=n=>u$(n,kN);function LA(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function dp(n,e){switch(n){case"before":return LA(kN,e);case"after":return LA(f$,e);case"tail":return LA(d$,e)}}let DA,OA;function FA(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),DA=e.internal.subscribers,Hv=0;Hv<DA.length;Hv++)OA=DA[Hv],OA.ref.current(OA.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function h$(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,dp("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=FA(l,i))}if(dp("after",l),t===0)return dp("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&dp("before",l),u)FA(l,u,f);else for(const p of n.values())FA(l,p.store.getState());c&&dp("after",l)}return{loop:s,invalidate:o,advance:a}}function LC(){const n=z.useContext(BC);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Cr(n=t=>t,e){return LC()(n,e)}function DC(n,e=0){const t=LC(),r=t.getState().internal.subscribe,i=PN(n);return Tg(()=>r(i,e,t),[e,r,t]),null}function zN(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,r$(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message}`))))))}}function xh(n,e,t,r){const i=Array.isArray(e)?e:[e],s=bN(zN(t,r),[n,...i],{equal:Ln.equ});return Array.isArray(e)?s:s[0]}xh.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return QY(zN(t),[n,...r])};xh.clear=function(n,e){const t=Array.isArray(e)?e:[e];return ZY([n,...t])};const eh=new Map,{invalidate:mB,advance:gB}=h$(eh),{reconciler:km,applyProps:Tl}=qY(eh,s$),Gf={objects:"shallow",strict:!1},p$=(n,e)=>{const t=typeof n=="function"?n(e):n;return UN(t)?t:new tC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function m$(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function g$(n){const e=eh.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||c$(mB,gB),o=t||km.createContainer(s,md.ConcurrentRoot,null,!1,null,"",i,null);e||eh.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:p,scene:m,events:v,onCreated:y,shadows:_=!1,linear:g=!1,flat:x=!1,legacy:S=!1,orthographic:M=!1,frameloop:w="always",dpr:b=[1,2],performance:T,raycaster:R,camera:C,onPointerMissed:B}=u,U=s.getState(),k=U.gl;U.gl||U.set({gl:k=p$(f,n)});let W=U.raycaster;W||U.set({raycaster:W=new RC});const{params:Y,...Q}=R||{};if(Ln.equ(Q,W,Gf)||Tl(W,{...Q}),Ln.equ(Y,W.params,Gf)||Tl(W,{params:{...W.params,...Y}}),!U.camera||U.camera===c&&!Ln.equ(c,C,Gf)){c=C;const H=C instanceof yg,se=H?C:M?new Eo(0,0,0,0,.1,1e3):new Nn(75,0,.1,1e3);H||(se.position.z=5,C&&Tl(se,C),!U.camera&&!(C!=null&&C.rotation)&&se.lookAt(0,0,0)),U.set({camera:se})}if(!U.scene){let H;m instanceof Bm?H=m:(H=new Bm,m&&Tl(H,m)),U.set({scene:$f(H)})}if(!U.xr){var X;const H=(ae,ue)=>{const fe=s.getState();fe.frameloop!=="never"&&gB(ae,!0,fe,ue)},se=()=>{const ae=s.getState();ae.gl.xr.enabled=ae.gl.xr.isPresenting,ae.gl.xr.setAnimationLoop(ae.gl.xr.isPresenting?H:null),ae.gl.xr.isPresenting||mB(ae)},le={connect(){const ae=s.getState().gl;ae.xr.addEventListener("sessionstart",se),ae.xr.addEventListener("sessionend",se)},disconnect(){const ae=s.getState().gl;ae.xr.removeEventListener("sessionstart",se),ae.xr.removeEventListener("sessionend",se)}};typeof((X=k.xr)==null?void 0:X.addEventListener)=="function"&&le.connect(),U.set({xr:le})}if(k.shadowMap){const H=k.shadowMap.enabled,se=k.shadowMap.type;if(k.shadowMap.enabled=!!_,Ln.boo(_))k.shadowMap.type=Wp;else if(Ln.str(_)){var J;const le={basic:wU,percentage:p_,soft:Wp,variance:ho};k.shadowMap.type=(J=le[_])!=null?J:Wp}else Ln.obj(_)&&Object.assign(k.shadowMap,_);(H!==k.shadowMap.enabled||se!==k.shadowMap.type)&&(k.shadowMap.needsUpdate=!0)}const O=CN();O&&("enabled"in O?O.enabled=!S:"legacyMode"in O&&(O.legacyMode=S)),Tl(k,{outputEncoding:g?3e3:3001,toneMapping:x?na:DT}),U.legacy!==S&&U.set(()=>({legacy:S})),U.linear!==g&&U.set(()=>({linear:g})),U.flat!==x&&U.set(()=>({flat:x})),f&&!Ln.fun(f)&&!UN(f)&&!Ln.equ(f,k,Gf)&&Tl(k,f),v&&!U.events.handlers&&U.set({events:v(s)});const D=m$(n,p);return Ln.equ(D,U.size,Gf)||U.setSize(D.width,D.height,D.updateStyle,D.top,D.left),b&&U.viewport.dpr!==LN(b)&&U.setDpr(b),U.frameloop!==w&&U.setFrameloop(w),U.onPointerMissed||U.set({onPointerMissed:B}),T&&!Ln.equ(T,U.performance,Gf)&&U.set(H=>({performance:{...H.performance,...T}})),a=y,l=!0,this},render(u){return l||this.configure(),km.updateContainer(z.createElement(v$,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){GN(n)}}}function v$({store:n,children:e,onCreated:t,rootElement:r}){return Tg(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),z.createElement(BC.Provider,{value:n},e)}function GN(n,e){const t=eh.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),km.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),i$(i),eh.delete(n),e&&e(n)}catch{}},500)})}}function y$(n,e,t){return z.createElement(_$,{key:e.uuid,children:n,container:e,state:t})}function _$({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=LC(),[a]=z.useState(()=>new RC),[l]=z.useState(()=>new He),c=z.useCallback((f,p)=>{const m={...f};Object.keys(f).forEach(y=>{(l$.includes(y)||f[y]!==p[y]&&p[y])&&delete m[y]});let v;if(p&&i){const y=p.camera;v=f.viewport.getCurrentViewport(y,new q,i),y!==f.camera&&ON(y,i)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...p==null?void 0:p.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...v},...s}},[n]),[u]=z.useState(()=>{const f=o.getState();return xN((m,v)=>({...f,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:m,get:v,setEvents:y=>m(_=>({..._,events:{..._.events,...y}}))}))});return z.useEffect(()=>{const f=o.subscribe(p=>u.setState(m=>c(p,m)));return()=>{f(),u.destroy()}},[]),z.useEffect(()=>{u.setState(f=>c(o.getState(),f))},[c]),z.createElement(z.Fragment,null,km.createPortal(z.createElement(BC.Provider,{value:u},e),u,null))}km.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:z.version});function lr(){return lr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lr.apply(this,arguments)}function hw(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}hw.debounce=hw;var x$=hw;const vB=uh(x$);function S$(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=z.useRef(!1);z.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,m,v]=z.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:S,top:M,width:w,height:b,bottom:T,right:R,x:C,y:B}=l.current.element.getBoundingClientRect(),U={left:S,top:M,width:w,height:b,bottom:T,right:R,x:C,y:B};l.current.element instanceof HTMLElement&&i&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),f.current&&!w$(l.current.lastBounds,U)&&a(l.current.lastBounds=U)};return[x,u?vB(x,u):x,c?vB(x,c):x]},[a,i,c,u]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=x=>{!x||x===l.current.element||(y(),l.current.element=x,l.current.scrollContainers=HN(x),_())};return M$(v,!!t),A$(m),z.useEffect(()=>{y(),_()},[t,v,m]),z.useEffect(()=>y,[]),[g,o,p]}function A$(n){z.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function M$(n,e){z.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function HN(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...HN(n.parentElement)]}const E$=["x","y","top","bottom","left","right","width","height"],w$=(n,e)=>E$.every(t=>n[t]===e[t]);var b$=Object.defineProperty,T$=Object.defineProperties,C$=Object.getOwnPropertyDescriptors,yB=Object.getOwnPropertySymbols,R$=Object.prototype.hasOwnProperty,P$=Object.prototype.propertyIsEnumerable,_B=(n,e,t)=>e in n?b$(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xB=(n,e)=>{for(var t in e||(e={}))R$.call(e,t)&&_B(n,t,e[t]);if(yB)for(var t of yB(e))P$.call(e,t)&&_B(n,t,e[t]);return n},I$=(n,e)=>T$(n,C$(e));function VN(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=VN(r,e,t);if(i)return i;r=e?null:r.sibling}}function WN(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const OC=WN(z.createContext(null));class jN extends z.Component{render(){return z.createElement(OC.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:SB,ReactCurrentDispatcher:AB}=z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function B$(){const n=z.useContext(OC);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.useId();return z.useMemo(()=>{for(const r of[SB==null?void 0:SB.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=VN(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function L$(){var n,e;const t=B$(),[r]=z.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==OC&&!r.has(s)&&r.set(s,(e=AB==null?void 0:AB.current)==null?void 0:e.readContext(WN(s))),i=i.return}return r}function D$(){const n=L$();return z.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>z.createElement(e,null,z.createElement(t.Provider,I$(xB({},r),{value:n.get(t)}))),e=>z.createElement(jN,xB({},e))),[n])}const UA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function O$(n){const{handlePointer:e}=a$(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(UA).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=UA[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=UA[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const F$=z.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=O$,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:_,raycaster:g,camera:x,scene:S,onPointerMissed:M,onCreated:w,...b},T){z.useMemo(()=>TN(PC),[]);const R=D$(),[C,B]=S$({scroll:!0,debounce:{scroll:50,resize:0},...r}),U=z.useRef(null),k=z.useRef(null);z.useImperativeHandle(T,()=>U.current);const W=PN(M),[Y,Q]=z.useState(!1),[X,J]=z.useState(!1);if(Y)throw Y;if(X)throw X;const O=z.useRef(null);Tg(()=>{const G=U.current;B.width>0&&B.height>0&&G&&(O.current||(O.current=g$(G)),O.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:v,dpr:y,performance:_,raycaster:g,camera:x,scene:S,size:B,onPointerMissed:(...D)=>W.current==null?void 0:W.current(...D),onCreated:D=>{D.events.connect==null||D.events.connect(a?e$(a)?a.current:a:k.current),l&&D.setEvents({compute:(H,se)=>{const le=H[l+"X"],ae=H[l+"Y"];se.pointer.set(le/se.size.width*2-1,-(ae/se.size.height)*2+1),se.raycaster.setFromCamera(se.pointer,se.camera)}}),w==null||w(D)}}),O.current.render(z.createElement(R,null,z.createElement(IN,{set:J},z.createElement(z.Suspense,{fallback:z.createElement(t$,{set:Q})},e)))))}),z.useEffect(()=>{const G=U.current;if(G)return()=>GN(G)},[]);const V=a?"none":"auto";return z.createElement("div",lr({ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...i}},b),z.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},z.createElement("canvas",{ref:U,style:{display:"block"}},t)))}),U$=z.forwardRef(function(e,t){return z.createElement(jN,null,z.createElement(F$,lr({},e,{ref:t})))}),Cg=new q,FC=new q,k$=new q;function N$(n,e,t){const r=Cg.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function z$(n,e){const t=Cg.setFromMatrixPosition(n.matrixWorld),r=FC.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(k$);return i.angleTo(s)>Math.PI/2}function G$(n,e,t,r){const i=Cg.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function H$(n,e){if(e instanceof Eo)return e.zoom;if(e instanceof Nn){const t=Cg.setFromMatrixPosition(n.matrixWorld),r=FC.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function V$(n,e,t){if(e instanceof Nn||e instanceof Eo){const r=Cg.setFromMatrixPosition(n.matrixWorld),i=FC.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const pw=n=>Math.abs(n)<1e-10?0:n;function XN(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=pw(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const W$=(n=>e=>XN(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),j$=(n=>(e,t)=>XN(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function X$(n){return n&&typeof n=="object"&&"current"in n}const hp=z.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:f,onOcclude:p,castShadow:m,receiveShadow:v,material:y,geometry:_,zIndexRange:g=[16777271,0],calculatePosition:x=N$,as:S="div",wrapperClass:M,pointerEvents:w="auto",...b},T)=>{const{gl:R,camera:C,scene:B,size:U,raycaster:k,events:W,viewport:Y}=Cr(),[Q]=z.useState(()=>document.createElement(S)),X=z.useRef(),J=z.useRef(null),O=z.useRef(0),V=z.useRef([0,0]),G=z.useRef(null),D=z.useRef(null),H=(a==null?void 0:a.current)||W.connected||R.domElement.parentNode,se=z.useRef(null),le=z.useRef(!1),ae=z.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&X$(f[0]),[f]);z.useLayoutEffect(()=>{const Je=R.domElement;f&&f==="blending"?(Je.style.zIndex=`${Math.floor(g[0]/2)}`,Je.style.position="absolute",Je.style.pointerEvents="none"):(Je.style.zIndex=null,Je.style.position=null,Je.style.pointerEvents=null)},[f]),z.useLayoutEffect(()=>{if(J.current){const Je=X.current=AU(Q);if(B.updateMatrixWorld(),u)Q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const xe=x(J.current,C,U);Q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${xe[0]}px,${xe[1]}px,0);transform-origin:0 0;`}return H&&(i?H.prepend(Q):H.appendChild(Q)),()=>{H&&H.removeChild(Q),Je.unmount()}}},[H,u]),z.useLayoutEffect(()=>{M&&(Q.className=M)},[M]);const ue=z.useMemo(()=>u?{position:"absolute",top:0,left:0,width:U.width,height:U.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-U.height/2,left:-U.width/2,width:U.width,height:U.height},...t},[t,s,o,U,u]),fe=z.useMemo(()=>({position:"absolute",pointerEvents:w}),[w]);z.useLayoutEffect(()=>{if(le.current=!1,u){var Je;(Je=X.current)==null||Je.render(z.createElement("div",{ref:G,style:ue},z.createElement("div",{ref:D,style:fe},z.createElement("div",{ref:T,className:r,style:t,children:n}))))}else{var xe;(xe=X.current)==null||xe.render(z.createElement("div",{ref:T,style:ue,className:r,children:n}))}});const ye=z.useRef(!0);DC(Je=>{if(J.current){C.updateMatrixWorld(),J.current.updateWorldMatrix(!0,!1);const xe=u?V.current:x(J.current,C,U);if(u||Math.abs(O.current-C.zoom)>e||Math.abs(V.current[0]-xe[0])>e||Math.abs(V.current[1]-xe[1])>e){const K=z$(J.current,C);let Te=!1;ae&&(Array.isArray(f)?Te=f.map(Xe=>Xe.current):f!=="blending"&&(Te=[B]));const Ae=ye.current;if(Te){const Xe=G$(J.current,C,k,Te);ye.current=Xe&&!K}else ye.current=!K;Ae!==ye.current&&(p?p(!ye.current):Q.style.display=ye.current?"block":"none");const Ee=Math.floor(g[0]/2),we=f?ae?[g[0],Ee]:[Ee-1,0]:g;if(Q.style.zIndex=`${V$(J.current,C,we)}`,u){const[Xe,Me]=[U.width/2,U.height/2],Le=C.projectionMatrix.elements[5]*Me,{isOrthographicCamera:Be,top:ve,left:Ye,bottom:$,right:N}=C,ce=W$(C.matrixWorldInverse),Ge=Be?`scale(${Le})translate(${pw(-(N+Ye)/2)}px,${pw((ve+$)/2)}px)`:`translateZ(${Le}px)`;let De=J.current.matrixWorld;c&&(De=C.matrixWorldInverse.clone().transpose().copyPosition(De).scale(J.current.scale),De.elements[3]=De.elements[7]=De.elements[11]=0,De.elements[15]=1),Q.style.width=U.width+"px",Q.style.height=U.height+"px",Q.style.perspective=Be?"":`${Le}px`,G.current&&D.current&&(G.current.style.transform=`${Ge}${ce}translate(${Xe}px,${Me}px)`,D.current.style.transform=j$(De,1/((l||10)/400)))}else{const Xe=l===void 0?1:H$(J.current,C)*l;Q.style.transform=`translate3d(${xe[0]}px,${xe[1]}px,0) scale(${Xe})`}V.current=xe,O.current=C.zoom}}if(!ae&&se.current&&!le.current)if(u){if(G.current){const xe=G.current.children[0];if(xe!=null&&xe.clientWidth&&xe!=null&&xe.clientHeight){const{isOrthographicCamera:K}=C;if(K||_)b.scale&&(Array.isArray(b.scale)?b.scale instanceof q?se.current.scale.copy(b.scale.clone().divideScalar(1)):se.current.scale.set(1/b.scale[0],1/b.scale[1],1/b.scale[2]):se.current.scale.setScalar(1/b.scale));else{const Te=(l||10)/400,Ae=xe.clientWidth*Te,Ee=xe.clientHeight*Te;se.current.scale.set(Ae,Ee,1)}le.current=!0}}}else{const xe=Q.children[0];if(xe!=null&&xe.clientWidth&&xe!=null&&xe.clientHeight){const K=1/Y.factor,Te=xe.clientWidth*K,Ae=xe.clientHeight*K;se.current.scale.set(Te,Ae,1),le.current=!0}se.current.lookAt(Je.camera.position)}});const We=z.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return z.createElement("group",lr({},b,{ref:J}),f&&!ae&&z.createElement("mesh",{castShadow:m,receiveShadow:v,ref:se},_||z.createElement("planeGeometry",null),y||z.createElement("shaderMaterial",{side:Mi,vertexShader:We.vertexShader,fragmentShader:We.fragmentShader})))});let UC=Pg();const Ft=n=>Rg(n,UC);let kC=Pg();Ft.write=n=>Rg(n,kC);let j_=Pg();Ft.onStart=n=>Rg(n,j_);let NC=Pg();Ft.onFrame=n=>Rg(n,NC);let zC=Pg();Ft.onFinish=n=>Rg(n,zC);let Id=[];Ft.setTimeout=(n,e)=>{let t=Ft.now()+e,r=()=>{let s=Id.findIndex(o=>o.cancel==r);~s&&Id.splice(s,1),Dl-=~s?1:0},i={time:t,handler:n,cancel:r};return Id.splice(JN(t),0,i),Dl+=1,YN(),i};let JN=n=>~(~Id.findIndex(e=>e.time>n)||~Id.length);Ft.cancel=n=>{j_.delete(n),NC.delete(n),zC.delete(n),UC.delete(n),kC.delete(n)};Ft.sync=n=>{mw=!0,Ft.batchedUpdates(n),mw=!1};Ft.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function r(...i){e=i,Ft.onStart(t)}return r.handler=n,r.cancel=()=>{j_.delete(t),e=null},r};let GC=typeof window<"u"?window.requestAnimationFrame:()=>{};Ft.use=n=>GC=n;Ft.now=typeof performance<"u"?()=>performance.now():Date.now;Ft.batchedUpdates=n=>n();Ft.catch=console.error;Ft.frameLoop="always";Ft.advance=()=>{Ft.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):KN()};let Ll=-1,Dl=0,mw=!1;function Rg(n,e){mw?(e.delete(n),n(0)):(e.add(n),YN())}function YN(){Ll<0&&(Ll=0,Ft.frameLoop!=="demand"&&GC($N))}function J$(){Ll=-1}function $N(){~Ll&&(GC($N),Ft.batchedUpdates(KN))}function KN(){let n=Ll;Ll=Ft.now();let e=JN(Ll);if(e&&(QN(Id.splice(0,e),t=>t.handler()),Dl-=e),!Dl){J$();return}j_.flush(),UC.flush(n?Math.min(64,Ll-n):16.667),NC.flush(),kC.flush(),zC.flush()}function Pg(){let n=new Set,e=n;return{add(t){Dl+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return Dl-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,Dl-=e.size,QN(e,r=>r(t)&&n.add(r)),Dl+=n.size,e=n)}}}function QN(n,e){n.forEach(t=>{try{e(t)}catch(r){Ft.catch(r)}})}function gw(){}const Y$=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),st={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function La(n,e){if(st.arr(n)){if(!st.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}const vn=(n,e)=>n.forEach(e);function Qa(n,e,t){if(st.arr(n)){for(let r=0;r<n.length;r++)e.call(t,n[r],`${r}`);return}for(const r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r)}const Xs=n=>st.und(n)?[]:st.arr(n)?n:[n];function $p(n,e){if(n.size){const t=Array.from(n);n.clear(),vn(t,e)}}const Ip=(n,...e)=>$p(n,t=>t(...e)),HC=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let VC,ZN,ec=null,qN=!1,WC=gw;const $$=n=>{n.to&&(ZN=n.to),n.now&&(Ft.now=n.now),n.colors!==void 0&&(ec=n.colors),n.skipAnimation!=null&&(qN=n.skipAnimation),n.createStringInterpolator&&(VC=n.createStringInterpolator),n.requestAnimationFrame&&Ft.use(n.requestAnimationFrame),n.batchedUpdates&&(Ft.batchedUpdates=n.batchedUpdates),n.willAdvance&&(WC=n.willAdvance),n.frameLoop&&(Ft.frameLoop=n.frameLoop)};var ca=Object.freeze({__proto__:null,get createStringInterpolator(){return VC},get to(){return ZN},get colors(){return ec},get skipAnimation(){return qN},get willAdvance(){return WC},assign:$$});const Kp=new Set;let Hs=[],kA=[],A1=0;const X_={get idle(){return!Kp.size&&!Hs.length},start(n){A1>n.priority?(Kp.add(n),Ft.onStart(K$)):(e4(n),Ft(vw))},advance:vw,sort(n){if(A1)Ft.onFrame(()=>X_.sort(n));else{const e=Hs.indexOf(n);~e&&(Hs.splice(e,1),t4(n))}},clear(){Hs=[],Kp.clear()}};function K$(){Kp.forEach(e4),Kp.clear(),Ft(vw)}function e4(n){Hs.includes(n)||t4(n)}function t4(n){Hs.splice(Q$(Hs,e=>e.priority>n.priority),0,n)}function vw(n){const e=kA;for(let t=0;t<Hs.length;t++){const r=Hs[t];A1=r.priority,r.idle||(WC(r),r.advance(n),r.idle||e.push(r))}return A1=0,kA=Hs,kA.length=0,Hs=e,Hs.length>0}function Q$(n,e){const t=n.findIndex(e);return t<0?n.length:t}const Z$=(n,e,t)=>Math.min(Math.max(t,n),e),q$={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},xo="[-+]?\\d*\\.?\\d+",M1=xo+"%";function J_(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}const eK=new RegExp("rgb"+J_(xo,xo,xo)),tK=new RegExp("rgba"+J_(xo,xo,xo,xo)),nK=new RegExp("hsl"+J_(xo,M1,M1)),rK=new RegExp("hsla"+J_(xo,M1,M1,xo)),iK=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,sK=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,oK=/^#([0-9a-fA-F]{6})$/,aK=/^#([0-9a-fA-F]{8})$/;function lK(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=oK.exec(n))?parseInt(e[1]+"ff",16)>>>0:ec&&ec[n]!==void 0?ec[n]:(e=eK.exec(n))?(Hf(e[1])<<24|Hf(e[2])<<16|Hf(e[3])<<8|255)>>>0:(e=tK.exec(n))?(Hf(e[1])<<24|Hf(e[2])<<16|Hf(e[3])<<8|wB(e[4]))>>>0:(e=iK.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=aK.exec(n))?parseInt(e[1],16)>>>0:(e=sK.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=nK.exec(n))?(MB(EB(e[1]),Vv(e[2]),Vv(e[3]))|255)>>>0:(e=rK.exec(n))?(MB(EB(e[1]),Vv(e[2]),Vv(e[3]))|wB(e[4]))>>>0:null}function NA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function MB(n,e,t){const r=t<.5?t*(1+e):t+e-t*e,i=2*t-r,s=NA(i,r,n+1/3),o=NA(i,r,n),a=NA(i,r,n-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Hf(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function EB(n){return(parseFloat(n)%360+360)%360/360}function wB(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function Vv(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function bB(n){let e=lK(n);if(e===null)return n;e=e||0;let t=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${r}, ${i}, ${s})`}const Nm=(n,e,t)=>{if(st.fun(n))return n;if(st.arr(n))return Nm({range:n,output:e,extrapolate:t});if(st.str(n.output[0]))return VC(n);const r=n,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const u=uK(c,s);return cK(c,s[u],s[u+1],i[u],i[u+1],l,o,a,r.map)}};function cK(n,e,t,r,i,s,o,a,l){let c=l?l(n):n;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>t){if(a==="identity")return c;a==="clamp"&&(c=t)}return r===i?r:e===t?n<=e?r:i:(e===-1/0?c=-c:t===1/0?c=c-e:c=(c-e)/(t-e),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function uK(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}const fK=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const r=t*n,i=e==="end"?Math.floor(r):Math.ceil(r);return Z$(0,1,i/n)},E1=1.70158,Wv=E1*1.525,TB=E1+1,CB=2*Math.PI/3,RB=2*Math.PI/4.5,jv=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,dK={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>TB*n*n*n-E1*n*n,easeOutBack:n=>1+TB*Math.pow(n-1,3)+E1*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((Wv+1)*2*n-Wv)/2:(Math.pow(2*n-2,2)*((Wv+1)*(n*2-2)+Wv)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*CB),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*CB)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*RB))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*RB)/2+1,easeInBounce:n=>1-jv(1-n),easeOutBounce:jv,easeInOutBounce:n=>n<.5?(1-jv(1-2*n))/2:(1+jv(2*n-1))/2,steps:fK};function yw(){return yw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yw.apply(this,arguments)}const th=Symbol.for("FluidValue.get"),Gu=Symbol.for("FluidValue.observers"),Yo=n=>!!(n&&n[th]),Us=n=>n&&n[th]?n[th]():n,PB=n=>n[Gu]||null;function hK(n,e){n.eventObserved?n.eventObserved(e):n(e)}function w1(n,e){let t=n[Gu];t&&t.forEach(r=>{hK(r,e)})}let pK=class{constructor(e){if(this[th]=void 0,this[Gu]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");mK(this,e)}};const mK=(n,e)=>n4(n,th,e);function Ig(n,e){if(n[th]){let t=n[Gu];t||n4(n,Gu,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function b1(n,e){let t=n[Gu];if(t&&t.has(e)){const r=t.size-1;r?t.delete(e):n[Gu]=null,n.observerRemoved&&n.observerRemoved(r,e)}}const n4=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),Dy=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,gK=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,IB=new RegExp(`(${Dy.source})(%|[a-z]+)`,"i"),vK=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Y_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,r4=n=>{const[e,t]=yK(n);if(!e||HC())return n;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(t&&t.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(t);return i||n}else{if(t&&Y_.test(t))return r4(t);if(t)return t}return n},yK=n=>{const e=Y_.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]};let zA;const _K=(n,e,t,r,i)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(r)}, ${i})`,i4=n=>{zA||(zA=ec?new RegExp(`(${Object.keys(ec).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(s=>Us(s).replace(Y_,r4).replace(gK,bB).replace(zA,bB)),t=e.map(s=>s.match(Dy).map(Number)),i=t[0].map((s,o)=>t.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>Nm(yw({},n,{output:s})));return s=>{var o;const a=!IB.test(e[0])&&((o=e.find(c=>IB.test(c)))==null?void 0:o.replace(Dy,""));let l=0;return e[0].replace(Dy,()=>`${i[l++](s)}${a||""}`).replace(vK,_K)}},jC="react-spring: ",s4=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${jC}once requires a function parameter`);return(...r)=>{t||(e(...r),t=!0)}},xK=s4(console.warn);function SK(){xK(`${jC}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const AK=s4(console.warn);function MK(){AK(`${jC}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function $_(n){return st.str(n)&&(n[0]=="#"||/\d/.test(n)||!HC()&&Y_.test(n)||n in(ec||{}))}const XC=HC()?z.useEffect:z.useLayoutEffect,EK=()=>{const n=z.useRef(!1);return XC(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function o4(){const n=z.useState()[1],e=EK();return()=>{e.current&&n(Math.random())}}function wK(n,e){const[t]=z.useState(()=>({inputs:e,result:n()})),r=z.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&bK(e,s.inputs)||(s={inputs:e,result:n()}):s=t,z.useEffect(()=>{r.current=s,i==t&&(t.inputs=t.result=void 0)},[s]),s.result}function bK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}const a4=n=>z.useEffect(n,TK),TK=[];function BB(n){const e=z.useRef();return z.useEffect(()=>{e.current=n}),e.current}const zm=Symbol.for("Animated:node"),CK=n=>!!n&&n[zm]===n,Xo=n=>n&&n[zm],JC=(n,e)=>Y$(n,zm,e),K_=n=>n&&n[zm]&&n[zm].getPayload();let l4=class{constructor(){this.payload=void 0,JC(this,this)}getPayload(){return this.payload||[]}},Q_=class c4 extends l4{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,st.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new c4(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return st.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,st.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},T1=class u4 extends Q_{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=Nm({output:[e,e]})}static create(e){return new u4(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(st.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Nm({output:[this.getValue(),e]})),this._value=0,super.reset()}};const C1={dependencies:null};let YC=class extends l4{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Qa(this.source,(r,i)=>{CK(r)?t[i]=r.getValue(e):Yo(r)?t[i]=Us(r):e||(t[i]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&vn(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Qa(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){C1.dependencies&&Yo(e)&&C1.dependencies.add(e);const t=K_(e);t&&vn(t,r=>this.add(r))}},RK=class f4 extends YC{constructor(e){super(e)}static create(e){return new f4(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(PK)),!0)}};function PK(n){return($_(n)?T1:Q_).create(n)}function _w(n){const e=Xo(n);return e?e.constructor:st.arr(n)?RK:$_(n)?T1:Q_}function R1(){return R1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},R1.apply(this,arguments)}const LB=(n,e)=>{const t=!st.fun(n)||n.prototype&&n.prototype.isReactComponent;return z.forwardRef((r,i)=>{const s=z.useRef(null),o=t&&z.useCallback(v=>{s.current=LK(i,v)},[i]),[a,l]=BK(r,e),c=o4(),u=()=>{const v=s.current;if(t&&!v)return;(v?e.applyAnimatedValues(v,a.getValue(!0)):!1)===!1&&c()},f=new IK(u,l),p=z.useRef();XC(()=>(p.current=f,vn(l,v=>Ig(v,f)),()=>{p.current&&(vn(p.current.deps,v=>b1(v,p.current)),Ft.cancel(p.current.update))})),z.useEffect(u,[]),a4(()=>()=>{const v=p.current;vn(v.deps,y=>b1(y,v))});const m=e.getComponentProps(a.getValue());return z.createElement(n,R1({},m,{ref:o}))})};let IK=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Ft.write(this.update)}};function BK(n,e){const t=new Set;return C1.dependencies=t,n.style&&(n=R1({},n,{style:e.createAnimatedStyle(n.style)})),n=new YC(n),C1.dependencies=null,[n,t]}function LK(n,e){return n&&(st.fun(n)?n(e):n.current=e),e}const DB=Symbol.for("AnimatedComponent"),DK=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=i=>new YC(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:r},s=o=>{const a=OB(o)||"Anonymous";return st.str(o)?o=s[o]||(s[o]=LB(o,i)):o=o[DB]||(o[DB]=LB(o,i)),o.displayName=`Animated(${a})`,o};return Qa(n,(o,a)=>{st.arr(n)&&(a=OB(o)),s[a]=s(o)}),{animated:s}},OB=n=>st.str(n)?n:n&&st.str(n.displayName)?n.displayName:st.fun(n)&&n.name||null;function kr(){return kr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kr.apply(this,arguments)}function ru(n,...e){return st.fun(n)?n(...e):n}const Qp=(n,e)=>n===!0||!!(e&&n&&(st.fun(n)?n(e):Xs(n).includes(e))),d4=(n,e)=>st.obj(n)?e&&n[e]:n,h4=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,OK=n=>n,$C=(n,e=OK)=>{let t=FK;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));const r={};for(const i of t){const s=e(n[i],i);st.und(s)||(r[i]=s)}return r},FK=["config","onProps","onStart","onChange","onPause","onResume","onRest"],UK={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function kK(n){const e={};let t=0;if(Qa(n,(r,i)=>{UK[i]||(e[i]=r,t++)}),t)return e}function p4(n){const e=kK(n);if(e){const t={to:e};return Qa(n,(r,i)=>i in e||(t[i]=r)),t}return kr({},n)}function Gm(n){return n=Us(n),st.arr(n)?n.map(Gm):$_(n)?ca.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function NK(n){for(const e in n)return!0;return!1}function xw(n){return st.fun(n)||st.arr(n)&&st.obj(n[0])}function zK(n,e){var t;(t=n.ref)==null||t.delete(n),e==null||e.delete(n)}function GK(n,e){if(e&&n.ref!==e){var t;(t=n.ref)==null||t.delete(n),e.add(n),n.ref=e}}const HK={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Sw=kr({},HK.default,{mass:1,damping:1,easing:dK.linear,clamp:!1});let VK=class{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Sw)}};function WK(n,e,t){t&&(t=kr({},t),FB(t,e),e=kr({},t,e)),FB(n,e),Object.assign(n,e);for(const o in Sw)n[o]==null&&(n[o]=Sw[o]);let{mass:r,frequency:i,damping:s}=n;return st.und(i)||(i<.01&&(i=.01),s<0&&(s=0),n.tension=Math.pow(2*Math.PI/i,2)*r,n.friction=4*Math.PI*s*r/i),n}function FB(n,e){if(!st.und(e.decay))n.duration=void 0;else{const t=!st.und(e.tension)||!st.und(e.friction);(t||!st.und(e.frequency)||!st.und(e.damping)||!st.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}const UB=[];let jK=class{constructor(){this.changed=!1,this.values=UB,this.toValues=null,this.fromValues=UB,this.to=void 0,this.from=void 0,this.config=new VK,this.immediate=!1}};function m4(n,{key:e,props:t,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{var l;let c,u,f=Qp((l=t.cancel)!=null?l:r==null?void 0:r.cancel,e);if(f)v();else{st.und(t.pause)||(i.paused=Qp(t.pause,e));let y=r==null?void 0:r.pause;y!==!0&&(y=i.paused||Qp(y,e)),c=ru(t.delay||0,e),y?(i.resumeQueue.add(m),s.pause()):(s.resume(),m())}function p(){i.resumeQueue.add(m),i.timeouts.delete(u),u.cancel(),c=u.time-Ft.now()}function m(){c>0&&!ca.skipAnimation?(i.delayed=!0,u=Ft.setTimeout(v,c),i.pauseQueue.add(p),i.timeouts.add(u)):v()}function v(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(p),i.timeouts.delete(u),n<=(i.cancelId||0)&&(f=!0);try{s.start(kr({},t,{callId:n,cancel:f}),o)}catch(y){a(y)}}})}const KC=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?Bd(n.get()):e.every(t=>t.noop)?g4(n.get()):yo(n.get(),e.every(t=>t.finished)),g4=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),yo=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),Bd=n=>({value:n,cancelled:!0,finished:!1});function v4(n,e,t,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=t;return!s&&n===a&&!e.reset?l:t.promise=(async()=>{t.asyncId=i,t.asyncTo=n;const c=$C(e,(_,g)=>g==="onRest"?void 0:_);let u,f;const p=new Promise((_,g)=>(u=_,f=g)),m=_=>{const g=i<=(t.cancelId||0)&&Bd(r)||i!==t.asyncId&&yo(r,!1);if(g)throw _.result=g,f(_),_},v=(_,g)=>{const x=new kB,S=new NB;return(async()=>{if(ca.skipAnimation)throw Hm(t),S.result=yo(r,!1),f(S),S;m(x);const M=st.obj(_)?kr({},_):kr({},g,{to:_});M.parentId=i,Qa(c,(b,T)=>{st.und(M[T])&&(M[T]=b)});const w=await r.start(M);return m(x),t.paused&&await new Promise(b=>{t.resumeQueue.add(b)}),w})()};let y;if(ca.skipAnimation)return Hm(t),yo(r,!1);try{let _;st.arr(n)?_=(async g=>{for(const x of g)await v(x)})(n):_=Promise.resolve(n(v,r.stop.bind(r))),await Promise.all([_.then(u),p]),y=yo(r.get(),!0,!1)}catch(_){if(_ instanceof kB)y=_.result;else if(_ instanceof NB)y=_.result;else throw _}finally{i==t.asyncId&&(t.asyncId=s,t.asyncTo=s?a:void 0,t.promise=s?l:void 0)}return st.fun(o)&&Ft.batchedUpdates(()=>{o(y,r,r.item)}),y})()}function Hm(n,e){$p(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}let kB=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}},NB=class extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}};const Aw=n=>n instanceof QC;let XK=1,QC=class extends pK{constructor(...e){super(...e),this.id=XK++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Xo(this);return e&&e.getValue()}to(...e){return ca.to(this,e)}interpolate(...e){return SK(),ca.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){w1(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||X_.sort(this),w1(this,{type:"priority",parent:this,priority:e})}};const Hu=Symbol.for("SpringPhase"),y4=1,Mw=2,Ew=4,GA=n=>(n[Hu]&y4)>0,xl=n=>(n[Hu]&Mw)>0,pp=n=>(n[Hu]&Ew)>0,zB=(n,e)=>e?n[Hu]|=Mw|y4:n[Hu]&=~Mw,GB=(n,e)=>e?n[Hu]|=Ew:n[Hu]&=~Ew;let JK=class extends QC{constructor(e,t){if(super(),this.key=void 0,this.animation=new jK,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!st.und(e)||!st.und(t)){const r=st.obj(e)?kr({},e):kr({},t,{from:e});st.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(xl(this)||this._state.asyncTo)||pp(this)}get goal(){return Us(this.animation.to)}get velocity(){const e=Xo(this);return e instanceof Q_?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return GA(this)}get isAnimating(){return xl(this)}get isPaused(){return pp(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1;const i=this.animation;let{config:s,toValues:o}=i;const a=K_(i.to);!a&&Yo(i.to)&&(o=Xs(Us(i.to))),i.values.forEach((u,f)=>{if(u.done)return;const p=u.constructor==T1?1:a?a[f].lastPosition:o[f];let m=i.immediate,v=p;if(!m){if(v=u.lastPosition,s.tension<=0){u.done=!0;return}let y=u.elapsedTime+=e;const _=i.fromValues[f],g=u.v0!=null?u.v0:u.v0=st.arr(s.velocity)?s.velocity[f]:s.velocity;let x;const S=s.precision||(_==p?.005:Math.min(1,Math.abs(p-_)*.001));if(st.und(s.duration))if(s.decay){const M=s.decay===!0?.998:s.decay,w=Math.exp(-(1-M)*y);v=_+g/(1-M)*(1-w),m=Math.abs(u.lastPosition-v)<=S,x=g*w}else{x=u.lastVelocity==null?g:u.lastVelocity;const M=s.restVelocity||S/10,w=s.clamp?0:s.bounce,b=!st.und(w),T=_==p?u.v0>0:_<p;let R,C=!1;const B=1,U=Math.ceil(e/B);for(let k=0;k<U&&(R=Math.abs(x)>M,!(!R&&(m=Math.abs(p-v)<=S,m)));++k){b&&(C=v==p||v>p==T,C&&(x=-x*w,v=p));const W=-s.tension*1e-6*(v-p),Y=-s.friction*.001*x,Q=(W+Y)/s.mass;x=x+Q*B,v=v+x*B}}else{let M=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,y=u.elapsedTime+=e)),M=(s.progress||0)+y/this._memoizedDuration,M=M>1?1:M<0?0:M,u.durationProgress=M),v=_+s.easing(M)*(p-_),x=(v-u.lastPosition)/e,m=M==1}u.lastVelocity=x,Number.isNaN(v)&&(console.warn("Got NaN while animating:",this),m=!0)}a&&!a[f].done&&(m=!1),m?u.done=!0:t=!1,u.setValue(v,s.round)&&(r=!0)});const l=Xo(this),c=l.getValue();if(t){const u=Us(i.to);(c!==u||r)&&!s.decay?(l.setValue(u),this._onChange(u)):r&&s.decay&&this._onChange(c),this._stop()}else r&&this._onChange(c)}set(e){return Ft.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(xl(this)){const{to:e,config:t}=this.animation;Ft.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return st.und(e)?(r=this.queue||[],this.queue=[]):r=[st.obj(e)?e:kr({},t,{to:e})],Promise.all(r.map(i=>this._update(i))).then(i=>KC(this,i))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Hm(this._state,e&&this._lastCallId),Ft.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:r,from:i}=e;r=st.obj(r)?r[t]:r,(r==null||xw(r))&&(r=void 0),i=st.obj(i)?i[t]:i,i==null&&(i=void 0);const s={to:r,from:i};return GA(this)||(e.reverse&&([r,i]=[i,r]),i=Us(i),st.und(i)?Xo(this)||this._set(r):this._set(i)),s}_update(e,t){let r=kr({},e);const{key:i,defaultProps:s}=this;r.default&&Object.assign(s,$C(r,(l,c)=>/^on/.test(c)?d4(l,i):l)),VB(this,r,"onProps"),gp(this,"onProps",r,this);const o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return m4(++this._lastCallId,{key:i,props:r,defaultProps:s,state:a,actions:{pause:()=>{pp(this)||(GB(this,!0),Ip(a.pauseQueue),gp(this,"onPause",yo(this,mp(this,this.animation.to)),this))},resume:()=>{pp(this)&&(GB(this,!1),xl(this)&&this._resume(),Ip(a.resumeQueue),gp(this,"onResume",yo(this,mp(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(l=>{if(r.loop&&l.finished&&!(t&&l.noop)){const c=_4(r);if(c)return this._update(c,!0)}return l})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(Bd(this));const i=!st.und(e.to),s=!st.und(e.from);if(i||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return r(Bd(this));const{key:o,defaultProps:a,animation:l}=this,{to:c,from:u}=l;let{to:f=c,from:p=u}=e;s&&!i&&(!t.default||st.und(f))&&(f=p),t.reverse&&([f,p]=[p,f]);const m=!La(p,u);m&&(l.from=p),p=Us(p);const v=!La(f,c);v&&this._focus(f);const y=xw(t.to),{config:_}=l,{decay:g,velocity:x}=_;(i||s)&&(_.velocity=0),t.config&&!y&&WK(_,ru(t.config,o),t.config!==a.config?ru(a.config,o):void 0);let S=Xo(this);if(!S||st.und(f))return r(yo(this,!0));const M=st.und(t.reset)?s&&!t.default:!st.und(p)&&Qp(t.reset,o),w=M?p:this.get(),b=Gm(f),T=st.num(b)||st.arr(b)||$_(b),R=!y&&(!T||Qp(a.immediate||t.immediate,o));if(v){const k=_w(f);if(k!==S.constructor)if(R)S=this._set(b);else throw Error(`Cannot animate between ${S.constructor.name} and ${k.name}, as the "to" prop suggests`)}const C=S.constructor;let B=Yo(f),U=!1;if(!B){const k=M||!GA(this)&&m;(v||k)&&(U=La(Gm(w),b),B=!U),(!La(l.immediate,R)&&!R||!La(_.decay,g)||!La(_.velocity,x))&&(B=!0)}if(U&&xl(this)&&(l.changed&&!M?B=!0:B||this._stop(c)),!y&&((B||Yo(c))&&(l.values=S.getPayload(),l.toValues=Yo(f)?null:C==T1?[1]:Xs(b)),l.immediate!=R&&(l.immediate=R,!R&&!M&&this._set(c)),B)){const{onRest:k}=l;vn($K,Y=>VB(this,t,Y));const W=yo(this,mp(this,c));Ip(this._pendingCalls,W),this._pendingCalls.add(r),l.changed&&Ft.batchedUpdates(()=>{l.changed=!M,k==null||k(W,this),M?ru(a.onRest,W):l.onStart==null||l.onStart(W,this)})}M&&this._set(w),y?r(v4(t.to,t,this._state,this)):B?this._start():xl(this)&&!v?this._pendingCalls.add(r):r(g4(w))}_focus(e){const t=this.animation;e!==t.to&&(PB(this)&&this._detach(),t.to=e,PB(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Yo(t)&&(Ig(t,this),Aw(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Yo(e)&&b1(e,this)}_set(e,t=!0){const r=Us(e);if(!st.und(r)){const i=Xo(this);if(!i||!La(r,i.getValue())){const s=_w(r);!i||i.constructor!=s?JC(this,s.create(r)):i.setValue(r),i&&Ft.batchedUpdates(()=>{this._onChange(r,t)})}}return Xo(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,gp(this,"onStart",yo(this,mp(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),ru(this.animation.onChange,e,this)),ru(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Xo(this).reset(Us(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),xl(this)||(zB(this,!0),pp(this)||this._resume())}_resume(){ca.skipAnimation?this.finish():X_.start(this)}_stop(e,t){if(xl(this)){zB(this,!1);const r=this.animation;vn(r.values,s=>{s.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),w1(this,{type:"idle",parent:this});const i=t?Bd(this.get()):yo(this.get(),mp(this,e??r.to));Ip(this._pendingCalls,i),r.changed&&(r.changed=!1,gp(this,"onRest",i,this))}}};function mp(n,e){const t=Gm(e),r=Gm(n.get());return La(r,t)}function _4(n,e=n.loop,t=n.to){let r=ru(e);if(r){const i=r!==!0&&p4(r),s=(i||n).reverse,o=!i||i.reset;return Vm(kr({},n,{loop:e,default:!1,pause:void 0,to:!s||xw(t)?t:void 0,from:o?n.from:void 0,reset:o},i))}}function Vm(n){const{to:e,from:t}=n=p4(n),r=new Set;return st.obj(e)&&HB(e,r),st.obj(t)&&HB(t,r),n.keys=r.size?Array.from(r):null,n}function YK(n){const e=Vm(n);return st.und(e.default)&&(e.default=$C(e)),e}function HB(n,e){Qa(n,(t,r)=>t!=null&&e.add(r))}const $K=["onStart","onRest","onChange","onPause","onResume"];function VB(n,e,t){n.animation[t]=e[t]!==h4(e,t)?d4(e[t],n.key):void 0}function gp(n,e,...t){var r,i,s,o;(r=(i=n.animation)[e])==null||r.call(i,...t),(s=(o=n.defaultProps)[e])==null||s.call(o,...t)}const KK=["onStart","onChange","onRest"];let QK=1,ZK=class{constructor(e,t){this.id=QK++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(kr({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(const t in e){const r=e[t];st.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(Vm(e)),this}start(e){let{queue:t}=this;return e?t=Xs(e).map(Vm):this.queue=[],this._flush?this._flush(this,t):(E4(this,t),ww(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const r=this.springs;vn(Xs(t),i=>r[i].stop(!!e))}else Hm(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(st.und(e))this.start({pause:!0});else{const t=this.springs;vn(Xs(e),r=>t[r].pause())}return this}resume(e){if(st.und(e))this.start({pause:!1});else{const t=this.springs;vn(Xs(e),r=>t[r].resume())}return this}each(e){Qa(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:r}=this._events,i=this._active.size>0,s=this._changed.size>0;(i&&!this._started||s&&!this._started)&&(this._started=!0,$p(e,([l,c])=>{c.value=this.get(),l(c,this,this._item)}));const o=!i&&this._started,a=s||o&&r.size?this.get():null;s&&t.size&&$p(t,([l,c])=>{c.value=a,l(c,this,this._item)}),o&&(this._started=!1,$p(r,([l,c])=>{c.value=a,l(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Ft.onFrame(this._onFrame)}};function ww(n,e){return Promise.all(e.map(t=>x4(n,t))).then(t=>KC(n,t))}async function x4(n,e,t){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,c=st.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const u=st.arr(i)||st.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):vn(KK,y=>{const _=e[y];if(st.fun(_)){const g=n._events[y];e[y]=({finished:x,cancelled:S})=>{const M=g.get(_);M?(x||(M.finished=!1),S&&(M.cancelled=!0)):g.set(_,{value:null,finished:x||!1,cancelled:S||!1})},c&&(c[y]=e[y])}});const f=n._state;e.pause===!f.paused?(f.paused=e.pause,Ip(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const p=(r||Object.keys(n.springs)).map(y=>n.springs[y].start(e)),m=e.cancel===!0||h4(e,"cancel")===!0;(u||m&&f.asyncId)&&p.push(m4(++n._lastAsyncId,{props:e,state:f,actions:{pause:gw,resume:gw,start(y,_){m?(Hm(f,n._lastAsyncId),_(Bd(n))):(y.onRest=a,_(v4(u,y,f,n)))}}})),f.paused&&await new Promise(y=>{f.resumeQueue.add(y)});const v=KC(n,await Promise.all(p));if(o&&v.finished&&!(t&&v.noop)){const y=_4(e,o,i);if(y)return E4(n,[y]),x4(n,y,!0)}return l&&Ft.batchedUpdates(()=>l(v,n,n.item)),v}function WB(n,e){const t=kr({},n.springs);return e&&vn(Xs(e),r=>{st.und(r.keys)&&(r=Vm(r)),st.obj(r.to)||(r=kr({},r,{to:void 0})),M4(t,r,i=>A4(i))}),S4(n,t),t}function S4(n,e){Qa(e,(t,r)=>{n.springs[r]||(n.springs[r]=t,Ig(t,n))})}function A4(n,e){const t=new JK;return t.key=n,e&&Ig(t,e),t}function M4(n,e,t){e.keys&&vn(e.keys,r=>{(n[r]||(n[r]=t(r)))._prepareNode(e)})}function E4(n,e){vn(e,t=>{M4(n.springs,t,r=>A4(r,n))})}function qK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}const eQ=["children"],Z_=n=>{let{children:e}=n,t=qK(n,eQ);const r=z.useContext(P1),i=t.pause||!!r.pause,s=t.immediate||!!r.immediate;t=wK(()=>({pause:i,immediate:s}),[i,s]);const{Provider:o}=P1;return z.createElement(o,{value:t},e)},P1=tQ(Z_,{});Z_.Provider=P1.Provider;Z_.Consumer=P1.Consumer;function tQ(n,e){return Object.assign(n,z.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}const nQ=()=>{const n=[],e=function(i){MK();const s=[];return vn(n,(o,a)=>{if(st.und(i))s.push(o.start());else{const l=t(i,o,a);l&&s.push(o.start(l))}}),s};e.current=n,e.add=function(r){n.includes(r)||n.push(r)},e.delete=function(r){const i=n.indexOf(r);~i&&n.splice(i,1)},e.pause=function(){return vn(n,r=>r.pause(...arguments)),this},e.resume=function(){return vn(n,r=>r.resume(...arguments)),this},e.set=function(r){vn(n,i=>i.set(r))},e.start=function(r){const i=[];return vn(n,(s,o)=>{if(st.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return vn(n,r=>r.stop(...arguments)),this},e.update=function(r){return vn(n,(i,s)=>i.update(this._getProps(r,i,s))),this};const t=function(i,s,o){return st.fun(i)?i(o,s):i};return e._getProps=t,e};function rQ(n,e,t){const r=st.fun(e)&&e;r&&!t&&(t=[]);const i=z.useMemo(()=>r||arguments.length==3?nQ():void 0,[]),s=z.useRef(0),o=o4(),a=z.useMemo(()=>({ctrls:[],queue:[],flush(g,x){const S=WB(g,x);return s.current>0&&!a.queue.length&&!Object.keys(S).some(w=>!g.springs[w])?ww(g,x):new Promise(w=>{S4(g,S),a.queue.push(()=>{w(ww(g,x))}),o()})}}),[]),l=z.useRef([...a.ctrls]),c=[],u=BB(n)||0;z.useMemo(()=>{vn(l.current.slice(n,u),g=>{zK(g,i),g.stop(!0)}),l.current.length=n,f(u,n)},[n]),z.useMemo(()=>{f(0,Math.min(u,n))},t);function f(g,x){for(let S=g;S<x;S++){const M=l.current[S]||(l.current[S]=new ZK(null,a.flush)),w=r?r(S,M):e[S];w&&(c[S]=YK(w))}}const p=l.current.map((g,x)=>WB(g,c[x])),m=z.useContext(Z_),v=BB(m),y=m!==v&&NK(m);XC(()=>{s.current++,a.ctrls=l.current;const{queue:g}=a;g.length&&(a.queue=[],vn(g,x=>x())),vn(l.current,(x,S)=>{i==null||i.add(x),y&&x.start({default:m});const M=c[S];M&&(GK(x,M.ref),x.ref?x.queue.push(M):x.start(M))})}),a4(()=>()=>{vn(a.ctrls,g=>g.stop(!0))});const _=p.map(g=>kr({},g));return i?[_,i]:_}function iQ(n,e){const t=st.fun(n),[[r],i]=rQ(1,t?n:[n],t?e||[]:e);return t||arguments.length==2?[r,i]:r}let jB;(function(n){n.MOUNT="mount",n.ENTER="enter",n.UPDATE="update",n.LEAVE="leave"})(jB||(jB={}));let sQ=class extends QC{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=Nm(...t);const r=this._get(),i=_w(r);JC(this,i.create(r))}advance(e){const t=this._get(),r=this.get();La(t,r)||(Xo(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&XB(this._active)&&HA(this)}_get(){const e=st.arr(this.source)?this.source.map(Us):Xs(Us(this.source));return this.calc(...e)}_start(){this.idle&&!XB(this._active)&&(this.idle=!1,vn(K_(this),e=>{e.done=!1}),ca.skipAnimation?(Ft.batchedUpdates(()=>this.advance()),HA(this)):X_.start(this))}_attach(){let e=1;vn(Xs(this.source),t=>{Yo(t)&&Ig(t,this),Aw(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){vn(Xs(this.source),e=>{Yo(e)&&b1(e,this)}),this._active.clear(),HA(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Xs(this.source).reduce((t,r)=>Math.max(t,(Aw(r)?r.priority:0)+1),0))}};function oQ(n){return n.idle!==!1}function XB(n){return!n.size||Array.from(n).every(oQ)}function HA(n){n.idle||(n.idle=!0,vn(K_(n),e=>{e.done=!0}),w1(n,{type:"idle",parent:n}))}ca.assign({createStringInterpolator:i4,to:(n,e)=>new sQ(n,e)});const aQ=["primitive"].concat(Object.keys(PC).filter(n=>/^[A-Z]/.test(n)).map(n=>n[0].toLowerCase()+n.slice(1)));ca.assign({createStringInterpolator:i4,colors:q$,frameLoop:"demand"});NN(()=>{Ft.advance()});const lQ=DK(aQ,{applyAnimatedValues:Tl}),cQ=lQ.animated;function uQ(n,e,t){return Math.max(e,Math.min(n,t))}const Fn={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function JB(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function YB(n,e,t,r=.15){return r===0?uQ(n,e,t):n<e?-JB(e-n,t-e,r)+e:n>t?+JB(n-t,t-e,r)+t:n}function fQ(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[YB(e,s,o,r),YB(t,a,l,i)]}function dQ(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hQ(n){var e=dQ(n,"string");return typeof e=="symbol"?e:String(e)}function Sr(n,e,t){return e=hQ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $B(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Yn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(t),!0).forEach(function(r){Sr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$B(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const w4={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function KB(n){return n?n[0].toUpperCase()+n.slice(1):""}const pQ=["enter","leave"];function mQ(n=!1,e){return n&&!pQ.includes(e)}function gQ(n,e="",t=!1){const r=w4[n],i=r&&r[e]||e;return"on"+KB(n)+KB(i)+(mQ(t,i)?"Capture":"")}const vQ=["gotpointercapture","lostpointercapture"];function yQ(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=vQ.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function _Q(n,e=""){const t=w4[n],r=t&&t[e]||e;return n+r}function q_(n){return"touches"in n}function b4(n){return q_(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function xQ(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function SQ(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function T4(n){return q_(n)?SQ(n)[0]:n}function bw(n,e){try{const t=e.clientX-n.clientX,r=e.clientY-n.clientY,i=(e.clientX+n.clientX)/2,s=(e.clientY+n.clientY)/2,o=Math.hypot(t,r);return{angle:-(Math.atan2(t,r)*180)/Math.PI,distance:o,origin:[i,s]}}catch{}return null}function AQ(n){return xQ(n).map(e=>e.identifier)}function QB(n,e){const[t,r]=Array.from(n.touches).filter(i=>e.includes(i.identifier));return bw(t,r)}function VA(n){const e=T4(n);return q_(n)?e.identifier:e.pointerId}function nh(n){const e=T4(n);return[e.clientX,e.clientY]}const ZB=40,qB=800;function C4(n){let{deltaX:e,deltaY:t,deltaMode:r}=n;return r===1?(e*=ZB,t*=ZB):r===2&&(e*=qB,t*=qB),[e,t]}function MQ(n){var e,t;const{scrollX:r,scrollY:i,scrollLeft:s,scrollTop:o}=n.currentTarget;return[(e=r??s)!==null&&e!==void 0?e:0,(t=i??o)!==null&&t!==void 0?t:0]}function EQ(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function I1(n,...e){return typeof n=="function"?n(...e):n}function wQ(){}function bQ(...n){return n.length===0?wQ:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function eL(n,e){return Object.assign({},e,n||{})}const TQ=32;class R4{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?I1(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,EQ(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const b=t._delta.map(Math.abs);Fn.addTo(t._distance,b)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:u,values:f}=t;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&f[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&f[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=u[0]!==!1||u[1]!==!1,!t.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[b,T]=f;p[0]=u[0]!==!1?b-u[0]:0,p[1]=u[1]!==!1?T-u[1]:0}else p[0]=u[0]!==!1?o-u[0]:0,p[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const m=t.offset,v=t._active&&!t._blocked||t.active;v&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=I1(r.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[y,_]=t.offset,[[g,x],[S,M]]=t._bounds;t.overflow=[y<g?-1:y>x?1:0,_<S?-1:_>M?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const w=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=fQ(t._bounds,t.offset,w),t.delta=Fn.sub(t.offset,m),this.computeMovement(),v&&(!t.last||s>TQ)){t.delta=Fn.sub(t.offset,m);const b=t.delta.map(Math.abs);Fn.addTo(t.distance,b),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[b[0]/s,b[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Yn(Yn(Yn({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function CQ([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class Bg extends R4{constructor(...e){super(...e),Sr(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Fn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Fn.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[b4(e)]:r.axisThreshold;t.axis=CQ(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const RQ=n=>n,tL=.15,P4={enabled(n=!0){return n},eventOptions(n,e,t){return Yn(Yn({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[tL,tL];case!1:return[0,0];default:return Fn.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return Fn.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||RQ},threshold(n){return Fn.toVector(n,0)}},PQ=0,ef=Yn(Yn({},P4),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=PQ){return n},bounds(n={}){if(typeof n=="function")return s=>ef.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),nL={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class IQ extends Bg{constructor(...e){super(...e),Sr(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=ef.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=VA(e),r._pointerActive=!0,this.computeValues(nh(e)),this.computeInitial(),t.preventScrollAxis&&b4(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=VA(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=nh(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Fn.sub(s,t._values),this.computeValues(s)),Fn.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=VA(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,u]=t._movement,[f,p]=r.swipe.velocity,[m,v]=r.swipe.distance,y=r.swipe.duration;if(t.elapsedTime<y){const _=Math.abs(a/t.timeDelta),g=Math.abs(l/t.timeDelta);_>f&&Math.abs(c)>m&&(t.swipe[0]=Math.sign(a)),g>p&&Math.abs(u)>v&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,BQ(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=nL[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Fn.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in nL&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function BQ(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Lg=typeof window<"u"&&window.document&&window.document.createElement;function LQ(){return Lg&&"ontouchstart"in window}function rL(){return LQ()||Lg&&window.navigator.maxTouchPoints>1}function DQ(){return Lg&&"onpointerdown"in window}function OQ(){return Lg&&"exitPointerLock"in window.document}function FQ(){try{return"constructor"in GestureEvent}catch{return!1}}const Gs={isBrowser:Lg,gesture:FQ(),touch:rL(),touchscreen:rL(),pointer:DQ(),pointerLock:OQ()},UQ=250,kQ=180,NQ=.5,zQ=50,GQ=250,HQ=10,iL={mouse:0,touch:0,pen:8},VQ=Yn(Yn({},ef),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Gs.pointerLock,Gs.touch&&t?"touch":this.pointerLock?"mouse":Gs.pointer&&!i?"pointer":Gs.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?UQ:void 0,!(!Gs.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Fn.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=NQ,distance:e=zQ,duration:t=GQ}={}){return{velocity:this.transform(Fn.toVector(n)),distance:this.transform(Fn.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return kQ;case!1:return 0;default:return n}},axisThreshold(n){return n?Yn(Yn({},iL),n):iL},keyboardDisplacement(n=HQ){return n}});function I4(n){const[e,t]=n.overflow,[r,i]=n._delta,[s,o]=n._direction;(e<0&&r>0&&s<0||e>0&&r<0&&s>0)&&(n._movement[0]=n._movementBound[0]),(t<0&&i>0&&o<0||t>0&&i<0&&o>0)&&(n._movement[1]=n._movementBound[1])}const WQ=30,jQ=100;class XQ extends R4{constructor(...e){super(...e),Sr(this,"ingKey","pinching"),Sr(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:r}=this.state;e==="wheel"?this.state.offset=Fn.add(t,r):this.state.offset=[(1+t[0])*r[0],t[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,r]=e._movement;if(!e.axis){const i=Math.abs(t)*WQ-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,r=this.ctrl.touchIds;if(t._active&&t._touchIds.every(s=>r.has(s))||r.size<2)return;this.start(e),t._touchIds=Array.from(r).slice(0,2);const i=QB(e,t._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,r=t._pointerEvents,i=this.ctrl.pointerIds;if(t._active&&Array.from(r.keys()).every(o=>i.has(o))||(r.size<2&&r.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);const s=bw(...Array.from(r.values()));s&&this.pinchStart(e,s)}pinchStart(e,t){const r=this.state;r.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=QB(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const r=bw(...Array.from(t.values()));r&&this.pinchMove(e,r)}pinchMove(e,t){const r=this.state,i=r._values[1],s=t.angle-i;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([t.distance,t.angle-360*o]),r.origin=t.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(t=>!this.ctrl.touchIds.has(t))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const r=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=Fn.sub(t._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&!e[t]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const r=this.state;r._delta=[-C4(e)[1]/jQ*r.offset[0],0],Fn.addTo(r._movement,r._delta),I4(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const JQ=Yn(Yn({},P4),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!Gs.touch&&Gs.gesture)return"gesture";if(Gs.touch&&r)return"touch";if(Gs.touchscreen){if(Gs.pointer)return"pointer";if(Gs.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=eL(I1(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=eL(I1(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",Fn.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});class YQ extends Bg{constructor(...e){super(...e),Sr(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(nh(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=nh(e),r=this.state;r._delta=Fn.sub(t,r._values),Fn.addTo(r._movement,r._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const $Q=Yn(Yn({},ef),{},{mouseOnly:(n=!0)=>n});class KQ extends Bg{constructor(...e){super(...e),Sr(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,r=MQ(e);t._delta=Fn.sub(r,t._values),Fn.addTo(t._movement,t._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const QQ=ef;class ZQ extends Bg{constructor(...e){super(...e),Sr(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=C4(e),Fn.addTo(t._movement,t._delta),I4(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const qQ=ef;class eZ extends Bg{constructor(...e){super(...e),Sr(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(nh(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const t=this.state;if(!t._active)return;t._active=!1;const r=nh(e);t._movement=t._delta=Fn.sub(r,t._values),this.computeValues(r),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const tZ=Yn(Yn({},ef),{},{mouseOnly:(n=!0)=>n}),ZC=new Map,Tw=new Map;function nZ(n){ZC.set(n.key,n.engine),Tw.set(n.key,n.resolver)}const rZ={key:"drag",engine:IQ,resolver:VQ},iZ={key:"hover",engine:eZ,resolver:tZ},sZ={key:"move",engine:YQ,resolver:$Q},oZ={key:"pinch",engine:XQ,resolver:JQ},aZ={key:"scroll",engine:KQ,resolver:QQ},lZ={key:"wheel",engine:ZQ,resolver:qQ};function cZ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function uZ(n,e){if(n==null)return{};var t=cZ(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const fZ={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Gs.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},dZ=["target","eventOptions","window","enabled","transform"];function Oy(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=Oy(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function hZ(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=uZ(r,dZ);if(t.shared=Oy({target:i,eventOptions:s,window:o,enabled:a,transform:l},fZ),e){const u=Tw.get(e);t[e]=Oy(Yn({shared:t.shared},c),u)}else for(const u in c){const f=Tw.get(u);f&&(t[u]=Oy(Yn({shared:t.shared},c[u]),f))}return t}class B4{constructor(e,t){Sr(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=_Q(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Yn(Yn({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class pZ{constructor(){Sr(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}let mZ=class{constructor(e){Sr(this,"gestures",new Set),Sr(this,"_targetEventStore",new B4(this)),Sr(this,"gestureEventStores",{}),Sr(this,"gestureTimeoutStores",{}),Sr(this,"handlers",{}),Sr(this,"config",{}),Sr(this,"pointerIds",new Set),Sr(this,"touchIds",new Set),Sr(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),gZ(this,e)}setEventIds(e){if(q_(e))return this.touchIds=new Set(AQ(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=hZ(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=sL(r,a.eventOptions,!!i);if(a.enabled){const c=ZC.get(o);new c(this,e,o).bind(l)}}const s=sL(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Yn(Yn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=bQ(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=yQ(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}};function Vf(n,e){n.gestures.add(e),n.gestureEventStores[e]=new B4(n,e),n.gestureTimeoutStores[e]=new pZ}function gZ(n,e){e.drag&&Vf(n,"drag"),e.wheel&&Vf(n,"wheel"),e.scroll&&Vf(n,"scroll"),e.move&&Vf(n,"move"),e.pinch&&Vf(n,"pinch"),e.hover&&Vf(n,"hover")}const sL=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(c=o.passive)!==null&&c!==void 0?c:e.passive;let p=a?r:gQ(r,i,u);t&&f&&(p+="Passive"),n[p]=n[p]||[],n[p].push(s)},vZ=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function yZ(n){const e={},t={},r=new Set;for(let i in n)vZ.test(i)?(r.add(RegExp.lastMatch),t[i]=n[i]):e[i]=n[i];return[t,e,r]}function Wf(n,e,t,r,i,s){if(!n.has(t)||!ZC.has(r))return;const o=t+"Start",a=t+"End",l=c=>{let u;return c.first&&o in e&&e[o](c),t in e&&(u=e[t](c)),c.last&&a in e&&e[a](c),u};i[r]=l,s[r]=s[r]||{}}function _Z(n,e){const[t,r,i]=yZ(n),s={};return Wf(i,t,"onDrag","drag",s,e),Wf(i,t,"onWheel","wheel",s,e),Wf(i,t,"onScroll","scroll",s,e),Wf(i,t,"onPinch","pinch",s,e),Wf(i,t,"onMove","move",s,e),Wf(i,t,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:r}}function xZ(n,e={},t,r){const i=nn.useMemo(()=>new mZ(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),nn.useEffect(i.effect.bind(i)),nn.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function SZ(n){return n.forEach(nZ),function(t,r){const{handlers:i,nativeHandlers:s,config:o}=_Z(t,r||{});return xZ(i,o,void 0,s)}}function AZ(n,e){return SZ([rZ,oZ,aZ,lZ,sZ,iZ])(n,e||{})}function MZ({enabled:n=!0,snap:e,global:t,domElement:r,cursor:i=!0,children:s,speed:o=1,rotation:a=[0,0,0],zoom:l=1,polar:c=[0,Math.PI/2],azimuth:u=[-1/0,1/0],config:f={mass:1,tension:170,friction:26}}){const p=Cr(b=>b.events),m=Cr(b=>b.gl),v=r||p.connected||m.domElement,{size:y}=Cr(),_=z.useMemo(()=>[a[0]+c[0],a[0]+c[1]],[a[0],c[0],c[1]]),g=z.useMemo(()=>[a[1]+u[0],a[1]+u[1]],[a[1],u[0],u[1]]),x=z.useMemo(()=>[fd.clamp(a[0],..._),fd.clamp(a[1],...g),a[2]],[a[0],a[1],a[2],_,g]),[S,M]=iQ(()=>({scale:1,rotation:x,config:f}));z.useEffect(()=>void M.start({scale:1,rotation:x,config:f}),[x]),z.useEffect(()=>{if(t&&i&&n)return v.style.cursor="grab",m.domElement.style.cursor="",()=>{v.style.cursor="default",m.domElement.style.cursor="default"}},[t,i,v,n]);const w=AZ({onHover:({last:b})=>{i&&!t&&n&&(v.style.cursor=b?"auto":"grab")},onDrag:({down:b,delta:[T,R],memo:[C,B]=S.rotation.animation.to||x})=>{if(!n)return[R,T];i&&(v.style.cursor=b?"grabbing":"grab"),T=fd.clamp(B+T/y.width*Math.PI*o,...g),R=fd.clamp(C+R/y.height*Math.PI*o,..._);const U=e&&!b&&typeof e!="boolean"?e:f;return M.start({scale:b&&R>_[1]/2?l:1,rotation:e&&!b?x:[R,T,0],config:k=>k==="scale"?{...U,friction:U.friction*3}:U}),[R,T]}},{target:t?v:void 0});return z.createElement(cQ.group,lr({},w==null?void 0:w(),S),s)}function oL(n,e){if(e===lk)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===_1||e===VT){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===_1)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var Vs=Uint8Array,Ol=Uint16Array,Cw=Uint32Array,L4=new Vs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),D4=new Vs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),EZ=new Vs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O4=function(n,e){for(var t=new Ol(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Cw(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},F4=O4(L4,2),U4=F4[0],wZ=F4[1];U4[28]=258,wZ[258]=28;var bZ=O4(D4,0),TZ=bZ[0],Rw=new Ol(32768);for(var Dn=0;Dn<32768;++Dn){var Sl=(Dn&43690)>>>1|(Dn&21845)<<1;Sl=(Sl&52428)>>>2|(Sl&13107)<<2,Sl=(Sl&61680)>>>4|(Sl&3855)<<4,Rw[Dn]=((Sl&65280)>>>8|(Sl&255)<<8)>>>1}var Zp=function(n,e,t){for(var r=n.length,i=0,s=new Ol(e);i<r;++i)++s[n[i]-1];var o=new Ol(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new Ol(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],f=o[n[i]-1]++<<u,p=f|(1<<u)-1;f<=p;++f)a[Rw[f]>>>l]=c}else for(a=new Ol(r),i=0;i<r;++i)n[i]&&(a[i]=Rw[o[n[i]-1]++]>>>15-n[i]);return a},Dg=new Vs(288);for(var Dn=0;Dn<144;++Dn)Dg[Dn]=8;for(var Dn=144;Dn<256;++Dn)Dg[Dn]=9;for(var Dn=256;Dn<280;++Dn)Dg[Dn]=7;for(var Dn=280;Dn<288;++Dn)Dg[Dn]=8;var k4=new Vs(32);for(var Dn=0;Dn<32;++Dn)k4[Dn]=5;var CZ=Zp(Dg,9,1),RZ=Zp(k4,5,1),WA=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},co=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},jA=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},PZ=function(n){return(n/8|0)+(n&7&&1)},IZ=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof Ol?Ol:n instanceof Cw?Cw:Vs)(t-e);return r.set(n.subarray(e,t)),r},BZ=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Vs(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new Vs(r*3));var o=function(ue){var fe=e.length;if(ue>fe){var ye=new Vs(Math.max(fe*2,ue));ye.set(e),e=ye}},a=t.f||0,l=t.p||0,c=t.b||0,u=t.l,f=t.d,p=t.m,m=t.n,v=r*8;do{if(!u){t.f=a=co(n,l,1);var y=co(n,l+1,3);if(l+=3,y)if(y==1)u=CZ,f=RZ,p=9,m=5;else if(y==2){var S=co(n,l,31)+257,M=co(n,l+10,15)+4,w=S+co(n,l+5,31)+1;l+=14;for(var b=new Vs(w),T=new Vs(19),R=0;R<M;++R)T[EZ[R]]=co(n,l+R*3,7);l+=M*3;for(var C=WA(T),B=(1<<C)-1,U=Zp(T,C,1),R=0;R<w;){var k=U[co(n,l,B)];l+=k&15;var _=k>>>4;if(_<16)b[R++]=_;else{var W=0,Y=0;for(_==16?(Y=3+co(n,l,3),l+=2,W=b[R-1]):_==17?(Y=3+co(n,l,7),l+=3):_==18&&(Y=11+co(n,l,127),l+=7);Y--;)b[R++]=W}}var Q=b.subarray(0,S),X=b.subarray(S);p=WA(Q),m=WA(X),u=Zp(Q,p,1),f=Zp(X,m,1)}else throw"invalid block type";else{var _=PZ(l)+4,g=n[_-4]|n[_-3]<<8,x=_+g;if(x>r){if(s)throw"unexpected EOF";break}i&&o(c+g),e.set(n.subarray(_,x),c),t.b=c+=g,t.p=l=x*8;continue}if(l>v){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var J=(1<<p)-1,O=(1<<m)-1,V=l;;V=l){var W=u[jA(n,l)&J],G=W>>>4;if(l+=W&15,l>v){if(s)throw"unexpected EOF";break}if(!W)throw"invalid length/literal";if(G<256)e[c++]=G;else if(G==256){V=l,u=null;break}else{var D=G-254;if(G>264){var R=G-257,H=L4[R];D=co(n,l,(1<<H)-1)+U4[R],l+=H}var se=f[jA(n,l)&O],le=se>>>4;if(!se)throw"invalid distance";l+=se&15;var X=TZ[le];if(le>3){var H=D4[le];X+=jA(n,l)&(1<<H)-1,l+=H}if(l>v){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var ae=c+D;c<ae;c+=4)e[c]=e[c-X],e[c+1]=e[c+1-X],e[c+2]=e[c+2-X],e[c+3]=e[c+3-X];c=ae}}t.l=u,t.p=V,t.b=c,u&&(a=1,t.m=p,t.d=f,t.n=m)}while(!a);return c==e.length?e:IZ(e,0,c)},LZ=new Vs(0),DZ=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Xv(n,e){return BZ((DZ(n),n.subarray(2,-4)),e)}var OZ=typeof TextDecoder<"u"&&new TextDecoder,FZ=0;try{OZ.decode(LZ,{stream:!0}),FZ=1}catch{}const UZ=n=>n&&n.isCubeTexture;class kZ extends or{constructor(e,t){var r,i;const s=UZ(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),u=3*Math.max(c,16*7),f=4*c,p=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=p.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(ph.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,y={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},_=new Mg(1,16),g=new Io({uniforms:y,fragmentShader:v,vertexShader:m,side:Mi});super(_,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var NZ=Object.defineProperty,zZ=(n,e,t)=>e in n?NZ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Lt=(n,e,t)=>(zZ(n,typeof e!="symbol"?e+"":e,t),t);const aL=(n,e)=>(n%e+e)%e;let GZ=class extends fa{constructor(e,t){super(),Lt(this,"object"),Lt(this,"domElement"),Lt(this,"enabled",!0),Lt(this,"target",new q),Lt(this,"minDistance",0),Lt(this,"maxDistance",1/0),Lt(this,"minZoom",0),Lt(this,"maxZoom",1/0),Lt(this,"minPolarAngle",0),Lt(this,"maxPolarAngle",Math.PI),Lt(this,"minAzimuthAngle",-1/0),Lt(this,"maxAzimuthAngle",1/0),Lt(this,"enableDamping",!1),Lt(this,"dampingFactor",.05),Lt(this,"enableZoom",!0),Lt(this,"zoomSpeed",1),Lt(this,"enableRotate",!0),Lt(this,"rotateSpeed",1),Lt(this,"enablePan",!0),Lt(this,"panSpeed",1),Lt(this,"screenSpacePanning",!0),Lt(this,"keyPanSpeed",7),Lt(this,"autoRotate",!1),Lt(this,"autoRotateSpeed",2),Lt(this,"reverseOrbit",!1),Lt(this,"reverseHorizontalOrbit",!1),Lt(this,"reverseVerticalOrbit",!1),Lt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Lt(this,"mouseButtons",{LEFT:Kc.ROTATE,MIDDLE:Kc.DOLLY,RIGHT:Kc.PAN}),Lt(this,"touches",{ONE:Qc.ROTATE,TWO:Qc.DOLLY_PAN}),Lt(this,"target0"),Lt(this,"position0"),Lt(this,"zoom0"),Lt(this,"_domElementKeyEvents",null),Lt(this,"getPolarAngle"),Lt(this,"getAzimuthalAngle"),Lt(this,"setPolarAngle"),Lt(this,"setAzimuthalAngle"),Lt(this,"getDistance"),Lt(this,"listenToKeyEvents"),Lt(this,"stopListenToKeyEvents"),Lt(this,"saveState"),Lt(this,"reset"),Lt(this,"update"),Lt(this,"connect"),Lt(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=re=>{let _e=aL(re,2*Math.PI),be=u.phi;be<0&&(be+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let Re=Math.abs(_e-be);2*Math.PI-Re<Re&&(_e<be?_e+=2*Math.PI:be+=2*Math.PI),f.phi=_e-be,r.update()},this.setAzimuthalAngle=re=>{let _e=aL(re,2*Math.PI),be=u.theta;be<0&&(be+=2*Math.PI),_e<0&&(_e+=2*Math.PI);let Re=Math.abs(_e-be);2*Math.PI-Re<Re&&(_e<be?_e+=2*Math.PI:be+=2*Math.PI),f.theta=_e-be,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=re=>{re.addEventListener("keydown",N),this._domElementKeyEvents=re},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",N),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const re=new q,_e=new q(0,1,0),be=new zr().setFromUnitVectors(e.up,_e),Re=be.clone().invert(),Ne=new q,Ze=new zr,it=2*Math.PI;return function(){const pe=r.object.position;be.setFromUnitVectors(e.up,_e),Re.copy(be).invert(),re.copy(pe).sub(r.target),re.applyQuaternion(be),u.setFromVector3(re),r.autoRotate&&l===a.NONE&&k(B()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let Se=r.minAzimuthAngle,$e=r.maxAzimuthAngle;return isFinite(Se)&&isFinite($e)&&(Se<-Math.PI?Se+=it:Se>Math.PI&&(Se-=it),$e<-Math.PI?$e+=it:$e>Math.PI&&($e-=it),Se<=$e?u.theta=Math.max(Se,Math.min($e,u.theta)):u.theta=u.theta>(Se+$e)/2?Math.max(Se,u.theta):Math.min($e,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=p,u.radius=Math.max(r.minDistance,Math.min(r.maxDistance,u.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),re.setFromSpherical(u),re.applyQuaternion(Re),pe.copy(r.target).add(re),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0)),p=1,v||Ne.distanceToSquared(r.object.position)>c||8*(1-Ze.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ne.copy(r.object.position),Ze.copy(r.object.quaternion),v=!1,!0):!1}})(),this.connect=re=>{re===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=re,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",De),r.domElement.addEventListener("pointerdown",Xe),r.domElement.addEventListener("pointercancel",Be),r.domElement.addEventListener("wheel",$)},this.dispose=()=>{var re,_e,be,Re,Ne,Ze;(re=r.domElement)==null||re.removeEventListener("contextmenu",De),(_e=r.domElement)==null||_e.removeEventListener("pointerdown",Xe),(be=r.domElement)==null||be.removeEventListener("pointercancel",Be),(Re=r.domElement)==null||Re.removeEventListener("wheel",$),(Ne=r.domElement)==null||Ne.ownerDocument.removeEventListener("pointermove",Me),(Ze=r.domElement)==null||Ze.ownerDocument.removeEventListener("pointerup",Le),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",N)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new cw,f=new cw;let p=1;const m=new q;let v=!1;const y=new He,_=new He,g=new He,x=new He,S=new He,M=new He,w=new He,b=new He,T=new He,R=[],C={};function B(){return 2*Math.PI/60/60*r.autoRotateSpeed}function U(){return Math.pow(.95,r.zoomSpeed)}function k(re){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=re:f.theta-=re}function W(re){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=re:f.phi-=re}const Y=(()=>{const re=new q;return function(be,Re){re.setFromMatrixColumn(Re,0),re.multiplyScalar(-be),m.add(re)}})(),Q=(()=>{const re=new q;return function(be,Re){r.screenSpacePanning===!0?re.setFromMatrixColumn(Re,1):(re.setFromMatrixColumn(Re,0),re.crossVectors(r.object.up,re)),re.multiplyScalar(be),m.add(re)}})(),X=(()=>{const re=new q;return function(be,Re){const Ne=r.domElement;if(Ne&&r.object instanceof Nn&&r.object.isPerspectiveCamera){const Ze=r.object.position;re.copy(Ze).sub(r.target);let it=re.length();it*=Math.tan(r.object.fov/2*Math.PI/180),Y(2*be*it/Ne.clientHeight,r.object.matrix),Q(2*Re*it/Ne.clientHeight,r.object.matrix)}else Ne&&r.object instanceof Eo&&r.object.isOrthographicCamera?(Y(be*(r.object.right-r.object.left)/r.object.zoom/Ne.clientWidth,r.object.matrix),Q(Re*(r.object.top-r.object.bottom)/r.object.zoom/Ne.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function J(re){r.object instanceof Nn&&r.object.isPerspectiveCamera?p/=re:r.object instanceof Eo&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*re)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function O(re){r.object instanceof Nn&&r.object.isPerspectiveCamera?p*=re:r.object instanceof Eo&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/re)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function V(re){y.set(re.clientX,re.clientY)}function G(re){w.set(re.clientX,re.clientY)}function D(re){x.set(re.clientX,re.clientY)}function H(re){_.set(re.clientX,re.clientY),g.subVectors(_,y).multiplyScalar(r.rotateSpeed);const _e=r.domElement;_e&&(k(2*Math.PI*g.x/_e.clientHeight),W(2*Math.PI*g.y/_e.clientHeight)),y.copy(_),r.update()}function se(re){b.set(re.clientX,re.clientY),T.subVectors(b,w),T.y>0?J(U()):T.y<0&&O(U()),w.copy(b),r.update()}function le(re){S.set(re.clientX,re.clientY),M.subVectors(S,x).multiplyScalar(r.panSpeed),X(M.x,M.y),x.copy(S),r.update()}function ae(re){re.deltaY<0?O(U()):re.deltaY>0&&J(U()),r.update()}function ue(re){let _e=!1;switch(re.code){case r.keys.UP:X(0,r.keyPanSpeed),_e=!0;break;case r.keys.BOTTOM:X(0,-r.keyPanSpeed),_e=!0;break;case r.keys.LEFT:X(r.keyPanSpeed,0),_e=!0;break;case r.keys.RIGHT:X(-r.keyPanSpeed,0),_e=!0;break}_e&&(re.preventDefault(),r.update())}function fe(){if(R.length==1)y.set(R[0].pageX,R[0].pageY);else{const re=.5*(R[0].pageX+R[1].pageX),_e=.5*(R[0].pageY+R[1].pageY);y.set(re,_e)}}function ye(){if(R.length==1)x.set(R[0].pageX,R[0].pageY);else{const re=.5*(R[0].pageX+R[1].pageX),_e=.5*(R[0].pageY+R[1].pageY);x.set(re,_e)}}function We(){const re=R[0].pageX-R[1].pageX,_e=R[0].pageY-R[1].pageY,be=Math.sqrt(re*re+_e*_e);w.set(0,be)}function Je(){r.enableZoom&&We(),r.enablePan&&ye()}function xe(){r.enableZoom&&We(),r.enableRotate&&fe()}function K(re){if(R.length==1)_.set(re.pageX,re.pageY);else{const be=ge(re),Re=.5*(re.pageX+be.x),Ne=.5*(re.pageY+be.y);_.set(Re,Ne)}g.subVectors(_,y).multiplyScalar(r.rotateSpeed);const _e=r.domElement;_e&&(k(2*Math.PI*g.x/_e.clientHeight),W(2*Math.PI*g.y/_e.clientHeight)),y.copy(_)}function Te(re){if(R.length==1)S.set(re.pageX,re.pageY);else{const _e=ge(re),be=.5*(re.pageX+_e.x),Re=.5*(re.pageY+_e.y);S.set(be,Re)}M.subVectors(S,x).multiplyScalar(r.panSpeed),X(M.x,M.y),x.copy(S)}function Ae(re){const _e=ge(re),be=re.pageX-_e.x,Re=re.pageY-_e.y,Ne=Math.sqrt(be*be+Re*Re);b.set(0,Ne),T.set(0,Math.pow(b.y/w.y,r.zoomSpeed)),J(T.y),w.copy(b)}function Ee(re){r.enableZoom&&Ae(re),r.enablePan&&Te(re)}function we(re){r.enableZoom&&Ae(re),r.enableRotate&&K(re)}function Xe(re){var _e,be;r.enabled!==!1&&(R.length===0&&((_e=r.domElement)==null||_e.ownerDocument.addEventListener("pointermove",Me),(be=r.domElement)==null||be.ownerDocument.addEventListener("pointerup",Le)),Oe(re),re.pointerType==="touch"?ce(re):ve(re))}function Me(re){r.enabled!==!1&&(re.pointerType==="touch"?Ge(re):Ye(re))}function Le(re){var _e,be,Re;Ke(re),R.length===0&&((_e=r.domElement)==null||_e.releasePointerCapture(re.pointerId),(be=r.domElement)==null||be.ownerDocument.removeEventListener("pointermove",Me),(Re=r.domElement)==null||Re.ownerDocument.removeEventListener("pointerup",Le)),r.dispatchEvent(o),l=a.NONE}function Be(re){Ke(re)}function ve(re){let _e;switch(re.button){case 0:_e=r.mouseButtons.LEFT;break;case 1:_e=r.mouseButtons.MIDDLE;break;case 2:_e=r.mouseButtons.RIGHT;break;default:_e=-1}switch(_e){case Kc.DOLLY:if(r.enableZoom===!1)return;G(re),l=a.DOLLY;break;case Kc.ROTATE:if(re.ctrlKey||re.metaKey||re.shiftKey){if(r.enablePan===!1)return;D(re),l=a.PAN}else{if(r.enableRotate===!1)return;V(re),l=a.ROTATE}break;case Kc.PAN:if(re.ctrlKey||re.metaKey||re.shiftKey){if(r.enableRotate===!1)return;V(re),l=a.ROTATE}else{if(r.enablePan===!1)return;D(re),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ye(re){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;H(re);break;case a.DOLLY:if(r.enableZoom===!1)return;se(re);break;case a.PAN:if(r.enablePan===!1)return;le(re);break}}function $(re){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(re.preventDefault(),r.dispatchEvent(s),ae(re),r.dispatchEvent(o))}function N(re){r.enabled===!1||r.enablePan===!1||ue(re)}function ce(re){switch(je(re),R.length){case 1:switch(r.touches.ONE){case Qc.ROTATE:if(r.enableRotate===!1)return;fe(),l=a.TOUCH_ROTATE;break;case Qc.PAN:if(r.enablePan===!1)return;ye(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Qc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Je(),l=a.TOUCH_DOLLY_PAN;break;case Qc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;xe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ge(re){switch(je(re),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;K(re),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Te(re),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ee(re),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;we(re),r.update();break;default:l=a.NONE}}function De(re){r.enabled!==!1&&re.preventDefault()}function Oe(re){R.push(re)}function Ke(re){delete C[re.pointerId];for(let _e=0;_e<R.length;_e++)if(R[_e].pointerId==re.pointerId){R.splice(_e,1);return}}function je(re){let _e=C[re.pointerId];_e===void 0&&(_e=new He,C[re.pointerId]=_e),_e.set(re.pageX,re.pageY)}function ge(re){const _e=re.pointerId===R[0].pointerId?R[1]:R[0];return C[_e.pointerId]}t!==void 0&&this.connect(t),this.update()}};class qC extends hi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new XZ(t)}),this.register(function(t){return new eq(t)}),this.register(function(t){return new tq(t)}),this.register(function(t){return new nq(t)}),this.register(function(t){return new YZ(t)}),this.register(function(t){return new $Z(t)}),this.register(function(t){return new KZ(t)}),this.register(function(t){return new QZ(t)}),this.register(function(t){return new jZ(t)}),this.register(function(t){return new ZZ(t)}),this.register(function(t){return new JZ(t)}),this.register(function(t){return new qZ(t)}),this.register(function(t){return new VZ(t)}),this.register(function(t){return new rq(t)}),this.register(function(t){return new iq(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=sa.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new vs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(sa.decodeText(new Uint8Array(e.slice(0,4)))===N4){try{o[tn.KHR_BINARY_GLTF]=new sq(e)}catch(u){i&&i(u);return}s=JSON.parse(o[tn.KHR_BINARY_GLTF].content)}else s=JSON.parse(sa.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new yq(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case tn.KHR_MATERIALS_UNLIT:o[u]=new WZ;break;case tn.KHR_DRACO_MESH_COMPRESSION:o[u]=new oq(s,this.dracoLoader);break;case tn.KHR_TEXTURE_TRANSFORM:o[u]=new aq;break;case tn.KHR_MESH_QUANTIZATION:o[u]=new lq;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function HZ(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const tn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class VZ{constructor(e){this.parser=e,this.name=tn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new ot(16777215);l.color!==void 0&&u.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new AC(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new SC(u),c.distance=f;break;case"spot":c=new xC(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Cl(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class WZ{constructor(){this.name=tn.KHR_MATERIALS_UNLIT}getMaterialType(){return Gi}extendParams(e,t,r){const i=[];e.color=new ot(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class jZ{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class XZ{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new He(a,a)}return Promise.all(s)}}class JZ{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class YZ{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ot(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class $Z{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class KZ{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new ot(a[0],a[1],a[2]),Promise.all(s)}}class QZ{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class ZZ{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new ot(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class qZ{constructor(e){this.parser=e,this.name=tn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class eq{constructor(e){this.parser=e,this.name=tn.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class tq{constructor(e){this.parser=e,this.name=tn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class nq{constructor(e){this.parser=e,this.name=tn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class rq{constructor(e){this.name=tn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(m),u,f,p,i.mode,i.filter),m})})}else return null}}class iq{constructor(e){this.name=tn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Ds.TRIANGLES&&c.mode!==Ds.TRIANGLE_STRIP&&c.mode!==Ds.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],p=c[0].count,m=[];for(const v of f){const y=new Pt,_=new q,g=new zr,x=new q(1,1,1),S=new iC(v.geometry,v.material,p);for(let M=0;M<p;M++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,M),l.SCALE&&x.fromBufferAttribute(l.SCALE,M),S.setMatrixAt(M,y.compose(_,g,x));for(const M in l)M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&v.geometry.setAttribute(M,l[M]);on.prototype.copy.call(S,v),this.parser.assignFinalMaterial(S),m.push(S)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const N4="glTF",vp=12,lL={JSON:1313821514,BIN:5130562};class sq{constructor(e){this.name=tn.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,vp);if(this.header={magic:sa.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==N4)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-vp,i=new DataView(e,vp);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===lL.JSON){const l=new Uint8Array(e,vp+s,o);this.content=sa.decodeText(l)}else if(a===lL.BIN){const l=vp+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class oq{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=tn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=Pw[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=Pw[u]||u.toLowerCase();if(o[u]!==void 0){const p=r.accessors[e.attributes[u]],m=Ld[p.componentType];c[f]=m.name,l[f]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const v=p.attributes[m],y=l[m];y!==void 0&&(v.normalized=y)}f(p)},a,c)})})}}class aq{constructor(){this.name=tn.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class lq{constructor(){this.name=tn.KHR_MESH_QUANTIZATION}}class z4 extends _h{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,f=(r-t)/u,p=f*f,m=p*f,v=e*c,y=v-c,_=-2*m+3*p,g=m-p,x=1-_,S=g-p+f;for(let M=0;M!==a;M++){const w=o[y+M+a],b=o[y+M+l]*u,T=o[v+M+a],R=o[v+M]*u;s[M]=x*w+S*b+_*T+g*R}return s}}const cq=new zr;class uq extends z4{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return cq.fromArray(s).normalize().toArray(s),s}}const Ds={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ld={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},cL={9728:rr,9729:_n,9984:Tm,9985:g_,9986:Cd,9987:la},uL={33071:Jr,33648:Jd,10497:ac},XA={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Pw={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...ph.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Al={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},fq={CUBICSPLINE:void 0,LINEAR:Uu,STEP:Yd},JA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function dq(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new bg({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Co})),n.DefaultMaterial}function Wc(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Cl(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function hq(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const p=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(p)}if(i){const p=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],p=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function pq(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function mq(n){let e;const t=n.extensions&&n.extensions[tn.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+YA(t.attributes):e=n.indices+":"+YA(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+YA(n.targets[r]);return e}function YA(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function Iw(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function gq(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const vq=new Pt;class yq{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new HZ,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new lN(this.options.manager):this.textureLoader=new pN(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new vs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Wc(s,a,i),Cl(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[tn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(sa.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=XA[i.type],a=Ld[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new mn(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=XA[i.type],c=Ld[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let y,_;if(m&&m!==f){const g=Math.floor(p/m),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let S=t.cache.get(x);S||(y=new c(a,g*m,i.count*m/u),S=new xg(y,m/u),t.cache.add(x,S)),_=new lc(S,l,p%m/u,v)}else a===null?y=new c(i.count*l):y=new c(a,p,i.count*l),_=new mn(y,l,v);if(i.sparse!==void 0){const g=XA.SCALAR,x=Ld[i.sparse.indices.componentType],S=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,w=new x(o[1],S,i.sparse.count*g),b=new c(o[2],M,i.sparse.count*l);a!==null&&(_=new mn(_.array.slice(),_.itemSize,_.normalized));for(let T=0,R=w.length;T<R;T++){const C=w[T];if(_.setX(C,b[T*l]),l>=2&&_.setY(C,b[T*l+1]),l>=3&&_.setZ(C,b[T*l+2]),l>=4&&_.setW(C,b[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=cL[p.magFilter]||_n,u.minFilter=cL[p.minFilter]||la,u.wrapS=uL[p.wrapS]||ac,u.wrapT=uL[p.wrapT]||ac,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const p=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(p,m){let v=p;t.isImageBitmapLoader===!0&&(v=function(y){const _=new In(y);_.needsUpdate=!0,p(_)}),t.load(sa.resolveURL(f,s.path),v,void 0,m)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||gq(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[tn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[tn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[tn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new T_,wr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new di,wr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return bg}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[tn.KHR_MATERIALS_UNLIT]){const f=i[tn.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new ot(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Mi);const u=s.alphaMode||JA.OPAQUE;if(u===JA.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===JA.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Gi&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new He(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==Gi&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Gi&&(a.emissive=new ot().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Gi&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Cl(f,s),t.associations.set(f,{materials:e}),s.extensions&&Wc(i,f,s),f})}createUniqueName(e){const t=sn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[tn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return fL(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=mq(c),f=i[u];if(f)o.push(f.promise);else{let p;c.extensions&&c.extensions[tn.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=fL(new zt,c,t),i[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?dq(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let m=0,v=u.length;m<v;m++){const y=u[m],_=o[m];let g;const x=c[m];if(_.mode===Ds.TRIANGLES||_.mode===Ds.TRIANGLE_STRIP||_.mode===Ds.TRIANGLE_FAN||_.mode===void 0)g=s.isSkinnedMesh===!0?new rC(y,x):new or(y,x),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),_.mode===Ds.TRIANGLE_STRIP?g.geometry=oL(g.geometry,VT):_.mode===Ds.TRIANGLE_FAN&&(g.geometry=oL(g.geometry,_1));else if(_.mode===Ds.LINES)g=new Lo(y,x);else if(_.mode===Ds.LINE_STRIP)g=new Ka(y,x);else if(_.mode===Ds.LINE_LOOP)g=new sC(y,x);else if(_.mode===Ds.POINTS)g=new oC(y,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(g.geometry.morphAttributes).length>0&&pq(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),Cl(g,s),_.extensions&&Wc(i,g,_),t.assignFinalMaterial(g),f.push(g)}for(let m=0,v=f.length;m<v;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&Wc(i,f[0],s),f[0];const p=new Va;s.extensions&&Wc(i,p,s),t.associations.set(p,{meshes:e});for(let m=0,v=f.length;m<v;m++)p.add(f[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Nn(fd.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Eo(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Cl(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const p=new Pt;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Sg(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,f=r.channels.length;u<f;u++){const p=r.channels[u],m=r.samplers[p.sampler],v=p.target,y=v.node,_=r.parameters!==void 0?r.parameters[m.input]:m.input,g=r.parameters!==void 0?r.parameters[m.output]:m.output;v.node!==void 0&&(s.push(this.getDependency("node",y)),o.push(this.getDependency("accessor",_)),a.push(this.getDependency("accessor",g)),l.push(m),c.push(v))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const f=u[0],p=u[1],m=u[2],v=u[3],y=u[4],_=[];for(let g=0,x=f.length;g<x;g++){const S=f[g],M=p[g],w=m[g],b=v[g],T=y[g];if(S===void 0)continue;S.updateMatrix();let R;switch(Al[T.path]){case Al.weights:R=Qd;break;case Al.rotation:R=cc;break;case Al.position:case Al.scale:default:R=Zd;break}const C=S.name?S.name:S.uuid,B=b.interpolation!==void 0?fq[b.interpolation]:Uu,U=[];Al[T.path]===Al.weights?S.traverse(function(W){W.morphTargetInfluences&&U.push(W.name?W.name:W.uuid)}):U.push(C);let k=w.array;if(w.normalized){const W=Iw(k.constructor),Y=new Float32Array(k.length);for(let Q=0,X=k.length;Q<X;Q++)Y[Q]=k[Q]*W;k=Y}for(let W=0,Y=U.length;W<Y;W++){const Q=new R(U[W]+"."+Al[T.path],M.array,k,B);b.interpolation==="CUBICSPLINE"&&(Q.createInterpolant=function(J){const O=this instanceof cc?uq:z4;return new O(this.times,this.values,this.getValueSize()/3,J)},Q.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push(Q)}}return new qd(i,void 0,_)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],p=c[2];p!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(p,vq)});for(let m=0,v=f.length;m<v;m++)u.add(f[m]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new b_:c.length>1?u=new Va:c.length===1?u=c[0]:u=new on,u!==c[0])for(let f=0,p=c.length;f<p;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),Cl(u,s),s.extensions&&Wc(r,u,s),s.matrix!==void 0){const f=new Pt;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new Va;r.name&&(s.name=i.createUniqueName(r.name)),Cl(s,r),r.extensions&&Wc(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[p,m]of i.associations)(p instanceof wr||p instanceof In)&&f.set(p,m);return u.traverse(p=>{const m=i.associations.get(p);m!=null&&f.set(p,m)}),f};return i.associations=c(s),s})}}function _q(n,e,t){const r=e.attributes,i=new no;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new q(l[0],l[1],l[2]),new q(c[0],c[1],c[2])),a.normalized){const u=Iw(Ld[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new q,l=new q;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const p=t.json.accessors[f.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const y=Iw(Ld[p.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Ss;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function fL(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=Pw[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Cl(n,e),_q(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?hq(n,e.targets,t):n})}class xq extends yC{constructor(e){super(e),this.type=wi}parse(e){const a=function(S,M){switch(S){case 1:console.error("THREE.RGBELoader Read Error: "+(M||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(M||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(M||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(M||""))}return-1},f=`
`,p=function(S,M,w){M=M||1024;let T=S.pos,R=-1,C=0,B="",U=String.fromCharCode.apply(null,new Uint16Array(S.subarray(T,T+128)));for(;0>(R=U.indexOf(f))&&C<M&&T<S.byteLength;)B+=U,C+=U.length,T+=128,U+=String.fromCharCode.apply(null,new Uint16Array(S.subarray(T,T+128)));return-1<R?(w!==!1&&(S.pos+=C+R+1),B+U.slice(0,R)):!1},m=function(S){const M=/^#\?(\S+)/,w=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,b=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,T=/^\s*FORMAT=(\S+)\s*$/,R=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,C={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let B,U;if(S.pos>=S.byteLength||!(B=p(S)))return a(1,"no header found");if(!(U=B.match(M)))return a(3,"bad initial token");for(C.valid|=1,C.programtype=U[1],C.string+=B+`
`;B=p(S),B!==!1;){if(C.string+=B+`
`,B.charAt(0)==="#"){C.comments+=B+`
`;continue}if((U=B.match(w))&&(C.gamma=parseFloat(U[1])),(U=B.match(b))&&(C.exposure=parseFloat(U[1])),(U=B.match(T))&&(C.valid|=2,C.format=U[1]),(U=B.match(R))&&(C.valid|=4,C.height=parseInt(U[1],10),C.width=parseInt(U[2],10)),C.valid&2&&C.valid&4)break}return C.valid&2?C.valid&4?C:a(3,"missing image size specifier"):a(3,"missing format specifier")},v=function(S,M,w){const b=M;if(b<8||b>32767||S[0]!==2||S[1]!==2||S[2]&128)return new Uint8Array(S);if(b!==(S[2]<<8|S[3]))return a(3,"wrong scanline width");const T=new Uint8Array(4*M*w);if(!T.length)return a(4,"unable to allocate buffer space");let R=0,C=0;const B=4*b,U=new Uint8Array(4),k=new Uint8Array(B);let W=w;for(;W>0&&C<S.byteLength;){if(C+4>S.byteLength)return a(1);if(U[0]=S[C++],U[1]=S[C++],U[2]=S[C++],U[3]=S[C++],U[0]!=2||U[1]!=2||(U[2]<<8|U[3])!=b)return a(3,"bad rgbe scanline format");let Y=0,Q;for(;Y<B&&C<S.byteLength;){Q=S[C++];const J=Q>128;if(J&&(Q-=128),Q===0||Y+Q>B)return a(3,"bad scanline data");if(J){const O=S[C++];for(let V=0;V<Q;V++)k[Y++]=O}else k.set(S.subarray(C,C+Q),Y),Y+=Q,C+=Q}const X=b;for(let J=0;J<X;J++){let O=0;T[R]=k[J+O],O+=b,T[R+1]=k[J+O],O+=b,T[R+2]=k[J+O],O+=b,T[R+3]=k[J+O],R+=4}W--}return T},y=function(S,M,w,b){const T=S[M+3],R=Math.pow(2,T-128)/255;w[b+0]=S[M+0]*R,w[b+1]=S[M+1]*R,w[b+2]=S[M+2]*R,w[b+3]=1},_=function(S,M,w,b){const T=S[M+3],R=Math.pow(2,T-128)/255;w[b+0]=du.toHalfFloat(Math.min(S[M+0]*R,65504)),w[b+1]=du.toHalfFloat(Math.min(S[M+1]*R,65504)),w[b+2]=du.toHalfFloat(Math.min(S[M+2]*R,65504)),w[b+3]=du.toHalfFloat(1)},g=new Uint8Array(e);g.pos=0;const x=m(g);if(x!==-1){const S=x.width,M=x.height,w=v(g.subarray(g.pos),S,M);if(w!==-1){let b,T,R;switch(this.type){case ai:R=w.length/4;const C=new Float32Array(R*4);for(let U=0;U<R;U++)y(w,U*4,C,U*4);b=C,T=ai;break;case wi:R=w.length/4;const B=new Uint16Array(R*4);for(let U=0;U<R;U++)_(w,U*4,B,U*4);b=B,T=wi;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:S,height:M,data:b,header:x.string,gamma:x.gamma,exposure:x.exposure,type:T}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case ai:case wi:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=_n,o.magFilter=_n,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const yp="colorSpace"in new In;class Sq extends yC{constructor(e){super(e),this.type=wi}parse(e){const C=Math.pow(2.7182818,2.2);function B(F,I){for(var j=0,ee=0;ee<65536;++ee)(ee==0||F[ee>>3]&1<<(ee&7))&&(I[j++]=ee);for(var Z=j-1;j<65536;)I[j++]=0;return Z}function U(F){for(var I=0;I<16384;I++)F[I]={},F[I].len=0,F[I].lit=0,F[I].p=null}const k={l:0,c:0,lc:0};function W(F,I,j,ee,Z){for(;j<F;)I=I<<8|Re(ee,Z),j+=8;j-=F,k.l=I>>j&(1<<F)-1,k.c=I,k.lc=j}const Y=new Array(59);function Q(F){for(var I=0;I<=58;++I)Y[I]=0;for(var I=0;I<65537;++I)Y[F[I]]+=1;for(var j=0,I=58;I>0;--I){var ee=j+Y[I]>>1;Y[I]=j,j=ee}for(var I=0;I<65537;++I){var Z=F[I];Z>0&&(F[I]=Z|Y[Z]++<<6)}}function X(F,I,j,ee,Z,te,Ce){for(var Pe=j,Ue=0,ke=0;Z<=te;Z++){if(Pe.value-j.value>ee)return!1;W(6,Ue,ke,F,Pe);var Ve=k.l;if(Ue=k.c,ke=k.lc,Ce[Z]=Ve,Ve==63){if(Pe.value-j.value>ee)throw"Something wrong with hufUnpackEncTable";W(8,Ue,ke,F,Pe);var de=k.l+6;if(Ue=k.c,ke=k.lc,Z+de>te+1)throw"Something wrong with hufUnpackEncTable";for(;de--;)Ce[Z++]=0;Z--}else if(Ve>=59){var de=Ve-59+2;if(Z+de>te+1)throw"Something wrong with hufUnpackEncTable";for(;de--;)Ce[Z++]=0;Z--}}Q(Ce)}function J(F){return F&63}function O(F){return F>>6}function V(F,I,j,ee){for(;I<=j;I++){var Z=O(F[I]),te=J(F[I]);if(Z>>te)throw"Invalid table entry";if(te>14){var Ce=ee[Z>>te-14];if(Ce.len)throw"Invalid table entry";if(Ce.lit++,Ce.p){var Pe=Ce.p;Ce.p=new Array(Ce.lit);for(var Ue=0;Ue<Ce.lit-1;++Ue)Ce.p[Ue]=Pe[Ue]}else Ce.p=new Array(1);Ce.p[Ce.lit-1]=I}else if(te)for(var ke=0,Ue=1<<14-te;Ue>0;Ue--){var Ce=ee[(Z<<14-te)+ke];if(Ce.len||Ce.p)throw"Invalid table entry";Ce.len=te,Ce.lit=I,ke++}}return!0}const G={c:0,lc:0};function D(F,I,j,ee){F=F<<8|Re(j,ee),I+=8,G.c=F,G.lc=I}const H={c:0,lc:0};function se(F,I,j,ee,Z,te,Ce,Pe,Ue,ke){if(F==I){ee<8&&(D(j,ee,Z,Ce),j=G.c,ee=G.lc),ee-=8;var Ve=j>>ee,Ve=new Uint8Array([Ve])[0];if(Ue.value+Ve>ke)return!1;for(var de=Pe[Ue.value-1];Ve-- >0;)Pe[Ue.value++]=de}else if(Ue.value<ke)Pe[Ue.value++]=F;else return!1;H.c=j,H.lc=ee}function le(F){return F&65535}function ae(F){var I=le(F);return I>32767?I-65536:I}const ue={a:0,b:0};function fe(F,I){var j=ae(F),ee=ae(I),Z=ee,te=j+(Z&1)+(Z>>1),Ce=te,Pe=te-Z;ue.a=Ce,ue.b=Pe}function ye(F,I){var j=le(F),ee=le(I),Z=j-(ee>>1)&65535,te=ee+Z-32768&65535;ue.a=te,ue.b=Z}function We(F,I,j,ee,Z,te,Ce){for(var Pe=Ce<16384,Ue=j>Z?Z:j,ke=1,Ve;ke<=Ue;)ke<<=1;for(ke>>=1,Ve=ke,ke>>=1;ke>=1;){for(var de=0,ct=de+te*(Z-Ve),nt=te*ke,tt=te*Ve,gt=ee*ke,At=ee*Ve,_t,lt,Mt,dt;de<=ct;de+=tt){for(var Ct=de,ln=de+ee*(j-Ve);Ct<=ln;Ct+=At){var bt=Ct+gt,cn=Ct+nt,Qt=cn+gt;Pe?(fe(F[Ct+I],F[cn+I]),_t=ue.a,Mt=ue.b,fe(F[bt+I],F[Qt+I]),lt=ue.a,dt=ue.b,fe(_t,lt),F[Ct+I]=ue.a,F[bt+I]=ue.b,fe(Mt,dt),F[cn+I]=ue.a,F[Qt+I]=ue.b):(ye(F[Ct+I],F[cn+I]),_t=ue.a,Mt=ue.b,ye(F[bt+I],F[Qt+I]),lt=ue.a,dt=ue.b,ye(_t,lt),F[Ct+I]=ue.a,F[bt+I]=ue.b,ye(Mt,dt),F[cn+I]=ue.a,F[Qt+I]=ue.b)}if(j&ke){var cn=Ct+nt;Pe?fe(F[Ct+I],F[cn+I]):ye(F[Ct+I],F[cn+I]),_t=ue.a,F[cn+I]=ue.b,F[Ct+I]=_t}}if(Z&ke)for(var Ct=de,ln=de+ee*(j-Ve);Ct<=ln;Ct+=At){var bt=Ct+gt;Pe?fe(F[Ct+I],F[bt+I]):ye(F[Ct+I],F[bt+I]),_t=ue.a,F[bt+I]=ue.b,F[Ct+I]=_t}Ve=ke,ke>>=1}return de}function Je(F,I,j,ee,Z,te,Ce,Pe,Ue,ke){for(var Ve=0,de=0,ct=Pe,nt=Math.trunc(Z.value+(te+7)/8);Z.value<nt;)for(D(Ve,de,j,Z),Ve=G.c,de=G.lc;de>=14;){var tt=Ve>>de-14&16383,gt=I[tt];if(gt.len)de-=gt.len,se(gt.lit,Ce,Ve,de,j,ee,Z,Ue,ke,ct),Ve=H.c,de=H.lc;else{if(!gt.p)throw"hufDecode issues";var At;for(At=0;At<gt.lit;At++){for(var _t=J(F[gt.p[At]]);de<_t&&Z.value<nt;)D(Ve,de,j,Z),Ve=G.c,de=G.lc;if(de>=_t&&O(F[gt.p[At]])==(Ve>>de-_t&(1<<_t)-1)){de-=_t,se(gt.p[At],Ce,Ve,de,j,ee,Z,Ue,ke,ct),Ve=H.c,de=H.lc;break}}if(At==gt.lit)throw"hufDecode issues"}}var lt=8-te&7;for(Ve>>=lt,de-=lt;de>0;){var gt=I[Ve<<14-de&16383];if(gt.len)de-=gt.len,se(gt.lit,Ce,Ve,de,j,ee,Z,Ue,ke,ct),Ve=H.c,de=H.lc;else throw"hufDecode issues"}return!0}function xe(F,I,j,ee,Z,te){var Ce={value:0},Pe=j.value,Ue=be(I,j),ke=be(I,j);j.value+=4;var Ve=be(I,j);if(j.value+=4,Ue<0||Ue>=65537||ke<0||ke>=65537)throw"Something wrong with HUF_ENCSIZE";var de=new Array(65537),ct=new Array(16384);U(ct);var nt=ee-(j.value-Pe);if(X(F,I,j,nt,Ue,ke,de),Ve>8*(ee-(j.value-Pe)))throw"Something wrong with hufUncompress";V(de,Ue,ke,ct),Je(de,ct,F,I,j,Ve,ke,te,Z,Ce)}function K(F,I,j){for(var ee=0;ee<j;++ee)I[ee]=F[I[ee]]}function Te(F){for(var I=1;I<F.length;I++){var j=F[I-1]+F[I]-128;F[I]=j}}function Ae(F,I){for(var j=0,ee=Math.floor((F.length+1)/2),Z=0,te=F.length-1;!(Z>te||(I[Z++]=F[j++],Z>te));)I[Z++]=F[ee++]}function Ee(F){for(var I=F.byteLength,j=new Array,ee=0,Z=new DataView(F);I>0;){var te=Z.getInt8(ee++);if(te<0){var Ce=-te;I-=Ce+1;for(var Pe=0;Pe<Ce;Pe++)j.push(Z.getUint8(ee++))}else{var Ce=te;I-=2;for(var Ue=Z.getUint8(ee++),Pe=0;Pe<Ce+1;Pe++)j.push(Ue)}}return j}function we(F,I,j,ee,Z,te){var bt=new DataView(te.buffer),Ce=j[F.idx[0]].width,Pe=j[F.idx[0]].height,Ue=3,ke=Math.floor(Ce/8),Ve=Math.ceil(Ce/8),de=Math.ceil(Pe/8),ct=Ce-(Ve-1)*8,nt=Pe-(de-1)*8,tt={value:0},gt=new Array(Ue),At=new Array(Ue),_t=new Array(Ue),lt=new Array(Ue),Mt=new Array(Ue);for(let Rt=0;Rt<Ue;++Rt)Mt[Rt]=I[F.idx[Rt]],gt[Rt]=Rt<1?0:gt[Rt-1]+Ve*de,At[Rt]=new Float32Array(64),_t[Rt]=new Uint16Array(64),lt[Rt]=new Uint16Array(Ve*64);for(let Rt=0;Rt<de;++Rt){var dt=8;Rt==de-1&&(dt=nt);var Ct=8;for(let en=0;en<Ve;++en){en==Ve-1&&(Ct=ct);for(let Bt=0;Bt<Ue;++Bt)_t[Bt].fill(0),_t[Bt][0]=Z[gt[Bt]++],Xe(tt,ee,_t[Bt]),Me(_t[Bt],At[Bt]),Le(At[Bt]);Be(At);for(let Bt=0;Bt<Ue;++Bt)ve(At[Bt],lt[Bt],en*64)}let wn=0;for(let en=0;en<Ue;++en){const Bt=j[F.idx[en]].type;for(let Rn=8*Rt;Rn<8*Rt+dt;++Rn){wn=Mt[en][Rn];for(let Pi=0;Pi<ke;++Pi){const ur=Pi*64+(Rn&7)*8;bt.setUint16(wn+0*2*Bt,lt[en][ur+0],!0),bt.setUint16(wn+1*2*Bt,lt[en][ur+1],!0),bt.setUint16(wn+2*2*Bt,lt[en][ur+2],!0),bt.setUint16(wn+3*2*Bt,lt[en][ur+3],!0),bt.setUint16(wn+4*2*Bt,lt[en][ur+4],!0),bt.setUint16(wn+5*2*Bt,lt[en][ur+5],!0),bt.setUint16(wn+6*2*Bt,lt[en][ur+6],!0),bt.setUint16(wn+7*2*Bt,lt[en][ur+7],!0),wn+=8*2*Bt}}if(ke!=Ve)for(let Rn=8*Rt;Rn<8*Rt+dt;++Rn){const Pi=Mt[en][Rn]+8*ke*2*Bt,ur=ke*64+(Rn&7)*8;for(let Ki=0;Ki<Ct;++Ki)bt.setUint16(Pi+Ki*2*Bt,lt[en][ur+Ki],!0)}}}for(var ln=new Uint16Array(Ce),bt=new DataView(te.buffer),cn=0;cn<Ue;++cn){j[F.idx[cn]].decoded=!0;var Qt=j[F.idx[cn]].type;if(j[cn].type==2)for(var fn=0;fn<Pe;++fn){const Rt=Mt[cn][fn];for(var Mn=0;Mn<Ce;++Mn)ln[Mn]=bt.getUint16(Rt+Mn*2*Qt,!0);for(var Mn=0;Mn<Ce;++Mn)bt.setFloat32(Rt+Mn*2*Qt,pe(ln[Mn]),!0)}}}function Xe(F,I,j){for(var ee,Z=1;Z<64;)ee=I[F.value],ee==65280?Z=64:ee>>8==255?Z+=ee&255:(j[Z]=ee,Z++),F.value++}function Me(F,I){I[0]=pe(F[0]),I[1]=pe(F[1]),I[2]=pe(F[5]),I[3]=pe(F[6]),I[4]=pe(F[14]),I[5]=pe(F[15]),I[6]=pe(F[27]),I[7]=pe(F[28]),I[8]=pe(F[2]),I[9]=pe(F[4]),I[10]=pe(F[7]),I[11]=pe(F[13]),I[12]=pe(F[16]),I[13]=pe(F[26]),I[14]=pe(F[29]),I[15]=pe(F[42]),I[16]=pe(F[3]),I[17]=pe(F[8]),I[18]=pe(F[12]),I[19]=pe(F[17]),I[20]=pe(F[25]),I[21]=pe(F[30]),I[22]=pe(F[41]),I[23]=pe(F[43]),I[24]=pe(F[9]),I[25]=pe(F[11]),I[26]=pe(F[18]),I[27]=pe(F[24]),I[28]=pe(F[31]),I[29]=pe(F[40]),I[30]=pe(F[44]),I[31]=pe(F[53]),I[32]=pe(F[10]),I[33]=pe(F[19]),I[34]=pe(F[23]),I[35]=pe(F[32]),I[36]=pe(F[39]),I[37]=pe(F[45]),I[38]=pe(F[52]),I[39]=pe(F[54]),I[40]=pe(F[20]),I[41]=pe(F[22]),I[42]=pe(F[33]),I[43]=pe(F[38]),I[44]=pe(F[46]),I[45]=pe(F[51]),I[46]=pe(F[55]),I[47]=pe(F[60]),I[48]=pe(F[21]),I[49]=pe(F[34]),I[50]=pe(F[37]),I[51]=pe(F[47]),I[52]=pe(F[50]),I[53]=pe(F[56]),I[54]=pe(F[59]),I[55]=pe(F[61]),I[56]=pe(F[35]),I[57]=pe(F[36]),I[58]=pe(F[48]),I[59]=pe(F[49]),I[60]=pe(F[57]),I[61]=pe(F[58]),I[62]=pe(F[62]),I[63]=pe(F[63])}function Le(F){const I=.5*Math.cos(.7853975),j=.5*Math.cos(3.14159/16),ee=.5*Math.cos(3.14159/8),Z=.5*Math.cos(3*3.14159/16),te=.5*Math.cos(5*3.14159/16),Ce=.5*Math.cos(3*3.14159/8),Pe=.5*Math.cos(7*3.14159/16);for(var Ue=new Array(4),ke=new Array(4),Ve=new Array(4),de=new Array(4),ct=0;ct<8;++ct){var nt=ct*8;Ue[0]=ee*F[nt+2],Ue[1]=Ce*F[nt+2],Ue[2]=ee*F[nt+6],Ue[3]=Ce*F[nt+6],ke[0]=j*F[nt+1]+Z*F[nt+3]+te*F[nt+5]+Pe*F[nt+7],ke[1]=Z*F[nt+1]-Pe*F[nt+3]-j*F[nt+5]-te*F[nt+7],ke[2]=te*F[nt+1]-j*F[nt+3]+Pe*F[nt+5]+Z*F[nt+7],ke[3]=Pe*F[nt+1]-te*F[nt+3]+Z*F[nt+5]-j*F[nt+7],Ve[0]=I*(F[nt+0]+F[nt+4]),Ve[3]=I*(F[nt+0]-F[nt+4]),Ve[1]=Ue[0]+Ue[3],Ve[2]=Ue[1]-Ue[2],de[0]=Ve[0]+Ve[1],de[1]=Ve[3]+Ve[2],de[2]=Ve[3]-Ve[2],de[3]=Ve[0]-Ve[1],F[nt+0]=de[0]+ke[0],F[nt+1]=de[1]+ke[1],F[nt+2]=de[2]+ke[2],F[nt+3]=de[3]+ke[3],F[nt+4]=de[3]-ke[3],F[nt+5]=de[2]-ke[2],F[nt+6]=de[1]-ke[1],F[nt+7]=de[0]-ke[0]}for(var tt=0;tt<8;++tt)Ue[0]=ee*F[16+tt],Ue[1]=Ce*F[16+tt],Ue[2]=ee*F[48+tt],Ue[3]=Ce*F[48+tt],ke[0]=j*F[8+tt]+Z*F[24+tt]+te*F[40+tt]+Pe*F[56+tt],ke[1]=Z*F[8+tt]-Pe*F[24+tt]-j*F[40+tt]-te*F[56+tt],ke[2]=te*F[8+tt]-j*F[24+tt]+Pe*F[40+tt]+Z*F[56+tt],ke[3]=Pe*F[8+tt]-te*F[24+tt]+Z*F[40+tt]-j*F[56+tt],Ve[0]=I*(F[tt]+F[32+tt]),Ve[3]=I*(F[tt]-F[32+tt]),Ve[1]=Ue[0]+Ue[3],Ve[2]=Ue[1]-Ue[2],de[0]=Ve[0]+Ve[1],de[1]=Ve[3]+Ve[2],de[2]=Ve[3]-Ve[2],de[3]=Ve[0]-Ve[1],F[0+tt]=de[0]+ke[0],F[8+tt]=de[1]+ke[1],F[16+tt]=de[2]+ke[2],F[24+tt]=de[3]+ke[3],F[32+tt]=de[3]-ke[3],F[40+tt]=de[2]-ke[2],F[48+tt]=de[1]-ke[1],F[56+tt]=de[0]-ke[0]}function Be(F){for(var I=0;I<64;++I){var j=F[0][I],ee=F[1][I],Z=F[2][I];F[0][I]=j+1.5747*Z,F[1][I]=j-.1873*ee-.4682*Z,F[2][I]=j+1.8556*ee}}function ve(F,I,j){for(var ee=0;ee<64;++ee)I[j+ee]=du.toHalfFloat(Ye(F[ee]))}function Ye(F){return F<=1?Math.sign(F)*Math.pow(Math.abs(F),2.2):Math.sign(F)*Math.pow(C,Math.abs(F)-1)}function $(F){return new DataView(F.array.buffer,F.offset.value,F.size)}function N(F){var I=F.viewer.buffer.slice(F.offset.value,F.offset.value+F.size),j=new Uint8Array(Ee(I)),ee=new Uint8Array(j.length);return Te(j),Ae(j,ee),new DataView(ee.buffer)}function ce(F){var I=F.array.slice(F.offset.value,F.offset.value+F.size),j=Xv(I),ee=new Uint8Array(j.length);return Te(j),Ae(j,ee),new DataView(ee.buffer)}function Ge(F){for(var I=F.viewer,j={value:F.offset.value},ee=new Uint16Array(F.width*F.scanlineBlockSize*(F.channels*F.type)),Z=new Uint8Array(8192),te=0,Ce=new Array(F.channels),Pe=0;Pe<F.channels;Pe++)Ce[Pe]={},Ce[Pe].start=te,Ce[Pe].end=Ce[Pe].start,Ce[Pe].nx=F.width,Ce[Pe].ny=F.lines,Ce[Pe].size=F.type,te+=Ce[Pe].nx*Ce[Pe].ny*Ce[Pe].size;var Ue=Se(I,j),ke=Se(I,j);if(ke>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Ue<=ke)for(var Pe=0;Pe<ke-Ue+1;Pe++)Z[Pe+Ue]=Ne(I,j);var Ve=new Uint16Array(65536),de=B(Z,Ve),ct=be(I,j);xe(F.array,I,j,ct,ee,te);for(var Pe=0;Pe<F.channels;++Pe)for(var nt=Ce[Pe],tt=0;tt<Ce[Pe].size;++tt)We(ee,nt.start+tt,nt.nx,nt.size,nt.ny,nt.nx*nt.size,de);K(Ve,ee,te);for(var gt=0,At=new Uint8Array(ee.buffer.byteLength),_t=0;_t<F.lines;_t++)for(var lt=0;lt<F.channels;lt++){var nt=Ce[lt],Mt=nt.nx*nt.size,dt=new Uint8Array(ee.buffer,nt.end*2,Mt*2);At.set(dt,gt),gt+=Mt*2,nt.end+=Mt}return new DataView(At.buffer)}function De(F){var I=F.array.slice(F.offset.value,F.offset.value+F.size),j=Xv(I);const ee=F.lines*F.channels*F.width,Z=F.type==1?new Uint16Array(ee):new Uint32Array(ee);let te=0,Ce=0;const Pe=new Array(4);for(let Ue=0;Ue<F.lines;Ue++)for(let ke=0;ke<F.channels;ke++){let Ve=0;switch(F.type){case 1:Pe[0]=te,Pe[1]=Pe[0]+F.width,te=Pe[1]+F.width;for(let de=0;de<F.width;++de){const ct=j[Pe[0]++]<<8|j[Pe[1]++];Ve+=ct,Z[Ce]=Ve,Ce++}break;case 2:Pe[0]=te,Pe[1]=Pe[0]+F.width,Pe[2]=Pe[1]+F.width,te=Pe[2]+F.width;for(let de=0;de<F.width;++de){const ct=j[Pe[0]++]<<24|j[Pe[1]++]<<16|j[Pe[2]++]<<8;Ve+=ct,Z[Ce]=Ve,Ce++}break}}return new DataView(Z.buffer)}function Oe(F){var I=F.viewer,j={value:F.offset.value},ee=new Uint8Array(F.width*F.lines*(F.channels*F.type*2)),Z={version:Ze(I,j),unknownUncompressedSize:Ze(I,j),unknownCompressedSize:Ze(I,j),acCompressedSize:Ze(I,j),dcCompressedSize:Ze(I,j),rleCompressedSize:Ze(I,j),rleUncompressedSize:Ze(I,j),rleRawSize:Ze(I,j),totalAcUncompressedCount:Ze(I,j),totalDcUncompressedCount:Ze(I,j),acCompression:Ze(I,j)};if(Z.version<2)throw"EXRLoader.parse: "+an.compression+" version "+Z.version+" is unsupported";for(var te=new Array,Ce=Se(I,j)-2;Ce>0;){var Pe=Ke(I.buffer,j),Ue=Ne(I,j),ke=Ue>>2&3,Ve=(Ue>>4)-1,de=new Int8Array([Ve])[0],ct=Ne(I,j);te.push({name:Pe,index:de,type:ct,compression:ke}),Ce-=Pe.length+3}for(var nt=an.channels,tt=new Array(F.channels),gt=0;gt<F.channels;++gt){var At=tt[gt]={},_t=nt[gt];At.name=_t.name,At.compression=0,At.decoded=!1,At.type=_t.pixelType,At.pLinear=_t.pLinear,At.width=F.width,At.height=F.lines}for(var lt={idx:new Array(3)},Mt=0;Mt<F.channels;++Mt)for(var At=tt[Mt],gt=0;gt<te.length;++gt){var dt=te[gt];At.name==dt.name&&(At.compression=dt.compression,dt.index>=0&&(lt.idx[dt.index]=Mt),At.offset=Mt)}if(Z.acCompressedSize>0)switch(Z.acCompression){case 0:var bt=new Uint16Array(Z.totalAcUncompressedCount);xe(F.array,I,j,Z.acCompressedSize,bt,Z.totalAcUncompressedCount);break;case 1:var Ct=F.array.slice(j.value,j.value+Z.totalAcUncompressedCount),ln=Xv(Ct),bt=new Uint16Array(ln.buffer);j.value+=Z.totalAcUncompressedCount;break}if(Z.dcCompressedSize>0){var cn={array:F.array,offset:j,size:Z.dcCompressedSize},Qt=new Uint16Array(ce(cn).buffer);j.value+=Z.dcCompressedSize}if(Z.rleRawSize>0){var Ct=F.array.slice(j.value,j.value+Z.rleCompressedSize),ln=Xv(Ct),fn=Ee(ln.buffer);j.value+=Z.rleCompressedSize}for(var Mn=0,Rt=new Array(tt.length),gt=0;gt<Rt.length;++gt)Rt[gt]=new Array;for(var wn=0;wn<F.lines;++wn)for(var en=0;en<tt.length;++en)Rt[en].push(Mn),Mn+=tt[en].width*F.type*2;we(lt,Rt,tt,bt,Qt,ee);for(var gt=0;gt<tt.length;++gt){var At=tt[gt];if(!At.decoded)switch(At.compression){case 2:for(var Bt=0,Rn=0,wn=0;wn<F.lines;++wn){for(var Pi=Rt[gt][Bt],ur=0;ur<At.width;++ur){for(var Ki=0;Ki<2*At.type;++Ki)ee[Pi++]=fn[Rn+Ki*At.width*At.height];Rn++}Bt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(ee.buffer)}function Ke(F,I){for(var j=new Uint8Array(F),ee=0;j[I.value+ee]!=0;)ee+=1;var Z=new TextDecoder().decode(j.slice(I.value,I.value+ee));return I.value=I.value+ee+1,Z}function je(F,I,j){var ee=new TextDecoder().decode(new Uint8Array(F).slice(I.value,I.value+j));return I.value=I.value+j,ee}function ge(F,I){var j=_e(F,I),ee=be(F,I);return[j,ee]}function re(F,I){var j=be(F,I),ee=be(F,I);return[j,ee]}function _e(F,I){var j=F.getInt32(I.value,!0);return I.value=I.value+4,j}function be(F,I){var j=F.getUint32(I.value,!0);return I.value=I.value+4,j}function Re(F,I){var j=F[I.value];return I.value=I.value+1,j}function Ne(F,I){var j=F.getUint8(I.value);return I.value=I.value+1,j}const Ze=function(F,I){let j;return"getBigInt64"in DataView.prototype?j=Number(F.getBigInt64(I.value,!0)):j=F.getUint32(I.value+4,!0)+Number(F.getUint32(I.value,!0)<<32),I.value+=8,j};function it(F,I){var j=F.getFloat32(I.value,!0);return I.value+=4,j}function oe(F,I){return du.toHalfFloat(it(F,I))}function pe(F){var I=(F&31744)>>10,j=F&1023;return(F>>15?-1:1)*(I?I===31?j?NaN:1/0:Math.pow(2,I-15)*(1+j/1024):6103515625e-14*(j/1024))}function Se(F,I){var j=F.getUint16(I.value,!0);return I.value+=2,j}function $e(F,I){return pe(Se(F,I))}function Qe(F,I,j,ee){for(var Z=j.value,te=[];j.value<Z+ee-1;){var Ce=Ke(I,j),Pe=_e(F,j),Ue=Ne(F,j);j.value+=3;var ke=_e(F,j),Ve=_e(F,j);te.push({name:Ce,pixelType:Pe,pLinear:Ue,xSampling:ke,ySampling:Ve})}return j.value+=1,te}function mt(F,I){var j=it(F,I),ee=it(F,I),Z=it(F,I),te=it(F,I),Ce=it(F,I),Pe=it(F,I),Ue=it(F,I),ke=it(F,I);return{redX:j,redY:ee,greenX:Z,greenY:te,blueX:Ce,blueY:Pe,whiteX:Ue,whiteY:ke}}function Et(F,I){var j=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],ee=Ne(F,I);return j[ee]}function Tt(F,I){var j=be(F,I),ee=be(F,I),Z=be(F,I),te=be(F,I);return{xMin:j,yMin:ee,xMax:Z,yMax:te}}function Vt(F,I){var j=["INCREASING_Y"],ee=Ne(F,I);return j[ee]}function Yt(F,I){var j=it(F,I),ee=it(F,I);return[j,ee]}function Xt(F,I){var j=it(F,I),ee=it(F,I),Z=it(F,I);return[j,ee,Z]}function Dt(F,I,j,ee,Z){if(ee==="string"||ee==="stringvector"||ee==="iccProfile")return je(I,j,Z);if(ee==="chlist")return Qe(F,I,j,Z);if(ee==="chromaticities")return mt(F,j);if(ee==="compression")return Et(F,j);if(ee==="box2i")return Tt(F,j);if(ee==="lineOrder")return Vt(F,j);if(ee==="float")return it(F,j);if(ee==="v2f")return Yt(F,j);if(ee==="v3f")return Xt(F,j);if(ee==="int")return _e(F,j);if(ee==="rational")return ge(F,j);if(ee==="timecode")return re(F,j);if(ee==="preview")return j.value+=Z,"skipped";j.value+=Z}function vr(F,I,j){const ee={};if(F.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";ee.version=F.getUint8(4);const Z=F.getUint8(5);ee.spec={singleTile:!!(Z&2),longName:!!(Z&4),deepFormat:!!(Z&8),multiPart:!!(Z&16)},j.value=8;for(var te=!0;te;){var Ce=Ke(I,j);if(Ce==0)te=!1;else{var Pe=Ke(I,j),Ue=be(F,j),ke=Dt(F,I,j,Pe,Ue);ke===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Pe}'.`):ee[Ce]=ke}}if(Z!=0)throw console.error("EXRHeader:",ee),"THREE.EXRLoader: provided file is currently unsupported.";return ee}function Zn(F,I,j,ee,Z){const te={size:0,viewer:I,array:j,offset:ee,width:F.dataWindow.xMax-F.dataWindow.xMin+1,height:F.dataWindow.yMax-F.dataWindow.yMin+1,channels:F.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:F.channels[0].pixelType,uncompress:null,getter:null,format:null,[yp?"colorSpace":"encoding"]:null};switch(F.compression){case"NO_COMPRESSION":te.lines=1,te.uncompress=$;break;case"RLE_COMPRESSION":te.lines=1,te.uncompress=N;break;case"ZIPS_COMPRESSION":te.lines=1,te.uncompress=ce;break;case"ZIP_COMPRESSION":te.lines=16,te.uncompress=ce;break;case"PIZ_COMPRESSION":te.lines=32,te.uncompress=Ge;break;case"PXR24_COMPRESSION":te.lines=16,te.uncompress=De;break;case"DWAA_COMPRESSION":te.lines=32,te.uncompress=Oe;break;case"DWAB_COMPRESSION":te.lines=256,te.uncompress=Oe;break;default:throw"EXRLoader.parse: "+F.compression+" is unsupported"}if(te.scanlineBlockSize=te.lines,te.type==1)switch(Z){case ai:te.getter=$e,te.inputSize=2;break;case wi:te.getter=Se,te.inputSize=2;break}else if(te.type==2)switch(Z){case ai:te.getter=it,te.inputSize=4;break;case wi:te.getter=oe,te.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+te.type+" for "+F.compression+".";te.blockCount=(F.dataWindow.yMax+1)/te.scanlineBlockSize;for(var Ce=0;Ce<te.blockCount;Ce++)Ze(I,ee);te.outputChannels=te.channels==3?4:te.channels;const Pe=te.width*te.height*te.outputChannels;switch(Z){case ai:te.byteArray=new Float32Array(Pe),te.channels<te.outputChannels&&te.byteArray.fill(1,0,Pe);break;case wi:te.byteArray=new Uint16Array(Pe),te.channels<te.outputChannels&&te.byteArray.fill(15360,0,Pe);break;default:console.error("THREE.EXRLoader: unsupported type: ",Z);break}return te.bytesPerLine=te.width*te.inputSize*te.channels,te.outputChannels==4?te.format=Ei:te.format=kT,yp?te.colorSpace="srgb-linear":te.encoding=3e3,te}const It=new DataView(e),An=new Uint8Array(e),Gn={value:0},an=vr(It,e,Gn),yt=Zn(an,It,An,Gn,this.type),qn={value:0},Ri={R:0,G:1,B:2,A:3,Y:0};for(let F=0;F<yt.height/yt.scanlineBlockSize;F++){const I=be(It,Gn);yt.size=be(It,Gn),yt.lines=I+yt.scanlineBlockSize>yt.height?yt.height-I:yt.scanlineBlockSize;const ee=yt.size<yt.lines*yt.bytesPerLine?yt.uncompress(yt):$(yt);Gn.value+=yt.size;for(let Z=0;Z<yt.scanlineBlockSize;Z++){const te=Z+F*yt.scanlineBlockSize;if(te>=yt.height)break;for(let Ce=0;Ce<yt.channels;Ce++){const Pe=Ri[an.channels[Ce].name];for(let Ue=0;Ue<yt.width;Ue++){qn.value=(Z*(yt.channels*yt.width)+Ce*yt.width+Ue)*yt.inputSize;const ke=(yt.height-1-te)*(yt.width*yt.outputChannels)+Ue*yt.outputChannels+Pe;yt.byteArray[ke]=yt.getter(ee,qn)}}}}return{header:an,width:yt.width,height:yt.height,data:yt.byteArray,format:yt.format,[yp?"colorSpace":"encoding"]:yt[yp?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){yp?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=_n,o.magFilter=_n,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,a)}return super.load(e,s,r,i)}}const $A=new WeakMap;class Aq extends hi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new vs(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if($A.has(e)){const l=$A.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),$A.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new zt;e.index&&t.setIndex(new mn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new mn(o,a))}return t}_loadLibrary(e,t){const r=new vs(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=Mq.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Mq(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,p=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(f,p,m,c),y=v.attributes.map(_=>_.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{f.destroy(m),f.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const _ in u){const g=self[f[_]];let x,S;if(c.useUniqueIDs)S=u[_],x=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[u[_]]),S===-1)continue;x=a.GetAttribute(p,S)}y.attributes.push(i(o,a,p,_,g,x))}return v===o.TRIANGULAR_MESH&&(y.index=r(o,a,p)),o.destroy(p),y}function r(o,a,l){const u=l.num_faces()*3,f=u*4,p=o._malloc(f);a.GetTrianglesUInt32Array(l,f,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,c,u,f){const p=f.num_components(),v=l.num_points()*p,y=v*u.BYTES_PER_ELEMENT,_=s(o,u),g=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,f,_,y,g);const x=new u(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:c,array:x,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Jv;const KA=()=>{if(Jv)return Jv;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const p=new Uint8Array(f.length);for(let v=0;v<f.length;++v){const y=f.charCodeAt(v);p[v]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let v=0;v<f.length;++v)p[m++]=p[v]<60?r[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(f,p,m,v,y,_){const g=s.exports.sbrk,x=m+3&-4,S=g(x*v),M=g(y.length),w=new Uint8Array(s.exports.memory.buffer);w.set(y,M);const b=f(S,m,v,M,y.length);if(b===0&&_&&_(S,x,v),p.set(w.subarray(S,S+m*v)),g(S-g(0)),b!==0)throw new Error(`Malformed buffer data: ${b}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Jv={ready:o,supported:!0,decodeVertexBuffer(f,p,m,v,y){l(s.exports.meshopt_decodeVertexBuffer,f,p,m,v,s.exports[c[y]])},decodeIndexBuffer(f,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,f,p,m,v)},decodeIndexSequence(f,p,m,v){l(s.exports.meshopt_decodeIndexSequence,f,p,m,v)},decodeGltfBuffer(f,p,m,v,y,_){l(s.exports[u[y]],f,p,m,v,s.exports[c[_]])}},Jv};function Eq(){var n=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!n[o])try{l=l.map(function(p){return p&&p.isWorkerModule&&(e(p,function(m){if(m instanceof Error)throw m}),p=n[p.id].value),p}),c=r("<"+a+">.init",c),u&&(u=r("<"+a+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:f,getTransferables:u},s(f)}catch(p){p&&p.noLog||console.error(p),s(p)}}function t(i,s){var o,a=i.id,l=i.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=n[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(f){return s(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){s(f)}function u(f){try{var p=n[a].getTransferables&&n[a].getTransferables(f);(!p||!Array.isArray(p)||!p.length)&&(p=void 0),s(f,p)}catch(m){console.error(m),s(m)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&t(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function wq(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(t).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var G4=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return G4=function(){return n},n},bq=0,Tq=0,QA=!1,qp=Object.create(null),em=Object.create(null),Bw=Object.create(null);function Og(n){if((!n||typeof n.init!="function")&&!QA)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId;if(!G4())return wq(n);i==null&&(i="#default");var s="workerModule"+ ++bq,o=n.name||s,a=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(QA=!0,c=Og({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+Fy(c)+`
)}`}),QA=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!a){a=dL(i,"registerModule",l.workerModuleData);var f=function(){a=null,em[i].delete(f)};(em[i]||(em[i]=new Set)).add(f)}return a.then(function(p){var m=p.isCallable;if(m)return dL(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:Fy(t),getTransferables:r&&Fy(r)},l}function Cq(n){em[n]&&em[n].forEach(function(e){e()}),qp[n]&&(qp[n].terminate(),delete qp[n])}function Fy(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function Rq(n){var e=qp[n];if(!e){var t=Fy(Eq);e=qp[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=Bw[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete Bw[s],o(i)}}return e}function dL(n,e,t){return new Promise(function(r,i){var s=++Tq;Bw[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},Rq(n).postMessage({messageId:s,action:e,data:t})})}function H4(){var n=function(e){function t(V,G,D,H,se,le,ae,ue){var fe=1-ae;ue.x=fe*fe*V+2*fe*ae*D+ae*ae*se,ue.y=fe*fe*G+2*fe*ae*H+ae*ae*le}function r(V,G,D,H,se,le,ae,ue,fe,ye){var We=1-fe;ye.x=We*We*We*V+3*We*We*fe*D+3*We*fe*fe*se+fe*fe*fe*ae,ye.y=We*We*We*G+3*We*We*fe*H+3*We*fe*fe*le+fe*fe*fe*ue}function i(V,G){for(var D=/([MLQCZ])([^MLQCZ]*)/g,H,se,le,ae,ue;H=D.exec(V);){var fe=H[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ye){return parseFloat(ye)});switch(H[1]){case"M":ae=se=fe[0],ue=le=fe[1];break;case"L":(fe[0]!==ae||fe[1]!==ue)&&G("L",ae,ue,ae=fe[0],ue=fe[1]);break;case"Q":{G("Q",ae,ue,ae=fe[2],ue=fe[3],fe[0],fe[1]);break}case"C":{G("C",ae,ue,ae=fe[4],ue=fe[5],fe[0],fe[1],fe[2],fe[3]);break}case"Z":(ae!==se||ue!==le)&&G("L",ae,ue,se,le);break}}}function s(V,G,D){D===void 0&&(D=16);var H={x:0,y:0};i(V,function(se,le,ae,ue,fe,ye,We,Je,xe){switch(se){case"L":G(le,ae,ue,fe);break;case"Q":{for(var K=le,Te=ae,Ae=1;Ae<D;Ae++)t(le,ae,ye,We,ue,fe,Ae/(D-1),H),G(K,Te,H.x,H.y),K=H.x,Te=H.y;break}case"C":{for(var Ee=le,we=ae,Xe=1;Xe<D;Xe++)r(le,ae,ye,We,Je,xe,ue,fe,Xe/(D-1),H),G(Ee,we,H.x,H.y),Ee=H.x,we=H.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(V,G){var D=V.getContext?V.getContext("webgl",c):V,H=l.get(D);if(!H){let Ee=function(ve){var Ye=le[ve];if(!Ye&&(Ye=le[ve]=D.getExtension(ve),!Ye))throw new Error(ve+" not supported");return Ye},we=function(ve,Ye){var $=D.createShader(Ye);return D.shaderSource($,ve),D.compileShader($),$},Xe=function(ve,Ye,$,N){if(!ae[ve]){var ce={},Ge={},De=D.createProgram();D.attachShader(De,we(Ye,D.VERTEX_SHADER)),D.attachShader(De,we($,D.FRAGMENT_SHADER)),D.linkProgram(De),ae[ve]={program:De,transaction:function(Ke){D.useProgram(De),Ke({setUniform:function(ge,re){for(var _e=[],be=arguments.length-2;be-- >0;)_e[be]=arguments[be+2];var Re=Ge[re]||(Ge[re]=D.getUniformLocation(De,re));D["uniform"+ge].apply(D,[Re].concat(_e))},setAttribute:function(ge,re,_e,be,Re){var Ne=ce[ge];Ne||(Ne=ce[ge]={buf:D.createBuffer(),loc:D.getAttribLocation(De,ge),data:null}),D.bindBuffer(D.ARRAY_BUFFER,Ne.buf),D.vertexAttribPointer(Ne.loc,re,D.FLOAT,!1,0,0),D.enableVertexAttribArray(Ne.loc),se?D.vertexAttribDivisor(Ne.loc,be):Ee("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Ne.loc,be),Re!==Ne.data&&(D.bufferData(D.ARRAY_BUFFER,Re,_e),Ne.data=Re)}})}}}ae[ve].transaction(N)},Me=function(ve,Ye){fe++;try{D.activeTexture(D.TEXTURE0+fe);var $=ue[ve];$||($=ue[ve]=D.createTexture(),D.bindTexture(D.TEXTURE_2D,$),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,D.NEAREST),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,D.NEAREST)),D.bindTexture(D.TEXTURE_2D,$),Ye($,fe)}finally{fe--}},Le=function(ve,Ye,$){var N=D.createFramebuffer();ye.push(N),D.bindFramebuffer(D.FRAMEBUFFER,N),D.activeTexture(D.TEXTURE0+Ye),D.bindTexture(D.TEXTURE_2D,ve),D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,ve,0);try{$(N)}finally{D.deleteFramebuffer(N),D.bindFramebuffer(D.FRAMEBUFFER,ye[--ye.length-1]||null)}},Be=function(){le={},ae={},ue={},fe=-1,ye.length=0};var We=Ee,Je=we,xe=Xe,K=Me,Te=Le,Ae=Be,se=typeof WebGL2RenderingContext<"u"&&D instanceof WebGL2RenderingContext,le={},ae={},ue={},fe=-1,ye=[];D.canvas.addEventListener("webglcontextlost",function(ve){Be(),ve.preventDefault()},!1),l.set(D,H={gl:D,isWebGL2:se,getExtension:Ee,withProgram:Xe,withTexture:Me,withTextureFramebuffer:Le,handleContextLoss:Be})}G(H)}function f(V,G,D,H,se,le,ae,ue){ae===void 0&&(ae=15),ue===void 0&&(ue=null),u(V,function(fe){var ye=fe.gl,We=fe.withProgram,Je=fe.withTexture;Je("copy",function(xe,K){ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,se,le,0,ye.RGBA,ye.UNSIGNED_BYTE,G),We("copy",o,a,function(Te){var Ae=Te.setUniform,Ee=Te.setAttribute;Ee("aUV",2,ye.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ae("1i","image",K),ye.bindFramebuffer(ye.FRAMEBUFFER,ue||null),ye.disable(ye.BLEND),ye.colorMask(ae&8,ae&4,ae&2,ae&1),ye.viewport(D,H,se,le),ye.scissor(D,H,se,le),ye.drawArrays(ye.TRIANGLES,0,3)})})})}function p(V,G,D){var H=V.width,se=V.height;u(V,function(le){var ae=le.gl,ue=new Uint8Array(H*se*4);ae.readPixels(0,0,H,se,ae.RGBA,ae.UNSIGNED_BYTE,ue),V.width=G,V.height=D,f(ae,ue,0,0,H,se)})}var m=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:p});function v(V,G,D,H,se,le){le===void 0&&(le=1);var ae=new Uint8Array(V*G),ue=H[2]-H[0],fe=H[3]-H[1],ye=[];s(D,function(Ee,we,Xe,Me){ye.push({x1:Ee,y1:we,x2:Xe,y2:Me,minX:Math.min(Ee,Xe),minY:Math.min(we,Me),maxX:Math.max(Ee,Xe),maxY:Math.max(we,Me)})}),ye.sort(function(Ee,we){return Ee.maxX-we.maxX});for(var We=0;We<V;We++)for(var Je=0;Je<G;Je++){var xe=Te(H[0]+ue*(We+.5)/V,H[1]+fe*(Je+.5)/G),K=Math.pow(1-Math.abs(xe)/se,le)/2;xe<0&&(K=1-K),K=Math.max(0,Math.min(255,Math.round(K*255))),ae[Je*V+We]=K}return ae;function Te(Ee,we){for(var Xe=1/0,Me=1/0,Le=ye.length;Le--;){var Be=ye[Le];if(Be.maxX+Me<=Ee)break;if(Ee+Me>Be.minX&&we-Me<Be.maxY&&we+Me>Be.minY){var ve=g(Ee,we,Be.x1,Be.y1,Be.x2,Be.y2);ve<Xe&&(Xe=ve,Me=Math.sqrt(Xe))}}return Ae(Ee,we)&&(Me=-Me),Me}function Ae(Ee,we){for(var Xe=0,Me=ye.length;Me--;){var Le=ye[Me];if(Le.maxX<=Ee)break;var Be=Le.y1>we!=Le.y2>we&&Ee<(Le.x2-Le.x1)*(we-Le.y1)/(Le.y2-Le.y1)+Le.x1;Be&&(Xe+=Le.y1<Le.y2?1:-1)}return Xe!==0}}function y(V,G,D,H,se,le,ae,ue,fe,ye){le===void 0&&(le=1),ue===void 0&&(ue=0),fe===void 0&&(fe=0),ye===void 0&&(ye=0),_(V,G,D,H,se,le,ae,null,ue,fe,ye)}function _(V,G,D,H,se,le,ae,ue,fe,ye,We){le===void 0&&(le=1),fe===void 0&&(fe=0),ye===void 0&&(ye=0),We===void 0&&(We=0);for(var Je=v(V,G,D,H,se,le),xe=new Uint8Array(Je.length*4),K=0;K<Je.length;K++)xe[K*4+We]=Je[K];f(ae,xe,fe,ye,V,G,1<<3-We,ue)}function g(V,G,D,H,se,le){var ae=se-D,ue=le-H,fe=ae*ae+ue*ue,ye=fe?Math.max(0,Math.min(1,((V-D)*ae+(G-H)*ue)/fe)):0,We=V-(D+ye*ae),Je=G-(H+ye*ue);return We*We+Je*Je}var x=Object.freeze({__proto__:null,generate:v,generateIntoCanvas:y,generateIntoFramebuffer:_}),S="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",M="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",w="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",b=new Float32Array([0,0,2,0,0,2]),T=null,R=!1,C={},B=new WeakMap;function U(V){if(!R&&!Q(V))throw new Error("WebGL generation not supported")}function k(V,G,D,H,se,le,ae){if(le===void 0&&(le=1),ae===void 0&&(ae=null),!ae&&(ae=T,!ae)){var ue=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ue)throw new Error("OffscreenCanvas or DOM canvas not supported");ae=T=ue.getContext("webgl",{depth:!1})}U(ae);var fe=new Uint8Array(V*G*4);u(ae,function(xe){var K=xe.gl,Te=xe.withTexture,Ae=xe.withTextureFramebuffer;Te("readable",function(Ee,we){K.texImage2D(K.TEXTURE_2D,0,K.RGBA,V,G,0,K.RGBA,K.UNSIGNED_BYTE,null),Ae(Ee,we,function(Xe){Y(V,G,D,H,se,le,K,Xe,0,0,0),K.readPixels(0,0,V,G,K.RGBA,K.UNSIGNED_BYTE,fe)})})});for(var ye=new Uint8Array(V*G),We=0,Je=0;We<fe.length;We+=4)ye[Je++]=fe[We];return ye}function W(V,G,D,H,se,le,ae,ue,fe,ye){le===void 0&&(le=1),ue===void 0&&(ue=0),fe===void 0&&(fe=0),ye===void 0&&(ye=0),Y(V,G,D,H,se,le,ae,null,ue,fe,ye)}function Y(V,G,D,H,se,le,ae,ue,fe,ye,We){le===void 0&&(le=1),fe===void 0&&(fe=0),ye===void 0&&(ye=0),We===void 0&&(We=0),U(ae);var Je=[];s(D,function(xe,K,Te,Ae){Je.push(xe,K,Te,Ae)}),Je=new Float32Array(Je),u(ae,function(xe){var K=xe.gl,Te=xe.isWebGL2,Ae=xe.getExtension,Ee=xe.withProgram,we=xe.withTexture,Xe=xe.withTextureFramebuffer,Me=xe.handleContextLoss;if(we("rawDistances",function(Le,Be){(V!==Le._lastWidth||G!==Le._lastHeight)&&K.texImage2D(K.TEXTURE_2D,0,K.RGBA,Le._lastWidth=V,Le._lastHeight=G,0,K.RGBA,K.UNSIGNED_BYTE,null),Ee("main",S,M,function(ve){var Ye=ve.setAttribute,$=ve.setUniform,N=!Te&&Ae("ANGLE_instanced_arrays"),ce=!Te&&Ae("EXT_blend_minmax");Ye("aUV",2,K.STATIC_DRAW,0,b),Ye("aLineSegment",4,K.DYNAMIC_DRAW,1,Je),$.apply(void 0,["4f","uGlyphBounds"].concat(H)),$("1f","uMaxDistance",se),$("1f","uExponent",le),Xe(Le,Be,function(Ge){K.enable(K.BLEND),K.colorMask(!0,!0,!0,!0),K.viewport(0,0,V,G),K.scissor(0,0,V,G),K.blendFunc(K.ONE,K.ONE),K.blendEquationSeparate(K.FUNC_ADD,Te?K.MAX:ce.MAX_EXT),K.clear(K.COLOR_BUFFER_BIT),Te?K.drawArraysInstanced(K.TRIANGLES,0,3,Je.length/4):N.drawArraysInstancedANGLE(K.TRIANGLES,0,3,Je.length/4)})}),Ee("post",o,w,function(ve){ve.setAttribute("aUV",2,K.STATIC_DRAW,0,b),ve.setUniform("1i","tex",Be),K.bindFramebuffer(K.FRAMEBUFFER,ue),K.disable(K.BLEND),K.colorMask(We===0,We===1,We===2,We===3),K.viewport(fe,ye,V,G),K.scissor(fe,ye,V,G),K.drawArrays(K.TRIANGLES,0,3)})}),K.isContextLost())throw Me(),new Error("webgl context lost")})}function Q(V){var G=!V||V===T?C:V.canvas||V,D=B.get(G);if(D===void 0){R=!0;var H=null;try{var se=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],le=k(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,V);D=le&&se.length===le.length&&le.every(function(ae,ue){return ae===se[ue]}),D||(H="bad trial run results",console.info(se,le))}catch(ae){D=!1,H=ae.message}H&&console.warn("WebGL SDF generation not supported:",H),R=!1,B.set(G,D)}return D}var X=Object.freeze({__proto__:null,generate:k,generateIntoCanvas:W,generateIntoFramebuffer:Y,isSupported:Q});function J(V,G,D,H,se,le){se===void 0&&(se=Math.max(H[2]-H[0],H[3]-H[1])/2),le===void 0&&(le=1);try{return k.apply(X,arguments)}catch(ae){return console.info("WebGL SDF generation failed, falling back to JS",ae),v.apply(x,arguments)}}function O(V,G,D,H,se,le,ae,ue,fe,ye){se===void 0&&(se=Math.max(H[2]-H[0],H[3]-H[1])/2),le===void 0&&(le=1),ue===void 0&&(ue=0),fe===void 0&&(fe=0),ye===void 0&&(ye=0);try{return W.apply(X,arguments)}catch(We){return console.info("WebGL SDF generation failed, falling back to JS",We),y.apply(x,arguments)}}return e.forEachPathCommand=i,e.generate=J,e.generateIntoCanvas=O,e.javascript=x,e.pathToLineSegments=s,e.webgl=X,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function Pq(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(Me,Le){r[Me]=1<<Le+1,i[r[Me]]=Me}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,u=null;function f(){if(!u){u=new Map;var Me=function(Be){if(t.hasOwnProperty(Be)){var ve=0;t[Be].split(",").forEach(function(Ye){var $=Ye.split("+"),N=$[0],ce=$[1];N=parseInt(N,36),ce=ce?parseInt(ce,36):0,u.set(ve+=N,r[Be]);for(var Ge=0;Ge<ce;Ge++)u.set(++ve,r[Be])})}};for(var Le in t)Me(Le)}}function p(Me){return f(),u.get(Me.codePointAt(0))||r.L}function m(Me){return i[p(Me)]}var v={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function y(Me,Le){var Be=36,ve=0,Ye=new Map,$=Le&&new Map,N;return Me.split(",").forEach(function ce(Ge){if(Ge.indexOf("+")!==-1)for(var De=+Ge;De--;)ce(N);else{N=Ge;var Oe=Ge.split(">"),Ke=Oe[0],je=Oe[1];Ke=String.fromCodePoint(ve+=parseInt(Ke,Be)),je=String.fromCodePoint(ve+=parseInt(je,Be)),Ye.set(Ke,je),Le&&$.set(je,Ke)}}),{map:Ye,reverseMap:$}}var _,g,x;function S(){if(!_){var Me=y(v.pairs,!0),Le=Me.map,Be=Me.reverseMap;_=Le,g=Be,x=y(v.canonical,!1).map}}function M(Me){return S(),_.get(Me)||null}function w(Me){return S(),g.get(Me)||null}function b(Me){return S(),x.get(Me)||null}var T=r.L,R=r.R,C=r.EN,B=r.ES,U=r.ET,k=r.AN,W=r.CS,Y=r.B,Q=r.S,X=r.ON,J=r.BN,O=r.NSM,V=r.AL,G=r.LRO,D=r.RLO,H=r.LRE,se=r.RLE,le=r.PDF,ae=r.LRI,ue=r.RLI,fe=r.FSI,ye=r.PDI;function We(Me,Le){for(var Be=125,ve=new Uint32Array(Me.length),Ye=0;Ye<Me.length;Ye++)ve[Ye]=p(Me[Ye]);var $=new Map;function N(Lr,vi){var fr=ve[Lr];ve[Lr]=vi,$.set(fr,$.get(fr)-1),fr&a&&$.set(a,$.get(a)-1),$.set(vi,($.get(vi)||0)+1),vi&a&&$.set(a,($.get(a)||0)+1)}for(var ce=new Uint8Array(Me.length),Ge=new Map,De=[],Oe=null,Ke=0;Ke<Me.length;Ke++)Oe||De.push(Oe={start:Ke,end:Me.length-1,level:Le==="rtl"?1:Le==="ltr"?0:af(Ke,!1)}),ve[Ke]&Y&&(Oe.end=Ke,Oe=null);for(var je=se|H|D|G|s|ye|le|Y,ge=function(Lr){return Lr+(Lr&1?1:2)},re=function(Lr){return Lr+(Lr&1?2:1)},_e=0;_e<De.length;_e++){Oe=De[_e];var be=[{_level:Oe.level,_override:0,_isolate:0}],Re=void 0,Ne=0,Ze=0,it=0;$.clear();for(var oe=Oe.start;oe<=Oe.end;oe++){var pe=ve[oe];if(Re=be[be.length-1],$.set(pe,($.get(pe)||0)+1),pe&a&&$.set(a,($.get(a)||0)+1),pe&je)if(pe&(se|H)){ce[oe]=Re._level;var Se=(pe===se?re:ge)(Re._level);Se<=Be&&!Ne&&!Ze?be.push({_level:Se,_override:0,_isolate:0}):Ne||Ze++}else if(pe&(D|G)){ce[oe]=Re._level;var $e=(pe===D?re:ge)(Re._level);$e<=Be&&!Ne&&!Ze?be.push({_level:$e,_override:pe&D?R:T,_isolate:0}):Ne||Ze++}else if(pe&s){pe&fe&&(pe=af(oe+1,!0)===1?ue:ae),ce[oe]=Re._level,Re._override&&N(oe,Re._override);var Qe=(pe===ue?re:ge)(Re._level);Qe<=Be&&Ne===0&&Ze===0?(it++,be.push({_level:Qe,_override:0,_isolate:1,_isolInitIndex:oe})):Ne++}else if(pe&ye){if(Ne>0)Ne--;else if(it>0){for(Ze=0;!be[be.length-1]._isolate;)be.pop();var mt=be[be.length-1]._isolInitIndex;mt!=null&&(Ge.set(mt,oe),Ge.set(oe,mt)),be.pop(),it--}Re=be[be.length-1],ce[oe]=Re._level,Re._override&&N(oe,Re._override)}else pe&le?(Ne===0&&(Ze>0?Ze--:!Re._isolate&&be.length>1&&(be.pop(),Re=be[be.length-1])),ce[oe]=Re._level):pe&Y&&(ce[oe]=Oe.level);else ce[oe]=Re._level,Re._override&&pe!==J&&N(oe,Re._override)}for(var Et=[],Tt=null,Vt=Oe.start;Vt<=Oe.end;Vt++){var Yt=ve[Vt];if(!(Yt&l)){var Xt=ce[Vt],Dt=Yt&s,vr=Yt===ye;Tt&&Xt===Tt._level?(Tt._end=Vt,Tt._endsWithIsolInit=Dt):Et.push(Tt={_start:Vt,_end:Vt,_level:Xt,_startsWithPDI:vr,_endsWithIsolInit:Dt})}}for(var Zn=[],It=0;It<Et.length;It++){var An=Et[It];if(!An._startsWithPDI||An._startsWithPDI&&!Ge.has(An._start)){for(var Gn=[Tt=An],an=void 0;Tt&&Tt._endsWithIsolInit&&(an=Ge.get(Tt._end))!=null;)for(var yt=It+1;yt<Et.length;yt++)if(Et[yt]._start===an){Gn.push(Tt=Et[yt]);break}for(var qn=[],Ri=0;Ri<Gn.length;Ri++)for(var F=Gn[Ri],I=F._start;I<=F._end;I++)qn.push(I);for(var j=ce[qn[0]],ee=Oe.level,Z=qn[0]-1;Z>=0;Z--)if(!(ve[Z]&l)){ee=ce[Z];break}var te=qn[qn.length-1],Ce=ce[te],Pe=Oe.level;if(!(ve[te]&s)){for(var Ue=te+1;Ue<=Oe.end;Ue++)if(!(ve[Ue]&l)){Pe=ce[Ue];break}}Zn.push({_seqIndices:qn,_sosType:Math.max(ee,j)%2?R:T,_eosType:Math.max(Pe,Ce)%2?R:T})}}for(var ke=0;ke<Zn.length;ke++){var Ve=Zn[ke],de=Ve._seqIndices,ct=Ve._sosType,nt=Ve._eosType,tt=ce[de[0]]&1?R:T;if($.get(O))for(var gt=0;gt<de.length;gt++){var At=de[gt];if(ve[At]&O){for(var _t=ct,lt=gt-1;lt>=0;lt--)if(!(ve[de[lt]]&l)){_t=ve[de[lt]];break}N(At,_t&(s|ye)?X:_t)}}if($.get(C))for(var Mt=0;Mt<de.length;Mt++){var dt=de[Mt];if(ve[dt]&C)for(var Ct=Mt-1;Ct>=-1;Ct--){var ln=Ct===-1?ct:ve[de[Ct]];if(ln&o){ln===V&&N(dt,k);break}}}if($.get(V))for(var bt=0;bt<de.length;bt++){var cn=de[bt];ve[cn]&V&&N(cn,R)}if($.get(B)||$.get(W))for(var Qt=1;Qt<de.length-1;Qt++){var fn=de[Qt];if(ve[fn]&(B|W)){for(var Mn=0,Rt=0,wn=Qt-1;wn>=0&&(Mn=ve[de[wn]],!!(Mn&l));wn--);for(var en=Qt+1;en<de.length&&(Rt=ve[de[en]],!!(Rt&l));en++);Mn===Rt&&(ve[fn]===B?Mn===C:Mn&(C|k))&&N(fn,Mn)}}if($.get(C))for(var Bt=0;Bt<de.length;Bt++){var Rn=de[Bt];if(ve[Rn]&C){for(var Pi=Bt-1;Pi>=0&&ve[de[Pi]]&(U|l);Pi--)N(de[Pi],C);for(Bt++;Bt<de.length&&ve[de[Bt]]&(U|l|C);Bt++)ve[de[Bt]]!==C&&N(de[Bt],C)}}if($.get(U)||$.get(B)||$.get(W))for(var ur=0;ur<de.length;ur++){var Ki=de[ur];if(ve[Ki]&(U|B|W)){N(Ki,X);for(var ha=ur-1;ha>=0&&ve[de[ha]]&l;ha--)N(de[ha],X);for(var pa=ur+1;pa<de.length&&ve[de[pa]]&l;pa++)N(de[pa],X)}}if($.get(C))for(var ma=0,xc=ct;ma<de.length;ma++){var Jg=de[ma],Mh=ve[Jg];Mh&C?xc===T&&N(Jg,T):Mh&o&&(xc=Mh)}if($.get(a)){var ga=R|C|k,rf=ga|T,ko=[];{for(var il=[],No=0;No<de.length;No++)if(ve[de[No]]&a){var Zt=Me[de[No]],Eh=void 0;if(M(Zt)!==null)if(il.length<63)il.push({char:Zt,seqIndex:No});else break;else if((Eh=w(Zt))!==null)for(var va=il.length-1;va>=0;va--){var sf=il[va].char;if(sf===Eh||sf===w(b(Zt))||M(b(sf))===Zt){ko.push([il[va].seqIndex,No]),il.length=va;break}}}ko.sort(function(Lr,vi){return Lr[0]-vi[0]})}for(var wh=0;wh<ko.length;wh++){for(var Yg=ko[wh],Hn=Yg[0],Sc=Yg[1],$g=!1,pi=0,bh=Hn+1;bh<Sc;bh++){var Ac=de[bh];if(ve[Ac]&rf){$g=!0;var Qi=ve[Ac]&ga?R:T;if(Qi===tt){pi=Qi;break}}}if($g&&!pi){pi=ct;for(var Th=Hn-1;Th>=0;Th--){var Kg=de[Th];if(ve[Kg]&rf){var Zi=ve[Kg]&ga?R:T;Zi!==tt?pi=Zi:pi=tt;break}}}if(pi){if(ve[de[Hn]]=ve[de[Sc]]=pi,pi!==tt){for(var mi=Hn+1;mi<de.length;mi++)if(!(ve[de[mi]]&l)){p(Me[de[mi]])&O&&(ve[de[mi]]=pi);break}}if(pi!==tt){for(var zo=Sc+1;zo<de.length;zo++)if(!(ve[de[zo]]&l)){p(Me[de[zo]])&O&&(ve[de[zo]]=pi);break}}}}for(var Ms=0;Ms<de.length;Ms++)if(ve[de[Ms]]&a){for(var Ch=Ms,Rh=Ms,Ii=ct,Mc=Ms-1;Mc>=0;Mc--)if(ve[de[Mc]]&l)Ch=Mc;else{Ii=ve[de[Mc]]&ga?R:T;break}for(var Ec=nt,wc=Ms+1;wc<de.length;wc++)if(ve[de[wc]]&(a|l))Rh=wc;else{Ec=ve[de[wc]]&ga?R:T;break}for(var gi=Ch;gi<=Rh;gi++)ve[de[gi]]=Ii===Ec?Ii:tt;Ms=Rh}}}for(var Br=Oe.start;Br<=Oe.end;Br++){var of=ce[Br],ro=ve[Br];if(of&1?ro&(T|C|k)&&ce[Br]++:ro&R?ce[Br]++:ro&(k|C)&&(ce[Br]+=2),ro&l&&(ce[Br]=Br===0?Oe.level:ce[Br-1]),Br===Oe.end||p(Me[Br])&(Q|Y))for(var sl=Br;sl>=0&&p(Me[sl])&c;sl--)ce[sl]=Oe.level}}return{levels:ce,paragraphs:De};function af(Lr,vi){for(var fr=Lr;fr<Me.length;fr++){var dr=ve[fr];if(dr&(R|V))return 1;if(dr&(Y|T)||vi&&dr===ye)return 0;if(dr&s){var qi=Qg(fr);fr=qi===-1?Me.length:qi}}return 0}function Qg(Lr){for(var vi=1,fr=Lr+1;fr<Me.length;fr++){var dr=ve[fr];if(dr&Y)break;if(dr&ye){if(--vi===0)return fr}else dr&s&&vi++}return-1}}var Je="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",xe;function K(){if(!xe){var Me=y(Je,!0),Le=Me.map,Be=Me.reverseMap;Be.forEach(function(ve,Ye){Le.set(Ye,ve)}),xe=Le}}function Te(Me){return K(),xe.get(Me)||null}function Ae(Me,Le,Be,ve){var Ye=Me.length;Be=Math.max(0,Be==null?0:+Be),ve=Math.min(Ye-1,ve==null?Ye-1:+ve);for(var $=new Map,N=Be;N<=ve;N++)if(Le[N]&1){var ce=Te(Me[N]);ce!==null&&$.set(N,ce)}return $}function Ee(Me,Le,Be,ve){var Ye=Me.length;Be=Math.max(0,Be==null?0:+Be),ve=Math.min(Ye-1,ve==null?Ye-1:+ve);var $=[];return Le.paragraphs.forEach(function(N){var ce=Math.max(Be,N.start),Ge=Math.min(ve,N.end);if(ce<Ge){for(var De=Le.levels.slice(ce,Ge+1),Oe=Ge;Oe>=ce&&p(Me[Oe])&c;Oe--)De[Oe]=N.level;for(var Ke=N.level,je=1/0,ge=0;ge<De.length;ge++){var re=De[ge];re>Ke&&(Ke=re),re<je&&(je=re|1)}for(var _e=Ke;_e>=je;_e--)for(var be=0;be<De.length;be++)if(De[be]>=_e){for(var Re=be;be+1<De.length&&De[be+1]>=_e;)be++;be>Re&&$.push([Re+ce,be+ce])}}}),$}function we(Me,Le,Be,ve){var Ye=Xe(Me,Le,Be,ve),$=[].concat(Me);return Ye.forEach(function(N,ce){$[ce]=(Le.levels[N]&1?Te(Me[N]):null)||Me[N]}),$.join("")}function Xe(Me,Le,Be,ve){for(var Ye=Ee(Me,Le,Be,ve),$=[],N=0;N<Me.length;N++)$[N]=N;return Ye.forEach(function(ce){for(var Ge=ce[0],De=ce[1],Oe=$.slice(Ge,De+1),Ke=Oe.length;Ke--;)$[De-Ke]=Oe[Ke]}),$}return e.closingToOpeningBracket=w,e.getBidiCharType=p,e.getBidiCharTypeName=m,e.getCanonicalBracket=b,e.getEmbeddingLevels=We,e.getMirroredCharacter=Te,e.getMirroredCharactersMap=Ae,e.getReorderSegments=Ee,e.getReorderedIndices=Xe,e.getReorderedString=we,e.openingToClosingBracket=M,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const V4=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Lw(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let s=Gt[i];return s?Lw(s):r}return n.replace(e,t)}const Wr=[];for(let n=0;n<256;n++)Wr[n]=(n<16?"0":"")+n.toString(16);function Iq(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Wr[n&255]+Wr[n>>8&255]+Wr[n>>16&255]+Wr[n>>24&255]+"-"+Wr[e&255]+Wr[e>>8&255]+"-"+Wr[e>>16&15|64]+Wr[e>>24&255]+"-"+Wr[t&63|128]+Wr[t>>8&255]+"-"+Wr[t>>16&255]+Wr[t>>24&255]+Wr[r&255]+Wr[r>>8&255]+Wr[r>>16&255]+Wr[r>>24&255]).toUpperCase()}const jc=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Bq=Date.now(),hL=new WeakMap,pL=new Map;let Lq=1e10;function Dw(n,e){const t=Uq(e);let r=hL.get(n);if(r||hL.set(n,r=Object.create(null)),r[t])return new r[t];const i=`_onBeforeCompile${t}`,s=function(c,u){n.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let p=pL[f];if(!p){const m=Dq(this,c,e,t);p=pL[f]=m}c.vertexShader=p.vertexShader,c.fragmentShader=p.fragmentShader,jc(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-Bq}}),this[i]&&this[i](c)},o=function(){return a(e.chained?n:n.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:n}),Object.defineProperty(u,"id",{value:Lq++}),u.uuid=Iq(),u.uniforms=jc({},c.uniforms,e.uniforms),u.defines=jc({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=jc({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(jc(this.extensions,c.extensions),jc(this.defines,c.defines),jc(this.uniforms,ZT.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=Dw(n.isDerivedMaterial?n.getDepthMaterial():new A_({depthPacking:jT}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=Dw(n.isDerivedMaterial?n.getDistanceMaterial():new M_,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),n.dispose.call(this)}}};return r[t]=o,new o}function Dq(n,{vertexShader:e,fragmentShader:t},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:p,customRewriter:m,timeUniform:v}=r;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",f=f||"",(l||m)&&(e=Lw(e)),(p||m)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=Lw(t)),m){let y=m({vertexShader:e,fragmentShader:t});e=y.vertexShader,t=y.fragmentShader}if(p){let y=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,_=>(y.push(_),"")),f=`${p}
${y.join(`
`)}
${f}`}if(v){const y=`
uniform float ${v};
`;s=y+s,c=y+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(y,_,g,x)=>/\battribute\s+vec[23]\s+$/.test(x.substr(0,g))?_:`troika_${_}_${i}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=mL(e,i,s,o,a),t=mL(t,i,c,u,f),{vertexShader:e,fragmentShader:t}}function mL(n,e,t,r,i){return(r||i||t)&&(n=n.replace(V4,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function Oq(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Fq=0;const gL=new Map;function Uq(n){const e=JSON.stringify(n,Oq);let t=gL.get(e);return t==null&&gL.set(e,t=++Fq),t}function kq(n,e,t){const{defaultFontURL:r}=t,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c(x,S){function M(){const w=b=>{console.error(`Failure loading font ${x}${x===r?"":"; trying fallback"}`,b),x!==r&&(x=r,M())};try{const b=new XMLHttpRequest;b.open("get",x,!0),b.responseType="arraybuffer",b.onload=function(){if(b.status>=400)w(new Error(b.statusText));else if(b.status>0)try{const T=n(b.response);S(T)}catch(T){w(T)}},b.onerror=w,b.send()}catch(b){w(b)}}M()}function u(x,S){x||(x=r);let M=i[x];M?M.pending?M.pending.push(S):S(M):(i[x]={pending:[S]},c(x,w=>{let b=i[x].pending;i[x]=w,b.forEach(T=>T(w))}))}function f({text:x="",font:S=r,sdfGlyphSize:M=64,fontSize:w=1,letterSpacing:b=0,lineHeight:T="normal",maxWidth:R=s,direction:C,textAlign:B="left",textIndent:U=0,whiteSpace:k="normal",overflowWrap:W="normal",anchorX:Y=0,anchorY:Q=0,includeCaretPositions:X=!1,chunkedBoundsSize:J=8192,colorRanges:O=null},V,G=!1){const D=y(),H={fontLoad:0,typesetting:0};x.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),x=x.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),w=+w,b=+b,R=+R,T=T||"normal",U=+U,u(S,se=>{const le=isFinite(R);let ae=null,ue=null,fe=null,ye=null,We=null,Je=null,xe=null,K=0,Te=0,Ae=k!=="nowrap";const{ascender:Ee,descender:we,unitsPerEm:Xe,lineGap:Me,capHeight:Le,xHeight:Be}=se;H.fontLoad=y()-D;const ve=y(),Ye=w/Xe;T==="normal"&&(T=(Ee-we+Me)/Xe),T=T*w;const $=(T-(Ee-we)*Ye)/2,N=-(Ee*Ye+$),ce=Math.min(T,(Ee-we)*Ye),Ge=(Ee+we)/2*Ye-ce/2;let De=U,Oe=new _;const Ke=[Oe];se.forEachGlyph(x,w,b,(re,_e,be)=>{const Re=x.charAt(be),Ne=re.advanceWidth*Ye,Ze=Oe.count;let it;if("isEmpty"in re||(re.isWhitespace=!!Re&&new RegExp(a).test(Re),re.canBreakAfter=!!Re&&l.test(Re),re.isEmpty=re.xMin===re.xMax||re.yMin===re.yMax||o.test(Re)),!re.isWhitespace&&!re.isEmpty&&Te++,Ae&&le&&!re.isWhitespace&&_e+Ne+De>R&&Ze){if(Oe.glyphAt(Ze-1).glyphObj.canBreakAfter)it=new _,De=-_e;else for(let pe=Ze;pe--;)if(pe===0&&W==="break-word"){it=new _,De=-_e;break}else if(Oe.glyphAt(pe).glyphObj.canBreakAfter){it=Oe.splitAt(pe+1);const Se=it.glyphAt(0).x;De-=Se;for(let $e=it.count;$e--;)it.glyphAt($e).x-=Se;break}it&&(Oe.isSoftWrapped=!0,Oe=it,Ke.push(Oe),K=R)}let oe=Oe.glyphAt(Oe.count);oe.glyphObj=re,oe.x=_e+De,oe.width=Ne,oe.charIndex=be,Re===`
`&&(Oe=new _,Ke.push(Oe),De=-(_e+Ne+b*w)+U)}),Ke.forEach(re=>{for(let _e=re.count;_e--;){let{glyphObj:be,x:Re,width:Ne}=re.glyphAt(_e);if(!be.isWhitespace){re.width=Re+Ne,re.width>K&&(K=re.width);return}}});let je=0,ge=0;if(Y&&(typeof Y=="number"?je=-Y:typeof Y=="string"&&(je=-K*(Y==="left"?0:Y==="center"?.5:Y==="right"?1:m(Y)))),Q){if(typeof Q=="number")ge=-Q;else if(typeof Q=="string"){let re=Ke.length*T;ge=Q==="top"?0:Q==="top-baseline"?-N:Q==="top-cap"?-N-Le*Ye:Q==="top-ex"?-N-Be*Ye:Q==="middle"?re/2:Q==="bottom"?re:Q==="bottom-baseline"?re-$+we*Ye:m(Q)*re}}if(!G){const re=e.getEmbeddingLevels(x,C);ae=new Uint16Array(Te),ue=new Float32Array(Te*2),fe={},Je=[s,s,-s,-s],xe=[];let _e=N;X&&(We=new Float32Array(x.length*3)),O&&(ye=new Uint8Array(Te*3));let be=0,Re=-1,Ne=-1,Ze,it;if(Ke.forEach((oe,pe)=>{let{count:Se,width:$e}=oe;if(Se>0){let Qe=0;for(let Xt=Se;Xt--&&oe.glyphAt(Xt).glyphObj.isWhitespace;)Qe++;let mt=0,Et=0;if(B==="center")mt=(K-$e)/2;else if(B==="right")mt=K-$e;else if(B==="justify"&&oe.isSoftWrapped){let Xt=0;for(let Dt=Se-Qe;Dt--;)oe.glyphAt(Dt).glyphObj.isWhitespace&&Xt++;Et=(K-$e)/Xt}if(Et||mt){let Xt=0;for(let Dt=0;Dt<Se;Dt++){let vr=oe.glyphAt(Dt);const Zn=vr.glyphObj;vr.x+=mt+Xt,Et!==0&&Zn.isWhitespace&&Dt<Se-Qe&&(Xt+=Et,vr.width+=Et)}}const Tt=e.getReorderSegments(x,re,oe.glyphAt(0).charIndex,oe.glyphAt(oe.count-1).charIndex);for(let Xt=0;Xt<Tt.length;Xt++){const[Dt,vr]=Tt[Xt];let Zn=1/0,It=-1/0;for(let An=0;An<Se;An++)if(oe.glyphAt(An).charIndex>=Dt){let Gn=An,an=An;for(;an<Se;an++){let yt=oe.glyphAt(an);if(yt.charIndex>vr)break;an<Se-Qe&&(Zn=Math.min(Zn,yt.x),It=Math.max(It,yt.x+yt.width))}for(let yt=Gn;yt<an;yt++){const qn=oe.glyphAt(yt);qn.x=It-(qn.x+qn.width-Zn)}break}}let Vt;const Yt=Xt=>Vt=Xt;for(let Xt=0;Xt<Se;Xt++){let Dt=oe.glyphAt(Xt);Vt=Dt.glyphObj;const vr=Vt.index,Zn=re.levels[Dt.charIndex]&1;if(Zn){const It=e.getMirroredCharacter(x[Dt.charIndex]);It&&se.forEachGlyph(It,0,0,Yt)}if(X){const{charIndex:It}=Dt,An=Dt.x+je,Gn=Dt.x+Dt.width+je;We[It*3]=Zn?Gn:An,We[It*3+1]=Zn?An:Gn,We[It*3+2]=_e+Ge+ge;const an=It-Re;an>1&&v(We,Re,an),Re=It}if(O){const{charIndex:It}=Dt;for(;It>Ne;)Ne++,O.hasOwnProperty(Ne)&&(it=O[Ne])}if(!Vt.isWhitespace&&!Vt.isEmpty){const It=be++;fe[vr]||(fe[vr]={path:Vt.path,pathBounds:[Vt.xMin,Vt.yMin,Vt.xMax,Vt.yMax]});const An=Dt.x+je,Gn=_e+ge;ue[It*2]=An,ue[It*2+1]=Gn;const an=An+Vt.xMin*Ye,yt=Gn+Vt.yMin*Ye,qn=An+Vt.xMax*Ye,Ri=Gn+Vt.yMax*Ye;an<Je[0]&&(Je[0]=an),yt<Je[1]&&(Je[1]=yt),qn>Je[2]&&(Je[2]=qn),Ri>Je[3]&&(Je[3]=Ri),It%J===0&&(Ze={start:It,end:It,rect:[s,s,-s,-s]},xe.push(Ze)),Ze.end++;const F=Ze.rect;if(an<F[0]&&(F[0]=an),yt<F[1]&&(F[1]=yt),qn>F[2]&&(F[2]=qn),Ri>F[3]&&(F[3]=Ri),ae[It]=vr,O){const I=It*3;ye[I]=it>>16&255,ye[I+1]=it>>8&255,ye[I+2]=it&255}}}}_e-=T}),We){const oe=x.length-Re;oe>1&&v(We,Re,oe)}}H.typesetting=y()-ve,V({glyphIds:ae,glyphPositions:ue,glyphData:fe,caretPositions:We,caretHeight:ce,glyphColors:ye,chunkedBounds:xe,fontSize:w,unitsPerEm:Xe,ascender:Ee*Ye,descender:we*Ye,capHeight:Le*Ye,xHeight:Be*Ye,lineHeight:T,topBaseline:N,blockBounds:[je,ge-Ke.length*T,je+K,ge],visibleBounds:Je,timings:H})})}function p(x,S){f(x,M=>{const[w,b,T,R]=M.blockBounds;S({width:T-w,height:R-b})},{metricsOnly:!0})}function m(x){let S=x.match(/^([\d.]+)%$/),M=S?parseFloat(S[1]):NaN;return isNaN(M)?0:M/100}function v(x,S,M){const w=x[S*3],b=x[S*3+1],T=x[S*3+2],R=(b-w)/M;for(let C=0;C<M;C++){const B=(S+C)*3;x[B]=w+R*C,x[B+1]=w+R*(C+1),x[B+2]=T}}function y(){return(self.performance||Date).now()}function _(){this.data=[]}const g=["glyphObj","x","width","charIndex"];return _.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/g.length)},glyphAt(x){let S=_.flyweight;return S.data=this.data,S.index=x,S},splitAt(x){let S=new _;return S.data=this.data.splice(x*g.length),S}},_.flyweight=g.reduce((x,S,M,w)=>(Object.defineProperty(x,S,{get(){return this.data[this.index*g.length+M]},set(b){this.data[this.index*g.length+M]=b}}),x),{data:null,index:0}),{typeset:f,measure:p,loadFont:u}}const Mu=()=>(self.performance||Date).now(),ex=H4();let vL;function Nq(n,e,t,r,i,s,o,a,l,c,u=!0){return u?Gq(n,e,t,r,i,s,o,a,l,c).then(null,f=>(vL||(console.warn("WebGL SDF generation failed, falling back to JS",f),vL=!0),_L(n,e,t,r,i,s,o,a,l,c))):_L(n,e,t,r,i,s,o,a,l,c)}const Uy=[],zq=5;let Ow=0;function W4(){const n=Mu();for(;Uy.length&&Mu()-n<zq;)Uy.shift()();Ow=Uy.length?setTimeout(W4,0):0}const Gq=(...n)=>new Promise((e,t)=>{Uy.push(()=>{const r=Mu();try{ex.webgl.generateIntoCanvas(...n),e({timing:Mu()-r})}catch(i){t(i)}}),Ow||(Ow=setTimeout(W4,0))}),Hq=4,Vq=2e3,yL={};let Wq=0;function _L(n,e,t,r,i,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+Wq++%Hq;let f=yL[u];return f||(f=yL[u]={workerModule:Og({name:u,workerId:u,dependencies:[H4,Mu],init(p,m){const v=p().javascript.generate;return function(...y){const _=m();return{textureData:v(...y),timing:m()-_}}},getTransferables(p){return[p.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(n,e,t,r,i,s).then(({textureData:p,timing:m})=>{const v=Mu(),y=new Uint8Array(p.length*4);for(let _=0;_<p.length;_++)y[_*4+c]=p[_];return ex.webglUtils.renderImageData(o,y,a,l,n,e,1<<3-c),m+=Mu()-v,--f.requests===0&&(f.idleTimer=setTimeout(()=>{Cq(u)},Vq)),{timing:m}})}function jq(n){n._warm||(ex.webgl.isSupported(n),n._warm=!0)}const Xq=ex.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Jq(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var f=s.readUint(o,a);a+=4,c.push(e._readFont(o,f))}return c}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:i,_offset:a},f={},p=0;p<l;p++){var m=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var v=o.readUint(i,s);s+=4;var y=o.readUint(i,s);s+=4,f[m]={offset:v,length:y}}for(p=0;p<c.length;p++){var _=c[p];f[_]&&(u[_.trim()]=e[_.trim()].parse(i,f[_].offset,f[_].length,u))}return u},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),c=o+12,u=0;u<l;u++){var f=a.readASCII(i,c,4);c+=4,a.readUint(i,c),c+=4;var p=a.readUint(i,c);if(c+=4,a.readUint(i,c),c+=4,f==s)return p}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var c=i[s++]<<8|i[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var c=e._bin,u={},f=s;c.readFixed(i,s),s+=4;var p=c.readUshort(i,s);s+=2;var m=c.readUshort(i,s);s+=2;var v=c.readUshort(i,s);return s+=2,u.scriptList=e._lctf.readScriptList(i,f+p),u.featureList=e._lctf.readFeatureList(i,f+m),u.lookupList=e._lctf.readLookupList(i,f+v,l),u},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var p=a.readUshort(i,s);s+=2;var m=e._lctf.readLookupTable(i,l+p,o);c.push(m)}return c},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(i,s),s+=2,c.flag=a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;for(var f=c.ltype,p=0;p<u;p++){var m=a.readUshort(i,s);s+=2;var v=o(i,f,l+m,c);c.tabs.push(v)}return c},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var c=o.readUshort(i,s);s+=2;var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++)a.push(c+f),a.push(c+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var p=o.readUshort(i,s);for(s+=2,f=0;f<p;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2;var m=e._lctf.readFeatureTable(i,a+p);m.tag=f.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+p)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,a+c);var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var p=o.readASCII(i,s,4);s+=4;var m=o.readUshort(i,s);s+=2,l[p.trim()]=e._lctf.readLangSysTable(i,a+m)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(i,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var p=[];for(u=0;u<f.length-1;u++)p.push(e.CFF.readDict(i,s+f[u],s+f[u+1]));s+=f[f.length-1];var m=p[0],v=[];s=e.CFF.readIndex(i,s,v);var y=[];for(u=0;u<v.length-1;u++)y.push(a.readASCII(i,s+v[u],v[u+1]-v[u]));if(s+=v[v.length-1],e.CFF.readSubrs(i,s,m),m.CharStrings){s=m.CharStrings,v=[],s=e.CFF.readIndex(i,s,v);var _=[];for(u=0;u<v.length-1;u++)_.push(a.readBytes(i,s+v[u],v[u+1]-v[u]));m.CharStrings=_}if(m.ROS){s=m.FDArray;var g=[];for(s=e.CFF.readIndex(i,s,g),m.FDArray=[],u=0;u<g.length-1;u++){var x=e.CFF.readDict(i,s+g[u],s+g[u+1]);e.CFF._readFDict(i,x,y),m.FDArray.push(x)}s+=g[g.length-1],s=m.FDSelect,m.FDSelect=[];var S=i[s];if(s++,S!=3)throw S;var M=a.readUshort(i,s);for(s+=2,u=0;u<M+1;u++)m.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(i,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(i,m.charset,m.CharStrings.length)),e.CFF._readFDict(i,m,y),m},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var u=0;u<c;u++)a.push(i[s+u]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var u=0;u<o;u++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var p=0;for(c==1?(p=i[s],s++):(p=a.readUshort(i,s),s+=2),u=0;u<=p;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(i[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(i,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(i,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var u=1,f=null,p=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(p=a.readShort(i,s+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(p=l-139,u=1),247<=l&&l<=250&&(p=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(p=256*-(l-251)-c-108,u=2),l==255&&(p=a.readInt(i,s+1)/65535,u=5),o.val=p??"o"+f,o.size=u},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var p=1,m=null,v=null;u<=20&&(m=u,p=1),u==12&&(m=100*u+f,p=2),u!=19&&u!=20||(m=u,p=2),21<=u&&u<=27&&(m=u,p=1),u==28&&(v=l.readShort(i,s+1),p=3),29<=u&&u<=31&&(m=u,p=1),32<=u&&u<=246&&(v=u-139,p=1),247<=u&&u<=250&&(v=256*(u-247)+f+108,p=2),251<=u&&u<=254&&(v=256*-(u-251)-f-108,p=2),u==255&&(v=l.readInt(i,s+1)/65535,p=5),c.push(v??"o"+m),s+=p}return c},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var p=1,m=null,v=null;if(u==28&&(v=a.readShort(i,s+1),p=3),u==29&&(v=a.readInt(i,s+1),p=5),32<=u&&u<=246&&(v=u-139,p=1),247<=u&&u<=250&&(v=256*(u-247)+f+108,p=2),251<=u&&u<=254&&(v=256*-(u-251)-f-108,p=2),u==255)throw v=a.readInt(i,s+1)/65535,p=5,"unknown number";if(u==30){var y=[];for(p=1;;){var _=i[s+p];p++;var g=_>>4,x=15&_;if(g!=15&&y.push(g),x!=15&&y.push(x),x==15)break}for(var S="",M=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],w=0;w<y.length;w++)S+=M[y[w]];v=parseFloat(S)}u<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],p=1,u==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],p=2)),m!=null?(l[m]=c.length==1?c[0]:c,c=[]):c.push(v),s+=p}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var p=a.readUshort(i,s);s+=2;var m=a.readUshort(i,s);s+=2;var v=a.readUint(i,s);s+=4;var y="p"+p+"e"+m,_=u.indexOf(v);if(_==-1){var g;_=l.tables.length,u.push(v);var x=a.readUshort(i,v);x==0?g=e.cmap.parse0(i,v):x==4?g=e.cmap.parse4(i,v):x==6?g=e.cmap.parse6(i,v):x==12?g=e.cmap.parse12(i,v):console.debug("unknown format: "+x,p,m,v),l.tables.push(g)}if(l[y]!=null)throw"multiple tables for one platform+encoding";l[y]=_}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(i[s+c]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2;var f=u/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var p=0;p<f;p++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,f=o.readUint(i,u+0),p=o.readUint(i,u+4),m=o.readUint(i,u+8);a.groups.push([f,p,m])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;c.instructions=o.readBytes(a,l,f),l+=f;var p=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<p;u++){var m=a[l];if(l++,c.flags.push(m),(8&m)!=0){var v=a[l];l++;for(var y=0;y<v;y++)c.flags.push(m),u++}}for(c.xs=[],u=0;u<p;u++){var _=(2&c.flags[u])!=0,g=(16&c.flags[u])!=0;_?(c.xs.push(g?a[l]:-a[l]),l++):g?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<p;u++)_=(4&c.flags[u])!=0,g=(32&c.flags[u])!=0,_?(c.ys.push(g?a[l]:-a[l]),l++):g?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var x=0,S=0;for(u=0;u<p;u++)x+=c.xs[u],S+=c.ys[u],c.xs[u]=x,c.ys[u]=S}else{var M;c.parts=[];do{M=o.readUshort(a,l),l+=2;var w={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(w),w.glyphIndex=o.readUshort(a,l),l+=2,1&M){var b=o.readShort(a,l);l+=2;var T=o.readShort(a,l);l+=2}else b=o.readInt8(a,l),l++,T=o.readInt8(a,l),l++;2&M?(w.m.tx=b,w.m.ty=T):(w.p1=b,w.p2=T),8&M?(w.m.a=w.m.d=o.readF2dot14(a,l),l+=2):64&M?(w.m.a=o.readF2dot14(a,l),l+=2,w.m.d=o.readF2dot14(a,l),l+=2):128&M&&(w.m.a=o.readF2dot14(a,l),l+=2,w.m.b=o.readF2dot14(a,l),l+=2,w.m.c=o.readF2dot14(a,l),l+=2,w.m.d=o.readF2dot14(a,l),l+=2)}while(32&M);if(256&M){var R=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<R;u++)c.instr.push(a[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(s==1&&u.fmt==1){var p=l.readUshort(i,o);o+=2;var m=e._lctf.numOfOnes(p);p!=0&&(u.pos=e.GPOS.readValueRecord(i,o,p))}else if(s==2&&u.fmt>=1&&u.fmt<=2){p=l.readUshort(i,o),o+=2;var v=l.readUshort(i,o);o+=2,m=e._lctf.numOfOnes(p);var y=e._lctf.numOfOnes(v);if(u.fmt==1){u.pairsets=[];var _=l.readUshort(i,o);o+=2;for(var g=0;g<_;g++){var x=c+l.readUshort(i,o);o+=2;var S=l.readUshort(i,x);x+=2;for(var M=[],w=0;w<S;w++){var b=l.readUshort(i,x);x+=2,p!=0&&(k=e.GPOS.readValueRecord(i,x,p),x+=2*m),v!=0&&(W=e.GPOS.readValueRecord(i,x,v),x+=2*y),M.push({gid2:b,val1:k,val2:W})}u.pairsets.push(M)}}if(u.fmt==2){var T=l.readUshort(i,o);o+=2;var R=l.readUshort(i,o);o+=2;var C=l.readUshort(i,o);o+=2;var B=l.readUshort(i,o);for(o+=2,u.classDef1=e._lctf.readClassDef(i,c+T),u.classDef2=e._lctf.readClassDef(i,c+R),u.matrix=[],g=0;g<C;g++){var U=[];for(w=0;w<B;w++){var k=null,W=null;p!=0&&(k=e.GPOS.readValueRecord(i,o,p),o+=2*m),v!=0&&(W=e.GPOS.readValueRecord(i,o,v),o+=2*y),U.push({val1:k,val2:W})}u.matrix.push(U)}}}else{if(s==9&&u.fmt==1){var Y=l.readUshort(i,o);o+=2;var Q=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=Y;else if(a.ltype!=Y)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,c+Q)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,o),o+=2;else if(u.fmt==2){var p=l.readUshort(i,o);o+=2,u.newg=l.readUshorts(i,o,p),o+=2*u.newg.length}}else if(s==4){u.vals=[],p=l.readUshort(i,o),o+=2;for(var m=0;m<p;m++){var v=l.readUshort(i,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+v))}}else if(s==5&&u.fmt==2){if(u.fmt==2){var y=l.readUshort(i,o);o+=2,u.cDef=e._lctf.readClassDef(i,c+y),u.scset=[];var _=l.readUshort(i,o);for(o+=2,m=0;m<_;m++){var g=l.readUshort(i,o);o+=2,u.scset.push(g==0?null:e.GSUB.readSubClassSet(i,c+g))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(m=0;m<3;m++){p=l.readUshort(i,o),o+=2;for(var x=[],S=0;S<p;S++)x.push(e._lctf.readCoverage(i,c+l.readUshort(i,o+2*S)));o+=2*p,m==0&&(u.backCvg=x),m==1&&(u.inptCvg=x),m==2&&(u.ahedCvg=x)}p=l.readUshort(i,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,o,p)}}else{if(s==7&&u.fmt==1){var M=l.readUshort(i,o);o+=2;var w=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=M;else if(a.ltype!=M)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,c+w)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],c=o(i,s);s+=2;for(var u=0;u<c;u++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),c=o(i,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(i,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(i,s,u),s+=2*a[l[c]].length}return u=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,p=0;p<a.maxp.numGlyphs;p++)p<a.hhea.numberOfHMetrics&&(u=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,o,a);var u=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},p=0;p<u;p++){s+=2,o=l.readUshort(i,s),s+=2;var m=l.readUshort(i,s);s+=2;var v=m>>>8;if((v&=15)!=0)throw"unknown kern table format: "+v;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(i,s),s+=4;var p=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var m=p>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,u)}return u},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,s);s+=2;var p=a.readUshort(i,s);s+=2;var m=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var v=o.rval[o.rval.length-1];v.glyph2.push(p),v.vals.push(m),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(u==0)for(var p=0;p<f;p++)c.push(l.readUshort(i,s+(p<<1))<<1);if(u==1)for(p=0;p<f;p++)c.push(l.readUint(i,s+(p<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},c=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],p=s+=2,m=0;m<c;m++){var v=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var g=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var S=a.readUshort(i,s);s+=2;var M,w=f[g],b=p+12*c+S;if(v==0)M=a.readUnicode(i,b,x/2);else if(v==3&&y==0)M=a.readUnicode(i,b,x/2);else if(y==0)M=a.readASCII(i,b,x);else if(y==1)M=a.readUnicode(i,b,x/2);else if(y==3)M=a.readUnicode(i,b,x/2);else{if(v!=1)throw"unknown encoding "+y+", platformID: "+v;M=a.readASCII(i,b,x),console.debug("reading unknown MAC encoding "+y+" as ASCII")}var T="p"+v+","+_.toString(16);l[T]==null&&(l[T]={}),l[T][w!==void 0?w:g]=M,l[T]._lang=_}for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==1033)return l[R];for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==0)return l[R];for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==3084)return l[R];for(var R in l)if(l[R].postScriptName!=null)return l[R];for(var R in l){u=R;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=s;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,u,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,f=c==l?a:c+1,p=1&i.flags[c],m=1&i.flags[u],v=1&i.flags[f],y=i.xs[c],_=i.ys[c];if(c==a)if(p){if(!m){e.U.P.moveTo(s,y,_);continue}e.U.P.moveTo(s,i.xs[u],i.ys[u])}else m?e.U.P.moveTo(s,i.xs[u],i.ys[u]):e.U.P.moveTo(s,(i.xs[u]+y)/2,(i.ys[u]+_)/2);p?m&&e.U.P.lineTo(s,y,_):v?e.U.P.qcurveTo(s,y,_,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,y,_,(y+i.xs[f])/2,(_+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},c=i.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var p=l.crds[f],m=l.crds[f+1];o.crds.push(p*u.a+m*u.b+u.tx),o.crds.push(p*u.c+m*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var a=!1;if(i.GPOS)for(var l=i.GPOS,c=l.lookupList,u=l.featureList,f=[],p=0;p<u.length;p++){var m=u[p];if(m.tag=="kern"){a=!0;for(var v=0;v<m.tab.length;v++)if(!f[m.tab[v]]){f[m.tab[v]]=!0;for(var y=c[m.tab[v]],_=0;_<y.tabs.length;_++)if(y.tabs[_]!=null){var g,x=y.tabs[_];if((!x.coverage||(g=e._lctf.coverageIndex(x.coverage,s))!=-1)&&y.ltype!=1){if(y.ltype==2){var S=null;if(x.fmt==1){var M=x.pairsets[g];for(p=0;p<M.length;p++)M[p].gid2==o&&(S=M[p])}else if(x.fmt==2){var w=e.U._getGlyphClass(s,x.classDef1),b=e.U._getGlyphClass(o,x.classDef2);S=x.matrix[w][b]}if(S){var T=0;return S.val1&&S.val1[2]&&(T+=S.val1[2]),S.val2&&S.val2[0]&&(T+=S.val2[0]),T}}}}}}}if(i.kern&&!a){var R=i.kern.glyph1.indexOf(s);if(R!=-1){var C=i.kern.rval[R].glyph2.indexOf(o);if(C!=-1)return i.kern.rval[R].vals[C]}}return 0},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,f=o.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[u];else if(o.ltype==4)for(var p=f.vals[u],m=0;m<p.length;m++){var v=p[m],y=v.chain.length;if(!(y>l)){for(var _=!0,g=0,x=0;x<y;x++){for(;i[s+g+(1+x)]==-1;)g++;v.chain[x]!=i[s+g+(1+x)]&&(_=!1)}if(_){for(i[s]=v.nglyph,x=0;x<y+g;x++)i[s+x+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var S=e._lctf.getInterval(f.cDef,i[s]),M=f.cDef[S+2],w=f.scset[M],b=0;b<w.length;b++){var T=w[b],R=T.input;if(!(R.length>l)){for(_=!0,x=0;x<R.length;x++){var C=e._lctf.getInterval(f.cDef,i[s+1+x]);if(S==-1&&f.cDef[C+2]!=R[x]){_=!1;break}}if(_){var B=T.substLookupRecords;for(m=0;m<B.length;m+=2)B[m],B[m+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var U=f.lookupRec;for(b=0;b<U.length;b+=2){S=U[b];var k=a[U[b+1]];e.U._applySubs(i,s+S,k,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var f=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,p=e.U.glyphToPath(i,u),m=0;m<p.crds.length;m+=2)a.crds.push(p.crds[m]+l),a.crds.push(p.crds[m+1]);for(o&&a.cmds.push(o),m=0;m<p.cmds.length;m++)a.cmds.push(p.cmds[m]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(i,u,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,c,u){i.cmds.push("C"),i.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var c=s.stack,u=s.nStems,f=s.haveWidth,p=s.width,m=s.open,v=0,y=s.x,_=s.y,g=0,x=0,S=0,M=0,w=0,b=0,T=0,R=0,C=0,B=0,U={val:0,size:0};v<i.length;){e.CFF.getCharString(i,v,U);var k=U.val;if(v+=U.size,k=="o1"||k=="o18")c.length%2!=0&&!f&&(p=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(k=="o3"||k=="o23")c.length%2!=0&&!f&&(p=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(k=="o4")c.length>1&&!f&&(p=c.shift()+a.nominalWidthX,f=!0),m&&e.U.P.closePath(l),_+=c.pop(),e.U.P.moveTo(l,y,_),m=!0;else if(k=="o5")for(;c.length>0;)y+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,y,_);else if(k=="o6"||k=="o7")for(var W=c.length,Y=k=="o6",Q=0;Q<W;Q++){var X=c.shift();Y?y+=X:_+=X,Y=!Y,e.U.P.lineTo(l,y,_)}else if(k=="o8"||k=="o24"){W=c.length;for(var J=0;J+6<=W;)g=y+c.shift(),x=_+c.shift(),S=g+c.shift(),M=x+c.shift(),y=S+c.shift(),_=M+c.shift(),e.U.P.curveTo(l,g,x,S,M,y,_),J+=6;k=="o24"&&(y+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,y,_))}else{if(k=="o11")break;if(k=="o1234"||k=="o1235"||k=="o1236"||k=="o1237")k=="o1234"&&(x=_,S=(g=y+c.shift())+c.shift(),B=M=x+c.shift(),b=M,R=_,y=(T=(w=(C=S+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,g,x,S,M,C,B),e.U.P.curveTo(l,w,b,T,R,y,_)),k=="o1235"&&(g=y+c.shift(),x=_+c.shift(),S=g+c.shift(),M=x+c.shift(),C=S+c.shift(),B=M+c.shift(),w=C+c.shift(),b=B+c.shift(),T=w+c.shift(),R=b+c.shift(),y=T+c.shift(),_=R+c.shift(),c.shift(),e.U.P.curveTo(l,g,x,S,M,C,B),e.U.P.curveTo(l,w,b,T,R,y,_)),k=="o1236"&&(g=y+c.shift(),x=_+c.shift(),S=g+c.shift(),B=M=x+c.shift(),b=M,T=(w=(C=S+c.shift())+c.shift())+c.shift(),R=b+c.shift(),y=T+c.shift(),e.U.P.curveTo(l,g,x,S,M,C,B),e.U.P.curveTo(l,w,b,T,R,y,_)),k=="o1237"&&(g=y+c.shift(),x=_+c.shift(),S=g+c.shift(),M=x+c.shift(),C=S+c.shift(),B=M+c.shift(),w=C+c.shift(),b=B+c.shift(),T=w+c.shift(),R=b+c.shift(),Math.abs(T-y)>Math.abs(R-_)?y=T+c.shift():_=R+c.shift(),e.U.P.curveTo(l,g,x,S,M,C,B),e.U.P.curveTo(l,w,b,T,R,y,_));else if(k=="o14"){if(c.length>0&&!f&&(p=c.shift()+o.nominalWidthX,f=!0),c.length==4){var O=c.shift(),V=c.shift(),G=c.shift(),D=c.shift(),H=e.CFF.glyphBySE(o,G),se=e.CFF.glyphBySE(o,D);e.U._drawCFF(o.CharStrings[H],s,o,a,l),s.x=O,s.y=V,e.U._drawCFF(o.CharStrings[se],s,o,a,l)}m&&(e.U.P.closePath(l),m=!1)}else if(k=="o19"||k=="o20")c.length%2!=0&&!f&&(p=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,v+=u+7>>3;else if(k=="o21")c.length>2&&!f&&(p=c.shift()+a.nominalWidthX,f=!0),_+=c.pop(),y+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,y,_),m=!0;else if(k=="o22")c.length>1&&!f&&(p=c.shift()+a.nominalWidthX,f=!0),y+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,y,_),m=!0;else if(k=="o25"){for(;c.length>6;)y+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,y,_);g=y+c.shift(),x=_+c.shift(),S=g+c.shift(),M=x+c.shift(),y=S+c.shift(),_=M+c.shift(),e.U.P.curveTo(l,g,x,S,M,y,_)}else if(k=="o26")for(c.length%2&&(y+=c.shift());c.length>0;)g=y,x=_+c.shift(),y=S=g+c.shift(),_=(M=x+c.shift())+c.shift(),e.U.P.curveTo(l,g,x,S,M,y,_);else if(k=="o27")for(c.length%2&&(_+=c.shift());c.length>0;)x=_,S=(g=y+c.shift())+c.shift(),M=x+c.shift(),y=S+c.shift(),_=M,e.U.P.curveTo(l,g,x,S,M,y,_);else if(k=="o10"||k=="o29"){var le=k=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var ae=c.pop(),ue=le.Subrs[ae+le.Bias];s.x=y,s.y=_,s.nStems=u,s.haveWidth=f,s.width=p,s.open=m,e.U._drawCFF(ue,s,o,a,l),y=s.x,_=s.y,u=s.nStems,f=s.haveWidth,p=s.width,m=s.open}}else if(k=="o30"||k=="o31"){var fe=c.length,ye=(J=0,k=="o31");for(J+=fe-(W=-3&fe);J<W;)ye?(x=_,S=(g=y+c.shift())+c.shift(),_=(M=x+c.shift())+c.shift(),W-J==5?(y=S+c.shift(),J++):y=S,ye=!1):(g=y,x=_+c.shift(),S=g+c.shift(),M=x+c.shift(),y=S+c.shift(),W-J==5?(_=M+c.shift(),J++):_=M,ye=!0),e.U.P.curveTo(l,g,x,S,M,y,_),J+=4}else{if((k+"").charAt(0)=="o")throw console.debug("Unknown operation: "+k,i),k;c.push(k)}}}s.x=y,s.y=_,s.nStems=u,s.haveWidth=f,s.width=p,s.open=m};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Yq(){return function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(k,W){for(var Y=new t(31),Q=0;Q<31;++Q)Y[Q]=W+=1<<k[Q-1];var X=new r(Y[30]);for(Q=1;Q<30;++Q)for(var J=Y[Q];J<Y[Q+1];++J)X[J]=J-Y[Q]<<5|Q;return[Y,X]},l=a(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=a(s,0)[0],p=new t(32768),m=0;m<32768;++m){var v=(43690&m)>>>1|(21845&m)<<1;v=(61680&(v=(52428&v)>>>2|(13107&v)<<2))>>>4|(3855&v)<<4,p[m]=((65280&v)>>>8|(255&v)<<8)>>>1}var y=function(k,W,Y){for(var Q=k.length,X=0,J=new t(W);X<Q;++X)++J[k[X]-1];var O,V=new t(W);for(X=0;X<W;++X)V[X]=V[X-1]+J[X-1]<<1;if(Y){O=new t(1<<W);var G=15-W;for(X=0;X<Q;++X)if(k[X])for(var D=X<<4|k[X],H=W-k[X],se=V[k[X]-1]++<<H,le=se|(1<<H)-1;se<=le;++se)O[p[se]>>>G]=D}else for(O=new t(Q),X=0;X<Q;++X)k[X]&&(O[X]=p[V[k[X]-1]++]>>>15-k[X]);return O},_=new e(288);for(m=0;m<144;++m)_[m]=8;for(m=144;m<256;++m)_[m]=9;for(m=256;m<280;++m)_[m]=7;for(m=280;m<288;++m)_[m]=8;var g=new e(32);for(m=0;m<32;++m)g[m]=5;var x=y(_,9,1),S=y(g,5,1),M=function(k){for(var W=k[0],Y=1;Y<k.length;++Y)k[Y]>W&&(W=k[Y]);return W},w=function(k,W,Y){var Q=W/8|0;return(k[Q]|k[Q+1]<<8)>>(7&W)&Y},b=function(k,W){var Y=W/8|0;return(k[Y]|k[Y+1]<<8|k[Y+2]<<16)>>(7&W)},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],R=function(k,W,Y){var Q=new Error(W||T[k]);if(Q.code=k,Error.captureStackTrace&&Error.captureStackTrace(Q,R),!Y)throw Q;return Q},C=function(k,W,Y){var Q=k.length;if(!Q||Y&&!Y.l&&Q<5)return W||new e(0);var X=!W||Y,J=!Y||Y.i;Y||(Y={}),W||(W=new e(3*Q));var O,V=function(Re){var Ne=W.length;if(Re>Ne){var Ze=new e(Math.max(2*Ne,Re));Ze.set(W),W=Ze}},G=Y.f||0,D=Y.p||0,H=Y.b||0,se=Y.l,le=Y.d,ae=Y.m,ue=Y.n,fe=8*Q;do{if(!se){Y.f=G=w(k,D,1);var ye=w(k,D+1,3);if(D+=3,!ye){var We=k[(Be=((O=D)/8|0)+(7&O&&1)+4)-4]|k[Be-3]<<8,Je=Be+We;if(Je>Q){J&&R(0);break}X&&V(H+We),W.set(k.subarray(Be,Je),H),Y.b=H+=We,Y.p=D=8*Je;continue}if(ye==1)se=x,le=S,ae=9,ue=5;else if(ye==2){var xe=w(k,D,31)+257,K=w(k,D+10,15)+4,Te=xe+w(k,D+5,31)+1;D+=14;for(var Ae=new e(Te),Ee=new e(19),we=0;we<K;++we)Ee[o[we]]=w(k,D+3*we,7);D+=3*K;var Xe=M(Ee),Me=(1<<Xe)-1,Le=y(Ee,Xe,1);for(we=0;we<Te;){var Be,ve=Le[w(k,D,Me)];if(D+=15&ve,(Be=ve>>>4)<16)Ae[we++]=Be;else{var Ye=0,$=0;for(Be==16?($=3+w(k,D,3),D+=2,Ye=Ae[we-1]):Be==17?($=3+w(k,D,7),D+=3):Be==18&&($=11+w(k,D,127),D+=7);$--;)Ae[we++]=Ye}}var N=Ae.subarray(0,xe),ce=Ae.subarray(xe);ae=M(N),ue=M(ce),se=y(N,ae,1),le=y(ce,ue,1)}else R(1);if(D>fe){J&&R(0);break}}X&&V(H+131072);for(var Ge=(1<<ae)-1,De=(1<<ue)-1,Oe=D;;Oe=D){var Ke=(Ye=se[b(k,D)&Ge])>>>4;if((D+=15&Ye)>fe){J&&R(0);break}if(Ye||R(2),Ke<256)W[H++]=Ke;else{if(Ke==256){Oe=D,se=null;break}var je=Ke-254;if(Ke>264){var ge=i[we=Ke-257];je=w(k,D,(1<<ge)-1)+c[we],D+=ge}var re=le[b(k,D)&De],_e=re>>>4;if(re||R(3),D+=15&re,ce=f[_e],_e>3&&(ge=s[_e],ce+=b(k,D)&(1<<ge)-1,D+=ge),D>fe){J&&R(0);break}X&&V(H+131072);for(var be=H+je;H<be;H+=4)W[H]=W[H-ce],W[H+1]=W[H+1-ce],W[H+2]=W[H+2-ce],W[H+3]=W[H+3-ce];H=be}}Y.l=se,Y.p=Oe,Y.b=H,se&&(G=1,Y.m=ae,Y.d=le,Y.n=ue)}while(!G);return H==W.length?W:function(Re,Ne,Ze){(Ne==null||Ne<0)&&(Ne=0),(Ze==null||Ze>Re.length)&&(Ze=Re.length);var it=new(Re instanceof t?t:Re instanceof r?r:e)(Ze-Ne);return it.set(Re.subarray(Ne,Ze)),it}(W,0,H)},B=new e(0),U=typeof TextDecoder<"u"&&new TextDecoder;try{U.decode(B,{stream:!0})}catch{}return n.convert_streams=function(k){var W=new DataView(k),Y=0;function Q(){var xe=W.getUint16(Y);return Y+=2,xe}function X(){var xe=W.getUint32(Y);return Y+=4,xe}function J(xe){We.setUint16(Je,xe),Je+=2}function O(xe){We.setUint32(Je,xe),Je+=4}for(var V={signature:X(),flavor:X(),length:X(),numTables:Q(),reserved:Q(),totalSfntSize:X(),majorVersion:Q(),minorVersion:Q(),metaOffset:X(),metaLength:X(),metaOrigLength:X(),privOffset:X(),privLength:X()},G=0;Math.pow(2,G)<=V.numTables;)G++;G--;for(var D=16*Math.pow(2,G),H=16*V.numTables-D,se=12,le=[],ae=0;ae<V.numTables;ae++)le.push({tag:X(),offset:X(),compLength:X(),origLength:X(),origChecksum:X()}),se+=16;var ue,fe=new Uint8Array(12+16*le.length+le.reduce(function(xe,K){return xe+K.origLength+4},0)),ye=fe.buffer,We=new DataView(ye),Je=0;return O(V.flavor),J(V.numTables),J(D),J(G),J(H),le.forEach(function(xe){O(xe.tag),O(xe.origChecksum),O(se),O(xe.origLength),xe.outOffset=se,(se+=xe.origLength)%4!=0&&(se+=4-se%4)}),le.forEach(function(xe){var K,Te=k.slice(xe.offset,xe.offset+xe.compLength);if(xe.compLength!=xe.origLength){var Ae=new Uint8Array(xe.origLength);K=new Uint8Array(Te,2),C(K,Ae)}else Ae=new Uint8Array(Te);fe.set(Ae,xe.outOffset);var Ee=0;(se=xe.outOffset+xe.origLength)%4!=0&&(Ee=4-se%4),fe.set(new Uint8Array(Ee).buffer,xe.outOffset+xe.origLength),ue=se+Ee}),ye.slice(0,ue)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function $q(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,c=32;let u;function f(w){if(!u){const b={R:s,L:i,D:o,C:l,U:c,T:a};u=new Map;for(let T in r){let R=0;r[T].split(",").forEach(C=>{let[B,U]=C.split("+");B=parseInt(B,36),U=U?parseInt(U,36):0,u.set(R+=B,b[T]);for(let k=U;k--;)u.set(++R,b[T])})}}return u.get(w)||c}const p=1,m=2,v=3,y=4,_=[null,"isol","init","fina","medi"];function g(w){const b=new Uint8Array(w.length);let T=c,R=p,C=-1;for(let B=0;B<w.length;B++){const U=w.codePointAt(B);let k=f(U)|0,W=p;k&a||(T&(i|o|l)?k&(s|o|l)?(W=v,(R===p||R===v)&&b[C]++):k&(i|c)&&(R===m||R===y)&&b[C]--:T&(s|c)&&(R===m||R===y)&&b[C]--,R=b[B]=W,T=k,C=B,U>65535&&B++)}return b}function x(w,b){const T=[];for(let C=0;C<b.length;C++){const B=b.codePointAt(C);B>65535&&C++,T.push(n.U.codeToGlyph(w,B))}const R=w.GSUB;if(R){const{lookupList:C,featureList:B}=R;let U;const k=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,W=[];B.forEach(Y=>{if(k.test(Y.tag))for(let Q=0;Q<Y.tab.length;Q++){if(W[Y.tab[Q]])continue;W[Y.tab[Q]]=!0;const X=C[Y.tab[Q]],J=/^(isol|init|fina|medi)$/.test(Y.tag);J&&!U&&(U=g(b));for(let O=0;O<T.length;O++)(!U||!J||_[U[O]]===Y.tag)&&n.U._applySubs(T,O,X,C)}})}return T}function S(...w){for(let b=0;b<w.length;b++)if(typeof w[b]=="number")return w[b]}function M(w){const b=Object.create(null),T=w["OS/2"],R=w.hhea,C=w.head.unitsPerEm,B=S(T&&T.sTypoAscender,R&&R.ascender,C),U={unitsPerEm:C,ascender:B,descender:S(T&&T.sTypoDescender,R&&R.descender,0),capHeight:S(T&&T.sCapHeight,B),xHeight:S(T&&T.sxHeight,B),lineGap:S(T&&T.sTypoLineGap,R&&R.lineGap),forEachGlyph(k,W,Y,Q){let X=0;const J=1/U.unitsPerEm*W,O=x(w,k);let V=0,G=-1;return O.forEach((D,H)=>{if(D!==-1){let se=b[D];if(!se){const{cmds:le,crds:ae}=n.U.glyphToPath(w,D);let ue="",fe=0;for(let K=0,Te=le.length;K<Te;K++){const Ae=t[le[K]];ue+=le[K];for(let Ee=1;Ee<=Ae;Ee++)ue+=(Ee>1?",":"")+ae[fe++]}let ye,We,Je,xe;if(ae.length){ye=We=1/0,Je=xe=-1/0;for(let K=0,Te=ae.length;K<Te;K+=2){let Ae=ae[K],Ee=ae[K+1];Ae<ye&&(ye=Ae),Ee<We&&(We=Ee),Ae>Je&&(Je=Ae),Ee>xe&&(xe=Ee)}}else ye=Je=We=xe=0;se=b[D]={index:D,advanceWidth:w.hmtx.aWidth[D],xMin:ye,yMin:We,xMax:Je,yMax:xe,path:ue,pathCommandCount:le.length}}G!==-1&&(X+=n.U.getPairAdjustment(w,G,D)*J),Q.call(null,se,X,V),se.advanceWidth&&(X+=se.advanceWidth*J),Y&&(X+=Y*W),G=D}V+=k.codePointAt(V)>65535?2:1}),X}};return U}return function(b){const T=new Uint8Array(b,0,4),R=n._bin.readASCII(T,0,4);if(R==="wOFF")b=e(b);else if(R==="wOF2")throw new Error("woff2 fonts not supported");return M(n.parse(b)[0])}}const Kq=Og({name:"Typr Font Parser",dependencies:[Jq,Yq,$q],init(n,e,t){const r=n(),i=e();return t(r,i)}}),gd={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Qq=new ot;function jf(){return(self.performance||Date).now()}const xL=Object.create(null);function j4(n,e){n=eee({},n);const t=jf();if(n.font=tee(n.font||gd.defaultFontURL),n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||gd.sdfGlyphSize,n.colorRanges!=null){let f={};for(let p in n.colorRanges)if(n.colorRanges.hasOwnProperty(p)){let m=n.colorRanges[p];typeof m!="number"&&(m=Qq.set(m).getHex()),f[p]=m}n.colorRanges=f}Object.freeze(n);const{textureWidth:r,sdfExponent:i}=gd,{sdfGlyphSize:s}=n,o=r/s*4;let a=xL[s];if(!a){const f=document.createElement("canvas");f.width=r,f.height=s*256/o,a=xL[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:f,sdfTexture:new In(f,void 0,void 0,void 0,_n,_n),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,Zq(a)}const{sdfTexture:l,sdfCanvas:c}=a;let u=a.glyphsByFont.get(n.font);u||a.glyphsByFont.set(n.font,u=new Map),ree(n).then(f=>{const{glyphIds:p,glyphPositions:m,fontSize:v,unitsPerEm:y,timings:_}=f,g=[],x=new Float32Array(p.length*4),S=v/y;let M=0,w=0;const b=jf();p.forEach((U,k)=>{let W=u.get(U);if(!W){const{path:J,pathBounds:O}=f.glyphData[U],V=Math.max(O[2]-O[0],O[3]-O[1])/s*(gd.sdfMargin*s+.5),G=a.glyphCount++,D=[O[0]-V,O[1]-V,O[2]+V,O[3]+V];u.set(U,W={path:J,atlasIndex:G,sdfViewBox:D}),g.push(W)}const{sdfViewBox:Y}=W,Q=m[w++],X=m[w++];x[M++]=Q+Y[0]*S,x[M++]=X+Y[1]*S,x[M++]=Q+Y[2]*S,x[M++]=X+Y[3]*S,p[k]=W.atlasIndex}),_.quads=(_.quads||0)+(jf()-b);const T=jf();_.sdf={};const R=c.height,C=Math.ceil(a.glyphCount/o),B=Math.pow(2,Math.ceil(Math.log2(C*s)));B>R&&(console.info(`Increasing SDF texture size ${R}->${B}`),Xq(c,r,B),l.dispose()),Promise.all(g.map(U=>X4(U,a,n.gpuAccelerateSDF).then(({timing:k})=>{_.sdf[U.atlasIndex]=k}))).then(()=>{g.length&&!a.contextLost&&(J4(a),l.needsUpdate=!0),_.sdfTotal=jf()-T,_.total=jf()-t,e(Object.freeze({parameters:n,sdfTexture:l,sdfGlyphSize:s,sdfExponent:i,glyphBounds:x,glyphAtlasIndices:p,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{a.contextLost||jq(c)})}function X4({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=gd,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4),f=u%(a/r)*r,p=Math.floor(u/(a/r))*r,m=e%4;return Nq(r,r,n,t,c,l,i,f,p,m,o)}function Zq(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const r=[];n.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(X4(s,n,!0))})}),Promise.all(r).then(()=>{J4(n),n.sdfTexture.needsUpdate=!0})})}function qq({font:n,characters:e,sdfGlyphSize:t},r){let i=Array.isArray(e)?e.join(`
`):""+e;j4({font:n,sdfGlyphSize:t,text:i},r)}function eee(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let Yv;function tee(n){return Yv||(Yv=typeof document>"u"?{}:document.createElement("a")),Yv.href=n,Yv.href}function J4(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:r,height:i}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),t.image={width:r,height:i,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const nee=Og({name:"Typesetter",dependencies:[gd,Kq,kq,Pq],init(n,e,t,r){const{defaultFontURL:i}=n;return t(e,r(),{defaultFontURL:i})}}),ree=Og({name:"Typesetter",dependencies:[nee],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[n.glyphPositions.buffer,n.glyphIds.buffer];return n.caretPositions&&e.push(n.caretPositions.buffer),n.glyphColors&&e.push(n.glyphColors.buffer),e}}),SL={};function iee(n){let e=SL[n];if(!e){const t=new gc(1,1,n,n),r=t.clone(),i=t.attributes,s=r.attributes,o=new zt,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new vt([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...t.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=SL[n]=o}return e}const see="aTroikaGlyphBounds",AL="aTroikaGlyphIndex",oee="aTroikaGlyphColor";class aee extends MC{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ss,this.boundingBox=new no}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===li?t/2:0,e===Mi?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=iee(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=t.attributes[r].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,i,s){ZA(this,see,e,4),ZA(this,AL,t,1),ZA(this,oee,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:i,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=i/2,f=i*2,p=Math.abs(t),m=e[0]/p,v=e[2]/p,y=s((m+u)/f)!==s((v+u)/f)?-p:o(l(m)*p,l(v)*p),_=s((m-u)/f)!==s((v-u)/f)?p:a(l(m)*p,l(v)*p),g=s((m+i)/f)!==s((v+i)/f)?p*2:a(p-c(m)*p,p-c(v)*p);r.min.set(y,e[1],t<0?-g:0),r.max.set(_,e[3],t<0?0:g)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(AL).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){t=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}}function ZA(n,e,t,r){const i=n.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(n.setAttribute(e,new ku(t,r)),delete n._maxInstanceCount,n.dispose()):i&&n.deleteAttribute(e)}const lee=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,cee=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,uee=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,fee=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function dee(n){const e=Dw(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new He},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new gn(0,0,0,0)},uTroikaClipRect:{value:new gn(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new He},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ot},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Wt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:lee,vertexTransform:cee,fragmentDefs:uee,fragmentColorTransform:fee,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(V4,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const e2=new Gi({color:16777215,side:Mi,transparent:!0}),ML=8421504,EL=new Pt,$v=new q,qA=new q,_p=[],hee=new q,eM="+x+y";function wL(n){return Array.isArray(n)?n[0]:n}let Y4=()=>{const n=new or(new gc(1,1),e2);return Y4=()=>n,n},$4=()=>{const n=new or(new gc(1,1,32,1),e2);return $4=()=>n,n};const pee={type:"syncstart"},mee={type:"synccomplete"},K4=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],gee=K4.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Q4=class extends or{constructor(){const e=new aee;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=ML,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=eM,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(pee),j4({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(mee),e&&e()})))}onBeforeRender(e,t,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=Co}onAfterRender(e,t,r,i,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=e2.clone());if((!e||e.baseMaterial!==t)&&(e=this._derivedMaterial=dee(t),t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return wL(this.material).getDepthMaterial()}get customDistanceMaterial(){return wL(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let c=0,u=0,f=0,p,m,v,y=0,_=0;if(t){let{outlineWidth:x,outlineOffsetX:S,outlineOffsetY:M,outlineBlur:w,outlineOpacity:b}=this;c=this._parsePercent(x)||0,u=Math.max(0,this._parsePercent(w)||0),p=b,y=this._parsePercent(S)||0,_=this._parsePercent(M)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(v=this.strokeColor,r.uTroikaStrokeColor.value.set(v??ML),m=this.strokeOpacity,m==null&&(m=1)),p=this.fillOpacity;r.uTroikaDistanceOffset.value=c,r.uTroikaPositionOffset.value.set(y,_),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=m,r.uTroikaFillOpacity.value=p??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let g=this.clipRect;if(g&&Array.isArray(g)&&g.length===4)r.uTroikaClipRect.value.fromArray(g);else{const x=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-x,l[1]-x,l[2]+x,l[3]+x)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new ot;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||eM;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==eM&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,f,p]=l;$v.set(0,0,0)[u]=c==="-"?1:-1,qA.set(0,0,0)[p]=f==="-"?-1:1,EL.lookAt(hee,$v.cross(qA),qA),a.setFromMatrix4(EL)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new He){t.copy(e);const r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new He){return $v.copy(e),this.localPositionToTextCoords(this.worldToLocal($v),t)}raycast(e,t){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?$4():Y4(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let f=s[0]+c.getX(u)*(s[2]-s[0]);const p=s[1]+c.getY(u)*(s[3]-s[1]);let m=0;i&&(m=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(u,f,p,m)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,_p.length=0,o.raycast(e,_p);for(let u=0;u<_p.length;u++)_p[u].object=this,t.push(_p[u])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,gee.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};K4.forEach(n=>{const e="_private_"+n;Object.defineProperty(Q4.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});const bL=z.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},c)=>{const u=Cr(({invalidate:v})=>v),[f]=z.useState(()=>new Q4),[p,m]=z.useMemo(()=>{const v=[];let y="";return z.Children.forEach(s,_=>{typeof _=="string"||typeof _=="number"?y+=_:v.push(_)}),[v,y]},[s]);return bN(()=>new Promise(v=>qq({font:r,characters:o},v)),["troika-text",r,o]),z.useLayoutEffect(()=>void f.sync(()=>{u(),a&&a(f)})),z.useEffect(()=>()=>f.dispose(),[f]),z.createElement("primitive",lr({object:f,ref:c,font:r,text:m,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:n},l),p)});let Kv=null;function Z4(n,e,t){return r=>{t&&t(r),n&&(Kv||(Kv=new Aq),Kv.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(Kv)),e&&r.setMeshoptDecoder(typeof KA=="function"?KA():KA)}}function cr(n,e=!0,t=!0,r){return xh(qC,n,Z4(e,t,r))}cr.preload=(n,e=!0,t=!0,r)=>xh.preload(qC,n,Z4(e,t,r));cr.clear=n=>xh.clear(qC,n);const vee=z.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const f=Cr(b=>b.invalidate),p=Cr(b=>b.camera),m=Cr(b=>b.gl),v=Cr(b=>b.events),y=Cr(b=>b.setEvents),_=Cr(b=>b.set),g=Cr(b=>b.get),x=Cr(b=>b.performance),S=e||p,M=r||v.connected||m.domElement,w=z.useMemo(()=>new GZ(S),[S]);return DC(()=>{w.enabled&&w.update()},-1),z.useEffect(()=>(s&&w.connect(s===!0?M:s),w.connect(M),()=>void w.dispose()),[s,M,t,w,f]),z.useEffect(()=>{const b=C=>{f(),t&&x.regress(),o&&o(C)},T=C=>{a&&a(C)},R=C=>{l&&l(C)};return w.addEventListener("change",b),w.addEventListener("start",T),w.addEventListener("end",R),()=>{w.removeEventListener("start",T),w.removeEventListener("end",R),w.removeEventListener("change",b)}},[o,a,l,w,f,y]),z.useEffect(()=>{if(n){const b=g().controls;return _({controls:w}),()=>_({controls:b})}},[n,w]),z.createElement("primitive",lr({ref:u,object:w,enableDamping:i},c))});function yee(n,e){const t=n+"Geometry";return z.forwardRef(({args:r,children:i,...s},o)=>{const a=z.useRef(null);return z.useImperativeHandle(o,()=>a.current),z.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),z.createElement("mesh",lr({ref:a},s),z.createElement(t,{attach:"geometry",args:r}),i)})}const _ee=yee("plane"),tM={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},xee="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",TL=n=>Array.isArray(n);function q4({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}={}){var s,o,a;let l=null,c=!1,u;if(t){if(!(t in tM))throw new Error("Preset must be one of: "+Object.keys(tM).join(", "));n=tM[t],e=xee}if(c=TL(n),u=TL(n)?"cube":n.startsWith("data:application/exr")?"exr":n.startsWith("data:application/hdr")?"hdr":(s=n.split(".").pop())==null||(o=s.split("?"))==null||(a=o.shift())==null?void 0:a.toLowerCase(),l=c?aN:u==="hdr"?xq:u==="exr"?Sq:null,!l)throw new Error("useEnvironment: Unrecognized file extension: "+n);const f=xh(l,c?[n]:n,y=>{y.setPath==null||y.setPath(e),i&&i(y)}),p=c?f[0]:f;p.mapping=c?aa:Xd;const m=3001,v=3e3;return"colorSpace"in p?p.colorSpace=r??c?"srgb":"srgb-linear":p.encoding=r??c?m:v,p}const See=n=>n.current&&n.current.isScene,Aee=n=>See(n)?n.current:n;function t2(n,e,t,r,i=0){const s=Aee(e||t),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return n!=="only"&&(s.environment=r),n&&(s.background=r),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{n!=="only"&&(s.environment=a),n&&(s.background=o),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function n2({scene:n,background:e=!1,blur:t,map:r}){const i=Cr(s=>s.scene);return z.useLayoutEffect(()=>{if(r)return t2(e,n,i,r,t)},[i,n,r,e,t]),null}function e5({background:n=!1,scene:e,blur:t,...r}){const i=q4(r),s=Cr(o=>o.scene);return z.useLayoutEffect(()=>t2(n,e,s,i,t),[i,n,e,s,t]),null}function Mee({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:c,path:u,preset:f=void 0,extensions:p}){const m=Cr(S=>S.gl),v=Cr(S=>S.scene),y=z.useRef(null),[_]=z.useState(()=>new Bm),g=z.useMemo(()=>{const S=new qT(r);return S.texture.type=wi,S},[r]);z.useLayoutEffect(()=>(i===1&&y.current.update(m,_),t2(o,l,v,g.texture,a)),[n,_,g.texture,l,v,o,i,m]);let x=1;return DC(()=>{(i===1/0||x<i)&&(y.current.update(m,_),x++)}),z.createElement(z.Fragment,null,y$(z.createElement(z.Fragment,null,n,z.createElement("cubeCamera",{ref:y,args:[e,t,g]}),c||f?z.createElement(e5,{background:!0,files:c,preset:f,path:u,extensions:p}):s?z.createElement(n2,{background:!0,map:s,extensions:p}):null),_))}function Eee(n){var e,t,r,i;const s=q4(n),o=n.map||s;z.useMemo(()=>TN({GroundProjectedEnvImpl:kZ}),[]);const a=z.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,u=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return z.createElement(z.Fragment,null,z.createElement(n2,lr({},n,{map:o})),z.createElement("groundProjectedEnvImpl",{args:a,scale:u,height:l,radius:c}))}function wee(n){return n.ground?z.createElement(Eee,n):n.map?z.createElement(n2,n):n.children?z.createElement(Mee,n):z.createElement(e5,n)}function Fg(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Qn(n){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qn(n)}function bee(n,e){if(Qn(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Qn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function t5(n){var e=bee(n,"string");return Qn(e)==="symbol"?e:String(e)}function CL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,t5(r.key),r)}}function Ug(n,e,t){return e&&CL(n.prototype,e),t&&CL(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Fw(n,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fw(n,e)}function n5(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Fw(n,e)}function B1(n){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B1(n)}function Tee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Cee(n,e){if(e&&(Qn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uw(n)}function r5(n){var e=Tee();return function(){var r=B1(n),i;if(e){var s=B1(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Cee(this,i)}}var i5={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(i5);var Ree=i5.exports;const ji=uh(Ree);var s5={exports:{}},Sn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hr=typeof Symbol=="function"&&Symbol.for,r2=Hr?Symbol.for("react.element"):60103,i2=Hr?Symbol.for("react.portal"):60106,tx=Hr?Symbol.for("react.fragment"):60107,nx=Hr?Symbol.for("react.strict_mode"):60108,rx=Hr?Symbol.for("react.profiler"):60114,ix=Hr?Symbol.for("react.provider"):60109,sx=Hr?Symbol.for("react.context"):60110,s2=Hr?Symbol.for("react.async_mode"):60111,ox=Hr?Symbol.for("react.concurrent_mode"):60111,ax=Hr?Symbol.for("react.forward_ref"):60112,lx=Hr?Symbol.for("react.suspense"):60113,Pee=Hr?Symbol.for("react.suspense_list"):60120,cx=Hr?Symbol.for("react.memo"):60115,ux=Hr?Symbol.for("react.lazy"):60116,Iee=Hr?Symbol.for("react.block"):60121,Bee=Hr?Symbol.for("react.fundamental"):60117,Lee=Hr?Symbol.for("react.responder"):60118,Dee=Hr?Symbol.for("react.scope"):60119;function As(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case r2:switch(n=n.type,n){case s2:case ox:case tx:case rx:case nx:case lx:return n;default:switch(n=n&&n.$$typeof,n){case sx:case ax:case ux:case cx:case ix:return n;default:return e}}case i2:return e}}}function o5(n){return As(n)===ox}Sn.AsyncMode=s2;Sn.ConcurrentMode=ox;Sn.ContextConsumer=sx;Sn.ContextProvider=ix;Sn.Element=r2;Sn.ForwardRef=ax;Sn.Fragment=tx;Sn.Lazy=ux;Sn.Memo=cx;Sn.Portal=i2;Sn.Profiler=rx;Sn.StrictMode=nx;Sn.Suspense=lx;Sn.isAsyncMode=function(n){return o5(n)||As(n)===s2};Sn.isConcurrentMode=o5;Sn.isContextConsumer=function(n){return As(n)===sx};Sn.isContextProvider=function(n){return As(n)===ix};Sn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===r2};Sn.isForwardRef=function(n){return As(n)===ax};Sn.isFragment=function(n){return As(n)===tx};Sn.isLazy=function(n){return As(n)===ux};Sn.isMemo=function(n){return As(n)===cx};Sn.isPortal=function(n){return As(n)===i2};Sn.isProfiler=function(n){return As(n)===rx};Sn.isStrictMode=function(n){return As(n)===nx};Sn.isSuspense=function(n){return As(n)===lx};Sn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===tx||n===ox||n===rx||n===nx||n===lx||n===Pee||typeof n=="object"&&n!==null&&(n.$$typeof===ux||n.$$typeof===cx||n.$$typeof===ix||n.$$typeof===sx||n.$$typeof===ax||n.$$typeof===Bee||n.$$typeof===Lee||n.$$typeof===Dee||n.$$typeof===Iee)};Sn.typeOf=As;s5.exports=Sn;var Oee=s5.exports,kw={},Fee=function(e){};function Uee(n,e){}function kee(n,e){}function Nee(){kw={}}function a5(n,e,t){!e&&!kw[t]&&(n(!1,t),kw[t]=!0)}function kg(n,e){a5(Uee,n,e)}function zee(n,e){a5(kee,n,e)}kg.preMessage=Fee;kg.resetWarned=Nee;kg.noteOnce=zee;function En(n,e,t){return e=t5(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Kt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(t),!0).forEach(function(r){En(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function l5(n,e,t){var r=z.useRef({});return(!("value"in r.current)||t(r.current.condition,e))&&(r.current.value=n(),r.current.condition=e),r.current.value}function c5(n,e){typeof n=="function"?n(e):Qn(n)==="object"&&n&&"current"in n&&(n.current=e)}function u5(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e.filter(function(i){return i});return r.length<=1?r[0]:function(i){e.forEach(function(s){c5(s,i)})}}function f5(n){var e,t,r=Oee.isMemo(n)?n.type.type:n.type;return!(typeof r=="function"&&!((e=r.prototype)!==null&&e!==void 0&&e.render)||typeof n=="function"&&!((t=n.prototype)!==null&&t!==void 0&&t.render))}function Gee(n){return n instanceof HTMLElement||n instanceof SVGElement}function Hee(n){return Gee(n)?n:n instanceof nn.Component?SU.findDOMNode(n):null}function Vee(n,e){var t=Kt({},n);return Array.isArray(e)&&e.forEach(function(r){delete t[r]}),t}function Nw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Wee(n){if(Array.isArray(n))return Nw(n)}function d5(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function o2(n,e){if(n){if(typeof n=="string")return Nw(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nw(n,e)}}function jee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tf(n){return Wee(n)||d5(n)||o2(n)||jee()}var h5=function(e){return+setTimeout(e,16)},p5=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(h5=function(e){return window.requestAnimationFrame(e)},p5=function(e){return window.cancelAnimationFrame(e)});var PL=0,a2=new Map;function m5(n){a2.delete(n)}var Vu=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;PL+=1;var r=PL;function i(s){if(s===0)m5(r),e();else{var o=h5(function(){i(s-1)});a2.set(r,o)}}return i(t),r};Vu.cancel=function(n){var e=a2.get(n);return m5(e),p5(e)};function l2(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Xee(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Wm(n,e){if(n==null)return{};var t=Xee(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Jee(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(s,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(s);if(kg(!l,"Warning: There may be circular references"),l)return!1;if(s===o)return!0;if(t&&a>1)return!1;r.add(s);var c=a+1;if(Array.isArray(s)){if(!Array.isArray(o)||s.length!==o.length)return!1;for(var u=0;u<s.length;u++)if(!i(s[u],o[u],c))return!1;return!0}if(s&&o&&Qn(s)==="object"&&Qn(o)==="object"){var f=Object.keys(s);return f.length!==Object.keys(o).length?!1:f.every(function(p){return i(s[p],o[p],c)})}return!1}return i(n,e)}var IL="%",Yee=function(){function n(e){Fg(this,n),En(this,"instanceId",void 0),En(this,"cache",new Map),this.instanceId=e}return Ug(n,[{key:"get",value:function(t){return this.cache.get(t.join(IL))||null}},{key:"update",value:function(t,r){var i=t.join(IL),s=this.cache.get(i),o=r(s);o===null?this.cache.delete(i):this.cache.set(i,o)}}]),n}(),zw="data-token-hash",Eu="data-css-hash",vd="__cssinjs_instance__";function $ee(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Eu,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(i){i[vd]=i[vd]||n,i[vd]===n&&document.head.insertBefore(i,t)});var r={};Array.from(document.querySelectorAll("style[".concat(Eu,"]"))).forEach(function(i){var s=i.getAttribute(Eu);if(r[s]){if(i[vd]===n){var o;(o=i.parentNode)===null||o===void 0||o.removeChild(i)}}else r[s]=!0})}return new Yee(n)}var Kee=z.createContext({hashPriority:"low",cache:$ee(),defaultCache:!0});const c2=Kee;function Fo(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Qee(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var BL="data-rc-order",LL="data-rc-priority",Zee="rc-util-key",Gw=new Map;function g5(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Zee}function fx(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function qee(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function v5(n){return Array.from((Gw.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function y5(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Fo())return null;var t=e.csp,r=e.prepend,i=e.priority,s=i===void 0?0:i,o=qee(r),a=o==="prependQueue",l=document.createElement("style");l.setAttribute(BL,o),a&&s&&l.setAttribute(LL,"".concat(s)),t!=null&&t.nonce&&(l.nonce=t==null?void 0:t.nonce),l.innerHTML=n;var c=fx(e),u=c.firstChild;if(r){if(a){var f=v5(c).filter(function(p){if(!["prepend","prependQueue"].includes(p.getAttribute(BL)))return!1;var m=Number(p.getAttribute(LL)||0);return s>=m});if(f.length)return c.insertBefore(l,f[f.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function _5(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=fx(e);return v5(t).find(function(r){return r.getAttribute(g5(e))===n})}function x5(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=_5(n,e);if(t){var r=fx(e);r.removeChild(t)}}function ete(n,e){var t=Gw.get(n);if(!t||!Qee(document,t)){var r=y5("",e),i=r.parentNode;Gw.set(n,i),n.removeChild(r)}}function jm(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=fx(t);ete(r,t);var i=_5(e,t);if(i){var s,o;if((s=t.csp)!==null&&s!==void 0&&s.nonce&&i.nonce!==((o=t.csp)===null||o===void 0?void 0:o.nonce)){var a;i.nonce=(a=t.csp)===null||a===void 0?void 0:a.nonce}return i.innerHTML!==n&&(i.innerHTML=n),i}var l=y5(n,t);return l.setAttribute(g5(t),e),l}function S5(n){if(Array.isArray(n))return n}function tte(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function A5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zn(n,e){return S5(n)||tte(n,e)||o2(n,e)||A5()}function nte(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var u2=function(){function n(){Fg(this,n),En(this,"cache",void 0),En(this,"keys",void 0),En(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Ug(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var r,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o={map:this.cache};return t.forEach(function(a){if(!o)o=void 0;else{var l,c;o=(l=o)===null||l===void 0||(c=l.map)===null||c===void 0?void 0:c.get(a)}}),(r=o)!==null&&r!==void 0&&r.value&&s&&(o.value[1]=this.cacheCallTimes++),(i=o)===null||i===void 0?void 0:i.value}},{key:"get",value:function(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,r){var i=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var s=this.keys.reduce(function(c,u){var f=zn(c,2),p=f[1];return i.internalGet(u)[1]<p?[u,i.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),o=zn(s,1),a=o[0];this.delete(a)}this.keys.push(t)}var l=this.cache;t.forEach(function(c,u){if(u===t.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var f=l.get(c);f?f.map||(f.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(t,r){var i=t.get(r[0]);if(r.length===1){var s;return i.map?t.set(r[0],{map:i.map}):t.delete(r[0]),(s=i.value)===null||s===void 0?void 0:s[0]}var o=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&t.delete(r[0]),o}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(r){return!nte(r,t)}),this.deleteByPath(this.cache,t)}}]),n}();En(u2,"MAX_CACHE_SIZE",20);En(u2,"MAX_CACHE_OFFSET",5);var DL=0,M5=function(){function n(e){Fg(this,n),En(this,"derivatives",void 0),En(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=DL,e.length===0&&(e.length>0,void 0),DL+=1}return Ug(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(r,i){return i(t,r)},void 0)}}]),n}(),nM=new u2;function Hw(n){var e=Array.isArray(n)?n:[n];return nM.has(e)||nM.set(e,new M5(e)),nM.get(e)}var OL=new WeakMap;function L1(n){var e=OL.get(n)||"";return e||(Object.keys(n).forEach(function(t){var r=n[t];e+=t,r instanceof M5?e+=r.id:r&&Qn(r)==="object"?e+=L1(r):e+=r}),OL.set(n,e)),e}function rte(n,e){return l2("".concat(e,"_").concat(L1(n)))}var tm="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),E5="_bAmBoO_";function ite(n,e,t){if(Fo()){var r,i;jm(n,tm);var s=document.createElement("div");s.style.position="fixed",s.style.left="0",s.style.top="0",e==null||e(s),document.body.appendChild(s);var o=t?t(s):(r=getComputedStyle(s).content)===null||r===void 0?void 0:r.includes(E5);return(i=s.parentNode)===null||i===void 0||i.removeChild(s),x5(tm),o}return!1}var rM=void 0;function ste(){return rM===void 0&&(rM=ite("@layer ".concat(tm," { .").concat(tm,' { content: "').concat(E5,'"!important; } }'),function(n){n.className=tm})),rM}var FL=Fo()?z.useLayoutEffect:z.useEffect,ote=function(e,t){var r=z.useRef(!0);FL(function(){return e(r.current)},t),FL(function(){return r.current=!1,function(){r.current=!0}},[])},ate=Kt({},zb),UL=ate.useInsertionEffect,lte=function(e,t,r){z.useMemo(e,r),ote(function(){return t(!0)},r)},cte=UL?function(n,e,t){return UL(function(){return n(),e()},t)}:lte;const ute=cte;var fte=Kt({},zb),dte=fte.useInsertionEffect,hte=function(e){var t=[],r=!1;function i(s){r||t.push(s)}return z.useEffect(function(){return r=!1,function(){r=!0,t.length&&t.forEach(function(s){return s()})}},e),i},pte=function(){return function(e){e()}},mte=typeof dte<"u"?hte:pte;const gte=mte;function w5(n,e,t,r,i){var s=z.useContext(c2),o=s.cache,a=[n].concat(tf(e)),l=a.join("_"),c=gte([l]),u=function(v){o.update(a,function(y){var _=y||[],g=zn(_,2),x=g[0],S=x===void 0?0:x,M=g[1],w=M,b=w||t(),T=[S,b];return v?v(T):T})};z.useMemo(function(){u()},[l]);var f=o.get(a),p=f[1];return ute(function(){i==null||i(p)},function(m){return u(function(v){var y=zn(v,2),_=y[0],g=y[1];return m&&_===0&&(i==null||i(p)),[_+1,g]}),function(){o.update(a,function(v){var y=v||[],_=zn(y,2),g=_[0],x=g===void 0?0:g,S=_[1],M=x-1;return M===0?(c(function(){return r==null?void 0:r(S,!1)}),null):[x-1,S]})}},[l]),p}var vte={},yte="css",iu=new Map;function _te(n){iu.set(n,(iu.get(n)||0)+1)}function xte(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(zw,'="').concat(n,'"]'));t.forEach(function(r){if(r[vd]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var Ste=0;function Ate(n,e){iu.set(n,(iu.get(n)||0)-1);var t=Array.from(iu.keys()),r=t.filter(function(i){var s=iu.get(i)||0;return s<=0});t.length-r.length>Ste&&r.forEach(function(i){xte(i,e),iu.delete(i)})}var Mte=function(e,t,r,i){var s=r.getDerivativeToken(e),o=Kt(Kt({},s),t);return i&&(o=i(o)),o};function Ete(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=z.useContext(c2),i=r.cache.instanceId,s=t.salt,o=s===void 0?"":s,a=t.override,l=a===void 0?vte:a,c=t.formatToken,u=t.getComputedToken,f=z.useMemo(function(){return Object.assign.apply(Object,[{}].concat(tf(e)))},[e]),p=z.useMemo(function(){return L1(f)},[f]),m=z.useMemo(function(){return L1(l)},[l]),v=w5("token",[o,n.id,p,m],function(){var y=u?u(f,l,n):Mte(f,l,n,c),_=rte(y,o);y._tokenKey=_,_te(_);var g="".concat(yte,"-").concat(l2(_));return y._hashId=g,[y,g]},function(y){Ate(y[0]._tokenKey,i)});return v}var wte={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},b5="comm",T5="rule",C5="decl",bte="@import",Tte="@keyframes",Cte="@layer",Rte=Math.abs,f2=String.fromCharCode;function R5(n){return n.trim()}function ky(n,e,t){return n.replace(e,t)}function Pte(n,e){return n.indexOf(e)}function Xm(n,e){return n.charCodeAt(e)|0}function Jm(n,e,t){return n.slice(e,t)}function Ua(n){return n.length}function Ite(n){return n.length}function Qv(n,e){return e.push(n),n}var dx=1,rh=1,P5=0,eo=0,Mr=0,Sh="";function d2(n,e,t,r,i,s,o,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:dx,column:rh,length:o,return:"",siblings:a}}function Bte(){return Mr}function Lte(){return Mr=eo>0?Xm(Sh,--eo):0,rh--,Mr===10&&(rh=1,dx--),Mr}function wo(){return Mr=eo<P5?Xm(Sh,eo++):0,rh++,Mr===10&&(rh=1,dx++),Mr}function wu(){return Xm(Sh,eo)}function Ny(){return eo}function hx(n,e){return Jm(Sh,n,e)}function Vw(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Dte(n){return dx=rh=1,P5=Ua(Sh=n),eo=0,[]}function Ote(n){return Sh="",n}function iM(n){return R5(hx(eo-1,Ww(n===91?n+2:n===40?n+1:n)))}function Fte(n){for(;(Mr=wu())&&Mr<33;)wo();return Vw(n)>2||Vw(Mr)>3?"":" "}function Ute(n,e){for(;--e&&wo()&&!(Mr<48||Mr>102||Mr>57&&Mr<65||Mr>70&&Mr<97););return hx(n,Ny()+(e<6&&wu()==32&&wo()==32))}function Ww(n){for(;wo();)switch(Mr){case n:return eo;case 34:case 39:n!==34&&n!==39&&Ww(Mr);break;case 40:n===41&&Ww(n);break;case 92:wo();break}return eo}function kte(n,e){for(;wo()&&n+Mr!==47+10;)if(n+Mr===42+42&&wu()===47)break;return"/*"+hx(e,eo-1)+"*"+f2(n===47?n:wo())}function Nte(n){for(;!Vw(wu());)wo();return hx(n,eo)}function zte(n){return Ote(zy("",null,null,null,[""],n=Dte(n),0,[0],n))}function zy(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,f=o,p=0,m=0,v=0,y=1,_=1,g=1,x=0,S="",M=i,w=s,b=r,T=S;_;)switch(v=x,x=wo()){case 40:if(v!=108&&Xm(T,f-1)==58){Pte(T+=ky(iM(x),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:T+=iM(x);break;case 9:case 10:case 13:case 32:T+=Fte(v);break;case 92:T+=Ute(Ny()-1,7);continue;case 47:switch(wu()){case 42:case 47:Qv(Gte(kte(wo(),Ny()),e,t,l),l);break;default:T+="/"}break;case 123*y:a[c++]=Ua(T)*g;case 125*y:case 59:case 0:switch(x){case 0:case 125:_=0;case 59+u:g==-1&&(T=ky(T,/\f/g,"")),m>0&&Ua(T)-f&&Qv(m>32?NL(T+";",r,t,f-1,l):NL(ky(T," ","")+";",r,t,f-2,l),l);break;case 59:T+=";";default:if(Qv(b=kL(T,e,t,c,u,i,a,S,M=[],w=[],f,s),s),x===123)if(u===0)zy(T,e,b,b,M,s,f,a,w);else switch(p===99&&Xm(T,3)===110?100:p){case 100:case 108:case 109:case 115:zy(n,b,b,r&&Qv(kL(n,b,b,0,0,i,a,S,i,M=[],f,w),w),i,w,f,a,r?M:w);break;default:zy(T,b,b,b,[""],w,0,a,w)}}c=u=m=0,y=g=1,S=T="",f=o;break;case 58:f=1+Ua(T),m=v;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&Lte()==125)continue}switch(T+=f2(x),x*y){case 38:g=u>0?1:(T+="\f",-1);break;case 44:a[c++]=(Ua(T)-1)*g,g=1;break;case 64:wu()===45&&(T+=iM(wo())),p=wu(),u=f=Ua(S=T+=Nte(Ny())),x++;break;case 45:v===45&&Ua(T)==2&&(y=0)}}return s}function kL(n,e,t,r,i,s,o,a,l,c,u,f){for(var p=i-1,m=i===0?s:[""],v=Ite(m),y=0,_=0,g=0;y<r;++y)for(var x=0,S=Jm(n,p+1,p=Rte(_=o[y])),M=n;x<v;++x)(M=R5(_>0?m[x]+" "+S:ky(S,/&\f/g,m[x])))&&(l[g++]=M);return d2(n,e,t,i===0?T5:a,l,c,u,f)}function Gte(n,e,t,r){return d2(n,e,t,b5,f2(Bte()),Jm(n,2,-2),0,r)}function NL(n,e,t,r,i){return d2(n,e,t,C5,Jm(n,0,r),Jm(n,r+1,-1),r,i)}function jw(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function Hte(n,e,t,r){switch(n.type){case Cte:if(n.children.length)break;case bte:case C5:return n.return=n.return||n.value;case b5:return"";case Tte:return n.return=n.value+"{"+jw(n.children,r)+"}";case T5:if(!Ua(n.value=n.props.join(",")))return""}return Ua(t=jw(n.children,r))?n.return=n.value+"{"+t+"}":""}var zL="data-ant-cssinjs-cache-path",I5="_FILE_STYLE__",bu,B5=!0;function Vte(){if(!bu&&(bu={},Fo())){var n=document.createElement("div");n.className=zL,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var s=i.split(":"),o=zn(s,2),a=o[0],l=o[1];bu[a]=l});var t=document.querySelector("style[".concat(zL,"]"));if(t){var r;B5=!1,(r=t.parentNode)===null||r===void 0||r.removeChild(t)}document.body.removeChild(n)}}function Wte(n){return Vte(),!!bu[n]}function jte(n){var e=bu[n],t=null;if(e&&Fo())if(B5)t=I5;else{var r=document.querySelector("style[".concat(Eu,'="').concat(bu[n],'"]'));r?t=r.innerHTML:delete bu[n]}return[t,e]}var GL=Fo(),Xte="_skip_check_",L5="_multi_value_";function HL(n){var e=jw(zte(n),Hte);return e.replace(/\{%%%\:[^;];}/g,";")}function Jte(n){return Qn(n)==="object"&&n&&(Xte in n||L5 in n)}function Yte(n,e,t){if(!e)return n;var r=".".concat(e),i=t==="low"?":where(".concat(r,")"):r,s=n.split(",").map(function(o){var a,l=o.trim().split(/\s+/),c=l[0]||"",u=((a=c.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return c="".concat(u).concat(i).concat(c.slice(u.length)),[c].concat(tf(l.slice(1))).join(" ")});return s.join(",")}var $te=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,s=r.injectHash,o=r.parentSelectors,a=t.hashId,l=t.layer;t.path;var c=t.hashPriority,u=t.transformers,f=u===void 0?[]:u;t.linters;var p="",m={};function v(S){var M=S.getName(a);if(!m[M]){var w=n(S.style,t,{root:!1,parentSelectors:o}),b=zn(w,1),T=b[0];m[M]="@keyframes ".concat(S.getName(a)).concat(T)}}function y(S){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return S.forEach(function(w){Array.isArray(w)?y(w,M):w&&M.push(w)}),M}var _=y(Array.isArray(e)?e:[e]);if(_.forEach(function(S){var M=typeof S=="string"&&!i?{}:S;if(typeof M=="string")p+="".concat(M,`
`);else if(M._keyframe)v(M);else{var w=f.reduce(function(b,T){var R;return(T==null||(R=T.visit)===null||R===void 0?void 0:R.call(T,b))||b},M);Object.keys(w).forEach(function(b){var T=w[b];if(Qn(T)==="object"&&T&&(b!=="animationName"||!T._keyframe)&&!Jte(T)){var R=!1,C=b.trim(),B=!1;(i||s)&&a?C.startsWith("@")?R=!0:C=Yte(b,a,c):i&&!a&&(C==="&"||C==="")&&(C="",B=!0);var U=n(T,t,{root:B,injectHash:R,parentSelectors:[].concat(tf(o),[C])}),k=zn(U,2),W=k[0],Y=k[1];m=Kt(Kt({},m),Y),p+="".concat(C).concat(W)}else{let O=function(V,G){var D=V.replace(/[A-Z]/g,function(se){return"-".concat(se.toLowerCase())}),H=G;!wte[V]&&typeof H=="number"&&H!==0&&(H="".concat(H,"px")),V==="animationName"&&G!==null&&G!==void 0&&G._keyframe&&(v(G),H=G.getName(a)),p+="".concat(D,":").concat(H,";")};var J=O,Q,X=(Q=T==null?void 0:T.value)!==null&&Q!==void 0?Q:T;Qn(T)==="object"&&T!==null&&T!==void 0&&T[L5]&&Array.isArray(X)?X.forEach(function(V){O(b,V)}):O(b,X)}})}}),!i)p="{".concat(p,"}");else if(l&&ste()){var g=l.split(","),x=g[g.length-1].trim();p="@layer ".concat(x," {").concat(p,"}"),g.length>1&&(p="@layer ".concat(l,"{%%%:%}").concat(p))}return[p,m]};function Kte(n,e){return l2("".concat(n.join("%")).concat(e))}function Qte(){return null}function Xw(n,e){var t=n.token,r=n.path,i=n.hashId,s=n.layer,o=n.nonce,a=n.clientOnly,l=n.order,c=l===void 0?0:l,u=z.useContext(c2),f=u.autoClear;u.mock;var p=u.defaultCache,m=u.hashPriority,v=u.container,y=u.ssrInline,_=u.transformers,g=u.linters,x=u.cache,S=t._tokenKey,M=[S].concat(tf(r)),w=GL,b=w5("style",M,function(){var U=M.join("|");if(Wte(U)){var k=jte(U),W=zn(k,2),Y=W[0],Q=W[1];if(Y)return[Y,S,Q,{},a,c]}var X=e(),J=$te(X,{hashId:i,hashPriority:m,layer:s,path:r.join("-"),transformers:_,linters:g}),O=zn(J,2),V=O[0],G=O[1],D=HL(V),H=Kte(M,D);return[D,S,H,G,a,c]},function(U,k){var W=zn(U,3),Y=W[2];(k||f)&&GL&&x5(Y,{mark:Eu})},function(U){var k=zn(U,4),W=k[0];k[1];var Y=k[2],Q=k[3];if(w&&W!==I5){var X={mark:Eu,prepend:"queue",attachTo:v,priority:c},J=typeof o=="function"?o():o;J&&(X.csp={nonce:J});var O=jm(W,Y,X);O[vd]=x.instanceId,O.setAttribute(zw,S),Object.keys(Q).forEach(function(V){jm(HL(Q[V]),"_effect-".concat(V),X)})}}),T=zn(b,3),R=T[0],C=T[1],B=T[2];return function(U){var k;if(!y||w||!p)k=z.createElement(Qte,null);else{var W;k=z.createElement("style",lr({},(W={},En(W,zw,C),En(W,Eu,B),W),{dangerouslySetInnerHTML:{__html:R}}))}return z.createElement(z.Fragment,null,k,U)}}function Xf(n){return n.notSplit=!0,n}Xf(["borderTop","borderBottom"]),Xf(["borderTop"]),Xf(["borderBottom"]),Xf(["borderLeft","borderRight"]),Xf(["borderLeft"]),Xf(["borderRight"]);var Zte=z.createContext({});const h2=Zte;function qte(n){return S5(n)||d5(n)||o2(n)||A5()}function Jw(n,e){for(var t=n,r=0;r<e.length;r+=1){if(t==null)return;t=t[e[r]]}return t}function D5(n,e,t,r){if(!e.length)return t;var i=qte(e),s=i[0],o=i.slice(1),a;return!n&&typeof s=="number"?a=[]:Array.isArray(n)?a=tf(n):a=Kt({},n),r&&t===void 0&&o.length===1?delete a[s][o[0]]:a[s]=D5(a[s],o,t,r),a}function sM(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&t===void 0&&!Jw(n,e.slice(0,-1))?n:D5(n,e,t,r)}function ene(n){return Qn(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function VL(n){return Array.isArray(n)?[]:{}}var tne=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function nne(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=VL(e[0]);return e.forEach(function(i){function s(o,a){var l=new Set(a),c=Jw(i,o),u=Array.isArray(c);if(u||ene(c)){if(!l.has(c)){l.add(c);var f=Jw(r,o);u?r=sM(r,o,[]):(!f||Qn(f)!=="object")&&(r=sM(r,o,VL(c))),tne(c).forEach(function(p){s([].concat(tf(o),[p]),l)})}}else r=sM(r,o,c)}s([])}),r}const rne=z.createContext(void 0),ine={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};var sne={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const one={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},O5=one,ane={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},sne),timePickerLocale:Object.assign({},O5)},WL=ane,os="${label} is not a valid ${type}",lne={locale:"en",Pagination:ine,DatePicker:WL,TimePicker:O5,Calendar:WL,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:os,method:os,array:os,object:os,number:os,date:os,boolean:os,integer:os,float:os,regexp:os,email:os,url:os,hex:os},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}},px=lne;Object.assign({},px.Modal);let Gy=[];const jL=()=>Gy.reduce((n,e)=>Object.assign(Object.assign({},n),e),px.Modal);function cne(n){if(n){const e=Object.assign({},n);return Gy.push(e),jL(),()=>{Gy=Gy.filter(t=>t!==e),jL()}}Object.assign({},px.Modal)}const une=z.createContext(void 0),F5=une,fne="internalMark",dne=n=>{const{locale:e={},children:t,_ANT_MARK__:r}=n;z.useEffect(()=>cne(e&&e.Modal),[e]);const i=z.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return z.createElement(F5.Provider,{value:i},t)},hne=dne,pne="5.8.5";function $r(n,e){mne(n)&&(n="100%");var t=gne(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function Zv(n){return Math.min(1,Math.max(0,n))}function mne(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function gne(n){return typeof n=="string"&&n.indexOf("%")!==-1}function U5(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function qv(n){return n<=1?"".concat(Number(n)*100,"%"):n}function mu(n){return n.length===1?"0"+n:String(n)}function vne(n,e,t){return{r:$r(n,255)*255,g:$r(e,255)*255,b:$r(t,255)*255}}function XL(n,e,t){n=$r(n,255),e=$r(e,255),t=$r(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s=0,o=0,a=(r+i)/2;if(r===i)o=0,s=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function oM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function yne(n,e,t){var r,i,s;if(n=$r(n,360),e=$r(e,100),t=$r(t,100),e===0)i=t,s=t,r=t;else{var o=t<.5?t*(1+e):t+e-t*e,a=2*t-o;r=oM(a,o,n+1/3),i=oM(a,o,n),s=oM(a,o,n-1/3)}return{r:r*255,g:i*255,b:s*255}}function Yw(n,e,t){n=$r(n,255),e=$r(e,255),t=$r(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s=0,o=r,a=r-i,l=r===0?0:a/r;if(r===i)s=0;else{switch(r){case n:s=(e-t)/a+(e<t?6:0);break;case e:s=(t-n)/a+2;break;case t:s=(n-e)/a+4;break}s/=6}return{h:s,s:l,v:o}}function _ne(n,e,t){n=$r(n,360)*6,e=$r(e,100),t=$r(t,100);var r=Math.floor(n),i=n-r,s=t*(1-e),o=t*(1-i*e),a=t*(1-(1-i)*e),l=r%6,c=[t,o,s,s,a,t][l],u=[a,t,t,o,s,s][l],f=[s,s,a,t,t,o][l];return{r:c*255,g:u*255,b:f*255}}function $w(n,e,t,r){var i=[mu(Math.round(n).toString(16)),mu(Math.round(e).toString(16)),mu(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function xne(n,e,t,r,i){var s=[mu(Math.round(n).toString(16)),mu(Math.round(e).toString(16)),mu(Math.round(t).toString(16)),mu(Sne(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Sne(n){return Math.round(parseFloat(n)*255).toString(16)}function JL(n){return as(n)/255}function as(n){return parseInt(n,16)}function Ane(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var Kw={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Qf(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,s=null,o=!1,a=!1;return typeof n=="string"&&(n=wne(n)),typeof n=="object"&&(Pa(n.r)&&Pa(n.g)&&Pa(n.b)?(e=vne(n.r,n.g,n.b),o=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Pa(n.h)&&Pa(n.s)&&Pa(n.v)?(r=qv(n.s),i=qv(n.v),e=_ne(n.h,r,i),o=!0,a="hsv"):Pa(n.h)&&Pa(n.s)&&Pa(n.l)&&(r=qv(n.s),s=qv(n.l),e=yne(n.h,r,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=U5(t),{ok:o,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var Mne="[-\\+]?\\d+%?",Ene="[-\\+]?\\d*\\.\\d+%?",Fl="(?:".concat(Ene,")|(?:").concat(Mne,")"),aM="[\\s|\\(]+(".concat(Fl,")[,|\\s]+(").concat(Fl,")[,|\\s]+(").concat(Fl,")\\s*\\)?"),lM="[\\s|\\(]+(".concat(Fl,")[,|\\s]+(").concat(Fl,")[,|\\s]+(").concat(Fl,")[,|\\s]+(").concat(Fl,")\\s*\\)?"),uo={CSS_UNIT:new RegExp(Fl),rgb:new RegExp("rgb"+aM),rgba:new RegExp("rgba"+lM),hsl:new RegExp("hsl"+aM),hsla:new RegExp("hsla"+lM),hsv:new RegExp("hsv"+aM),hsva:new RegExp("hsva"+lM),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function wne(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(Kw[n])n=Kw[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=uo.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=uo.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=uo.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=uo.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=uo.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=uo.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=uo.hex8.exec(n),t?{r:as(t[1]),g:as(t[2]),b:as(t[3]),a:JL(t[4]),format:e?"name":"hex8"}:(t=uo.hex6.exec(n),t?{r:as(t[1]),g:as(t[2]),b:as(t[3]),format:e?"name":"hex"}:(t=uo.hex4.exec(n),t?{r:as(t[1]+t[1]),g:as(t[2]+t[2]),b:as(t[3]+t[3]),a:JL(t[4]+t[4]),format:e?"name":"hex8"}:(t=uo.hex3.exec(n),t?{r:as(t[1]+t[1]),g:as(t[2]+t[2]),b:as(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Pa(n){return!!uo.CSS_UNIT.exec(String(n))}var ds=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var r;if(e instanceof n)return e;typeof e=="number"&&(e=Ane(e)),this.originalInput=e;var i=Qf(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=t.format)!==null&&r!==void 0?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,r,i,s=e.r/255,o=e.g/255,a=e.b/255;return s<=.03928?t=s/12.92:t=Math.pow((s+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*r+.0722*i},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=U5(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=Yw(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=Yw(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=XL(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=XL(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),$w(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),xne(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round($r(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round($r(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+$w(this.r,this.g,this.b,!1),t=0,r=Object.entries(Kw);t<r.length;t++){var i=r[t],s=i[0],o=i[1];if(e===o)return s}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,s=!t&&i&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Zv(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Zv(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Zv(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Zv(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),s=t/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return new n(o)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var r=this.toHsl(),i=360/t,s=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(new n(r));return s},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,s=t.v,o=[],a=1/e;e--;)o.push(new n({h:r,s:i,v:s})),s=(s+a)%1;return o},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],s=360/e,o=1;o<e;o++)i.push(new n({h:(r+o*s)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),ey=2,YL=.16,bne=.05,Tne=.05,Cne=.15,k5=5,N5=4,Rne=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function $L(n){var e=n.r,t=n.g,r=n.b,i=Yw(e,t,r);return{h:i.h*360,s:i.s,v:i.v}}function ty(n){var e=n.r,t=n.g,r=n.b;return"#".concat($w(e,t,r,!1))}function Pne(n,e,t){var r=t/100,i={r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b};return i}function KL(n,e,t){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-ey*e:Math.round(n.h)+ey*e:r=t?Math.round(n.h)+ey*e:Math.round(n.h)-ey*e,r<0?r+=360:r>=360&&(r-=360),r}function QL(n,e,t){if(n.h===0&&n.s===0)return n.s;var r;return t?r=n.s-YL*e:e===N5?r=n.s+YL:r=n.s+bne*e,r>1&&(r=1),t&&e===k5&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function ZL(n,e,t){var r;return t?r=n.v+Tne*e:r=n.v-Cne*e,r>1&&(r=1),Number(r.toFixed(2))}function Wu(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=Qf(n),i=k5;i>0;i-=1){var s=$L(r),o=ty(Qf({h:KL(s,i,!0),s:QL(s,i,!0),v:ZL(s,i,!0)}));t.push(o)}t.push(ty(r));for(var a=1;a<=N5;a+=1){var l=$L(r),c=ty(Qf({h:KL(l,a),s:QL(l,a),v:ZL(l,a)}));t.push(c)}return e.theme==="dark"?Rne.map(function(u){var f=u.index,p=u.opacity,m=ty(Pne(Qf(e.backgroundColor||"#141414"),Qf(t[f]),p*100));return m}):t}var cM={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Hy={},uM={};Object.keys(cM).forEach(function(n){Hy[n]=Wu(cM[n]),Hy[n].primary=Hy[n][5],uM[n]=Wu(cM[n],{theme:"dark",backgroundColor:"#141414"}),uM[n].primary=uM[n][5]});var Ine=Hy.blue;const Bne=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},Lne=Bne;function Dne(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const z5={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},One=Object.assign(Object.assign({},z5),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),mx=One;function Fne(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:s,colorError:o,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:u}=n,f=t(l),p=t(i),m=t(s),v=t(o),y=t(a),_=r(c,u),g=n.colorLink||n.colorInfo,x=t(g);return Object.assign(Object.assign({},_),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:p[1],colorSuccessBgHover:p[2],colorSuccessBorder:p[3],colorSuccessBorderHover:p[4],colorSuccessHover:p[4],colorSuccess:p[6],colorSuccessActive:p[7],colorSuccessTextHover:p[8],colorSuccessText:p[9],colorSuccessTextActive:p[10],colorErrorBg:v[1],colorErrorBgHover:v[2],colorErrorBorder:v[3],colorErrorBorderHover:v[4],colorErrorHover:v[5],colorError:v[6],colorErrorActive:v[7],colorErrorTextHover:v[8],colorErrorText:v[9],colorErrorTextActive:v[10],colorWarningBg:m[1],colorWarningBgHover:m[2],colorWarningBorder:m[3],colorWarningBorderHover:m[4],colorWarningHover:m[4],colorWarning:m[6],colorWarningActive:m[7],colorWarningTextHover:m[8],colorWarningText:m[9],colorWarningTextActive:m[10],colorInfoBg:y[1],colorInfoBgHover:y[2],colorInfoBorder:y[3],colorInfoBorderHover:y[4],colorInfoHover:y[4],colorInfo:y[6],colorInfoActive:y[7],colorInfoTextHover:y[8],colorInfoText:y[9],colorInfoTextActive:y[10],colorLinkHover:x[4],colorLink:x[6],colorLinkActive:x[7],colorBgMask:new ds("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const Une=n=>{let e=n,t=n,r=n,i=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?i=4:n>=8&&(i=6),{borderRadius:n>16?16:n,borderRadiusXS:r,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:i}},kne=Une;function Nne(n){const{motionUnit:e,motionBase:t,borderRadius:r,lineWidth:i}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:i+1},kne(r))}const Ia=(n,e)=>new ds(n).setAlpha(e).toRgbString(),xp=(n,e)=>new ds(n).darken(e).toHexString(),zne=n=>{const e=Wu(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},Gne=(n,e)=>{const t=n||"#fff",r=e||"#000";return{colorBgBase:t,colorTextBase:r,colorText:Ia(r,.88),colorTextSecondary:Ia(r,.65),colorTextTertiary:Ia(r,.45),colorTextQuaternary:Ia(r,.25),colorFill:Ia(r,.15),colorFillSecondary:Ia(r,.06),colorFillTertiary:Ia(r,.04),colorFillQuaternary:Ia(r,.02),colorBgLayout:xp(t,4),colorBgContainer:xp(t,0),colorBgElevated:xp(t,0),colorBgSpotlight:Ia(r,.85),colorBorder:xp(t,15),colorBorderSecondary:xp(t,6)}};function Hne(n){const e=new Array(10).fill(null).map((t,r)=>{const i=r-1,s=n*Math.pow(2.71828,i/5),o=r>1?Math.floor(s):Math.ceil(s);return Math.floor(o/2)*2});return e[1]=n,e.map(t=>{const r=t+8;return{size:t,lineHeight:r/t}})}const Vne=n=>{const e=Hne(n),t=e.map(i=>i.size),r=e.map(i=>i.lineHeight);return{fontSizeSM:t[0],fontSize:t[1],fontSizeLG:t[2],fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}},Wne=Vne;function jne(n){const e=Object.keys(z5).map(t=>{const r=Wu(n[t]);return new Array(10).fill(1).reduce((i,s,o)=>(i[`${t}-${o+1}`]=r[o],i[`${t}${o+1}`]=r[o],i),{})}).reduce((t,r)=>(t=Object.assign(Object.assign({},t),r),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),Fne(n,{generateColorPalettes:zne,generateNeutralColorPalettes:Gne})),Wne(n.fontSize)),Dne(n)),Lne(n)),Nne(n))}const G5=Hw(jne),H5={token:mx,hashed:!0},V5=nn.createContext(H5);function fM(n){return n>=0&&n<=255}function ny(n,e){const{r:t,g:r,b:i,a:s}=new ds(n).toRgb();if(s<1)return n;const{r:o,g:a,b:l}=new ds(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((t-o*(1-c))/c),f=Math.round((r-a*(1-c))/c),p=Math.round((i-l*(1-c))/c);if(fM(u)&&fM(f)&&fM(p))return new ds({r:u,g:f,b:p,a:Math.round(c*100)/100}).toRgbString()}return new ds({r:t,g:r,b:i,a:1}).toRgbString()}var Xne=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function W5(n){const{override:e}=n,t=Xne(n,["override"]),r=Object.assign({},e);Object.keys(mx).forEach(p=>{delete r[p]});const i=Object.assign(Object.assign({},t),r),s=480,o=576,a=768,l=992,c=1200,u=1600;if(i.motion===!1){const p="0s";i.motionDurationFast=p,i.motionDurationMid=p,i.motionDurationSlow=p}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:ny(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:ny(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:ny(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*4,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:ny(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:s,screenXSMin:s,screenXSMax:o-1,screenSM:o,screenSMMin:o,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new ds("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new ds("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new ds("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var qL=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const j5=(n,e,t)=>{const r=t.getDerivativeToken(n),{override:i}=e,s=qL(e,["override"]);let o=Object.assign(Object.assign({},r),{override:i});return o=W5(o),s&&Object.entries(s).forEach(a=>{let[l,c]=a;const{theme:u}=c,f=qL(c,["theme"]);let p=f;u&&(p=j5(Object.assign(Object.assign({},o),f),{override:f},u)),o[l]=p}),o};function Ah(){const{token:n,hashed:e,theme:t,components:r}=nn.useContext(V5),i=`${pne}-${e||""}`,s=t||G5,[o,a]=Ete(s,[mx,n],{salt:i,override:Object.assign({override:n},r),getComputedToken:j5,formatToken:W5});return[s,o,e?a:""]}function Jne(n){var e=z.useRef();e.current=n;var t=z.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(s))},[]);return t}function Vy(n){var e=z.useRef(!1),t=z.useState(n),r=zn(t,2),i=r[0],s=r[1];z.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function o(a,l){l&&e.current||s(a)}return[i,o]}const X5="anticon",Yne=(n,e)=>e||(n?`ant-${n}`:"ant"),Uo=z.createContext({getPrefixCls:Yne,iconPrefixCls:X5}),$ne=n=>({boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:n.fontFamily}),Kne=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Qne=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active,\n  &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),Zne=(n,e)=>{const{fontFamily:t,fontSize:r}=n,i=`[class^="${e}"], [class*=" ${e}"]`;return{[i]:{fontFamily:t,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[i]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},qne=n=>({outline:`${n.lineWidthFocus}px solid ${n.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),ere=n=>({"&:focus-visible":Object.assign({},qne(n))}),J5=typeof CSSINJS_STATISTIC<"u";let Qw=!0;function ju(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!J5)return Object.assign.apply(Object,[{}].concat(e));Qw=!1;const r={};return e.forEach(i=>{Object.keys(i).forEach(o=>{Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:()=>i[o]})})}),Qw=!0,r}const eD={};function tre(){}function nre(n){let e,t=n,r=tre;return J5&&(e=new Set,t=new Proxy(n,{get(i,s){return Qw&&e.add(s),i[s]}}),r=(i,s)=>{var o;eD[i]={global:Array.from(e),component:Object.assign(Object.assign({},(o=eD[i])===null||o===void 0?void 0:o.component),s)}}),{token:t,keys:e,flush:r}}const rre=(n,e)=>{const[t,r]=Ah();return Xw({theme:t,token:r,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce},()=>[{[`.${n}`]:Object.assign(Object.assign({},Kne()),{[`.${n} .${n}-icon`]:{display:"block"}})}])},Y5=rre;function Ng(n,e,t,r){const i=Array.isArray(n)?n:[n,n],[s]=i,o=i.join("-");return a=>{const[l,c,u]=Ah(),{getPrefixCls:f,iconPrefixCls:p,csp:m}=z.useContext(Uo),v=f(),y={theme:l,token:c,hashId:u,nonce:()=>m==null?void 0:m.nonce,clientOnly:r==null?void 0:r.clientOnly,order:-999};return Xw(Object.assign(Object.assign({},y),{clientOnly:!1,path:["Shared",v]}),()=>[{"&":Qne(c)}]),Y5(p),[Xw(Object.assign(Object.assign({},y),{path:[o,a,p]}),()=>{const{token:_,flush:g}=nre(c),x=Object.assign({},c[s]);if(r!=null&&r.deprecatedTokens){const{deprecatedTokens:R}=r;R.forEach(C=>{let[B,U]=C;var k;(x!=null&&x[B]||x!=null&&x[U])&&((k=x[U])!==null&&k!==void 0||(x[U]=x==null?void 0:x[B]))})}const S=typeof t=="function"?t(ju(_,x??{})):t,M=Object.assign(Object.assign({},S),x),w=`.${a}`,b=ju(_,{componentCls:w,prefixCls:a,iconCls:`.${p}`,antCls:`.${v}`},M),T=e(b,{hashId:u,prefixCls:a,rootPrefixCls:v,iconPrefixCls:p,overrideComponentToken:x});return g(s,M),[(r==null?void 0:r.resetStyle)===!1?null:Zne(c,a),T]}),u]}}const ire=`-ant-${Date.now()}-${Math.random()}`;function sre(n,e){const t={},r=(o,a)=>{let l=o.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},i=(o,a)=>{const l=new ds(o),c=Wu(l.toRgbString());t[`${a}-color`]=r(l),t[`${a}-color-disabled`]=c[1],t[`${a}-color-hover`]=c[4],t[`${a}-color-active`]=c[6],t[`${a}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),t[`${a}-color-deprecated-bg`]=c[0],t[`${a}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const o=new ds(e.primaryColor),a=Wu(o.toRgbString());a.forEach((c,u)=>{t[`primary-${u+1}`]=c}),t["primary-color-deprecated-l-35"]=r(o,c=>c.lighten(35)),t["primary-color-deprecated-l-20"]=r(o,c=>c.lighten(20)),t["primary-color-deprecated-t-20"]=r(o,c=>c.tint(20)),t["primary-color-deprecated-t-50"]=r(o,c=>c.tint(50)),t["primary-color-deprecated-f-12"]=r(o,c=>c.setAlpha(c.getAlpha()*.12));const l=new ds(a[0]);t["primary-color-active-deprecated-f-30"]=r(l,c=>c.setAlpha(c.getAlpha()*.3)),t["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(o=>`--${n}-${o}: ${t[o]};`).join(`
`)}
  }
  `.trim()}function ore(n,e){const t=sre(n,e);Fo()&&jm(t,`${ire}-dynamic-theme`)}const Zw=z.createContext(!1),are=n=>{let{children:e,disabled:t}=n;const r=z.useContext(Zw);return z.createElement(Zw.Provider,{value:t??r},e)},$5=Zw,qw=z.createContext(void 0),lre=n=>{let{children:e,size:t}=n;const r=z.useContext(qw);return z.createElement(qw.Provider,{value:t||r},e)},gx=qw;function cre(){const n=z.useContext($5),e=z.useContext(gx);return{componentDisabled:n,componentSize:e}}function ure(n,e){const t=n||{},r=t.inherit===!1||!e?H5:e;return l5(()=>{if(!n)return e;const i=Object.assign({},r.components);return Object.keys(n.components||{}).forEach(s=>{i[s]=Object.assign(Object.assign({},i[s]),n.components[s])}),Object.assign(Object.assign(Object.assign({},r),t),{token:Object.assign(Object.assign({},r.token),t.token),components:i})},[t,r],(i,s)=>i.some((o,a)=>{const l=s[a];return!Jee(o,l,!0)}))}var fre=["children"],K5=z.createContext({});function dre(n){var e=n.children,t=Wm(n,fre);return z.createElement(K5.Provider,{value:t},e)}var hre=function(n){n5(t,n);var e=r5(t);function t(){return Fg(this,t),e.apply(this,arguments)}return Ug(t,[{key:"render",value:function(){return this.props.children}}]),t}(z.Component),qc="none",ry="appear",iy="enter",sy="leave",tD="none",mo="prepare",yd="start",_d="active",p2="end",Q5="prepared";function nD(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function pre(n,e){var t={animationend:nD("Animation","AnimationEnd"),transitionend:nD("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var mre=pre(Fo(),typeof window<"u"?window:{}),Z5={};if(Fo()){var gre=document.createElement("div");Z5=gre.style}var oy={};function q5(n){if(oy[n])return oy[n];var e=mre[n];if(e)for(var t=Object.keys(e),r=t.length,i=0;i<r;i+=1){var s=t[i];if(Object.prototype.hasOwnProperty.call(e,s)&&s in Z5)return oy[n]=e[s],oy[n]}return""}var ez=q5("animationend"),tz=q5("transitionend"),nz=!!(ez&&tz),rD=ez||"animationend",iD=tz||"transitionend";function sD(n,e){if(!n)return null;if(Qn(n)==="object"){var t=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}const vre=function(n){var e=z.useRef(),t=z.useRef(n);t.current=n;var r=z.useCallback(function(o){t.current(o)},[]);function i(o){o&&(o.removeEventListener(iD,r),o.removeEventListener(rD,r))}function s(o){e.current&&e.current!==o&&i(e.current),o&&o!==e.current&&(o.addEventListener(iD,r),o.addEventListener(rD,r),e.current=o)}return z.useEffect(function(){return function(){i(e.current)}},[]),[s,i]};var rz=Fo()?z.useLayoutEffect:z.useEffect;const yre=function(){var n=z.useRef(null);function e(){Vu.cancel(n.current)}function t(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var s=Vu(function(){i<=1?r({isCanceled:function(){return s!==n.current}}):t(r,i-1)});n.current=s}return z.useEffect(function(){return function(){e()}},[]),[t,e]};var _re=[mo,yd,_d,p2],xre=[mo,Q5],iz=!1,Sre=!0;function sz(n){return n===_d||n===p2}const Are=function(n,e,t){var r=Vy(tD),i=zn(r,2),s=i[0],o=i[1],a=yre(),l=zn(a,2),c=l[0],u=l[1];function f(){o(mo,!0)}var p=e?xre:_re;return rz(function(){if(s!==tD&&s!==p2){var m=p.indexOf(s),v=p[m+1],y=t(s);y===iz?o(v,!0):v&&c(function(_){function g(){_.isCanceled()||o(v,!0)}y===!0?g():Promise.resolve(y).then(g)})}},[n,s]),z.useEffect(function(){return function(){u()}},[]),[f,s]};function Mre(n,e,t,r){var i=r.motionEnter,s=i===void 0?!0:i,o=r.motionAppear,a=o===void 0?!0:o,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,f=r.motionLeaveImmediately,p=r.onAppearPrepare,m=r.onEnterPrepare,v=r.onLeavePrepare,y=r.onAppearStart,_=r.onEnterStart,g=r.onLeaveStart,x=r.onAppearActive,S=r.onEnterActive,M=r.onLeaveActive,w=r.onAppearEnd,b=r.onEnterEnd,T=r.onLeaveEnd,R=r.onVisibleChanged,C=Vy(),B=zn(C,2),U=B[0],k=B[1],W=Vy(qc),Y=zn(W,2),Q=Y[0],X=Y[1],J=Vy(null),O=zn(J,2),V=O[0],G=O[1],D=z.useRef(!1),H=z.useRef(null);function se(){return t()}var le=z.useRef(!1);function ae(){X(qc,!0),G(null,!0)}function ue(Le){var Be=se();if(!(Le&&!Le.deadline&&Le.target!==Be)){var ve=le.current,Ye;Q===ry&&ve?Ye=w==null?void 0:w(Be,Le):Q===iy&&ve?Ye=b==null?void 0:b(Be,Le):Q===sy&&ve&&(Ye=T==null?void 0:T(Be,Le)),Q!==qc&&ve&&Ye!==!1&&ae()}}var fe=vre(ue),ye=zn(fe,1),We=ye[0],Je=function(Be){var ve,Ye,$;switch(Be){case ry:return ve={},En(ve,mo,p),En(ve,yd,y),En(ve,_d,x),ve;case iy:return Ye={},En(Ye,mo,m),En(Ye,yd,_),En(Ye,_d,S),Ye;case sy:return $={},En($,mo,v),En($,yd,g),En($,_d,M),$;default:return{}}},xe=z.useMemo(function(){return Je(Q)},[Q]),K=Are(Q,!n,function(Le){if(Le===mo){var Be=xe[mo];return Be?Be(se()):iz}if(Ee in xe){var ve;G(((ve=xe[Ee])===null||ve===void 0?void 0:ve.call(xe,se(),null))||null)}return Ee===_d&&(We(se()),u>0&&(clearTimeout(H.current),H.current=setTimeout(function(){ue({deadline:!0})},u))),Ee===Q5&&ae(),Sre}),Te=zn(K,2),Ae=Te[0],Ee=Te[1],we=sz(Ee);le.current=we,rz(function(){k(e);var Le=D.current;D.current=!0;var Be;!Le&&e&&a&&(Be=ry),Le&&e&&s&&(Be=iy),(Le&&!e&&c||!Le&&f&&!e&&c)&&(Be=sy);var ve=Je(Be);Be&&(n||ve[mo])?(X(Be),Ae()):X(qc)},[e]),z.useEffect(function(){(Q===ry&&!a||Q===iy&&!s||Q===sy&&!c)&&X(qc)},[a,s,c]),z.useEffect(function(){return function(){D.current=!1,clearTimeout(H.current)}},[]);var Xe=z.useRef(!1);z.useEffect(function(){U&&(Xe.current=!0),U!==void 0&&Q===qc&&((Xe.current||U)&&(R==null||R(U)),Xe.current=!0)},[U,Q]);var Me=V;return xe[mo]&&Ee===yd&&(Me=Kt({transition:"none"},Me)),[Q,Ee,Me,U??e]}function Ere(n){var e=n;Qn(n)==="object"&&(e=n.transitionSupport);function t(i,s){return!!(i.motionName&&e&&s!==!1)}var r=z.forwardRef(function(i,s){var o=i.visible,a=o===void 0?!0:o,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,f=i.children,p=i.motionName,m=i.leavedClassName,v=i.eventProps,y=z.useContext(K5),_=y.motion,g=t(i,_),x=z.useRef(),S=z.useRef();function M(){try{return x.current instanceof HTMLElement?x.current:Hee(S.current)}catch{return null}}var w=Mre(g,a,M,i),b=zn(w,4),T=b[0],R=b[1],C=b[2],B=b[3],U=z.useRef(B);B&&(U.current=!0);var k=z.useCallback(function(G){x.current=G,c5(s,G)},[s]),W,Y=Kt(Kt({},v),{},{visible:a});if(!f)W=null;else if(T===qc)B?W=f(Kt({},Y),k):!c&&U.current&&m?W=f(Kt(Kt({},Y),{},{className:m}),k):u||!c&&!m?W=f(Kt(Kt({},Y),{},{style:{display:"none"}}),k):W=null;else{var Q,X;R===mo?X="prepare":sz(R)?X="active":R===yd&&(X="start");var J=sD(p,"".concat(T,"-").concat(X));W=f(Kt(Kt({},Y),{},{className:ji(sD(p,T),(Q={},En(Q,J,J&&X),En(Q,p,typeof p=="string"),Q)),style:C}),k)}if(z.isValidElement(W)&&f5(W)){var O=W,V=O.ref;V||(W=z.cloneElement(W,{ref:k}))}return z.createElement(hre,{ref:S},W)});return r.displayName="CSSMotion",r}const m2=Ere(nz);var eb="add",tb="keep",nb="remove",dM="removed";function wre(n){var e;return n&&Qn(n)==="object"&&"key"in n?e=n:e={key:n},Kt(Kt({},e),{},{key:String(e.key)})}function rb(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(wre)}function bre(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],r=0,i=e.length,s=rb(n),o=rb(e);s.forEach(function(c){for(var u=!1,f=r;f<i;f+=1){var p=o[f];if(p.key===c.key){r<f&&(t=t.concat(o.slice(r,f).map(function(m){return Kt(Kt({},m),{},{status:eb})})),r=f),t.push(Kt(Kt({},p),{},{status:tb})),r+=1,u=!0;break}}u||t.push(Kt(Kt({},c),{},{status:nb}))}),r<i&&(t=t.concat(o.slice(r).map(function(c){return Kt(Kt({},c),{},{status:eb})})));var a={};t.forEach(function(c){var u=c.key;a[u]=(a[u]||0)+1});var l=Object.keys(a).filter(function(c){return a[c]>1});return l.forEach(function(c){t=t.filter(function(u){var f=u.key,p=u.status;return f!==c||p!==nb}),t.forEach(function(u){u.key===c&&(u.status=tb)})}),t}var Tre=["component","children","onVisibleChanged","onAllRemoved"],Cre=["status"],Rre=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Pre(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m2,t=function(r){n5(s,r);var i=r5(s);function s(){var o;Fg(this,s);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return o=i.call.apply(i,[this].concat(l)),En(Uw(o),"state",{keyEntities:[]}),En(Uw(o),"removeKey",function(u){var f=o.state.keyEntities,p=f.map(function(m){return m.key!==u?m:Kt(Kt({},m),{},{status:dM})});return o.setState({keyEntities:p}),p.filter(function(m){var v=m.status;return v!==dM}).length}),o}return Ug(s,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,c=this.props,u=c.component,f=c.children,p=c.onVisibleChanged,m=c.onAllRemoved,v=Wm(c,Tre),y=u||z.Fragment,_={};return Rre.forEach(function(g){_[g]=v[g],delete v[g]}),delete v.keys,z.createElement(y,v,l.map(function(g){var x=g.status,S=Wm(g,Cre),M=x===eb||x===tb;return z.createElement(e,lr({},_,{key:S.key,visible:M,eventProps:S,onVisibleChanged:function(b){if(p==null||p(b,{key:S.key}),!b){var T=a.removeKey(S.key);T===0&&m&&m()}}}),f)}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.keys,u=l.keyEntities,f=rb(c),p=bre(u,f);return{keyEntities:p.filter(function(m){var v=u.find(function(y){var _=y.key;return m.key===_});return!(v&&v.status===dM&&m.status===nb)})}}}]),s}(z.Component);return En(t,"defaultProps",{component:"div"}),t}Pre(nz);function Ire(n){const{children:e}=n,[,t]=Ah(),{motion:r}=t,i=z.useRef(!1);return i.current=i.current||r===!1,i.current?z.createElement(dre,{motion:r},e):e}var Bre=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Lre=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"],Dre="ant";let oz;function Ore(){return oz||Dre}function Fre(n){return Object.keys(n).some(e=>e.endsWith("Color"))}const Ure=n=>{let{prefixCls:e,iconPrefixCls:t,theme:r}=n;e!==void 0&&(oz=e),r&&Fre(r)&&ore(Ore(),r)},kre=n=>{const{children:e,csp:t,autoInsertSpaceInButton:r,alert:i,anchor:s,form:o,locale:a,componentSize:l,direction:c,space:u,virtual:f,dropdownMatchSelectWidth:p,popupMatchSelectWidth:m,popupOverflow:v,legacyLocale:y,parentContext:_,iconPrefixCls:g,theme:x,componentDisabled:S,segmented:M,statistic:w,spin:b,calendar:T,carousel:R,cascader:C,collapse:B,typography:U,checkbox:k,descriptions:W,divider:Y,drawer:Q,skeleton:X,steps:J,image:O,layout:V,list:G,mentions:D,modal:H,progress:se,result:le,slider:ae,breadcrumb:ue,menu:fe,pagination:ye,input:We,empty:Je,badge:xe,radio:K,rate:Te,switch:Ae,transfer:Ee,avatar:we,message:Xe,tag:Me,table:Le,card:Be,tabs:ve,timeline:Ye,timePicker:$,upload:N,notification:ce,tree:Ge,colorPicker:De,datePicker:Oe,wave:Ke}=n,je=z.useCallback((Qe,mt)=>{const{prefixCls:Et}=n;if(mt)return mt;const Tt=Et||_.getPrefixCls("");return Qe?`${Tt}-${Qe}`:Tt},[_.getPrefixCls,n.prefixCls]),ge=g||_.iconPrefixCls||X5,re=ge!==_.iconPrefixCls,_e=t||_.csp,be=Y5(ge,_e),Re=ure(x,_.theme),Ne={csp:_e,autoInsertSpaceInButton:r,alert:i,anchor:s,locale:a||y,direction:c,space:u,virtual:f,popupMatchSelectWidth:m??p,popupOverflow:v,getPrefixCls:je,iconPrefixCls:ge,theme:Re,segmented:M,statistic:w,spin:b,calendar:T,carousel:R,cascader:C,collapse:B,typography:U,checkbox:k,descriptions:W,divider:Y,drawer:Q,skeleton:X,steps:J,image:O,input:We,layout:V,list:G,mentions:D,modal:H,progress:se,result:le,slider:ae,breadcrumb:ue,menu:fe,pagination:ye,empty:Je,badge:xe,radio:K,rate:Te,switch:Ae,transfer:Ee,avatar:we,message:Xe,tag:Me,table:Le,card:Be,tabs:ve,timeline:Ye,timePicker:$,upload:N,notification:ce,tree:Ge,colorPicker:De,datePicker:Oe,wave:Ke},Ze=Object.assign({},_);Object.keys(Ne).forEach(Qe=>{Ne[Qe]!==void 0&&(Ze[Qe]=Ne[Qe])}),Lre.forEach(Qe=>{const mt=n[Qe];mt&&(Ze[Qe]=mt)});const it=l5(()=>Ze,Ze,(Qe,mt)=>{const Et=Object.keys(Qe),Tt=Object.keys(mt);return Et.length!==Tt.length||Et.some(Vt=>Qe[Vt]!==mt[Vt])}),oe=z.useMemo(()=>({prefixCls:ge,csp:_e}),[ge,_e]);let pe=re?be(e):e;const Se=z.useMemo(()=>{var Qe,mt,Et,Tt;return nne(((Qe=px.Form)===null||Qe===void 0?void 0:Qe.defaultValidateMessages)||{},((Et=(mt=it.locale)===null||mt===void 0?void 0:mt.Form)===null||Et===void 0?void 0:Et.defaultValidateMessages)||{},((Tt=it.form)===null||Tt===void 0?void 0:Tt.validateMessages)||{},(o==null?void 0:o.validateMessages)||{})},[it,o==null?void 0:o.validateMessages]);Object.keys(Se).length>0&&(pe=z.createElement(rne.Provider,{value:Se},e)),a&&(pe=z.createElement(hne,{locale:a,_ANT_MARK__:fne},pe)),(ge||_e)&&(pe=z.createElement(h2.Provider,{value:oe},pe)),l&&(pe=z.createElement(lre,{size:l},pe)),pe=z.createElement(Ire,null,pe);const $e=z.useMemo(()=>{const Qe=Re||{},{algorithm:mt,token:Et,components:Tt}=Qe,Vt=Bre(Qe,["algorithm","token","components"]),Yt=mt&&(!Array.isArray(mt)||mt.length>0)?Hw(mt):G5,Xt={};return Object.entries(Tt||{}).forEach(Dt=>{let[vr,Zn]=Dt;const It=Object.assign({},Zn);"algorithm"in It&&(It.algorithm===!0?It.theme=Yt:(Array.isArray(It.algorithm)||typeof It.algorithm=="function")&&(It.theme=Hw(It.algorithm)),delete It.algorithm),Xt[vr]=It}),Object.assign(Object.assign({},Vt),{theme:Yt,token:Object.assign(Object.assign({},mx),Et),components:Xt})},[Re]);return x&&(pe=z.createElement(V5.Provider,{value:$e},pe)),S!==void 0&&(pe=z.createElement(are,{disabled:S},pe)),z.createElement(Uo.Provider,{value:it},pe)},zg=n=>{const e=z.useContext(Uo),t=z.useContext(F5);return z.createElement(kre,Object.assign({parentContext:e,legacyLocale:t},n))};zg.ConfigContext=Uo;zg.SizeContext=gx;zg.config=Ure;zg.useConfig=cre;Object.defineProperty(zg,"SizeContext",{get:()=>gx});var Nre=1/0,zre="[object Symbol]",Gre=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hre=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vx="\\ud800-\\udfff",az="\\u0300-\\u036f\\ufe20-\\ufe23",lz="\\u20d0-\\u20f0",cz="\\u2700-\\u27bf",uz="a-z\\xdf-\\xf6\\xf8-\\xff",Vre="\\xac\\xb1\\xd7\\xf7",Wre="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",jre="\\u2000-\\u206f",Xre=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fz="A-Z\\xc0-\\xd6\\xd8-\\xde",dz="\\ufe0e\\ufe0f",hz=Vre+Wre+jre+Xre,g2="[']",Jre="["+vx+"]",oD="["+hz+"]",D1="["+az+lz+"]",pz="\\d+",Yre="["+cz+"]",mz="["+uz+"]",gz="[^"+vx+hz+pz+cz+uz+fz+"]",ib="\\ud83c[\\udffb-\\udfff]",$re="(?:"+D1+"|"+ib+")",vz="[^"+vx+"]",v2="(?:\\ud83c[\\udde6-\\uddff]){2}",y2="[\\ud800-\\udbff][\\udc00-\\udfff]",Zf="["+fz+"]",yz="\\u200d",aD="(?:"+mz+"|"+gz+")",Kre="(?:"+Zf+"|"+gz+")",lD="(?:"+g2+"(?:d|ll|m|re|s|t|ve))?",cD="(?:"+g2+"(?:D|LL|M|RE|S|T|VE))?",_z=$re+"?",xz="["+dz+"]?",Qre="(?:"+yz+"(?:"+[vz,v2,y2].join("|")+")"+xz+_z+")*",Sz=xz+_z+Qre,Zre="(?:"+[Yre,v2,y2].join("|")+")"+Sz,qre="(?:"+[vz+D1+"?",D1,v2,y2,Jre].join("|")+")",eie=RegExp(g2,"g"),tie=RegExp(D1,"g"),nie=RegExp(ib+"(?="+ib+")|"+qre+Sz,"g"),rie=RegExp([Zf+"?"+mz+"+"+lD+"(?="+[oD,Zf,"$"].join("|")+")",Kre+"+"+cD+"(?="+[oD,Zf+aD,"$"].join("|")+")",Zf+"?"+aD+"+"+lD,Zf+"+"+cD,pz,Zre].join("|"),"g"),iie=RegExp("["+yz+vx+az+lz+dz+"]"),sie=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oie={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},aie=typeof F0=="object"&&F0&&F0.Object===Object&&F0,lie=typeof self=="object"&&self&&self.Object===Object&&self,cie=aie||lie||Function("return this")();function uie(n,e,t,r){var i=-1,s=n?n.length:0;for(r&&s&&(t=n[++i]);++i<s;)t=e(t,n[i],i,n);return t}function fie(n){return n.split("")}function die(n){return n.match(Gre)||[]}function hie(n){return function(e){return n==null?void 0:n[e]}}var pie=hie(oie);function Az(n){return iie.test(n)}function mie(n){return sie.test(n)}function gie(n){return Az(n)?vie(n):fie(n)}function vie(n){return n.match(nie)||[]}function yie(n){return n.match(rie)||[]}var _ie=Object.prototype,xie=_ie.toString,uD=cie.Symbol,fD=uD?uD.prototype:void 0,dD=fD?fD.toString:void 0;function Sie(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}function Aie(n){if(typeof n=="string")return n;if(Tie(n))return dD?dD.call(n):"";var e=n+"";return e=="0"&&1/n==-Nre?"-0":e}function Mie(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:Sie(n,e,t)}function Eie(n){return function(e){e=yx(e);var t=Az(e)?gie(e):void 0,r=t?t[0]:e.charAt(0),i=t?Mie(t,1).join(""):e.slice(1);return r[n]()+i}}function wie(n){return function(e){return uie(Bie(Pie(e).replace(eie,"")),n,"")}}function bie(n){return!!n&&typeof n=="object"}function Tie(n){return typeof n=="symbol"||bie(n)&&xie.call(n)==zre}function yx(n){return n==null?"":Aie(n)}var Cie=wie(function(n,e,t){return e=e.toLowerCase(),n+(t?Rie(e):e)});function Rie(n){return Iie(yx(n).toLowerCase())}function Pie(n){return n=yx(n),n&&n.replace(Hre,pie).replace(tie,"")}var Iie=Eie("toUpperCase");function Bie(n,e,t){return n=yx(n),e=t?void 0:e,e===void 0?mie(n)?yie(n):die(n):n.match(e)||[]}var Lie=Cie;const Die=uh(Lie);function Mz(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function Oie(n){return Mz(n)instanceof ShadowRoot}function Fie(n){return Oie(n)?Mz(n):null}function Uie(n,e){kg(n,"[@ant-design/icons] ".concat(e))}function hD(n){return Qn(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(Qn(n.icon)==="object"||typeof n.icon=="function")}function pD(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var r=n[t];switch(t){case"class":e.className=r,delete e.class;break;default:delete e[t],e[Die(t)]=r}return e},{})}function sb(n,e,t){return t?nn.createElement(n.tag,Kt(Kt({key:e},pD(n.attrs)),t),(n.children||[]).map(function(r,i){return sb(r,"".concat(e,"-").concat(n.tag,"-").concat(i))})):nn.createElement(n.tag,Kt({key:e},pD(n.attrs)),(n.children||[]).map(function(r,i){return sb(r,"".concat(e,"-").concat(n.tag,"-").concat(i))}))}function Ez(n){return Wu(n)[0]}function wz(n){return n?Array.isArray(n)?n:[n]:[]}var kie=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Nie=function(e){var t=z.useContext(h2),r=t.csp,i=t.prefixCls,s=kie;i&&(s=s.replace(/anticon/g,i)),z.useEffect(function(){var o=e.current,a=Fie(o);jm(s,"@ant-design-icons",{prepend:!0,csp:r,attachTo:a})},[])},zie=["icon","className","onClick","style","primaryColor","secondaryColor"],nm={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Gie(n){var e=n.primaryColor,t=n.secondaryColor;nm.primaryColor=e,nm.secondaryColor=t||Ez(e),nm.calculated=!!t}function Hie(){return Kt({},nm)}var _x=function(e){var t=e.icon,r=e.className,i=e.onClick,s=e.style,o=e.primaryColor,a=e.secondaryColor,l=Wm(e,zie),c=z.useRef(),u=nm;if(o&&(u={primaryColor:o,secondaryColor:a||Ez(o)}),Nie(c),Uie(hD(t),"icon should be icon definiton, but got ".concat(t)),!hD(t))return null;var f=t;return f&&typeof f.icon=="function"&&(f=Kt(Kt({},f),{},{icon:f.icon(u.primaryColor,u.secondaryColor)})),sb(f.icon,"svg-".concat(f.name),Kt(Kt({className:r,onClick:i,style:s,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};_x.displayName="IconReact";_x.getTwoToneColors=Hie;_x.setTwoToneColors=Gie;const _2=_x;function bz(n){var e=wz(n),t=zn(e,2),r=t[0],i=t[1];return _2.setTwoToneColors({primaryColor:r,secondaryColor:i})}function Vie(){var n=_2.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var Wie=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];bz(Ine.primary);var xx=z.forwardRef(function(n,e){var t,r=n.className,i=n.icon,s=n.spin,o=n.rotate,a=n.tabIndex,l=n.onClick,c=n.twoToneColor,u=Wm(n,Wie),f=z.useContext(h2),p=f.prefixCls,m=p===void 0?"anticon":p,v=f.rootClassName,y=ji(v,m,(t={},En(t,"".concat(m,"-").concat(i.name),!!i.name),En(t,"".concat(m,"-spin"),!!s||i.name==="loading"),t),r),_=a;_===void 0&&l&&(_=-1);var g=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,x=wz(c),S=zn(x,2),M=S[0],w=S[1];return z.createElement("span",lr({role:"img","aria-label":i.name},u,{ref:e,tabIndex:_,onClick:l,className:y}),z.createElement(_2,{icon:i,primaryColor:M,secondaryColor:w,style:g}))});xx.displayName="AntdIcon";xx.getTwoToneColor=Vie;xx.setTwoToneColor=bz;const rl=xx,{isValidElement:Tz}=zb;function jie(n){return n&&Tz(n)&&n.type===z.Fragment}function Xie(n,e,t){return Tz(n)?z.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e}function Cz(n,e){return Xie(n,n,e)}var Jie={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const Yie=Jie;var $ie=function(e,t){return z.createElement(rl,lr({},e,{ref:t,icon:Yie}))};const Kie=z.forwardRef($ie);function Ym(){Ym=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(X,J,O){X[J]=O.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(X,J,O){return Object.defineProperty(X,J,{value:O,enumerable:!0,configurable:!0,writable:!0}),X[J]}try{c({},"")}catch{c=function(O,V,G){return O[V]=G}}function u(X,J,O,V){var G=J&&J.prototype instanceof g?J:g,D=Object.create(G.prototype),H=new Y(V||[]);return i(D,"_invoke",{value:B(X,O,H)}),D}function f(X,J,O){try{return{type:"normal",arg:X.call(J,O)}}catch(V){return{type:"throw",arg:V}}}e.wrap=u;var p="suspendedStart",m="suspendedYield",v="executing",y="completed",_={};function g(){}function x(){}function S(){}var M={};c(M,o,function(){return this});var w=Object.getPrototypeOf,b=w&&w(w(Q([])));b&&b!==t&&r.call(b,o)&&(M=b);var T=S.prototype=g.prototype=Object.create(M);function R(X){["next","throw","return"].forEach(function(J){c(X,J,function(O){return this._invoke(J,O)})})}function C(X,J){function O(G,D,H,se){var le=f(X[G],X,D);if(le.type!=="throw"){var ae=le.arg,ue=ae.value;return ue&&Qn(ue)=="object"&&r.call(ue,"__await")?J.resolve(ue.__await).then(function(fe){O("next",fe,H,se)},function(fe){O("throw",fe,H,se)}):J.resolve(ue).then(function(fe){ae.value=fe,H(ae)},function(fe){return O("throw",fe,H,se)})}se(le.arg)}var V;i(this,"_invoke",{value:function(D,H){function se(){return new J(function(le,ae){O(D,H,le,ae)})}return V=V?V.then(se,se):se()}})}function B(X,J,O){var V=p;return function(G,D){if(V===v)throw new Error("Generator is already running");if(V===y){if(G==="throw")throw D;return{value:n,done:!0}}for(O.method=G,O.arg=D;;){var H=O.delegate;if(H){var se=U(H,O);if(se){if(se===_)continue;return se}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(V===p)throw V=y,O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);V=v;var le=f(X,J,O);if(le.type==="normal"){if(V=O.done?y:m,le.arg===_)continue;return{value:le.arg,done:O.done}}le.type==="throw"&&(V=y,O.method="throw",O.arg=le.arg)}}}function U(X,J){var O=J.method,V=X.iterator[O];if(V===n)return J.delegate=null,O==="throw"&&X.iterator.return&&(J.method="return",J.arg=n,U(X,J),J.method==="throw")||O!=="return"&&(J.method="throw",J.arg=new TypeError("The iterator does not provide a '"+O+"' method")),_;var G=f(V,X.iterator,J.arg);if(G.type==="throw")return J.method="throw",J.arg=G.arg,J.delegate=null,_;var D=G.arg;return D?D.done?(J[X.resultName]=D.value,J.next=X.nextLoc,J.method!=="return"&&(J.method="next",J.arg=n),J.delegate=null,_):D:(J.method="throw",J.arg=new TypeError("iterator result is not an object"),J.delegate=null,_)}function k(X){var J={tryLoc:X[0]};1 in X&&(J.catchLoc=X[1]),2 in X&&(J.finallyLoc=X[2],J.afterLoc=X[3]),this.tryEntries.push(J)}function W(X){var J=X.completion||{};J.type="normal",delete J.arg,X.completion=J}function Y(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(k,this),this.reset(!0)}function Q(X){if(X||X===""){var J=X[o];if(J)return J.call(X);if(typeof X.next=="function")return X;if(!isNaN(X.length)){var O=-1,V=function G(){for(;++O<X.length;)if(r.call(X,O))return G.value=X[O],G.done=!1,G;return G.value=n,G.done=!0,G};return V.next=V}}throw new TypeError(Qn(X)+" is not iterable")}return x.prototype=S,i(T,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:x,configurable:!0}),x.displayName=c(S,l,"GeneratorFunction"),e.isGeneratorFunction=function(X){var J=typeof X=="function"&&X.constructor;return!!J&&(J===x||(J.displayName||J.name)==="GeneratorFunction")},e.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,S):(X.__proto__=S,c(X,l,"GeneratorFunction")),X.prototype=Object.create(T),X},e.awrap=function(X){return{__await:X}},R(C.prototype),c(C.prototype,a,function(){return this}),e.AsyncIterator=C,e.async=function(X,J,O,V,G){G===void 0&&(G=Promise);var D=new C(u(X,J,O,V),G);return e.isGeneratorFunction(J)?D:D.next().then(function(H){return H.done?H.value:D.next()})},R(T),c(T,l,"Generator"),c(T,o,function(){return this}),c(T,"toString",function(){return"[object Generator]"}),e.keys=function(X){var J=Object(X),O=[];for(var V in J)O.push(V);return O.reverse(),function G(){for(;O.length;){var D=O.pop();if(D in J)return G.value=D,G.done=!1,G}return G.done=!0,G}},e.values=Q,Y.prototype={constructor:Y,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(W),!J)for(var O in this)O.charAt(0)==="t"&&r.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=n)},stop:function(){this.done=!0;var J=this.tryEntries[0].completion;if(J.type==="throw")throw J.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var O=this;function V(ae,ue){return H.type="throw",H.arg=J,O.next=ae,ue&&(O.method="next",O.arg=n),!!ue}for(var G=this.tryEntries.length-1;G>=0;--G){var D=this.tryEntries[G],H=D.completion;if(D.tryLoc==="root")return V("end");if(D.tryLoc<=this.prev){var se=r.call(D,"catchLoc"),le=r.call(D,"finallyLoc");if(se&&le){if(this.prev<D.catchLoc)return V(D.catchLoc,!0);if(this.prev<D.finallyLoc)return V(D.finallyLoc)}else if(se){if(this.prev<D.catchLoc)return V(D.catchLoc,!0)}else{if(!le)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return V(D.finallyLoc)}}}},abrupt:function(J,O){for(var V=this.tryEntries.length-1;V>=0;--V){var G=this.tryEntries[V];if(G.tryLoc<=this.prev&&r.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var D=G;break}}D&&(J==="break"||J==="continue")&&D.tryLoc<=O&&O<=D.finallyLoc&&(D=null);var H=D?D.completion:{};return H.type=J,H.arg=O,D?(this.method="next",this.next=D.finallyLoc,_):this.complete(H)},complete:function(J,O){if(J.type==="throw")throw J.arg;return J.type==="break"||J.type==="continue"?this.next=J.arg:J.type==="return"?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):J.type==="normal"&&O&&(this.next=O),_},finish:function(J){for(var O=this.tryEntries.length-1;O>=0;--O){var V=this.tryEntries[O];if(V.finallyLoc===J)return this.complete(V.completion,V.afterLoc),W(V),_}},catch:function(J){for(var O=this.tryEntries.length-1;O>=0;--O){var V=this.tryEntries[O];if(V.tryLoc===J){var G=V.completion;if(G.type==="throw"){var D=G.arg;W(V)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(J,O,V){return this.delegate={iterator:Q(J),resultName:O,nextLoc:V},this.method==="next"&&(this.arg=n),_}},e}function mD(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){t(c);return}a.done?e(l):Promise.resolve(l).then(r,i)}function Rz(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){mD(s,r,i,o,a,"next",l)}function a(l){mD(s,r,i,o,a,"throw",l)}o(void 0)})}}var Gg=Kt({},f9),Qie=Gg.version,Zie=Gg.render,qie=Gg.unmountComponentAtNode,Sx;try{var ese=Number((Qie||"").split(".")[0]);ese>=18&&(Sx=Gg.createRoot)}catch{}function gD(n){var e=Gg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&Qn(e)==="object"&&(e.usingClientEntryPoint=n)}var O1="__rc_react_root__";function tse(n,e){gD(!0);var t=e[O1]||Sx(e);gD(!1),t.render(n),e[O1]=t}function nse(n,e){Zie(n,e)}function rse(n,e){if(Sx){tse(n,e);return}nse(n,e)}function ise(n){return ob.apply(this,arguments)}function ob(){return ob=Rz(Ym().mark(function n(e){return Ym().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[O1])===null||i===void 0||i.unmount(),delete e[O1]}));case 1:case"end":return r.stop()}},n)})),ob.apply(this,arguments)}function sse(n){qie(n)}function ose(n){return ab.apply(this,arguments)}function ab(){return ab=Rz(Ym().mark(function n(e){return Ym().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(Sx===void 0){r.next=2;break}return r.abrupt("return",ise(e));case 2:sse(e);case 3:case"end":return r.stop()}},n)})),ab.apply(this,arguments)}const ase=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),t=e.width,r=e.height;if(t||r)return!0}if(n.getBoundingClientRect){var i=n.getBoundingClientRect(),s=i.width,o=i.height;if(s||o)return!0}}return!1},lse=n=>{const{componentCls:e,colorPrimary:t}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${n.motionEaseInOut}`,`opacity 0.35s ${n.motionEaseInOut}`].join(",")}}}}},cse=Ng("Wave",n=>[lse(n)]);function use(n){const e=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function hM(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&use(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function fse(n){const{borderTopColor:e,borderColor:t,backgroundColor:r}=getComputedStyle(n);return hM(e)?e:hM(t)?t:hM(r)?r:null}const Pz="ant-wave-target";function pM(n){return Number.isNaN(n)?0:n}const dse=n=>{const{className:e,target:t,component:r}=n,i=z.useRef(null),[s,o]=z.useState(null),[a,l]=z.useState([]),[c,u]=z.useState(0),[f,p]=z.useState(0),[m,v]=z.useState(0),[y,_]=z.useState(0),[g,x]=z.useState(!1),S={left:c,top:f,width:m,height:y,borderRadius:a.map(b=>`${b}px`).join(" ")};s&&(S["--wave-color"]=s);function M(){const b=getComputedStyle(t);o(fse(t));const T=b.position==="static",{borderLeftWidth:R,borderTopWidth:C}=b;u(T?t.offsetLeft:pM(-parseFloat(R))),p(T?t.offsetTop:pM(-parseFloat(C))),v(t.offsetWidth),_(t.offsetHeight);const{borderTopLeftRadius:B,borderTopRightRadius:U,borderBottomLeftRadius:k,borderBottomRightRadius:W}=b;l([B,U,W,k].map(Y=>pM(parseFloat(Y))))}if(z.useEffect(()=>{if(t){const b=Vu(()=>{M(),x(!0)});let T;return typeof ResizeObserver<"u"&&(T=new ResizeObserver(M),T.observe(t)),()=>{Vu.cancel(b),T==null||T.disconnect()}}},[]),!g)return null;const w=(r==="Checkbox"||r==="Radio")&&(t==null?void 0:t.classList.contains(Pz));return z.createElement(m2,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(b,T)=>{var R;if(T.deadline||T.propertyName==="opacity"){const C=(R=i.current)===null||R===void 0?void 0:R.parentElement;ose(C).then(()=>{C==null||C.remove()})}return!1}},b=>{let{className:T}=b;return z.createElement("div",{ref:i,className:ji(e,{"wave-quick":w},T),style:S})})},hse=(n,e)=>{var t;const{component:r}=e;if(r==="Checkbox"&&!(!((t=n.querySelector("input"))===null||t===void 0)&&t.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",n==null||n.insertBefore(i,n==null?void 0:n.firstChild),rse(z.createElement(dse,Object.assign({},e,{target:n})),i)},pse=hse;function mse(n,e,t){const{wave:r}=z.useContext(Uo),[,i,s]=Ah(),o=Jne(c=>{const u=n.current;if(r!=null&&r.disabled||!u)return;const f=u.querySelector(`.${Pz}`)||u,{showEffect:p}=r||{};(p||pse)(f,{className:e,token:i,component:t,event:c,hashId:s})}),a=z.useRef();return c=>{Vu.cancel(a.current),a.current=Vu(()=>{o(c)})}}const gse=n=>{const{children:e,disabled:t,component:r}=n,{getPrefixCls:i}=z.useContext(Uo),s=z.useRef(null),o=i("wave"),[,a]=cse(o),l=mse(s,ji(o,a),r);if(nn.useEffect(()=>{const u=s.current;if(!u||u.nodeType!==1||t)return;const f=p=>{!ase(p.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||l(p)};return u.addEventListener("click",f,!0),()=>{u.removeEventListener("click",f,!0)}},[t]),!nn.isValidElement(e))return e??null;const c=f5(e)?u5(e.ref,s):s;return Cz(e,{ref:c})},vse=gse,yse=n=>{const e=nn.useContext(gx);return nn.useMemo(()=>n?typeof n=="string"?n??e:n instanceof Function?n(e):e:e,[n,e])},_se=yse;globalThis&&globalThis.__rest;const xse=z.createContext(null),Sse=(n,e)=>{const t=z.useContext(xse),r=z.useMemo(()=>{if(!t)return"";const{compactDirection:i,isFirstItem:s,isLastItem:o}=t,a=i==="vertical"?"-vertical-":"-";return ji(`${n}-compact${a}item`,{[`${n}-compact${a}first-item`]:s,[`${n}-compact${a}last-item`]:o,[`${n}-compact${a}item-rtl`]:e==="rtl"})},[n,e,t]);return{compactSize:t==null?void 0:t.compactSize,compactDirection:t==null?void 0:t.compactDirection,compactItemClassnames:r}},Ase=z.forwardRef((n,e)=>{const{className:t,style:r,children:i,prefixCls:s}=n,o=ji(`${s}-icon`,t);return nn.createElement("span",{ref:e,className:o,style:r},i)}),Iz=Ase,vD=z.forwardRef((n,e)=>{let{prefixCls:t,className:r,style:i,iconClassName:s}=n;const o=ji(`${t}-loading-icon`,r);return nn.createElement(Iz,{prefixCls:t,className:o,style:i,ref:e},nn.createElement(Kie,{className:s}))}),mM=()=>({width:0,opacity:0,transform:"scale(0)"}),gM=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),Mse=n=>{const{prefixCls:e,loading:t,existIcon:r,className:i,style:s}=n,o=!!t;return r?nn.createElement(vD,{prefixCls:e,className:i,style:s}):nn.createElement(m2,{visible:o,motionName:`${e}-loading-icon-motion`,removeOnLeave:!0,onAppearStart:mM,onAppearActive:gM,onEnterStart:mM,onEnterActive:gM,onLeaveStart:gM,onLeaveActive:mM},(a,l)=>{let{className:c,style:u}=a;return nn.createElement(vD,{prefixCls:e,className:i,style:Object.assign(Object.assign({},s),u),ref:l,iconClassName:c})})},Ese=Mse;var wse=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Bz=z.createContext(void 0),bse=n=>{const{getPrefixCls:e,direction:t}=z.useContext(Uo),{prefixCls:r,size:i,className:s}=n,o=wse(n,["prefixCls","size","className"]),a=e("btn-group",r),[,,l]=Ah();let c="";switch(i){case"large":c="lg";break;case"small":c="sm";break}const u=ji(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:t==="rtl"},s,l);return z.createElement(Bz.Provider,{value:i},z.createElement("div",Object.assign({},o,{className:u})))},Tse=bse,yD=/^[\u4e00-\u9fa5]{2}$/,lb=yD.test.bind(yD);function _D(n){return typeof n=="string"}function vM(n){return n==="text"||n==="link"}function Cse(n,e){if(n==null)return;const t=e?" ":"";return typeof n!="string"&&typeof n!="number"&&_D(n.type)&&lb(n.props.children)?Cz(n,{children:n.props.children.split("").join(t)}):_D(n)?lb(n)?nn.createElement("span",null,n.split("").join(t)):nn.createElement("span",null,n):jie(n)?nn.createElement("span",null,n):n}function Rse(n,e){let t=!1;const r=[];return nn.Children.forEach(n,i=>{const s=typeof i,o=s==="string"||s==="number";if(t&&o){const a=r.length-1,l=r[a];r[a]=`${l}${i}`}else r.push(i);t=o}),nn.Children.map(r,i=>Cse(i,e))}function Pse(n,e,t){const{focusElCls:r,focus:i,borderElCls:s}=t,o=s?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${o}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:-n.lineWidth},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${o}`]:{zIndex:0}})}}function Ise(n,e,t){const{borderElCls:r}=t,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${n}-sm ${i}, &${n}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${n}-sm ${i}, &${n}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function Bse(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:t}=n,r=`${t}-compact`;return{[r]:Object.assign(Object.assign({},Pse(n,r,e)),Ise(t,r,e))}}function Lse(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:-n.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Dse(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function Ose(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},Lse(n,e)),Dse(n.componentCls,e))}}const xD=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),Fse=n=>{const{componentCls:e,fontSize:t,lineWidth:r,colorPrimaryHover:i,colorErrorHover:s}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},xD(`${e}-primary`,i),xD(`${e}-danger`,s)]}},Use=Fse,kse=n=>{const{componentCls:e,iconCls:t,buttonFontWeight:r}=n;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:n.lineHeight,color:n.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:0},[`> ${t} + span, > span + ${t}`]:{marginInlineStart:n.marginXS},[`&:not(${e}-icon-only) > ${e}-icon`]:{[`&${e}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:n.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},ere(n)),[`&-icon-only${e}-compact-item`]:{flex:"none"},[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:n.lineWidth,height:`calc(100% + ${n.lineWidth*2}px)`,backgroundColor:n.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:`calc(100% + ${n.lineWidth*2}px)`,height:n.lineWidth,backgroundColor:n.colorPrimaryHover,content:'""'}}}}}}},Za=(n,e,t)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":t}}),Nse=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),zse=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.controlHeight/2,paddingInlineEnd:n.controlHeight/2}),Gse=n=>({cursor:"not-allowed",borderColor:n.colorBorder,color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,boxShadow:"none"}),$m=(n,e,t,r,i,s,o)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:e||void 0,backgroundColor:"transparent",borderColor:t||void 0,boxShadow:"none"},Za(n,Object.assign({backgroundColor:"transparent"},s),Object.assign({backgroundColor:"transparent"},o))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:i||void 0}})}),x2=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},Gse(n))}),Lz=n=>Object.assign({},x2(n)),F1=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),Dz=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Lz(n)),{backgroundColor:n.colorBgContainer,borderColor:n.colorBorder,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`}),Za(n.componentCls,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),$m(n.componentCls,n.colorBgContainer,n.colorBgContainer,n.colorTextDisabled,n.colorBorder)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:n.colorError,borderColor:n.colorError},Za(n.componentCls,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),$m(n.componentCls,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder)),x2(n))}),Hse=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Lz(n)),{color:n.colorTextLightSolid,backgroundColor:n.colorPrimary,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`}),Za(n.componentCls,{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryHover},{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryActive})),$m(n.componentCls,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({backgroundColor:n.colorError,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`},Za(n.componentCls,{backgroundColor:n.colorErrorHover},{backgroundColor:n.colorErrorActive})),$m(n.componentCls,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),x2(n))}),Vse=n=>Object.assign(Object.assign({},Dz(n)),{borderStyle:"dashed"}),Wse=n=>Object.assign(Object.assign(Object.assign({color:n.colorLink},Za(n.componentCls,{color:n.colorLinkHover},{color:n.colorLinkActive})),F1(n)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign({color:n.colorError},Za(n.componentCls,{color:n.colorErrorHover},{color:n.colorErrorActive})),F1(n))}),jse=n=>Object.assign(Object.assign(Object.assign({},Za(n.componentCls,{color:n.colorText,backgroundColor:n.colorBgTextHover},{color:n.colorText,backgroundColor:n.colorBgTextActive})),F1(n)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign({color:n.colorError},F1(n)),Za(n.componentCls,{color:n.colorErrorHover,backgroundColor:n.colorErrorBg},{color:n.colorErrorHover,backgroundColor:n.colorErrorBg}))}),Xse=n=>{const{componentCls:e}=n;return{[`${e}-default`]:Dz(n),[`${e}-primary`]:Hse(n),[`${e}-dashed`]:Vse(n),[`${e}-link`]:Wse(n),[`${e}-text`]:jse(n),[`${e}-ghost`]:$m(n.componentCls,n.colorBgContainer,n.colorBgContainer,n.colorTextDisabled,n.colorBorder)}},S2=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:t,controlHeight:r,fontSize:i,lineHeight:s,lineWidth:o,borderRadius:a,buttonPaddingHorizontal:l,iconCls:c}=n,u=Math.max(0,(r-i*s)/2-o),f=l-o,p=`${t}-icon-only`;return[{[`${t}${e}`]:{fontSize:i,height:r,padding:`${u}px ${f}px`,borderRadius:a,[`&${p}`]:{width:r,paddingInlineStart:0,paddingInlineEnd:0,[`&${t}-round`]:{width:"auto"},[c]:{fontSize:n.buttonIconOnlyFontSize}},[`&${t}-loading`]:{opacity:n.opacityLoading,cursor:"default"},[`${t}-loading-icon`]:{transition:`width ${n.motionDurationSlow} ${n.motionEaseInOut}, opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`}}},{[`${t}${t}-circle${e}`]:Nse(n)},{[`${t}${t}-round${e}`]:zse(n)}]},Jse=n=>S2(n),Yse=n=>{const e=ju(n,{controlHeight:n.controlHeightSM,padding:n.paddingXS,buttonPaddingHorizontal:8,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.fontSizeLG-2});return S2(e,`${n.componentCls}-sm`)},$se=n=>{const e=ju(n,{controlHeight:n.controlHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.fontSizeLG+2});return S2(e,`${n.componentCls}-lg`)},Kse=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},Qse=Ng("Button",n=>{const{controlTmpOutline:e,paddingContentHorizontal:t}=n,r=ju(n,{colorOutlineDefault:e,buttonPaddingHorizontal:t,buttonIconOnlyFontSize:n.fontSizeLG,buttonFontWeight:400});return[kse(r),Yse(r),Jse(r),$se(r),Kse(r),Xse(r),Use(r),Bse(n),Ose(n)]});var Zse=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function qse(n){if(typeof n=="object"&&n){const e=n==null?void 0:n.delay;return{loading:!1,delay:!Number.isNaN(e)&&typeof e=="number"?e:0}}return{loading:!!n,delay:0}}const eoe=(n,e)=>{var t,r;const{loading:i=!1,prefixCls:s,type:o="default",danger:a,shape:l="default",size:c,styles:u,disabled:f,className:p,rootClassName:m,children:v,icon:y,ghost:_=!1,block:g=!1,htmlType:x="button",classNames:S,style:M={}}=n,w=Zse(n,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),{getPrefixCls:b,autoInsertSpaceInButton:T,direction:R,button:C}=z.useContext(Uo),B=b("btn",s),[U,k]=Qse(B),W=z.useContext($5),Y=f??W,Q=z.useContext(Bz),X=z.useMemo(()=>qse(i),[i]),[J,O]=z.useState(X.loading),[V,G]=z.useState(!1),H=u5(e,z.createRef()),se=z.Children.count(v)===1&&!y&&!vM(o);z.useEffect(()=>{let Be=null;X.delay>0?Be=setTimeout(()=>{Be=null,O(!0)},X.delay):O(X.loading);function ve(){Be&&(clearTimeout(Be),Be=null)}return ve},[X]),z.useEffect(()=>{if(!H||!H.current||T===!1)return;const Be=H.current.textContent;se&&lb(Be)?V||G(!0):V&&G(!1)},[H]);const le=Be=>{const{onClick:ve}=n;if(J||Y){Be.preventDefault();return}ve==null||ve(Be)},ae=T!==!1,{compactSize:ue,compactItemClassnames:fe}=Sse(B,R),ye={large:"lg",small:"sm",middle:void 0},We=_se(Be=>{var ve,Ye;return(Ye=(ve=c??ue)!==null&&ve!==void 0?ve:Q)!==null&&Ye!==void 0?Ye:Be}),Je=We&&ye[We]||"",xe=J?"loading":y,K=Vee(w,["navigate"]),Te=ji(B,k,{[`${B}-${l}`]:l!=="default"&&l,[`${B}-${o}`]:o,[`${B}-${Je}`]:Je,[`${B}-icon-only`]:!v&&v!==0&&!!xe,[`${B}-background-ghost`]:_&&!vM(o),[`${B}-loading`]:J,[`${B}-two-chinese-chars`]:V&&ae&&!J,[`${B}-block`]:g,[`${B}-dangerous`]:!!a,[`${B}-rtl`]:R==="rtl"},fe,p,m,C==null?void 0:C.className),Ae=Object.assign(Object.assign({},C==null?void 0:C.style),M),Ee=ji(S==null?void 0:S.icon,(t=C==null?void 0:C.classNames)===null||t===void 0?void 0:t.icon),we=Object.assign(Object.assign({},(u==null?void 0:u.icon)||{}),((r=C==null?void 0:C.styles)===null||r===void 0?void 0:r.icon)||{}),Xe=y&&!J?nn.createElement(Iz,{prefixCls:B,className:Ee,style:we},y):nn.createElement(Ese,{existIcon:!!y,prefixCls:B,loading:!!J}),Me=v||v===0?Rse(v,se&&ae):null;if(K.href!==void 0)return U(nn.createElement("a",Object.assign({},K,{className:ji(Te,{[`${B}-disabled`]:Y}),style:Ae,onClick:le,ref:H}),Xe,Me));let Le=nn.createElement("button",Object.assign({},w,{type:x,className:Te,style:Ae,onClick:le,disabled:Y,ref:H}),Xe,Me);return vM(o)||(Le=nn.createElement(vse,{component:"Button",disabled:!!J},Le)),U(Le)},A2=z.forwardRef(eoe);A2.Group=Tse;A2.__ANT_BUTTON=!0;const ay=A2,toe=()=>Fo()&&window.document.documentElement;let ly;const noe=()=>{if(!toe())return!1;if(ly!==void 0)return ly;const n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",n.style.rowGap="1px",n.appendChild(document.createElement("div")),n.appendChild(document.createElement("div"));const e=document.createElement("div");return e.style.position="absolute",e.style.zIndex="-9999",e.appendChild(n),document.body.appendChild(e),ly=n.scrollHeight===1,document.body.removeChild(e),ly},Km=["xxl","xl","lg","md","sm","xs"],roe=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),ioe=n=>{const e=n,t=[].concat(Km).reverse();return t.forEach((r,i)=>{const s=r.toUpperCase(),o=`screen${s}Min`,a=`screen${s}`;if(!(e[o]<=e[a]))throw new Error(`${o}<=${a} fails : !(${e[o]}<=${e[a]})`);if(i<t.length-1){const l=`screen${s}Max`;if(!(e[a]<=e[l]))throw new Error(`${a}<=${l} fails : !(${e[a]}<=${e[l]})`);const u=`screen${t[i+1].toUpperCase()}Min`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`)}}),n};function soe(){const[,n]=Ah(),e=roe(ioe(n));return nn.useMemo(()=>{const t=new Map;let r=-1,i={};return{matchHandlers:{},dispatch(s){return i=s,t.forEach(o=>o(i)),t.size>=1},subscribe(s){return t.size||this.register(),r+=1,t.set(r,s),s(i),r},unsubscribe(s){t.delete(s),t.size||this.unregister()},unregister(){Object.keys(e).forEach(s=>{const o=e[s],a=this.matchHandlers[o];a==null||a.mql.removeListener(a==null?void 0:a.listener)}),t.clear()},register(){Object.keys(e).forEach(s=>{const o=e[s],a=c=>{let{matches:u}=c;this.dispatch(Object.assign(Object.assign({},i),{[s]:u}))},l=window.matchMedia(o);l.addListener(a),this.matchHandlers[o]={mql:l,listener:a},a(l)})},responsiveMap:e}},[n])}const ooe=z.createContext({}),Oz=ooe,aoe=n=>{const{componentCls:e}=n;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},loe=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},coe=(n,e)=>{const{componentCls:t,gridColumns:r}=n,i={};for(let s=r;s>=0;s--)s===0?(i[`${t}${e}-${s}`]={display:"none"},i[`${t}-push-${s}`]={insetInlineStart:"auto"},i[`${t}-pull-${s}`]={insetInlineEnd:"auto"},i[`${t}${e}-push-${s}`]={insetInlineStart:"auto"},i[`${t}${e}-pull-${s}`]={insetInlineEnd:"auto"},i[`${t}${e}-offset-${s}`]={marginInlineStart:0},i[`${t}${e}-order-${s}`]={order:0}):(i[`${t}${e}-${s}`]={display:"block",flex:`0 0 ${s/r*100}%`,maxWidth:`${s/r*100}%`},i[`${t}${e}-push-${s}`]={insetInlineStart:`${s/r*100}%`},i[`${t}${e}-pull-${s}`]={insetInlineEnd:`${s/r*100}%`},i[`${t}${e}-offset-${s}`]={marginInlineStart:`${s/r*100}%`},i[`${t}${e}-order-${s}`]={order:s});return i},cb=(n,e)=>coe(n,e),uoe=(n,e,t)=>({[`@media (min-width: ${e}px)`]:Object.assign({},cb(n,t))}),foe=Ng("Grid",n=>[aoe(n)]),doe=Ng("Grid",n=>{const e=ju(n,{gridColumns:24}),t={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[loe(e),cb(e,""),cb(e,"-xs"),Object.keys(t).map(r=>uoe(e,t[r],r)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]});var hoe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function poe(n){return typeof n=="number"?`${n} ${n} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?`0 0 ${n}`:n}const moe=["xs","sm","md","lg","xl","xxl"],goe=z.forwardRef((n,e)=>{const{getPrefixCls:t,direction:r}=z.useContext(Uo),{gutter:i,wrap:s,supportFlexGap:o}=z.useContext(Oz),{prefixCls:a,span:l,order:c,offset:u,push:f,pull:p,className:m,children:v,flex:y,style:_}=n,g=hoe(n,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),x=t("col",a),[S,M]=doe(x);let w={};moe.forEach(R=>{let C={};const B=n[R];typeof B=="number"?C.span=B:typeof B=="object"&&(C=B||{}),delete g[R],w=Object.assign(Object.assign({},w),{[`${x}-${R}-${C.span}`]:C.span!==void 0,[`${x}-${R}-order-${C.order}`]:C.order||C.order===0,[`${x}-${R}-offset-${C.offset}`]:C.offset||C.offset===0,[`${x}-${R}-push-${C.push}`]:C.push||C.push===0,[`${x}-${R}-pull-${C.pull}`]:C.pull||C.pull===0,[`${x}-${R}-flex-${C.flex}`]:C.flex||C.flex==="auto",[`${x}-rtl`]:r==="rtl"})});const b=ji(x,{[`${x}-${l}`]:l!==void 0,[`${x}-order-${c}`]:c,[`${x}-offset-${u}`]:u,[`${x}-push-${f}`]:f,[`${x}-pull-${p}`]:p},m,w,M),T={};if(i&&i[0]>0){const R=i[0]/2;T.paddingLeft=R,T.paddingRight=R}if(i&&i[1]>0&&!o){const R=i[1]/2;T.paddingTop=R,T.paddingBottom=R}return y&&(T.flex=poe(y),s===!1&&!T.minWidth&&(T.minWidth=0)),S(z.createElement("div",Object.assign({},g,{style:Object.assign(Object.assign({},T),_),className:b,ref:e}),v))}),pn=goe,voe=()=>{const[n,e]=z.useState(!1);return z.useEffect(()=>{e(noe())},[]),n};var yoe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function SD(n,e){const[t,r]=z.useState(typeof n=="string"?n:""),i=()=>{if(typeof n=="string"&&r(n),typeof n=="object")for(let s=0;s<Km.length;s++){const o=Km[s];if(!e[o])continue;const a=n[o];if(a!==void 0){r(a);return}}};return z.useEffect(()=>{i()},[JSON.stringify(n),e]),t}const _oe=z.forwardRef((n,e)=>{const{prefixCls:t,justify:r,align:i,className:s,style:o,children:a,gutter:l=0,wrap:c}=n,u=yoe(n,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:f,direction:p}=z.useContext(Uo),[m,v]=z.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[y,_]=z.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),g=SD(i,y),x=SD(r,y),S=voe(),M=z.useRef(l),w=soe();z.useEffect(()=>{const O=w.subscribe(V=>{_(V);const G=M.current||0;(!Array.isArray(G)&&typeof G=="object"||Array.isArray(G)&&(typeof G[0]=="object"||typeof G[1]=="object"))&&v(V)});return()=>w.unsubscribe(O)},[]);const b=()=>{const O=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach((G,D)=>{if(typeof G=="object")for(let H=0;H<Km.length;H++){const se=Km[H];if(m[se]&&G[se]!==void 0){O[D]=G[se];break}}else O[D]=G}),O},T=f("row",t),[R,C]=foe(T),B=b(),U=ji(T,{[`${T}-no-wrap`]:c===!1,[`${T}-${x}`]:x,[`${T}-${g}`]:g,[`${T}-rtl`]:p==="rtl"},s,C),k={},W=B[0]!=null&&B[0]>0?B[0]/-2:void 0,Y=B[1]!=null&&B[1]>0?B[1]/-2:void 0;W&&(k.marginLeft=W,k.marginRight=W),S?[,k.rowGap]=B:Y&&(k.marginTop=Y,k.marginBottom=Y);const[Q,X]=B,J=z.useMemo(()=>({gutter:[Q,X],wrap:c,supportFlexGap:S}),[Q,X,c,S]);return R(z.createElement(Oz.Provider,{value:J},z.createElement("div",Object.assign({},u,{className:U,style:Object.assign(Object.assign({},k),o),ref:e}),a)))}),Ot=_oe,xoe=n=>{const{componentCls:e,sizePaddingEdgeHorizontal:t,colorSplit:r,lineWidth:i}=n;return{[e]:Object.assign(Object.assign({},$ne(n)),{borderBlockStart:`${i}px solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:`0 ${n.dividerVerticalGutterMargin}px`,verticalAlign:"middle",borderTop:0,borderInlineStart:`${i}px solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${n.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${n.dividerHorizontalWithTextGutterMargin}px 0`,color:n.colorTextHeading,fontWeight:500,fontSize:n.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${i}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-left`]:{"&::before":{width:"5%"},"&::after":{width:"95%"}},[`&-horizontal${e}-with-text-right`]:{"&::before":{width:"95%"},"&::after":{width:"5%"}},[`${e}-inner-text`]:{display:"inline-block",padding:"0 1em"},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${i}px 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:n.colorText,fontWeight:"normal",fontSize:n.fontSize},[`&-horizontal${e}-with-text-left${e}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:t}},[`&-horizontal${e}-with-text-right${e}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:t}}})}},Soe=Ng("Divider",n=>{const e=ju(n,{dividerVerticalGutterMargin:n.marginXS,dividerHorizontalWithTextGutterMargin:n.margin,dividerHorizontalGutterMargin:n.marginLG});return[xoe(e)]},{sizePaddingEdgeHorizontal:0});var Aoe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Moe=n=>{const{getPrefixCls:e,direction:t,divider:r}=z.useContext(Uo),{prefixCls:i,type:s="horizontal",orientation:o="center",orientationMargin:a,className:l,rootClassName:c,children:u,dashed:f,plain:p,style:m}=n,v=Aoe(n,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),y=e("divider",i),[_,g]=Soe(y),x=o.length>0?`-${o}`:o,S=!!u,M=o==="left"&&a!=null,w=o==="right"&&a!=null,b=ji(y,r==null?void 0:r.className,g,`${y}-${s}`,{[`${y}-with-text`]:S,[`${y}-with-text${x}`]:S,[`${y}-dashed`]:!!f,[`${y}-plain`]:!!p,[`${y}-rtl`]:t==="rtl",[`${y}-no-default-orientation-margin-left`]:M,[`${y}-no-default-orientation-margin-right`]:w},l,c),T=z.useMemo(()=>typeof a=="number"?a:/^\d+$/.test(a)?Number(a):a,[a]),R=Object.assign(Object.assign({},M&&{marginLeft:T}),w&&{marginRight:T});return _(z.createElement("div",Object.assign({className:b,style:Object.assign(Object.assign({},r==null?void 0:r.style),m)},v,{role:"separator"}),u&&s!=="vertical"&&z.createElement("span",{className:`${y}-inner-text`,style:R},u)))},cy=Moe;var Eoe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const woe=Eoe;var boe=function(e,t){return z.createElement(rl,lr({},e,{ref:t,icon:woe}))};const Toe=z.forwardRef(boe);var Coe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const Roe=Coe;var Poe=function(e,t){return z.createElement(rl,lr({},e,{ref:t,icon:Roe}))};const Ioe=z.forwardRef(Poe);var Boe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};const Loe=Boe;var Doe=function(e,t){return z.createElement(rl,lr({},e,{ref:t,icon:Loe}))};const Ooe=z.forwardRef(Doe);var Foe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"outlined"};const Uoe=Foe;var koe=function(e,t){return z.createElement(rl,lr({},e,{ref:t,icon:Uoe}))};const Noe=z.forwardRef(koe);var zoe={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512.1 172.6l-370 369.7h96V868H392V640c0-22.1 17.9-40 40-40h160c22.1 0 40 17.9 40 40v228h153.9V542.3H882L535.2 195.7l-23.1-23.1zm434.5 422.9c-6 6-13.1 10.8-20.8 13.9 7.7-3.2 14.8-7.9 20.8-13.9zm-887-34.7c5 30.3 31.4 53.5 63.1 53.5h.9c-31.9 0-58.9-23-64-53.5zm-.9-10.5v-1.9 1.9zm.1-2.6c.1-3.1.5-6.1 1-9.1-.6 2.9-.9 6-1 9.1z",fill:t}},{tag:"path",attrs:{d:"M951 510c0-.1-.1-.1-.1-.2l-1.8-2.1c-.1-.1-.2-.3-.4-.4-.7-.8-1.5-1.6-2.2-2.4L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.6 63.6 0 00-16 26.6l-.6 2.1-.3 1.1-.3 1.2c-.2.7-.3 1.4-.4 2.1 0 .1 0 .3-.1.4-.6 3-.9 6-1 9.1v3.3c0 .5 0 1 .1 1.5 0 .5 0 .9.1 1.4 0 .5.1 1 .1 1.5 0 .6.1 1.2.2 1.8 0 .3.1.6.1.9l.3 2.5v.1c5.1 30.5 32.2 53.5 64 53.5h42.5V940h691.7V614.3h43.4c8.6 0 16.9-1.7 24.5-4.9s14.7-7.9 20.8-13.9a63.6 63.6 0 0018.7-45.3c0-14.7-5-28.8-14.3-40.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z",fill:e}}]}},name:"home",theme:"twotone"};const Goe=zoe;var Hoe=function(e,t){return z.createElement(rl,lr({},e,{ref:t,icon:Goe}))};const Voe=z.forwardRef(Hoe);var Woe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.7 112H176.3c-35.5 0-64.3 28.8-64.3 64.3v671.4c0 35.5 28.8 64.3 64.3 64.3h671.4c35.5 0 64.3-28.8 64.3-64.3V176.3c0-35.5-28.8-64.3-64.3-64.3zm0 736c-447.8-.1-671.7-.2-671.7-.3.1-447.8.2-671.7.3-671.7 447.8.1 671.7.2 671.7.3-.1 447.8-.2 671.7-.3 671.7zM230.6 411.9h118.7v381.8H230.6zm59.4-52.2c37.9 0 68.8-30.8 68.8-68.8a68.8 68.8 0 10-137.6 0c-.1 38 30.7 68.8 68.8 68.8zm252.3 245.1c0-49.8 9.5-98 71.2-98 60.8 0 61.7 56.9 61.7 101.2v185.7h118.6V584.3c0-102.8-22.2-181.9-142.3-181.9-57.7 0-96.4 31.7-112.3 61.7h-1.6v-52.2H423.7v381.8h118.6V604.8z"}}]},name:"linkedin",theme:"outlined"};const joe=Woe;var Xoe=function(e,t){return z.createElement(rl,lr({},e,{ref:t,icon:joe}))};const Joe=z.forwardRef(Xoe);var Yoe={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M477.5 536.3L135.9 270.7l-27.5-21.4 27.6 21.5V792h752V270.8L546.2 536.3a55.99 55.99 0 01-68.7 0z",fill:t}},{tag:"path",attrs:{d:"M876.3 198.8l39.3 50.5-27.6 21.5 27.7-21.5-39.3-50.5z",fill:t}},{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-94.5 72.1L512 482 190.5 232.1h643zm54.5 38.7V792H136V270.8l-27.6-21.5 27.5 21.4 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5h.1l39.3 50.5-27.7 21.5z",fill:e}}]}},name:"mail",theme:"twotone"};const $oe=Yoe;var Koe=function(e,t){return z.createElement(rl,lr({},e,{ref:t,icon:$oe}))};const Qoe=z.forwardRef(Koe);var Zoe={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M721.7 184.9L610.9 295.8l120.8 120.7-8 21.6A481.29 481.29 0 01438 723.9l-21.6 8-.9-.9-119.8-120-110.8 110.9 104.5 104.5c10.8 10.7 26 15.7 40.8 13.2 117.9-19.5 235.4-82.9 330.9-178.4s158.9-213.1 178.4-331c2.5-14.8-2.5-30-13.3-40.8L721.7 184.9z",fill:t}},{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z",fill:e}}]}},name:"phone",theme:"twotone"};const qoe=Zoe;var eae=function(e,t){return z.createElement(rl,lr({},e,{ref:t,icon:qoe}))};const tae=z.forwardRef(eae);function nae(){const n={span:7,gap:1};return ie.jsx(ie.Fragment,{children:ie.jsxs("div",{className:"resume-container",children:[ie.jsxs(Ot,{children:[ie.jsx(pn,{span:8}),ie.jsxs(pn,{children:[ie.jsx(Ot,{children:ie.jsx("h1",{children:" Kendrick Drews "})}),ie.jsx(Ot,{children:ie.jsxs("h3",{className:"resume-title",children:[" ",ie.jsx("i",{children:" Front End Developer / UI / UX "})," "]})})]})]}),ie.jsx(cy,{}),ie.jsxs(Ot,{align:"middle",justify:"center",children:[ie.jsx(pn,{span:7,children:ie.jsx(Ot,{justify:"end",children:ie.jsx("h2",{children:" Contact "})})}),ie.jsx(pn,{span:n.gap,children:" "}),ie.jsx(pn,{span:16,children:ie.jsxs(Ot,{justify:"space-between",align:"middle",children:[ie.jsxs(pn,{span:8,className:"center-text",children:[" ",ie.jsxs("p",{children:[" ",ie.jsx(tae,{})," 571 294 5260 "]})," "]}),ie.jsxs(pn,{span:8,className:"center-text",children:[" ",ie.jsxs("p",{children:[" ",ie.jsx(Qoe,{})," drewskenny@gmail.com "]})," "]}),ie.jsxs(pn,{span:8,className:"center-text",children:[" ",ie.jsxs("p",{children:[" ",ie.jsx(Voe,{})," Michigan, USA "]})," "]})]})})]}),ie.jsx(cy,{}),ie.jsxs(Ot,{align:"middle",justify:"center",children:[ie.jsx(pn,{span:7,children:ie.jsx(Ot,{justify:"end",children:ie.jsx("h2",{children:" Work Experience "})})}),ie.jsx(pn,{span:n.gap,children:" "}),ie.jsx(pn,{span:16})]}),ie.jsxs(Ot,{align:"top",justify:"center",children:[ie.jsxs(pn,{className:"job-meta",span:n.span,children:[ie.jsxs(Ot,{justify:"end",children:[" ",ie.jsx("p",{children:"03/19 - Now "})]}),ie.jsxs(Ot,{justify:"end",children:[" ",ie.jsx("p",{children:"NU Borders "})]}),ie.jsxs(Ot,{justify:"end",children:[" ",ie.jsx("p",{children:"Reston VA / Remote "})]})]}),ie.jsx(pn,{span:n.gap,children:" "}),ie.jsxs(pn,{span:16,children:[ie.jsxs(Ot,{children:[" ",ie.jsx("h3",{children:"Senior Front End Developer"})," "]}),ie.jsx(Ot,{children:ie.jsx("p",{children:" Developed React applications with Node backends for the Defense Intelligence Agency and United States Department of State. Responsible for Front End Architecture. Worked across teams to develop microservices. Produced data-visualizations and quarterly reports. "})}),ie.jsx(Ot,{children:ie.jsxs("ul",{className:"job-tech-stack",children:[ie.jsx("li",{children:" Next.js, React, Svelte, Redux, eslint, Jest, Cypress, Playwright, webpack, Parcel, TypeScript, JavaScript "}),ie.jsx("li",{children:"Node.js, Express, ElasticSearch, Kibana, Spark, Java/Scala/Kotlin, Rust, Docker, Kubernetes, saltstack"}),ie.jsx("li",{children:"AWS, EC2, Mongo, PostgresSQL, Lambda, ECS, EMR, Terraform, GitHub, BitBucket, Jenkins, blockchain"}),ie.jsx("li",{children:"Jira, Confluence, ZenHub, Scaled Agile, Kanban, Microservices, Microfrontends, InnerSource"})]})})]})]}),ie.jsxs(Ot,{align:"top",justify:"center",children:[ie.jsxs(pn,{className:"job-meta",span:n.span,children:[ie.jsxs(Ot,{justify:"end",children:[" ",ie.jsx("p",{children:"04/18 - 02/19 "})]}),ie.jsxs(Ot,{justify:"end",children:[" ",ie.jsx("p",{children:"Amida "})]}),ie.jsxs(Ot,{justify:"end",children:[" ",ie.jsx("p",{children:"Washington DC "})]})]}),ie.jsx(pn,{span:n.gap,children:" "}),ie.jsxs(pn,{span:16,children:[ie.jsxs(Ot,{children:[" ",ie.jsx("h3",{children:"UI/UX Developer"})," "]}),ie.jsxs(Ot,{children:[" ",ie.jsx("p",{children:"Developed client applications with React. Conduct user interviews, user testing, and analytics for developmental work on VA Software. Develop front-end solutions for web applications. Producing wireframes, mockups, prototypes, and front-end code."})]}),ie.jsx(Ot,{children:ie.jsxs("ul",{className:"job-tech-stack",children:[ie.jsx("li",{children:"GraphQL, Design Thinking, User Interviews, Next.js,  "}),ie.jsx("li",{children:"Node.js, Express, ElasticSearch, Docker, Kubernetes, saltstack"}),ie.jsx("li",{children:"React, Python, Redux, eslint, Jest, Cypress, webpack, JavaScript"}),ie.jsx("li",{children:"Jira, Confluence, Scaled Agile, Microfrontends, Wordpress"})]})})]})]}),ie.jsxs(Ot,{align:"top",justify:"center",children:[ie.jsxs(pn,{className:"job-meta",span:n.span,children:[ie.jsx(Ot,{justify:"end",children:ie.jsx("p",{children:" 01/16 - 03/18 "})}),ie.jsx(Ot,{justify:"end",children:ie.jsx("p",{children:" TRI "})}),ie.jsx(Ot,{justify:"end",children:ie.jsx("p",{children:" Maryland "})})]}),ie.jsx(pn,{span:n.gap,children:" "}),ie.jsxs(pn,{span:16,children:[ie.jsxs(Ot,{children:[" ",ie.jsx("h3",{children:"Front End Developer"})," "]}),ie.jsxs(Ot,{children:[" ",ie.jsx("p",{children:"Create, Edit, and/or Delete HTML and other files then publish changes to public website(s). Managing government webpages to provide 508 compliant and user-friendly experiences. Responsible for creating and delivering server-side code that follows company standards and procedures. Writing code and scripts to assist our database developers, testers, and senior developers."})]}),ie.jsx(Ot,{children:ie.jsx("ul",{className:"job-tech-stack",children:ie.jsx("li",{children:"JavaScript, HTML, CSS, React, Sharepoint, C#, .Net, Github "})})})]})]}),ie.jsxs(Ot,{align:"top",justify:"center",children:[ie.jsxs(pn,{className:"job-meta",span:n.span,children:[ie.jsxs(Ot,{justify:"end",children:[" ",ie.jsx("p",{children:"01/14 - 01/16 "})]}),ie.jsxs(Ot,{justify:"end",children:[" ",ie.jsx("p",{children:"The INCLab "})]}),ie.jsxs(Ot,{justify:"end",children:[" ",ie.jsx("p",{children:"Tysons Corner, VA "})]})]}),ie.jsx(pn,{span:n.gap,children:" "}),ie.jsxs(pn,{span:16,children:[ie.jsxs(Ot,{children:[" ",ie.jsx("h3",{children:"Front End Developer / Designer"})," "]}),ie.jsxs(Ot,{children:[" ",ie.jsx("p",{children:"Worked directly with clients to facilitate efficient design to development workflow, managed client expectations. Responsible for the creation of all visual assets; Marketing materials, animations, research, front-end code, data visualizations, wireframes, prototypes, design guides, and illustrations. Designed company website. https://www.theinclab.com "})]}),ie.jsx(Ot,{children:ie.jsx("ul",{className:"job-tech-stack",children:ie.jsx("li",{children:"JavaScript, HTML, CSS, DreamWeaver, Photoshop, Adobe XD, Illustrator, C#, Github "})})})]})]}),ie.jsx(cy,{}),ie.jsxs(Ot,{align:"top",justify:"center",children:[ie.jsx(pn,{span:7,children:ie.jsx(Ot,{justify:"end",children:ie.jsx("h2",{children:" Education "})})}),ie.jsx(pn,{span:n.gap,children:" "}),ie.jsxs(pn,{span:16,children:[ie.jsx(Ot,{children:ie.jsx("h2",{children:" Bachelors of Fine-Arts "})}),ie.jsx(Ot,{children:ie.jsx("h3",{children:" Virginia Commonwealth University, Richmond, VA "})}),ie.jsx(Ot,{className:"job-meta",children:ie.jsxs("p",{children:[" ",ie.jsx("i",{children:"2009 - 2013"})," "]})})]})]}),ie.jsx(cy,{}),ie.jsxs(Ot,{align:"top",justify:"center",children:[ie.jsx(pn,{span:7,children:ie.jsx(Ot,{justify:"end",children:ie.jsx("h2",{children:" Skills "})})}),ie.jsx(pn,{span:n.gap,children:" "}),ie.jsx(pn,{span:16,children:ie.jsxs(Ot,{children:[ie.jsx(pn,{flex:1,children:ie.jsxs("ul",{className:"resume-skills",children:[ie.jsx("li",{children:"React"}),ie.jsx("li",{children:"Node"}),ie.jsx("li",{children:"Redux"}),ie.jsx("li",{children:"Typescript"}),ie.jsx("li",{children:"Javascript"}),ie.jsx("li",{children:"Cypress"}),ie.jsx("li",{children:"React Testing Library"}),ie.jsx("li",{children:"Next.js"}),ie.jsx("li",{children:"CSS"}),ie.jsx("li",{children:"SCSS"}),ie.jsx("li",{children:"Ant Design"})]})}),ie.jsx(pn,{flex:1,children:ie.jsxs("ul",{className:"resume-skills",children:[ie.jsx("li",{children:"prettier"}),ie.jsx("li",{children:"ESLint"}),ie.jsx("li",{children:"AWS"}),ie.jsx("li",{children:"Docker"}),ie.jsx("li",{children:"postman"}),ie.jsx("li",{children:"Yarn"}),ie.jsx("li",{children:"NPM"}),ie.jsx("li",{children:"MySQL"}),ie.jsx("li",{children:"Confluence"}),ie.jsx("li",{children:"Jira"}),ie.jsx("li",{children:"GIT"})]})}),ie.jsx(pn,{flex:1,children:ie.jsxs("ul",{className:"resume-skills",children:[ie.jsx("li",{children:"GitLab"}),ie.jsx("li",{children:"Jenkins"}),ie.jsx("li",{children:"Agile"}),ie.jsx("li",{children:"Customer"}),ie.jsx("li",{children:"Relations"}),ie.jsx("li",{children:"SCRUM Master"}),ie.jsx("li",{children:"Figma"}),ie.jsx("li",{children:"Photoshop"}),ie.jsx("li",{children:"Sketch"}),ie.jsx("li",{children:"Adobe XD"}),ie.jsx("li",{children:"Sharepoint"})]})})]})})]})]})})}var rae=Object.defineProperty,iae=(n,e)=>{for(var t in e)rae(n,t,{get:e[t],enumerable:!0})},Bo={};iae(Bo,{assign:()=>aae,colors:()=>tc,createStringInterpolator:()=>R2,skipAnimation:()=>Hz,to:()=>Gz,willAdvance:()=>P2});var M2=Vg(),Ut=n=>Hg(n,M2),E2=Vg();Ut.write=n=>Hg(n,E2);var Ax=Vg();Ut.onStart=n=>Hg(n,Ax);var w2=Vg();Ut.onFrame=n=>Hg(n,w2);var b2=Vg();Ut.onFinish=n=>Hg(n,b2);var Dd=[];Ut.setTimeout=(n,e)=>{const t=Ut.now()+e,r=()=>{const s=Dd.findIndex(o=>o.cancel==r);~s&&Dd.splice(s,1),kl-=~s?1:0},i={time:t,handler:n,cancel:r};return Dd.splice(Fz(t),0,i),kl+=1,Uz(),i};var Fz=n=>~(~Dd.findIndex(e=>e.time>n)||~Dd.length);Ut.cancel=n=>{Ax.delete(n),w2.delete(n),b2.delete(n),M2.delete(n),E2.delete(n)};Ut.sync=n=>{ub=!0,Ut.batchedUpdates(n),ub=!1};Ut.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function r(...i){e=i,Ut.onStart(t)}return r.handler=n,r.cancel=()=>{Ax.delete(t),e=null},r};var T2=typeof window<"u"?window.requestAnimationFrame:()=>{};Ut.use=n=>T2=n;Ut.now=typeof performance<"u"?()=>performance.now():Date.now;Ut.batchedUpdates=n=>n();Ut.catch=console.error;Ut.frameLoop="always";Ut.advance=()=>{Ut.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Nz()};var Ul=-1,kl=0,ub=!1;function Hg(n,e){ub?(e.delete(n),n(0)):(e.add(n),Uz())}function Uz(){Ul<0&&(Ul=0,Ut.frameLoop!=="demand"&&T2(kz))}function sae(){Ul=-1}function kz(){~Ul&&(T2(kz),Ut.batchedUpdates(Nz))}function Nz(){const n=Ul;Ul=Ut.now();const e=Fz(Ul);if(e&&(zz(Dd.splice(0,e),t=>t.handler()),kl-=e),!kl){sae();return}Ax.flush(),M2.flush(n?Math.min(64,Ul-n):16.667),w2.flush(),E2.flush(),b2.flush()}function Vg(){let n=new Set,e=n;return{add(t){kl+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return kl-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,kl-=e.size,zz(e,r=>r(t)&&n.add(r)),kl+=n.size,e=n)}}}function zz(n,e){n.forEach(t=>{try{e(t)}catch(r){Ut.catch(r)}})}function fb(){}var oae=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),rt={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Da(n,e){if(rt.arr(n)){if(!rt.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}var yn=(n,e)=>n.forEach(e);function qa(n,e,t){if(rt.arr(n)){for(let r=0;r<n.length;r++)e.call(t,n[r],`${r}`);return}for(const r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r)}var Js=n=>rt.und(n)?[]:rt.arr(n)?n:[n];function rm(n,e){if(n.size){const t=Array.from(n);n.clear(),yn(t,e)}}var Bp=(n,...e)=>rm(n,t=>t(...e)),C2=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),R2,Gz,tc=null,Hz=!1,P2=fb,aae=n=>{n.to&&(Gz=n.to),n.now&&(Ut.now=n.now),n.colors!==void 0&&(tc=n.colors),n.skipAnimation!=null&&(Hz=n.skipAnimation),n.createStringInterpolator&&(R2=n.createStringInterpolator),n.requestAnimationFrame&&Ut.use(n.requestAnimationFrame),n.batchedUpdates&&(Ut.batchedUpdates=n.batchedUpdates),n.willAdvance&&(P2=n.willAdvance),n.frameLoop&&(Ut.frameLoop=n.frameLoop)},im=new Set,Ws=[],yM=[],U1=0,Mx={get idle(){return!im.size&&!Ws.length},start(n){U1>n.priority?(im.add(n),Ut.onStart(lae)):(Vz(n),Ut(db))},advance:db,sort(n){if(U1)Ut.onFrame(()=>Mx.sort(n));else{const e=Ws.indexOf(n);~e&&(Ws.splice(e,1),Wz(n))}},clear(){Ws=[],im.clear()}};function lae(){im.forEach(Vz),im.clear(),Ut(db)}function Vz(n){Ws.includes(n)||Wz(n)}function Wz(n){Ws.splice(cae(Ws,e=>e.priority>n.priority),0,n)}function db(n){const e=yM;for(let t=0;t<Ws.length;t++){const r=Ws[t];U1=r.priority,r.idle||(P2(r),r.advance(n),r.idle||e.push(r))}return U1=0,yM=Ws,yM.length=0,Ws=e,Ws.length>0}function cae(n,e){const t=n.findIndex(e);return t<0?n.length:t}var uae=(n,e,t)=>Math.min(Math.max(t,n),e),fae={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},So="[-+]?\\d*\\.?\\d+",k1=So+"%";function Ex(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var dae=new RegExp("rgb"+Ex(So,So,So)),hae=new RegExp("rgba"+Ex(So,So,So,So)),pae=new RegExp("hsl"+Ex(So,k1,k1)),mae=new RegExp("hsla"+Ex(So,k1,k1,So)),gae=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,vae=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,yae=/^#([0-9a-fA-F]{6})$/,_ae=/^#([0-9a-fA-F]{8})$/;function xae(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=yae.exec(n))?parseInt(e[1]+"ff",16)>>>0:tc&&tc[n]!==void 0?tc[n]:(e=dae.exec(n))?(Jf(e[1])<<24|Jf(e[2])<<16|Jf(e[3])<<8|255)>>>0:(e=hae.exec(n))?(Jf(e[1])<<24|Jf(e[2])<<16|Jf(e[3])<<8|ED(e[4]))>>>0:(e=gae.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=_ae.exec(n))?parseInt(e[1],16)>>>0:(e=vae.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=pae.exec(n))?(AD(MD(e[1]),uy(e[2]),uy(e[3]))|255)>>>0:(e=mae.exec(n))?(AD(MD(e[1]),uy(e[2]),uy(e[3]))|ED(e[4]))>>>0:null}function _M(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function AD(n,e,t){const r=t<.5?t*(1+e):t+e-t*e,i=2*t-r,s=_M(i,r,n+1/3),o=_M(i,r,n),a=_M(i,r,n-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Jf(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function MD(n){return(parseFloat(n)%360+360)%360/360}function ED(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function uy(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function wD(n){let e=xae(n);if(e===null)return n;e=e||0;const t=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${r}, ${i}, ${s})`}var Qm=(n,e,t)=>{if(rt.fun(n))return n;if(rt.arr(n))return Qm({range:n,output:e,extrapolate:t});if(rt.str(n.output[0]))return R2(n);const r=n,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const u=Aae(c,s);return Sae(c,s[u],s[u+1],i[u],i[u+1],l,o,a,r.map)}};function Sae(n,e,t,r,i,s,o,a,l){let c=l?l(n):n;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>t){if(a==="identity")return c;a==="clamp"&&(c=t)}return r===i?r:e===t?n<=e?r:i:(e===-1/0?c=-c:t===1/0?c=c-e:c=(c-e)/(t-e),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function Aae(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}var Mae=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const r=t*n,i=e==="end"?Math.floor(r):Math.ceil(r);return uae(0,1,i/n)},N1=1.70158,fy=N1*1.525,bD=N1+1,TD=2*Math.PI/3,CD=2*Math.PI/4.5,dy=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,Eae={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>bD*n*n*n-N1*n*n,easeOutBack:n=>1+bD*Math.pow(n-1,3)+N1*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((fy+1)*2*n-fy)/2:(Math.pow(2*n-2,2)*((fy+1)*(n*2-2)+fy)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*TD),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*TD)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*CD))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*CD)/2+1,easeInBounce:n=>1-dy(1-n),easeOutBounce:dy,easeInOutBounce:n=>n<.5?(1-dy(1-2*n))/2:(1+dy(2*n-1))/2,steps:Mae},Zm=Symbol.for("FluidValue.get"),ih=Symbol.for("FluidValue.observers"),$o=n=>!!(n&&n[Zm]),ks=n=>n&&n[Zm]?n[Zm]():n,RD=n=>n[ih]||null;function wae(n,e){n.eventObserved?n.eventObserved(e):n(e)}function z1(n,e){const t=n[ih];t&&t.forEach(r=>{wae(r,e)})}var bae=class{constructor(n){if(!n&&!(n=this.get))throw Error("Unknown getter");Tae(this,n)}},Tae=(n,e)=>jz(n,Zm,e);function Wg(n,e){if(n[Zm]){let t=n[ih];t||jz(n,ih,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function G1(n,e){const t=n[ih];if(t&&t.has(e)){const r=t.size-1;r?t.delete(e):n[ih]=null,n.observerRemoved&&n.observerRemoved(r,e)}}var jz=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),Wy=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Cae=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,PD=new RegExp(`(${Wy.source})(%|[a-z]+)`,"i"),Rae=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,wx=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Xz=n=>{const[e,t]=Pae(n);if(!e||C2())return n;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(t&&t.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(t);return i||n}else{if(t&&wx.test(t))return Xz(t);if(t)return t}return n},Pae=n=>{const e=wx.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]},xM,Iae=(n,e,t,r,i)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(r)}, ${i})`,Jz=n=>{xM||(xM=tc?new RegExp(`(${Object.keys(tc).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(s=>ks(s).replace(wx,Xz).replace(Cae,wD).replace(xM,wD)),t=e.map(s=>s.match(Wy).map(Number)),i=t[0].map((s,o)=>t.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>Qm({...n,output:s}));return s=>{var l;const o=!PD.test(e[0])&&((l=e.find(c=>PD.test(c)))==null?void 0:l.replace(Wy,""));let a=0;return e[0].replace(Wy,()=>`${i[a++](s)}${o||""}`).replace(Rae,Iae)}},I2="react-spring: ",Yz=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${I2}once requires a function parameter`);return(...r)=>{t||(e(...r),t=!0)}},Bae=Yz(console.warn);function Lae(){Bae(`${I2}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Dae=Yz(console.warn);function Oae(){Dae(`${I2}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function bx(n){return rt.str(n)&&(n[0]=="#"||/\d/.test(n)||!C2()&&wx.test(n)||n in(tc||{}))}var B2=C2()?z.useEffect:z.useLayoutEffect,Fae=()=>{const n=z.useRef(!1);return B2(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function $z(){const n=z.useState()[1],e=Fae();return()=>{e.current&&n(Math.random())}}function Uae(n,e){const[t]=z.useState(()=>({inputs:e,result:n()})),r=z.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&kae(e,s.inputs)||(s={inputs:e,result:n()}):s=t,z.useEffect(()=>{r.current=s,i==t&&(t.inputs=t.result=void 0)},[s]),s.result}function kae(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var Kz=n=>z.useEffect(n,Nae),Nae=[];function ID(n){const e=z.useRef();return z.useEffect(()=>{e.current=n}),e.current}var qm=Symbol.for("Animated:node"),zae=n=>!!n&&n[qm]===n,Jo=n=>n&&n[qm],L2=(n,e)=>oae(n,qm,e),Tx=n=>n&&n[qm]&&n[qm].getPayload(),Qz=class{constructor(){L2(this,this)}getPayload(){return this.payload||[]}},jg=class extends Qz{constructor(n){super(),this._value=n,this.done=!0,this.durationProgress=0,rt.num(this._value)&&(this.lastPosition=this._value)}static create(n){return new jg(n)}getPayload(){return[this]}getValue(){return this._value}setValue(n,e){return rt.num(n)&&(this.lastPosition=n,e&&(n=Math.round(n/e)*e,this.done&&(this.lastPosition=n))),this._value===n?!1:(this._value=n,!0)}reset(){const{done:n}=this;this.done=!1,rt.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,n&&(this.lastVelocity=null),this.v0=null)}},eg=class extends jg{constructor(n){super(0),this._string=null,this._toString=Qm({output:[n,n]})}static create(n){return new eg(n)}getValue(){const n=this._string;return n??(this._string=this._toString(this._value))}setValue(n){if(rt.str(n)){if(n==this._string)return!1;this._string=n,this._value=1}else if(super.setValue(n))this._string=null;else return!1;return!0}reset(n){n&&(this._toString=Qm({output:[this.getValue(),n]})),this._value=0,super.reset()}},H1={dependencies:null},D2=class extends Qz{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){const e={};return qa(this.source,(t,r)=>{zae(t)?e[r]=t.getValue(n):$o(t)?e[r]=ks(t):n||(e[r]=t)}),e}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&yn(this.payload,n=>n.reset())}_makePayload(n){if(n){const e=new Set;return qa(n,this._addToPayload,e),Array.from(e)}}_addToPayload(n){H1.dependencies&&$o(n)&&H1.dependencies.add(n);const e=Tx(n);e&&yn(e,t=>this.add(t))}},Zz=class extends D2{constructor(n){super(n)}static create(n){return new Zz(n)}getValue(){return this.source.map(n=>n.getValue())}setValue(n){const e=this.getPayload();return n.length==e.length?e.map((t,r)=>t.setValue(n[r])).some(Boolean):(super.setValue(n.map(Gae)),!0)}};function Gae(n){return(bx(n)?eg:jg).create(n)}function hb(n){const e=Jo(n);return e?e.constructor:rt.arr(n)?Zz:bx(n)?eg:jg}var BD=(n,e)=>{const t=!rt.fun(n)||n.prototype&&n.prototype.isReactComponent;return z.forwardRef((r,i)=>{const s=z.useRef(null),o=t&&z.useCallback(v=>{s.current=Wae(i,v)},[i]),[a,l]=Vae(r,e),c=$z(),u=()=>{const v=s.current;if(t&&!v)return;(v?e.applyAnimatedValues(v,a.getValue(!0)):!1)===!1&&c()},f=new Hae(u,l),p=z.useRef();B2(()=>(p.current=f,yn(l,v=>Wg(v,f)),()=>{p.current&&(yn(p.current.deps,v=>G1(v,p.current)),Ut.cancel(p.current.update))})),z.useEffect(u,[]),Kz(()=>()=>{const v=p.current;yn(v.deps,y=>G1(y,v))});const m=e.getComponentProps(a.getValue());return z.createElement(n,{...m,ref:o})})},Hae=class{constructor(n,e){this.update=n,this.deps=e}eventObserved(n){n.type=="change"&&Ut.write(this.update)}};function Vae(n,e){const t=new Set;return H1.dependencies=t,n.style&&(n={...n,style:e.createAnimatedStyle(n.style)}),n=new D2(n),H1.dependencies=null,[n,t]}function Wae(n,e){return n&&(rt.fun(n)?n(e):n.current=e),e}var LD=Symbol.for("AnimatedComponent"),jae=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=i=>new D2(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:r},s=o=>{const a=DD(o)||"Anonymous";return rt.str(o)?o=s[o]||(s[o]=BD(o,i)):o=o[LD]||(o[LD]=BD(o,i)),o.displayName=`Animated(${a})`,o};return qa(n,(o,a)=>{rt.arr(n)&&(a=DD(o)),s[a]=s(o)}),{animated:s}},DD=n=>rt.str(n)?n:n&&rt.str(n.displayName)?n.displayName:rt.fun(n)&&n.name||null;function su(n,...e){return rt.fun(n)?n(...e):n}var sm=(n,e)=>n===!0||!!(e&&n&&(rt.fun(n)?n(e):Js(n).includes(e))),qz=(n,e)=>rt.obj(n)?e&&n[e]:n,e8=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,Xae=n=>n,O2=(n,e=Xae)=>{let t=Jae;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));const r={};for(const i of t){const s=e(n[i],i);rt.und(s)||(r[i]=s)}return r},Jae=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Yae={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function $ae(n){const e={};let t=0;if(qa(n,(r,i)=>{Yae[i]||(e[i]=r,t++)}),t)return e}function t8(n){const e=$ae(n);if(e){const t={to:e};return qa(n,(r,i)=>i in e||(t[i]=r)),t}return{...n}}function tg(n){return n=ks(n),rt.arr(n)?n.map(tg):bx(n)?Bo.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function Kae(n){for(const e in n)return!0;return!1}function pb(n){return rt.fun(n)||rt.arr(n)&&rt.obj(n[0])}function Qae(n,e){var t;(t=n.ref)==null||t.delete(n),e==null||e.delete(n)}function Zae(n,e){var t;e&&n.ref!==e&&((t=n.ref)==null||t.delete(n),e.add(n),n.ref=e)}var qae={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},mb={...qae.default,mass:1,damping:1,easing:Eae.linear,clamp:!1},ele=class{constructor(){this.velocity=0,Object.assign(this,mb)}};function tle(n,e,t){t&&(t={...t},OD(t,e),e={...t,...e}),OD(n,e),Object.assign(n,e);for(const o in mb)n[o]==null&&(n[o]=mb[o]);let{frequency:r,damping:i}=n;const{mass:s}=n;return rt.und(r)||(r<.01&&(r=.01),i<0&&(i=0),n.tension=Math.pow(2*Math.PI/r,2)*s,n.friction=4*Math.PI*i*s/r),n}function OD(n,e){if(!rt.und(e.decay))n.duration=void 0;else{const t=!rt.und(e.tension)||!rt.und(e.friction);(t||!rt.und(e.frequency)||!rt.und(e.damping)||!rt.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}var FD=[],nle=class{constructor(){this.changed=!1,this.values=FD,this.toValues=null,this.fromValues=FD,this.config=new ele,this.immediate=!1}};function n8(n,{key:e,props:t,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,c,u=sm(t.cancel??(r==null?void 0:r.cancel),e);if(u)m();else{rt.und(t.pause)||(i.paused=sm(t.pause,e));let v=r==null?void 0:r.pause;v!==!0&&(v=i.paused||sm(v,e)),l=su(t.delay||0,e),v?(i.resumeQueue.add(p),s.pause()):(s.resume(),p())}function f(){i.resumeQueue.add(p),i.timeouts.delete(c),c.cancel(),l=c.time-Ut.now()}function p(){l>0&&!Bo.skipAnimation?(i.delayed=!0,c=Ut.setTimeout(m,l),i.pauseQueue.add(f),i.timeouts.add(c)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(c),n<=(i.cancelId||0)&&(u=!0);try{s.start({...t,callId:n,cancel:u},o)}catch(v){a(v)}}})}var F2=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?Od(n.get()):e.every(t=>t.noop)?r8(n.get()):_o(n.get(),e.every(t=>t.finished)),r8=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),_o=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),Od=n=>({value:n,cancelled:!0,finished:!1});function i8(n,e,t,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=t;return!s&&n===a&&!e.reset?l:t.promise=(async()=>{t.asyncId=i,t.asyncTo=n;const c=O2(e,(_,g)=>g==="onRest"?void 0:_);let u,f;const p=new Promise((_,g)=>(u=_,f=g)),m=_=>{const g=i<=(t.cancelId||0)&&Od(r)||i!==t.asyncId&&_o(r,!1);if(g)throw _.result=g,f(_),_},v=(_,g)=>{const x=new UD,S=new kD;return(async()=>{if(Bo.skipAnimation)throw ng(t),S.result=_o(r,!1),f(S),S;m(x);const M=rt.obj(_)?{..._}:{...g,to:_};M.parentId=i,qa(c,(b,T)=>{rt.und(M[T])&&(M[T]=b)});const w=await r.start(M);return m(x),t.paused&&await new Promise(b=>{t.resumeQueue.add(b)}),w})()};let y;if(Bo.skipAnimation)return ng(t),_o(r,!1);try{let _;rt.arr(n)?_=(async g=>{for(const x of g)await v(x)})(n):_=Promise.resolve(n(v,r.stop.bind(r))),await Promise.all([_.then(u),p]),y=_o(r.get(),!0,!1)}catch(_){if(_ instanceof UD)y=_.result;else if(_ instanceof kD)y=_.result;else throw _}finally{i==t.asyncId&&(t.asyncId=s,t.asyncTo=s?a:void 0,t.promise=s?l:void 0)}return rt.fun(o)&&Ut.batchedUpdates(()=>{o(y,r,r.item)}),y})()}function ng(n,e){rm(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}var UD=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},kD=class extends Error{constructor(){super("SkipAnimationSignal")}},gb=n=>n instanceof U2,rle=1,U2=class extends bae{constructor(){super(...arguments),this.id=rle++,this._priority=0}get priority(){return this._priority}set priority(n){this._priority!=n&&(this._priority=n,this._onPriorityChange(n))}get(){const n=Jo(this);return n&&n.getValue()}to(...n){return Bo.to(this,n)}interpolate(...n){return Lae(),Bo.to(this,n)}toJSON(){return this.get()}observerAdded(n){n==1&&this._attach()}observerRemoved(n){n==0&&this._detach()}_attach(){}_detach(){}_onChange(n,e=!1){z1(this,{type:"change",parent:this,value:n,idle:e})}_onPriorityChange(n){this.idle||Mx.sort(this),z1(this,{type:"priority",parent:this,priority:n})}},Xu=Symbol.for("SpringPhase"),s8=1,vb=2,yb=4,SM=n=>(n[Xu]&s8)>0,Ml=n=>(n[Xu]&vb)>0,Sp=n=>(n[Xu]&yb)>0,ND=(n,e)=>e?n[Xu]|=vb|s8:n[Xu]&=~vb,zD=(n,e)=>e?n[Xu]|=yb:n[Xu]&=~yb,ile=class extends U2{constructor(n,e){if(super(),this.animation=new nle,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!rt.und(n)||!rt.und(e)){const t=rt.obj(n)?{...n}:{...e,from:n};rt.und(t.default)&&(t.default=!0),this.start(t)}}get idle(){return!(Ml(this)||this._state.asyncTo)||Sp(this)}get goal(){return ks(this.animation.to)}get velocity(){const n=Jo(this);return n instanceof jg?n.lastVelocity||0:n.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return SM(this)}get isAnimating(){return Ml(this)}get isPaused(){return Sp(this)}get isDelayed(){return this._state.delayed}advance(n){let e=!0,t=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=Tx(r.to);!o&&$o(r.to)&&(i=Js(ks(r.to))),r.values.forEach((c,u)=>{if(c.done)return;const f=c.constructor==eg?1:o?o[u].lastPosition:i[u];let p=r.immediate,m=f;if(!p){if(m=c.lastPosition,s.tension<=0){c.done=!0;return}let v=c.elapsedTime+=n;const y=r.fromValues[u],_=c.v0!=null?c.v0:c.v0=rt.arr(s.velocity)?s.velocity[u]:s.velocity;let g;const x=s.precision||(y==f?.005:Math.min(1,Math.abs(f-y)*.001));if(rt.und(s.duration))if(s.decay){const S=s.decay===!0?.998:s.decay,M=Math.exp(-(1-S)*v);m=y+_/(1-S)*(1-M),p=Math.abs(c.lastPosition-m)<=x,g=_*M}else{g=c.lastVelocity==null?_:c.lastVelocity;const S=s.restVelocity||x/10,M=s.clamp?0:s.bounce,w=!rt.und(M),b=y==f?c.v0>0:y<f;let T,R=!1;const C=1,B=Math.ceil(n/C);for(let U=0;U<B&&(T=Math.abs(g)>S,!(!T&&(p=Math.abs(f-m)<=x,p)));++U){w&&(R=m==f||m>f==b,R&&(g=-g*M,m=f));const k=-s.tension*1e-6*(m-f),W=-s.friction*.001*g,Y=(k+W)/s.mass;g=g+Y*C,m=m+g*C}}else{let S=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,v=c.elapsedTime+=n)),S=(s.progress||0)+v/this._memoizedDuration,S=S>1?1:S<0?0:S,c.durationProgress=S),m=y+s.easing(S)*(f-y),g=(m-c.lastPosition)/n,p=S==1}c.lastVelocity=g,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),p=!0)}o&&!o[u].done&&(p=!1),p?c.done=!0:e=!1,c.setValue(m,s.round)&&(t=!0)});const a=Jo(this),l=a.getValue();if(e){const c=ks(r.to);(l!==c||t)&&!s.decay?(a.setValue(c),this._onChange(c)):t&&s.decay&&this._onChange(l),this._stop()}else t&&this._onChange(l)}set(n){return Ut.batchedUpdates(()=>{this._stop(),this._focus(n),this._set(n)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ml(this)){const{to:n,config:e}=this.animation;Ut.batchedUpdates(()=>{this._onStart(),e.decay||this._set(n,!1),this._stop()})}return this}update(n){return(this.queue||(this.queue=[])).push(n),this}start(n,e){let t;return rt.und(n)?(t=this.queue||[],this.queue=[]):t=[rt.obj(n)?n:{...e,to:n}],Promise.all(t.map(r=>this._update(r))).then(r=>F2(this,r))}stop(n){const{to:e}=this.animation;return this._focus(this.get()),ng(this._state,n&&this._lastCallId),Ut.batchedUpdates(()=>this._stop(e,n)),this}reset(){this._update({reset:!0})}eventObserved(n){n.type=="change"?this._start():n.type=="priority"&&(this.priority=n.priority+1)}_prepareNode(n){const e=this.key||"";let{to:t,from:r}=n;t=rt.obj(t)?t[e]:t,(t==null||pb(t))&&(t=void 0),r=rt.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:t,from:r};return SM(this)||(n.reverse&&([t,r]=[r,t]),r=ks(r),rt.und(r)?Jo(this)||this._set(t):this._set(r)),i}_update({...n},e){const{key:t,defaultProps:r}=this;n.default&&Object.assign(r,O2(n,(o,a)=>/^on/.test(a)?qz(o,t):o)),HD(this,n,"onProps"),Mp(this,"onProps",n,this);const i=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return n8(++this._lastCallId,{key:t,props:n,defaultProps:r,state:s,actions:{pause:()=>{Sp(this)||(zD(this,!0),Bp(s.pauseQueue),Mp(this,"onPause",_o(this,Ap(this,this.animation.to)),this))},resume:()=>{Sp(this)&&(zD(this,!1),Ml(this)&&this._resume(),Bp(s.resumeQueue),Mp(this,"onResume",_o(this,Ap(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(n.loop&&o.finished&&!(e&&o.noop)){const a=o8(n);if(a)return this._update(a,!0)}return o})}_merge(n,e,t){if(e.cancel)return this.stop(!0),t(Od(this));const r=!rt.und(n.to),i=!rt.und(n.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return t(Od(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:c}=a;let{to:u=l,from:f=c}=n;i&&!r&&(!e.default||rt.und(u))&&(u=f),e.reverse&&([u,f]=[f,u]);const p=!Da(f,c);p&&(a.from=f),f=ks(f);const m=!Da(u,l);m&&this._focus(u);const v=pb(e.to),{config:y}=a,{decay:_,velocity:g}=y;(r||i)&&(y.velocity=0),e.config&&!v&&tle(y,su(e.config,s),e.config!==o.config?su(o.config,s):void 0);let x=Jo(this);if(!x||rt.und(u))return t(_o(this,!0));const S=rt.und(e.reset)?i&&!e.default:!rt.und(f)&&sm(e.reset,s),M=S?f:this.get(),w=tg(u),b=rt.num(w)||rt.arr(w)||bx(w),T=!v&&(!b||sm(o.immediate||e.immediate,s));if(m){const U=hb(u);if(U!==x.constructor)if(T)x=this._set(w);else throw Error(`Cannot animate between ${x.constructor.name} and ${U.name}, as the "to" prop suggests`)}const R=x.constructor;let C=$o(u),B=!1;if(!C){const U=S||!SM(this)&&p;(m||U)&&(B=Da(tg(M),w),C=!B),(!Da(a.immediate,T)&&!T||!Da(y.decay,_)||!Da(y.velocity,g))&&(C=!0)}if(B&&Ml(this)&&(a.changed&&!S?C=!0:C||this._stop(l)),!v&&((C||$o(l))&&(a.values=x.getPayload(),a.toValues=$o(u)?null:R==eg?[1]:Js(w)),a.immediate!=T&&(a.immediate=T,!T&&!S&&this._set(l)),C)){const{onRest:U}=a;yn(ole,W=>HD(this,e,W));const k=_o(this,Ap(this,l));Bp(this._pendingCalls,k),this._pendingCalls.add(t),a.changed&&Ut.batchedUpdates(()=>{var W;a.changed=!S,U==null||U(k,this),S?su(o.onRest,k):(W=a.onStart)==null||W.call(a,k,this)})}S&&this._set(M),v?t(i8(e.to,e,this._state,this)):C?this._start():Ml(this)&&!m?this._pendingCalls.add(t):t(r8(M))}_focus(n){const e=this.animation;n!==e.to&&(RD(this)&&this._detach(),e.to=n,RD(this)&&this._attach())}_attach(){let n=0;const{to:e}=this.animation;$o(e)&&(Wg(e,this),gb(e)&&(n=e.priority+1)),this.priority=n}_detach(){const{to:n}=this.animation;$o(n)&&G1(n,this)}_set(n,e=!0){const t=ks(n);if(!rt.und(t)){const r=Jo(this);if(!r||!Da(t,r.getValue())){const i=hb(t);!r||r.constructor!=i?L2(this,i.create(t)):r.setValue(t),r&&Ut.batchedUpdates(()=>{this._onChange(t,e)})}}return Jo(this)}_onStart(){const n=this.animation;n.changed||(n.changed=!0,Mp(this,"onStart",_o(this,Ap(this,n.to)),this))}_onChange(n,e){e||(this._onStart(),su(this.animation.onChange,n,this)),su(this.defaultProps.onChange,n,this),super._onChange(n,e)}_start(){const n=this.animation;Jo(this).reset(ks(n.to)),n.immediate||(n.fromValues=n.values.map(e=>e.lastPosition)),Ml(this)||(ND(this,!0),Sp(this)||this._resume())}_resume(){Bo.skipAnimation?this.finish():Mx.start(this)}_stop(n,e){if(Ml(this)){ND(this,!1);const t=this.animation;yn(t.values,i=>{i.done=!0}),t.toValues&&(t.onChange=t.onPause=t.onResume=void 0),z1(this,{type:"idle",parent:this});const r=e?Od(this.get()):_o(this.get(),Ap(this,n??t.to));Bp(this._pendingCalls,r),t.changed&&(t.changed=!1,Mp(this,"onRest",r,this))}}};function Ap(n,e){const t=tg(e),r=tg(n.get());return Da(r,t)}function o8(n,e=n.loop,t=n.to){const r=su(e);if(r){const i=r!==!0&&t8(r),s=(i||n).reverse,o=!i||i.reset;return rg({...n,loop:e,default:!1,pause:void 0,to:!s||pb(t)?t:void 0,from:o?n.from:void 0,reset:o,...i})}}function rg(n){const{to:e,from:t}=n=t8(n),r=new Set;return rt.obj(e)&&GD(e,r),rt.obj(t)&&GD(t,r),n.keys=r.size?Array.from(r):null,n}function sle(n){const e=rg(n);return rt.und(e.default)&&(e.default=O2(e)),e}function GD(n,e){qa(n,(t,r)=>t!=null&&e.add(r))}var ole=["onStart","onRest","onChange","onPause","onResume"];function HD(n,e,t){n.animation[t]=e[t]!==e8(e,t)?qz(e[t],n.key):void 0}function Mp(n,e,...t){var r,i,s,o;(i=(r=n.animation)[e])==null||i.call(r,...t),(o=(s=n.defaultProps)[e])==null||o.call(s,...t)}var ale=["onStart","onChange","onRest"],lle=1,cle=class{constructor(n,e){this.id=lle++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),n&&this.start({default:!0,...n})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(n=>n.idle&&!n.isDelayed&&!n.isPaused)}get item(){return this._item}set item(n){this._item=n}get(){const n={};return this.each((e,t)=>n[t]=e.get()),n}set(n){for(const e in n){const t=n[e];rt.und(t)||this.springs[e].set(t)}}update(n){return n&&this.queue.push(rg(n)),this}start(n){let{queue:e}=this;return n?e=Js(n).map(rg):this.queue=[],this._flush?this._flush(this,e):(f8(this,e),_b(this,e))}stop(n,e){if(n!==!!n&&(e=n),e){const t=this.springs;yn(Js(e),r=>t[r].stop(!!n))}else ng(this._state,this._lastAsyncId),this.each(t=>t.stop(!!n));return this}pause(n){if(rt.und(n))this.start({pause:!0});else{const e=this.springs;yn(Js(n),t=>e[t].pause())}return this}resume(n){if(rt.und(n))this.start({pause:!1});else{const e=this.springs;yn(Js(n),t=>e[t].resume())}return this}each(n){qa(this.springs,n)}_onFrame(){const{onStart:n,onChange:e,onRest:t}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,rm(n,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!r&&this._started,o=i||s&&t.size?this.get():null;i&&e.size&&rm(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,rm(t,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(n){if(n.type=="change")this._changed.add(n.parent),n.idle||this._active.add(n.parent);else if(n.type=="idle")this._active.delete(n.parent);else return;Ut.onFrame(this._onFrame)}};function _b(n,e){return Promise.all(e.map(t=>a8(n,t))).then(t=>F2(n,t))}async function a8(n,e,t){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,c=rt.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const u=rt.arr(i)||rt.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):yn(ale,y=>{const _=e[y];if(rt.fun(_)){const g=n._events[y];e[y]=({finished:x,cancelled:S})=>{const M=g.get(_);M?(x||(M.finished=!1),S&&(M.cancelled=!0)):g.set(_,{value:null,finished:x||!1,cancelled:S||!1})},c&&(c[y]=e[y])}});const f=n._state;e.pause===!f.paused?(f.paused=e.pause,Bp(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const p=(r||Object.keys(n.springs)).map(y=>n.springs[y].start(e)),m=e.cancel===!0||e8(e,"cancel")===!0;(u||m&&f.asyncId)&&p.push(n8(++n._lastAsyncId,{props:e,state:f,actions:{pause:fb,resume:fb,start(y,_){m?(ng(f,n._lastAsyncId),_(Od(n))):(y.onRest=a,_(i8(u,y,f,n)))}}})),f.paused&&await new Promise(y=>{f.resumeQueue.add(y)});const v=F2(n,await Promise.all(p));if(o&&v.finished&&!(t&&v.noop)){const y=o8(e,o,i);if(y)return f8(n,[y]),a8(n,y,!0)}return l&&Ut.batchedUpdates(()=>l(v,n,n.item)),v}function VD(n,e){const t={...n.springs};return e&&yn(Js(e),r=>{rt.und(r.keys)&&(r=rg(r)),rt.obj(r.to)||(r={...r,to:void 0}),u8(t,r,i=>c8(i))}),l8(n,t),t}function l8(n,e){qa(e,(t,r)=>{n.springs[r]||(n.springs[r]=t,Wg(t,n))})}function c8(n,e){const t=new ile;return t.key=n,e&&Wg(t,e),t}function u8(n,e,t){e.keys&&yn(e.keys,r=>{(n[r]||(n[r]=t(r)))._prepareNode(e)})}function f8(n,e){yn(e,t=>{u8(n.springs,t,r=>c8(r,n))})}var Cx=({children:n,...e})=>{const t=z.useContext(V1),r=e.pause||!!t.pause,i=e.immediate||!!t.immediate;e=Uae(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=V1;return z.createElement(s,{value:e},n)},V1=ule(Cx,{});Cx.Provider=V1.Provider;Cx.Consumer=V1.Consumer;function ule(n,e){return Object.assign(n,z.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}var fle=()=>{const n=[],e=function(r){Oae();const i=[];return yn(n,(s,o)=>{if(rt.und(r))i.push(s.start());else{const a=t(r,s,o);a&&i.push(s.start(a))}}),i};e.current=n,e.add=function(r){n.includes(r)||n.push(r)},e.delete=function(r){const i=n.indexOf(r);~i&&n.splice(i,1)},e.pause=function(){return yn(n,r=>r.pause(...arguments)),this},e.resume=function(){return yn(n,r=>r.resume(...arguments)),this},e.set=function(r){yn(n,(i,s)=>{const o=rt.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return yn(n,(s,o)=>{if(rt.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return yn(n,r=>r.stop(...arguments)),this},e.update=function(r){return yn(n,(i,s)=>i.update(this._getProps(r,i,s))),this};const t=function(r,i,s){return rt.fun(r)?r(s,i):r};return e._getProps=t,e};function dle(n,e,t){const r=rt.fun(e)&&e;r&&!t&&(t=[]);const i=z.useMemo(()=>r||arguments.length==3?fle():void 0,[]),s=z.useRef(0),o=$z(),a=z.useMemo(()=>({ctrls:[],queue:[],flush(g,x){const S=VD(g,x);return s.current>0&&!a.queue.length&&!Object.keys(S).some(w=>!g.springs[w])?_b(g,x):new Promise(w=>{l8(g,S),a.queue.push(()=>{w(_b(g,x))}),o()})}}),[]),l=z.useRef([...a.ctrls]),c=[],u=ID(n)||0;z.useMemo(()=>{yn(l.current.slice(n,u),g=>{Qae(g,i),g.stop(!0)}),l.current.length=n,f(u,n)},[n]),z.useMemo(()=>{f(0,Math.min(u,n))},t);function f(g,x){for(let S=g;S<x;S++){const M=l.current[S]||(l.current[S]=new cle(null,a.flush)),w=r?r(S,M):e[S];w&&(c[S]=sle(w))}}const p=l.current.map((g,x)=>VD(g,c[x])),m=z.useContext(Cx),v=ID(m),y=m!==v&&Kae(m);B2(()=>{s.current++,a.ctrls=l.current;const{queue:g}=a;g.length&&(a.queue=[],yn(g,x=>x())),yn(l.current,(x,S)=>{i==null||i.add(x),y&&x.start({default:m});const M=c[S];M&&(Zae(x,M.ref),x.ref?x.queue.push(M):x.start(M))})}),Kz(()=>()=>{yn(a.ctrls,g=>g.stop(!0))});const _=p.map(g=>({...g}));return i?[_,i]:_}function hle(n,e){const t=rt.fun(n),[[r],i]=dle(1,t?n:[n],t?e||[]:e);return t||arguments.length==2?[r,i]:r}var ple=class extends U2{constructor(n,e){super(),this.source=n,this.idle=!0,this._active=new Set,this.calc=Qm(...e);const t=this._get(),r=hb(t);L2(this,r.create(t))}advance(n){const e=this._get(),t=this.get();Da(e,t)||(Jo(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&WD(this._active)&&AM(this)}_get(){const n=rt.arr(this.source)?this.source.map(ks):Js(ks(this.source));return this.calc(...n)}_start(){this.idle&&!WD(this._active)&&(this.idle=!1,yn(Tx(this),n=>{n.done=!1}),Bo.skipAnimation?(Ut.batchedUpdates(()=>this.advance()),AM(this)):Mx.start(this))}_attach(){let n=1;yn(Js(this.source),e=>{$o(e)&&Wg(e,this),gb(e)&&(e.idle||this._active.add(e),n=Math.max(n,e.priority+1))}),this.priority=n,this._start()}_detach(){yn(Js(this.source),n=>{$o(n)&&G1(n,this)}),this._active.clear(),AM(this)}eventObserved(n){n.type=="change"?n.idle?this.advance():(this._active.add(n.parent),this._start()):n.type=="idle"?this._active.delete(n.parent):n.type=="priority"&&(this.priority=Js(this.source).reduce((e,t)=>Math.max(e,(gb(t)?t.priority:0)+1),0))}};function mle(n){return n.idle!==!1}function WD(n){return!n.size||Array.from(n).every(mle)}function AM(n){n.idle||(n.idle=!0,yn(Tx(n),e=>{e.done=!0}),z1(n,{type:"idle",parent:n}))}Bo.assign({createStringInterpolator:Jz,to:(n,e)=>new ple(n,e)});var gle=["primitive"].concat(Object.keys(PC).filter(n=>/^[A-Z]/.test(n)).map(n=>n[0].toLowerCase()+n.slice(1)));Bo.assign({createStringInterpolator:Jz,colors:fae,frameLoop:"demand"});NN(()=>{Ut.advance()});var vle=jae(gle,{applyAnimatedValues:Tl}),yle=vle.animated;function _le(n){const{nodes:e,materials:t}=cr("/coffee_cup-transformed.glb");return ie.jsx("group",{...n,dispose:null,children:ie.jsx("mesh",{geometry:e.Cube_Cube022.geometry,material:t["Material.001"],rotation:[Math.PI/2,0,0]})})}cr.preload("/coffee_cup-transformed.glb");function xle(n){const{nodes:e,materials:t}=cr("/Keyboard-transformed.glb");return ie.jsx("group",{...n,dispose:null,children:ie.jsx("mesh",{geometry:e.Keyboard1.geometry,material:t.lambert3SG})})}cr.preload("/Keyboard-transformed.glb");function Sle(n){const{nodes:e,materials:t}=cr("/Monitor-transformed.glb");return ie.jsx("group",{...n,dispose:null,children:ie.jsx("mesh",{geometry:e.Monitor.geometry,material:t.lambert3SG})})}cr.preload("/Monitor-transformed.glb");function Ale(n){const{nodes:e,materials:t}=cr("/Mouse-transformed.glb");return ie.jsx("group",{...n,dispose:null,children:ie.jsx("mesh",{geometry:e.ComputerMouse_mesh.geometry,material:t.ComputerMouse_mat1})})}cr.preload("/Mouse-transformed.glb");function Mle(n){const{nodes:e,materials:t}=cr("/PC-transformed.glb");return ie.jsx("group",{...n,dispose:null,children:ie.jsx("mesh",{geometry:e.PC.geometry,material:t.Mat})})}cr.preload("/PC-transformed.glb");function Ele(n){const{nodes:e,materials:t}=cr("/Desk-transformed.glb");return ie.jsx("group",{...n,dispose:null,children:ie.jsxs("group",{rotation:[Math.PI/2,0,0],children:[ie.jsx("mesh",{geometry:e.desk_1.geometry,material:t.wood}),ie.jsx("mesh",{geometry:e.desk_2.geometry,material:t.metal})]})})}cr.preload("/Desk-transformed.glb");function wle(n){const{nodes:e,materials:t}=cr("/DeskLamp-transformed.glb");return ie.jsx("group",{...n,dispose:null,children:ie.jsxs("group",{rotation:[-Math.PI/2,0,0],scale:100,children:[ie.jsx("mesh",{geometry:e.Light_Desk_1.geometry,material:t.Black}),ie.jsx("mesh",{geometry:e.Light_Desk_2.geometry,material:t.LightMetal}),ie.jsx("mesh",{geometry:e.Light_Desk_3.geometry,material:t.White})]})})}cr.preload("/DeskLamp-transformed.glb");function ble(n){const{nodes:e,materials:t}=cr("/Mug-transformed.glb");return ie.jsx("group",{...n,dispose:null,children:ie.jsx("mesh",{geometry:e["496_Mugs"].geometry,material:t.Mat,rotation:[Math.PI/2,0,0]})})}cr.preload("/Mug-transformed.glb");function Tle(n){const{nodes:e,materials:t}=cr("/Plate-transformed.glb");return ie.jsx("group",{...n,dispose:null,children:ie.jsx("mesh",{geometry:e["498_Plates"].geometry,material:t["Mat.001"],rotation:[Math.PI/2,0,0]})})}cr.preload("/Plate-transformed.glb");function Cle(n){const{nodes:e,materials:t}=cr("/Sandwhich-transformed.glb");return ie.jsx("group",{...n,dispose:null,children:ie.jsx("mesh",{geometry:e.group1021991821.geometry,material:t.PaletteMaterial001,rotation:[Math.PI/2,0,0]})})}cr.preload("/Sandwhich-transformed.glb");function Rle(){const n={pos:{x:-2.2,y:-2.2,z:-.6},rotation:{x:0,y:3,z:0},scale:8.5},e={pos:{x:1.8,y:1.07,z:-2.4},rotation:{x:0,y:-.2,z:0},scale:.005},t={pos:{x:2.4,y:1.05,z:-1},rotation:{x:0,y:-3.4,z:0},scale:.1},r={pos:{x:.8,y:1.047,z:-1.2},rotation:{x:0,y:-.4,z:0},scale:.005},i={pos:{x:4.2,y:-2.2,z:0},rotation:{x:0,y:-4.85,z:0},scale:.02},s={pos:{x:-.6,y:1.45,z:-2.8},rotation:{x:0,y:0,z:0},scale:.6},o={pos:{x:3.6,y:1.047,z:-1.6},rotation:{x:0,y:-1,z:0},scale:.005},a={pos:{x:-1.4,y:1.07,z:-2.8},rotation:{x:0,y:.8,z:0},scale:3.2},l={pos:{x:-1.2,y:1.2,z:-1.6},rotation:{x:0,y:-2.6,z:0},scale:1},c={pos:{x:-1.2,y:1.05,z:-1.6},rotation:{x:0,y:0,z:0},scale:.02},[u,f]=nn.useState(!1);return ie.jsxs(ie.Fragment,{children:[ie.jsx("rectAreaLight",{visible:!0,width:5,height:5,intensity:12,color:"#ffffff",rotation:[1.8,1.8,0],position:[4.8,1.4,6.2]}),ie.jsx("rectAreaLight",{visible:!0,width:1.75,height:1.15,intensity:15,color:"#52bdc7",rotation:[0,-3.35,0],position:[1.8,1.9,-2.4]}),ie.jsx(_le,{position:[s.pos.x,s.pos.y,s.pos.z],rotation:[s.rotation.x,s.rotation.y,s.rotation.z],scale:s.scale}),ie.jsx(Ele,{position:[n.pos.x,n.pos.y,n.pos.z],rotation:[n.rotation.x,n.rotation.y,n.rotation.z],scale:n.scale}),ie.jsxs("group",{onClick:()=>f(!u),children:[ie.jsx(wle,{position:[a.pos.x,a.pos.y,a.pos.z],rotation:[a.rotation.x,a.rotation.y,a.rotation.z],scale:a.scale}),ie.jsxs("mesh",{visible:!0,scale:.2,position:[-.85,2.37,-2.27],children:[ie.jsx("sphereGeometry",{args:[1,16,16]}),ie.jsx("meshStandardMaterial",{color:"#FFFFED",transparent:!0})]})]}),ie.jsx(ble,{position:[o.pos.x,o.pos.y,o.pos.z],rotation:[o.rotation.x,o.rotation.y,o.rotation.z],scale:o.scale}),ie.jsx(xle,{position:[r.pos.x,r.pos.y,r.pos.z],rotation:[r.rotation.x,r.rotation.y,r.rotation.z],scale:r.scale}),ie.jsx(Ale,{position:[t.pos.x,t.pos.y,t.pos.z],rotation:[t.rotation.x,t.rotation.y,t.rotation.z],scale:t.scale}),ie.jsx(Sle,{position:[e.pos.x,e.pos.y,e.pos.z],rotation:[e.rotation.x,e.rotation.y,e.rotation.z],scale:e.scale}),ie.jsx(Mle,{position:[i.pos.x,i.pos.y,i.pos.z],rotation:[i.rotation.x,i.rotation.y,i.rotation.z],scale:i.scale}),ie.jsx(Tle,{position:[c.pos.x,c.pos.y,c.pos.z],rotation:[c.rotation.x,c.rotation.y,c.rotation.z],scale:c.scale}),ie.jsx(Cle,{position:[l.pos.x,l.pos.y,l.pos.z],rotation:[l.rotation.x,l.rotation.y,l.rotation.z],scale:l.scale})]})}function Oa(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function d8(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ms={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},sh={duration:.5,overwrite:!1,delay:0},k2,ci,sr,Ys=1e8,Cn=1/Ys,xb=Math.PI*2,Ple=xb/4,Ile=0,h8=Math.sqrt,Ble=Math.cos,Lle=Math.sin,Gr=function(e){return typeof e=="string"},ar=function(e){return typeof e=="function"},el=function(e){return typeof e=="number"},N2=function(e){return typeof e>"u"},ua=function(e){return typeof e=="object"},Xi=function(e){return e!==!1},z2=function(){return typeof window<"u"},hy=function(e){return ar(e)||Gr(e)},p8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ui=Array.isArray,Sb=/(?:-?\.?\d|\.)+/gi,m8=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,xd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,MM=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,g8=/[+-]=-?[.\d]+/,v8=/[^,'"\[\]\s]+/gi,Dle=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,jn,Os,Ab,G2,ys={},W1={},y8,_8=function(e){return(W1=Ju(e,ys))&&$i},H2=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},j1=function(e,t){return!t&&console.warn(e)},x8=function(e,t){return e&&(ys[e]=t)&&W1&&(W1[e]=t)||ys},ig=function(){return 0},Ole={suppressEvents:!0,isStart:!0,kill:!1},jy={suppressEvents:!0,kill:!1},Fle={suppressEvents:!0},V2={},nc=[],Mb={},S8,cs={},EM={},jD=30,Xy=[],W2="",j2=function(e){var t=e[0],r,i;if(ua(t)||ar(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Xy.length;i--&&!Xy[i].targetTest(t););r=Xy[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new j8(e[i],r)))||e.splice(i,1);return e},Tu=function(e){return e._gsap||j2($s(e))[0]._gsap},A8=function(e,t,r){return(r=e[t])&&ar(r)?e[t]():N2(r)&&e.getAttribute&&e.getAttribute(t)||r},Ji=function(e,t){return(e=e.split(",")).forEach(t)||e},mr=function(e){return Math.round(e*1e5)/1e5||0},Xr=function(e){return Math.round(e*1e7)/1e7||0},Fd=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},Ule=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},X1=function(){var e=nc.length,t=nc.slice(0),r,i;for(Mb={},nc.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},M8=function(e,t,r,i){nc.length&&!ci&&X1(),e.render(t,r,i||ci&&t<0&&(e._initted||e._startAt)),nc.length&&!ci&&X1()},E8=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(v8).length<2?t:Gr(e)?e.trim():e},w8=function(e){return e},to=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},kle=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},Ju=function(e,t){for(var r in t)e[r]=t[r];return e},XD=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ua(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},J1=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},om=function(e){var t=e.parent||jn,r=e.keyframes?kle(ui(e.keyframes)):to;if(Xi(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},Nle=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},b8=function(e,t,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},Rx=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},uc=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Cu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},zle=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Eb=function(e,t,r,i){return e._startAt&&(ci?e._startAt.revert(jy):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},Gle=function n(e){return!e||e._ts&&n(e.parent)},JD=function(e){return e._repeat?oh(e._tTime,e=e.duration()+e._rDelay)*e:0},oh=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},Y1=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Px=function(e){return e._end=Xr(e._start+(e._tDur/Math.abs(e._ts||e._rts||Cn)||0))},Ix=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Xr(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Px(e),r._dirty||Cu(r,e)),e},T8=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=Y1(e.rawTime(),t),(!t._dur||Xg(0,t.totalDuration(),r)-t._tTime>Cn)&&t.render(r,!0)),Cu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Cn}},Qo=function(e,t,r,i){return t.parent&&uc(t),t._start=Xr((el(r)?r:r||e!==jn?Ls(e,r,t):e._time)+t._delay),t._end=Xr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),b8(e,t,"_first","_last",e._sort?"_start":0),wb(t)||(e._recent=t),i||T8(e,t),e._ts<0&&Ix(e,e._tTime),e},C8=function(e,t){return(ys.ScrollTrigger||H2("scrollTrigger",t))&&ys.ScrollTrigger.create(t,e)},R8=function(e,t,r,i,s){if(J2(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!ci&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&S8!==us.frame)return nc.push(e),e._lazy=[s,i],1},Hle=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},wb=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Vle=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&Hle(e)&&!(!e._initted&&wb(e))||(e._ts<0||e._dp._ts<0)&&!wb(e))?0:1,a=e._rDelay,l=0,c,u,f;if(a&&e._repeat&&(l=Xg(0,e._tDur,t),u=oh(l,a),e._yoyo&&u&1&&(o=1-o),u!==oh(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||ci||i||e._zTime===Cn||!t&&e._zTime){if(!e._initted&&R8(e,t,i,r,l))return;for(f=e._zTime,e._zTime=t||(r?Cn:0),r||(r=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&Eb(e,t,r,!0),e._onUpdate&&!r&&Ks(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Ks(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&uc(e,1),!r&&!ci&&(Ks(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Wle=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},ah=function(e,t,r,i){var s=e._repeat,o=Xr(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Xr(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Ix(e,e._tTime=e._tDur*a),e.parent&&Px(e),r||Cu(e.parent,e),e},YD=function(e){return e instanceof Ni?Cu(e):ah(e,e._dur)},jle={_start:0,endTime:ig,totalDuration:ig},Ls=function n(e,t,r){var i=e.labels,s=e._recent||jle,o=e.duration()>=Ys?s.endTime(!1):e._dur,a,l,c;return Gr(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&r&&(l=l/100*(ui(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},am=function(e,t,r){var i=el(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Xi(l.vars.inherit)&&l.parent;o.immediateRender=Xi(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Ar(t[0],o,t[s+1])},_c=function(e,t){return e||e===0?t(e):t},Xg=function(e,t,r){return r<e?e:r>t?t:r},oi=function(e,t){return!Gr(e)||!(t=Dle.exec(e))?"":t[1]},Xle=function(e,t,r){return _c(r,function(i){return Xg(e,t,i)})},bb=[].slice,P8=function(e,t){return e&&ua(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ua(e[0]))&&!e.nodeType&&e!==Os},Jle=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Gr(i)&&!t||P8(i,1)?(s=r).push.apply(s,$s(i)):r.push(i)})||r},$s=function(e,t,r){return sr&&!t&&sr.selector?sr.selector(e):Gr(e)&&!r&&(Ab||!lh())?bb.call((t||G2).querySelectorAll(e),0):ui(e)?Jle(e,r):P8(e)?bb.call(e,0):e?[e]:[]},Tb=function(e){return e=$s(e)[0]||j1("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return $s(t,r.querySelectorAll?r:r===e?j1("Invalid scope")||G2.createElement("div"):e)}},I8=function(e){return e.sort(function(){return .5-Math.random()})},B8=function(e){if(ar(e))return e;var t=ua(e)?e:{each:e},r=Ru(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,u=i,f=i;return Gr(i)?u=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],f=i[1]),function(p,m,v){var y=(v||t).length,_=o[y],g,x,S,M,w,b,T,R,C;if(!_){if(C=t.grid==="auto"?0:(t.grid||[1,Ys])[1],!C){for(T=-Ys;T<(T=v[C++].getBoundingClientRect().left)&&C<y;);C--}for(_=o[y]=[],g=l?Math.min(C,y)*u-.5:i%C,x=C===Ys?0:l?y*f/C-.5:i/C|0,T=0,R=Ys,b=0;b<y;b++)S=b%C-g,M=x-(b/C|0),_[b]=w=c?Math.abs(c==="y"?M:S):h8(S*S+M*M),w>T&&(T=w),w<R&&(R=w);i==="random"&&I8(_),_.max=T-R,_.min=R,_.v=y=(parseFloat(t.amount)||parseFloat(t.each)*(C>y?y-1:c?c==="y"?y/C:C:Math.max(C,y/C))||0)*(i==="edges"?-1:1),_.b=y<0?s-y:s,_.u=oi(t.amount||t.each)||0,r=r&&y<0?H8(r):r}return y=(_[p]-_.min)/_.max||0,Xr(_.b+(r?r(y):y)*_.v)+_.u}},Cb=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Xr(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(el(r)?0:oi(r))}},L8=function(e,t){var r=ui(e),i,s;return!r&&ua(e)&&(i=r=e.radius||Ys,e.values?(e=$s(e.values),(s=!el(e[0]))&&(i*=i)):e=Cb(e.increment)),_c(t,r?ar(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Ys,u=0,f=e.length,p,m;f--;)s?(p=e[f].x-a,m=e[f].y-l,p=p*p+m*m):p=Math.abs(e[f]-a),p<c&&(c=p,u=f);return u=!i||c<=i?e[u]:o,s||u===o||el(o)?u:u+oi(o)}:Cb(e))},D8=function(e,t,r,i){return _c(ui(e)?!t:r===!0?!!(r=0):!i,function(){return ui(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},Yle=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},$le=function(e,t){return function(r){return e(parseFloat(r))+(t||oi(r))}},Kle=function(e,t,r){return F8(e,t,0,1,r)},O8=function(e,t,r){return _c(r,function(i){return e[~~t(i)]})},Qle=function n(e,t,r){var i=t-e;return ui(e)?O8(e,n(0,e.length),t):_c(r,function(s){return(i+(s-e)%i)%i+e})},Zle=function n(e,t,r){var i=t-e,s=i*2;return ui(e)?O8(e,n(0,e.length-1),t):_c(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},sg=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?v8:Sb),r+=e.substr(t,i-t)+D8(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},F8=function(e,t,r,i,s){var o=t-e,a=i-r;return _c(s,function(l){return r+((l-e)/o*a||0)})},qle=function n(e,t,r,i){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=Gr(e),a={},l,c,u,f,p;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(ui(e)&&!ui(t)){for(u=[],f=e.length,p=f-2,c=1;c<f;c++)u.push(n(e[c-1],e[c]));f--,s=function(v){v*=f;var y=Math.min(p,~~v);return u[y](v-y)},r=t}else i||(e=Ju(ui(e)?[]:{},e));if(!u){for(l in t)X2.call(a,e,l,"get",t[l]);s=function(v){return K2(v,a)||(o?e.p:e)}}}return _c(r,s)},$D=function(e,t,r){var i=e.labels,s=Ys,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Ks=function(e,t,r){var i=e.vars,s=i[t],o=sr,a=e._ctx,l,c,u;if(s)return l=i[t+"Params"],c=i.callbackScope||e,r&&nc.length&&X1(),a&&(sr=a),u=l?s.apply(c,l):s.call(c),sr=o,u},Lp=function(e){return uc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ci),e.progress()<1&&Ks(e,"onInterrupt"),e},Sd,U8=[],k8=function(e){if(z2()&&e){e=!e.name&&e.default||e;var t=e.name,r=ar(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:ig,render:K2,add:X2,kill:mce,modifier:pce,rawVars:0},o={targetTest:0,get:0,getSetter:$2,aliases:{},register:0};if(lh(),e!==i){if(cs[t])return;to(i,to(J1(e,s),o)),Ju(i.prototype,Ju(s,J1(e,o))),cs[i.prop=t]=i,e.targetTest&&(Xy.push(i),V2[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}x8(t,i),e.register&&e.register($i,i,Yi)}else e&&U8.push(e)},Tn=255,Dp={aqua:[0,Tn,Tn],lime:[0,Tn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Tn],navy:[0,0,128],white:[Tn,Tn,Tn],olive:[128,128,0],yellow:[Tn,Tn,0],orange:[Tn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Tn,0,0],pink:[Tn,192,203],cyan:[0,Tn,Tn],transparent:[Tn,Tn,Tn,0]},wM=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*Tn+.5|0},N8=function(e,t,r){var i=e?el(e)?[e>>16,e>>8&Tn,e&Tn]:0:Dp.black,s,o,a,l,c,u,f,p,m,v;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Dp[e])i=Dp[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Tn,i&Tn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Tn,e&Tn]}else if(e.substr(0,3)==="hsl"){if(i=v=e.match(Sb),!t)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=wM(l+1/3,s,o),i[1]=wM(l,s,o),i[2]=wM(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(m8),r&&i.length<4&&(i[3]=1),i}else i=e.match(Sb)||Dp.transparent;i=i.map(Number)}return t&&!v&&(s=i[0]/Tn,o=i[1]/Tn,a=i[2]/Tn,f=Math.max(s,o,a),p=Math.min(s,o,a),u=(f+p)/2,f===p?l=c=0:(m=f-p,c=u>.5?m/(2-f-p):m/(f+p),l=f===s?(o-a)/m+(o<a?6:0):f===o?(a-s)/m+2:(s-o)/m+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},z8=function(e){var t=[],r=[],i=-1;return e.split(rc).forEach(function(s){var o=s.match(xd)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},KD=function(e,t,r){var i="",s=(e+i).match(rc),o=t?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return e;if(s=s.map(function(p){return(p=N8(p,t,1))&&o+(t?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),r&&(u=z8(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(rc,"1").split(xd),f=c.length-1;a<f;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(rc),f=c.length-1;a<f;a++)i+=c[a]+s[a];return i+c[f]},rc=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Dp)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),ece=/hsl[a]?\(/,G8=function(e){var t=e.join(" "),r;if(rc.lastIndex=0,rc.test(t))return r=ece.test(t),e[1]=KD(e[1],r),e[0]=KD(e[0],r,z8(e[1])),!0},og,us=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,c,u,f,p,m,v=function y(_){var g=n()-i,x=_===!0,S,M,w,b;if(g>e&&(r+=g-t),i+=g,w=i-r,S=w-o,(S>0||x)&&(b=++f.frame,p=w-f.time*1e3,f.time=w=w/1e3,o+=S+(S>=s?4:s-S),M=1),x||(l=c(y)),M)for(m=0;m<a.length;m++)a[m](w,p,b,_)};return f={time:0,frame:0,tick:function(){v(!0)},deltaRatio:function(_){return p/(1e3/(_||60))},wake:function(){y8&&(!Ab&&z2()&&(Os=Ab=window,G2=Os.document||{},ys.gsap=$i,(Os.gsapVersions||(Os.gsapVersions=[])).push($i.version),_8(W1||Os.GreenSockGlobals||!Os.gsap&&Os||{}),u=Os.requestAnimationFrame,U8.forEach(k8)),l&&f.sleep(),c=u||function(_){return setTimeout(_,o-f.time*1e3+1|0)},og=1,v(2))},sleep:function(){(u?Os.cancelAnimationFrame:clearTimeout)(l),og=0,c=ig},lagSmoothing:function(_,g){e=_||1/0,t=Math.min(g||33,e)},fps:function(_){s=1e3/(_||240),o=f.time*1e3+s},add:function(_,g,x){var S=g?function(M,w,b,T){_(M,w,b,T),f.remove(S)}:_;return f.remove(_),a[x?"unshift":"push"](S),lh(),S},remove:function(_,g){~(g=a.indexOf(_))&&a.splice(g,1)&&m>=g&&m--},_listeners:a},f}(),lh=function(){return!og&&us.wake()},rn={},tce=/^[\d.\-M][\d.\-,\s]/,nce=/["']/g,rce=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace(nce,"").trim():+c,i=l.substr(a+1).trim();return t},ice=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},sce=function(e){var t=(e+"").split("("),r=rn[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[rce(t[1])]:ice(e).split(",").map(E8)):rn._CE&&tce.test(e)?rn._CE("",e):r},H8=function(e){return function(t){return 1-e(1-t)}},V8=function n(e,t){for(var r=e._first,i;r;)r instanceof Ni?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},Ru=function(e,t){return e&&(ar(e)?e:rn[e]||sce(e))||t},nf=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return Ji(e,function(a){rn[a]=ys[a]=s,rn[o=a.toLowerCase()]=r;for(var l in s)rn[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=rn[a+"."+l]=s[l]}),s},W8=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},bM=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/xb*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*Lle((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:W8(a);return s=xb/s,l.config=function(c,u){return n(e,c,u)},l},TM=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:W8(r);return i.config=function(s){return n(e,s)},i};Ji("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;nf(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});rn.Linear.easeNone=rn.none=rn.Linear.easeIn;nf("Elastic",bM("in"),bM("out"),bM());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};nf("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);nf("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});nf("Circ",function(n){return-(h8(1-n*n)-1)});nf("Sine",function(n){return n===1?1:-Ble(n*Ple)+1});nf("Back",TM("in"),TM("out"),TM());rn.SteppedEase=rn.steps=ys.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-Cn;return function(a){return((i*Xg(0,o,a)|0)+s)*r}}};sh.ease=rn["quad.out"];Ji("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return W2+=n+","+n+"Params,"});var j8=function(e,t){this.id=Ile++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:A8,this.set=t?t.getSetter:$2},ag=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,ah(this,+t.duration,1,1),this.data=t.data,sr&&(this._ctx=sr,sr.data.push(this)),og||us.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,ah(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(lh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Ix(this,r),!s._dp||s.parent||T8(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Qo(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Cn||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),M8(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+JD(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+JD(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?oh(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-Cn?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?Y1(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Cn?0:this._rts,this.totalTime(Xg(-Math.abs(this._delay),this._tDur,i),!0),Px(this),zle(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(lh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Cn&&(this._tTime-=Cn)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Qo(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Xi(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Y1(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Fle);var i=ci;return ci=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),ci=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,YD(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,YD(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Ls(this,r),Xi(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Xi(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Cn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Cn,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Cn)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=ar(r)?r:w8,a=function(){var c=i.then;i.then=null,ar(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Lp(this)},n}();to(ag.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Cn,_prom:0,_ps:!1,_rts:1});var Ni=function(n){d8(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Xi(r.sortChildren),jn&&Qo(r.parent||jn,Oa(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&C8(Oa(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return am(0,arguments,this),this},t.from=function(i,s,o){return am(1,arguments,this),this},t.fromTo=function(i,s,o,a){return am(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,om(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ar(i,s,Ls(this,o),1),this},t.call=function(i,s,o){return Qo(this,Ar.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Ar(i,o,Ls(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,om(o).immediateRender=Xi(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},t.staggerFromTo=function(i,s,o,a,l,c,u,f){return a.startAt=o,om(a).immediateRender=Xi(a.immediateRender),this.staggerTo(i,s,a,l,c,u,f)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:Xr(i),f=this._zTime<0!=i<0&&(this._initted||!c),p,m,v,y,_,g,x,S,M,w,b,T;if(this!==jn&&u>l&&i>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),p=u,M=this._start,S=this._ts,g=!S,f&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(b=this._yoyo,_=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(_*100+i,s,o);if(p=Xr(u%_),u===l?(y=this._repeat,p=c):(y=~~(u/_),y&&y===u/_&&(p=c,y--),p>c&&(p=c)),w=oh(this._tTime,_),!a&&this._tTime&&w!==y&&this._tTime-w*_-this._dur<=0&&(w=y),b&&y&1&&(p=c-p,T=1),y!==w&&!this._lock){var R=b&&w&1,C=R===(b&&y&1);if(y<w&&(R=!R),a=R?0:u%c?c:u,this._lock=1,this.render(a||(T?0:Xr(y*_)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&Ks(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,C&&(this._lock=2,a=R?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;V8(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=Wle(this,Xr(a),Xr(p)),x&&(u-=p-(p=x._start))),this._tTime=u,this._time=p,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&p&&!s&&!y&&(Ks(this,"onStart"),this._tTime!==u))return this;if(p>=a&&i>=0)for(m=this._first;m;){if(v=m._next,(m._act||p>=m._start)&&m._ts&&x!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(p-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(p-m._start)*m._ts,s,o),p!==this._time||!this._ts&&!g){x=0,v&&(u+=this._zTime=-Cn);break}}m=v}else{m=this._last;for(var B=i<0?i:p;m;){if(v=m._prev,(m._act||B<=m._end)&&m._ts&&x!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(B-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(B-m._start)*m._ts,s,o||ci&&(m._initted||m._startAt)),p!==this._time||!this._ts&&!g){x=0,v&&(u+=this._zTime=B?-Cn:Cn);break}}m=v}}if(x&&!s&&(this.pause(),x.render(p>=a?0:-Cn)._zTime=p>=a?1:-1,this._ts))return this._start=M,Px(this),this.render(i,s,o);this._onUpdate&&!s&&Ks(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(M===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&uc(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(Ks(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(el(s)||(s=Ls(this,s,i)),!(i instanceof ag)){if(ui(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Gr(i))return this.addLabel(i,s);if(ar(i))i=Ar.delayedCall(0,i);else return this}return this!==i?Qo(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Ys);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Ar?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Gr(i)?this.removeLabel(i):ar(i)?this.killTweensOf(i):(Rx(this,i),i===this._recent&&(this._recent=this._last),Cu(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Xr(us.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Ls(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=Ar.delayedCall(0,s||ig,o);return a.data="isPause",this._hasPause=1,Qo(this,a,Ls(this,i))},t.removePause=function(i){var s=this._first;for(i=Ls(this,i);s;)s._start===i&&s.data==="isPause"&&uc(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Nl!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=$s(i),l=this._first,c=el(s),u;l;)l instanceof Ar?Ule(l._targets,a)&&(c?(!Nl||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Ls(o,i),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,p=l.immediateRender,m,v=Ar.to(o,to({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Cn,onStart:function(){if(o.pause(),!m){var _=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());v._dur!==_&&ah(v,_,0,1).render(v._time,!0,!0),m=1}u&&u.apply(v,f||[])}},s));return p?v.render(0):v},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,to({startAt:{time:Ls(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),$D(this,Ls(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),$D(this,Ls(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Cn)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return Cu(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Cu(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=Ys,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Qo(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;ah(o,o===jn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(jn._ts&&(M8(jn,Y1(i,jn)),S8=us.frame),us.frame>=jD){jD+=ms.autoSleep||120;var s=jn._first;if((!s||!s._ts)&&ms.autoSleep&&us._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||us.sleep()}}},e}(ag);to(Ni.prototype,{_lock:0,_hasPause:0,_forcing:0});var oce=function(e,t,r,i,s,o,a){var l=new Yi(this._pt,e,t,0,1,Q8,null,s),c=0,u=0,f,p,m,v,y,_,g,x;for(l.b=r,l.e=i,r+="",i+="",(g=~i.indexOf("random("))&&(i=sg(i)),o&&(x=[r,i],o(x,e,t),r=x[0],i=x[1]),p=r.match(MM)||[];f=MM.exec(i);)v=f[0],y=i.substring(c,f.index),m?m=(m+1)%5:y.substr(-5)==="rgba("&&(m=1),v!==p[u++]&&(_=parseFloat(p[u-1])||0,l._pt={_next:l._pt,p:y||u===1?y:",",s:_,c:v.charAt(1)==="="?Fd(_,v)-_:parseFloat(v)-_,m:m&&m<4?Math.round:0},c=MM.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(g8.test(i)||g)&&(l.e=0),this._pt=l,l},X2=function(e,t,r,i,s,o,a,l,c,u){ar(i)&&(i=i(s||0,e,o));var f=e[t],p=r!=="get"?r:ar(f)?c?e[t.indexOf("set")||!ar(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():f,m=ar(f)?c?fce:$8:Y2,v;if(Gr(i)&&(~i.indexOf("random(")&&(i=sg(i)),i.charAt(1)==="="&&(v=Fd(p,i)+(oi(p)||0),(v||v===0)&&(i=v))),!u||p!==i||Rb)return!isNaN(p*i)&&i!==""?(v=new Yi(this._pt,e,t,+p||0,i-(p||0),typeof f=="boolean"?hce:K8,0,m),c&&(v.fp=c),a&&v.modifier(a,this,e),this._pt=v):(!f&&!(t in e)&&H2(t,i),oce.call(this,e,t,p,i,m,l||ms.stringFilter,c))},ace=function(e,t,r,i,s){if(ar(e)&&(e=lm(e,s,t,r,i)),!ua(e)||e.style&&e.nodeType||ui(e)||p8(e))return Gr(e)?lm(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=lm(e[a],s,t,r,i);return o},X8=function(e,t,r,i,s,o){var a,l,c,u;if(cs[e]&&(a=new cs[e]).init(s,a.rawVars?t[e]:ace(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new Yi(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Sd))for(c=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Nl,Rb,J2=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.onUpdateParams,f=i.callbackScope,p=i.runBackwards,m=i.yoyoEase,v=i.keyframes,y=i.autoRevert,_=e._dur,g=e._startAt,x=e._targets,S=e.parent,M=S&&S.data==="nested"?S.vars.targets:x,w=e._overwrite==="auto"&&!k2,b=e.timeline,T,R,C,B,U,k,W,Y,Q,X,J,O,V;if(b&&(!v||!s)&&(s="none"),e._ease=Ru(s,sh.ease),e._yEase=m?H8(Ru(m===!0?s:m,sh.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!b&&!!i.runBackwards,!b||v&&!i.stagger){if(Y=x[0]?Tu(x[0]).harness:0,O=Y&&i[Y.prop],T=J1(i,V2),g&&(g._zTime<0&&g.progress(1),t<0&&p&&a&&!y?g.render(-1,!0):g.revert(p&&_?jy:Ole),g._lazy=0),o){if(uc(e._startAt=Ar.set(x,to({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!g&&Xi(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:u,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ci||!a&&!y)&&e._startAt.revert(jy),a&&_&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(p&&_&&!g){if(t&&(a=!1),C=to({overwrite:!1,data:"isFromStart",lazy:a&&!g&&Xi(l),immediateRender:a,stagger:0,parent:S},T),O&&(C[Y.prop]=O),uc(e._startAt=Ar.set(x,C)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ci?e._startAt.revert(jy):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,Cn,Cn);else if(!t)return}for(e._pt=e._ptCache=0,l=_&&Xi(l)||l&&!_,R=0;R<x.length;R++){if(U=x[R],W=U._gsap||j2(x)[R]._gsap,e._ptLookup[R]=X={},Mb[W.id]&&nc.length&&X1(),J=M===x?R:M.indexOf(U),Y&&(Q=new Y).init(U,O||T,e,J,M)!==!1&&(e._pt=B=new Yi(e._pt,U,Q.name,0,1,Q.render,Q,0,Q.priority),Q._props.forEach(function(G){X[G]=B}),Q.priority&&(k=1)),!Y||O)for(C in T)cs[C]&&(Q=X8(C,T,e,J,U,M))?Q.priority&&(k=1):X[C]=B=X2.call(e,U,C,"get",T[C],J,M,0,i.stringFilter);e._op&&e._op[R]&&e.kill(U,e._op[R]),w&&e._pt&&(Nl=e,jn.killTweensOf(U,X,e.globalTime(t)),V=!e.parent,Nl=0),e._pt&&l&&(Mb[W.id]=1)}k&&Z8(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!V,v&&t<=0&&b.render(Ys,!0,!0)},lce=function(e,t,r,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,u,f,p;if(!l)for(l=e._ptCache[t]=[],f=e._ptLookup,p=e._targets.length;p--;){if(c=f[p][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return Rb=1,e.vars[t]="+=0",J2(e,a),Rb=0,1;l.push(c)}for(p=l.length;p--;)u=l[p],c=u._pt||u,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,u.e&&(u.e=mr(r)+oi(u.e)),u.b&&(u.b=c.s+oi(u.b))},cce=function(e,t){var r=e[0]?Tu(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=Ju({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},uce=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(ui(t))a=r[e]||(r[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},lm=function(e,t,r,i,s){return ar(e)?e.call(t,r,i,s):Gr(e)&&~e.indexOf("random(")?sg(e):e},J8=W2+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Y8={};Ji(J8+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return Y8[n]=1});var Ar=function(n){d8(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:om(i))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,p=l.stagger,m=l.overwrite,v=l.keyframes,y=l.defaults,_=l.scrollTrigger,g=l.yoyoEase,x=i.parent||jn,S=(ui(r)||p8(r)?el(r[0]):"length"in i)?[r]:$s(r),M,w,b,T,R,C,B,U;if(a._targets=S.length?j2(S):j1("GSAP target "+r+" not found. https://greensock.com",!ms.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,v||p||hy(c)||hy(u)){if(i=a.vars,M=a.timeline=new Ni({data:"nested",defaults:y||{},targets:x&&x.data==="nested"?x.vars.targets:S}),M.kill(),M.parent=M._dp=Oa(a),M._start=0,p||hy(c)||hy(u)){if(T=S.length,B=p&&B8(p),ua(p))for(R in p)~J8.indexOf(R)&&(U||(U={}),U[R]=p[R]);for(w=0;w<T;w++)b=J1(i,Y8),b.stagger=0,g&&(b.yoyoEase=g),U&&Ju(b,U),C=S[w],b.duration=+lm(c,Oa(a),w,C,S),b.delay=(+lm(u,Oa(a),w,C,S)||0)-a._delay,!p&&T===1&&b.delay&&(a._delay=u=b.delay,a._start+=u,b.delay=0),M.to(C,b,B?B(w,C,S):0),M._ease=rn.none;M.duration()?c=u=0:a.timeline=0}else if(v){om(to(M.vars.defaults,{ease:"none"})),M._ease=Ru(v.ease||i.ease||"none");var k=0,W,Y,Q;if(ui(v))v.forEach(function(X){return M.to(S,X,">")}),M.duration();else{b={};for(R in v)R==="ease"||R==="easeEach"||uce(R,v[R],b,v.easeEach);for(R in b)for(W=b[R].sort(function(X,J){return X.t-J.t}),k=0,w=0;w<W.length;w++)Y=W[w],Q={ease:Y.e,duration:(Y.t-(w?W[w-1].t:0))/100*c},Q[R]=Y.v,M.to(S,Q,k),k+=Q.duration;M.duration()<c&&M.to({},{duration:c-M.duration()})}}c||a.duration(c=M.duration())}else a.timeline=0;return m===!0&&!k2&&(Nl=Oa(a),jn.killTweensOf(S),Nl=0),Qo(x,Oa(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!c&&!v&&a._start===Xr(x._time)&&Xi(f)&&Gle(Oa(a))&&x.data!=="nested")&&(a._tTime=-Cn,a.render(Math.max(0,-u)||0)),_&&C8(Oa(a),_),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,f=i>l-Cn&&!u?l:i<Cn?0:i,p,m,v,y,_,g,x,S,M;if(!c)Vle(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(p=f,S=this.timeline,this._repeat){if(y=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(y*100+i,s,o);if(p=Xr(f%y),f===l?(v=this._repeat,p=c):(v=~~(f/y),v&&v===f/y&&(p=c,v--),p>c&&(p=c)),g=this._yoyo&&v&1,g&&(M=this._yEase,p=c-p),_=oh(this._tTime,y),p===a&&!o&&this._initted)return this._tTime=f,this;v!==_&&(S&&this._yEase&&V8(S,g),this.vars.repeatRefresh&&!g&&!this._lock&&(this._lock=o=1,this.render(Xr(y*v),!0).invalidate()._lock=0))}if(!this._initted){if(R8(this,u?i:p,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(M||this._ease)(p/c),this._from&&(this.ratio=x=1-x),p&&!a&&!s&&!v&&(Ks(this,"onStart"),this._tTime!==f))return this;for(m=this._pt;m;)m.r(x,m.d),m=m._next;S&&S.render(i<0?i:!p&&g?-Cn:S._dur*S._ease(p/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&Eb(this,i,s,o),Ks(this,"onUpdate")),this._repeat&&v!==_&&this.vars.onRepeat&&!s&&this.parent&&Ks(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&Eb(this,i,!0,!0),(i||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&uc(this,1),!s&&!(u&&!a)&&(f||a||g)&&(Ks(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a){og||us.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||J2(this,l),c=this._ease(l/this._dur),lce(this,i,s,o,a,c,l)?this.resetTo(i,s,o,a):(Ix(this,0),this.parent||b8(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Lp(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Nl&&Nl.vars.overwrite!==!0)._first||Lp(this),this.parent&&o!==this.timeline.totalDuration()&&ah(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?$s(i):a,c=this._ptLookup,u=this._pt,f,p,m,v,y,_,g;if((!s||s==="all")&&Nle(a,l))return s==="all"&&(this._pt=0),Lp(this);for(f=this._op=this._op||[],s!=="all"&&(Gr(s)&&(y={},Ji(s,function(x){return y[x]=1}),s=y),s=cce(a,s)),g=a.length;g--;)if(~l.indexOf(a[g])){p=c[g],s==="all"?(f[g]=s,v=p,m={}):(m=f[g]=f[g]||{},v=s);for(y in v)_=p&&p[y],_&&((!("kill"in _.d)||_.d.kill(y)===!0)&&Rx(this,_,"_pt"),delete p[y]),m!=="all"&&(m[y]=1)}return this._initted&&!this._pt&&u&&Lp(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return am(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return am(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return jn.killTweensOf(i,s,o)},e}(ag);to(Ar.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ji("staggerTo,staggerFrom,staggerFromTo",function(n){Ar[n]=function(){var e=new Ni,t=bb.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var Y2=function(e,t,r){return e[t]=r},$8=function(e,t,r){return e[t](r)},fce=function(e,t,r,i){return e[t](i.fp,r)},dce=function(e,t,r){return e.setAttribute(t,r)},$2=function(e,t){return ar(e[t])?$8:N2(e[t])&&e.setAttribute?dce:Y2},K8=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},hce=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Q8=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},K2=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},pce=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},mce=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?Rx(this,t,"_pt"):t.dep||(r=1),t=i;return!r},gce=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},Z8=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},Yi=function(){function n(t,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||K8,this.d=l||this,this.set=c||Y2,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=gce,this.m=r,this.mt=s,this.tween=i},n}();Ji(W2+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return V2[n]=1});ys.TweenMax=ys.TweenLite=Ar;ys.TimelineLite=ys.TimelineMax=Ni;jn=new Ni({sortChildren:!1,defaults:sh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ms.stringFilter=G8;var Pu=[],Jy={},vce=[],QD=0,yce=0,CM=function(e){return(Jy[e]||vce).map(function(t){return t()})},Pb=function(){var e=Date.now(),t=[];e-QD>2&&(CM("matchMediaInit"),Pu.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=Os.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&t.push(r))}),CM("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r)}),QD=e,CM("matchMedia"))},q8=function(){function n(t,r){this.selector=r&&Tb(r),this.data=[],this._r=[],this.isReverted=!1,this.id=yce++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){ar(r)&&(s=i,i=r,r=ar);var o=this,a=function(){var c=sr,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=Tb(s)),sr=o,f=i.apply(o,arguments),ar(f)&&o._r.push(f),sr=c,o.selector=u,o.isReverted=!1,f};return o.last=a,r===ar?a(o):r?o[r]=a:a},e.ignore=function(r){var i=sr;sr=null,r(this),sr=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof Ar&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1/0}).forEach(function(l){return l.t.revert(r)}),this.data.forEach(function(l){return!(l instanceof Ar)&&l.revert&&l.revert(r)}),this._r.forEach(function(l){return l(r,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i)for(var a=Pu.length;a--;)Pu[a].id===this.id&&Pu.splice(a,1)},e.revert=function(r){this.kill(r||{})},n}(),_ce=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,s){ua(r)||(r={matches:r});var o=new q8(0,s||this.scope),a=o.conditions={},l,c,u;sr&&!o.selector&&(o.selector=sr.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=Os.matchMedia(r[c]),l&&(Pu.indexOf(o)<0&&Pu.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(Pb):l.addEventListener("change",Pb)));return u&&i(o),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),$1={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return k8(i)})},timeline:function(e){return new Ni(e)},getTweensOf:function(e,t){return jn.getTweensOf(e,t)},getProperty:function(e,t,r,i){Gr(e)&&(e=$s(e)[0]);var s=Tu(e||{}).get,o=r?w8:E8;return r==="native"&&(r=""),e&&(t?o((cs[t]&&cs[t].get||s)(e,t,r,i)):function(a,l,c){return o((cs[a]&&cs[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,r){if(e=$s(e),e.length>1){var i=e.map(function(u){return $i.quickSetter(u,t,r)}),s=i.length;return function(u){for(var f=s;f--;)i[f](u)}}e=e[0]||{};var o=cs[t],a=Tu(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var f=new o;Sd._pt=0,f.init(e,r?u+r:u,Sd,0,[e]),f.render(1,f),Sd._pt&&K2(1,Sd)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,t,r){var i,s=$i.to(e,Ju((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return jn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ru(e.ease,sh.ease)),XD(sh,e||{})},config:function(e){return XD(ms,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!cs[a]&&!ys[a]&&j1(t+" effect requires "+a+" plugin.")}),EM[t]=function(a,l,c){return r($s(a),to(l||{},s),c)},o&&(Ni.prototype[t]=function(a,l,c){return this.add(EM[t](a,ua(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){rn[e]=Ru(t)},parseEase:function(e,t){return arguments.length?Ru(e,t):rn},getById:function(e){return jn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Ni(e),i,s;for(r.smoothChildTiming=Xi(e.smoothChildTiming),jn.remove(r),r._dp=0,r._time=r._tTime=jn._time,i=jn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Ar&&i.vars.onComplete===i._targets[0]))&&Qo(r,i,i._start-i._delay),i=s;return Qo(jn,r,0),r},context:function(e,t){return e?new q8(e,t):sr},matchMedia:function(e){return new _ce(e)},matchMediaRefresh:function(){return Pu.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||Pb()},addEventListener:function(e,t){var r=Jy[e]||(Jy[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Jy[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:Qle,wrapYoyo:Zle,distribute:B8,random:D8,snap:L8,normalize:Kle,getUnit:oi,clamp:Xle,splitColor:N8,toArray:$s,selector:Tb,mapRange:F8,pipe:Yle,unitize:$le,interpolate:qle,shuffle:I8},install:_8,effects:EM,ticker:us,updateRoot:Ni.updateRoot,plugins:cs,globalTimeline:jn,core:{PropTween:Yi,globals:x8,Tween:Ar,Timeline:Ni,Animation:ag,getCache:Tu,_removeLinkedListItem:Rx,reverting:function(){return ci},context:function(e){return e&&sr&&(sr.data.push(e),e._ctx=sr),sr},suppressOverwrites:function(e){return k2=e}}};Ji("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return $1[n]=Ar[n]});us.add(Ni.updateRoot);Sd=$1.to({},{duration:0});var xce=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Sce=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=xce(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},RM=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(Gr(s)&&(l={},Ji(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}Sce(a,s)}}}},$i=$1.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)ci?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},RM("roundProps",Cb),RM("modifiers"),RM("snap",L8))||$1;Ar.version=Ni.version=$i.version="3.12.2";y8=1;z2()&&lh();rn.Power0;rn.Power1;rn.Power2;rn.Power3;rn.Power4;rn.Linear;rn.Quad;rn.Cubic;rn.Quart;rn.Quint;rn.Strong;rn.Elastic;rn.Back;rn.SteppedEase;rn.Bounce;rn.Sine;rn.Expo;rn.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ZD,zl,Ud,Q2,gu,qD,Z2,Ace=function(){return typeof window<"u"},tl={},eu=180/Math.PI,kd=Math.PI/180,Yf=Math.atan2,eO=1e8,q2=/([A-Z])/g,Mce=/(left|right|width|margin|padding|x)/i,Ece=/[\s,\(]\S/,qo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ib=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},wce=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},bce=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Tce=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},eG=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},tG=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Cce=function(e,t,r){return e.style[t]=r},Rce=function(e,t,r){return e.style.setProperty(t,r)},Pce=function(e,t,r){return e._gsap[t]=r},Ice=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},Bce=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Lce=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},Jn="transform",bo=Jn+"Origin",Dce=function n(e,t){var r=this,i=this.target,s=i.style;if(e in tl&&s){if(this.tfm=this.tfm||{},e!=="transform")e=qo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=ka(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:ka(i,e);else return qo.transform.split(",").forEach(function(o){return n.call(r,o,t)});if(this.props.indexOf(Jn)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(bo,t,"")),e=Jn}(s||t)&&this.props.push(e,t,s[e])},nG=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Oce=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(q2,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=Z2(),(!s||!s.isStart)&&!r[Jn]&&(nG(r),i.uncache=1)}},rG=function(e,t){var r={target:e,props:[],revert:Oce,save:Dce};return e._gsap||$i.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},iG,Bb=function(e,t){var r=zl.createElementNS?zl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):zl.createElement(e);return r.style?r:zl.createElement(e)},oa=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(q2,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,ch(t)||t,1)||""},tO="O,Moz,ms,Ms,Webkit".split(","),ch=function(e,t,r){var i=t||gu,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(tO[o]+e in s););return o<0?null:(o===3?"ms":o>=0?tO[o]:"")+e},Lb=function(){Ace()&&window.document&&(ZD=window,zl=ZD.document,Ud=zl.documentElement,gu=Bb("div")||{style:{}},Bb("div"),Jn=ch(Jn),bo=Jn+"Origin",gu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",iG=!!ch("perspective"),Z2=$i.core.reverting,Q2=1)},PM=function n(e){var t=Bb("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Ud.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Ud.removeChild(t),this.style.cssText=s,o},nO=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},sG=function(e){var t;try{t=e.getBBox()}catch{t=PM.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===PM||(t=PM.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+nO(e,["x","cx","x1"])||0,y:+nO(e,["y","cy","y1"])||0,width:0,height:0}:t},oG=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&sG(e))},lg=function(e,t){if(t){var r=e.style;t in tl&&t!==bo&&(t=Jn),r.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(t.replace(q2,"-$1").toLowerCase())):r.removeAttribute(t)}},Gl=function(e,t,r,i,s,o){var a=new Yi(e._pt,t,r,0,1,o?tG:eG);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},rO={deg:1,rad:1,turn:1},Fce={grid:1,flex:1},fc=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=gu.style,l=Mce.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,p=i==="px",m=i==="%",v,y,_,g;return i===o||!s||rO[i]||rO[o]?s:(o!=="px"&&!p&&(s=n(e,t,r,"px")),g=e.getCTM&&oG(e),(m||o==="%")&&(tl[t]||~t.indexOf("adius"))?(v=g?e.getBBox()[l?"width":"height"]:e[u],mr(m?s/v*f:s/100*v)):(a[l?"width":"height"]=f+(p?o:i),y=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,g&&(y=(e.ownerSVGElement||{}).parentNode),(!y||y===zl||!y.appendChild)&&(y=zl.body),_=y._gsap,_&&m&&_.width&&l&&_.time===us.time&&!_.uncache?mr(s/_.width*f):((m||o==="%")&&!Fce[oa(y,"display")]&&(a.position=oa(e,"position")),y===e&&(a.position="static"),y.appendChild(gu),v=gu[u],y.removeChild(gu),a.position="absolute",l&&m&&(_=Tu(y),_.time=us.time,_.width=y[u]),mr(p?v*s/f:v&&s?f/v*s:0))))},ka=function(e,t,r,i){var s;return Q2||Lb(),t in qo&&t!=="transform"&&(t=qo[t],~t.indexOf(",")&&(t=t.split(",")[0])),tl[t]&&t!=="transform"?(s=ug(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Q1(oa(e,bo))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=K1[t]&&K1[t](e,t,r)||oa(e,t)||A8(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?fc(e,t,s,r)+r:s},Uce=function(e,t,r,i){if(!r||r==="none"){var s=ch(t,e,1),o=s&&oa(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=oa(e,"borderTopColor"))}var a=new Yi(this._pt,e.style,t,0,1,Q8),l=0,c=0,u,f,p,m,v,y,_,g,x,S,M,w;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(e.style[t]=i,i=oa(e,t)||i,e.style[t]=r),u=[r,i],G8(u),r=u[0],i=u[1],p=r.match(xd)||[],w=i.match(xd)||[],w.length){for(;f=xd.exec(i);)_=f[0],x=i.substring(l,f.index),v?v=(v+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(v=1),_!==(y=p[c++]||"")&&(m=parseFloat(y)||0,M=y.substr((m+"").length),_.charAt(1)==="="&&(_=Fd(m,_)+M),g=parseFloat(_),S=_.substr((g+"").length),l=xd.lastIndex-S.length,S||(S=S||ms.units[t]||M,l===i.length&&(i+=S,a.e+=S)),M!==S&&(m=fc(e,t,y,S)||0),a._pt={_next:a._pt,p:x||c===1?x:",",s:m,c:g-m,m:v&&v<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?tG:eG;return g8.test(i)&&(a.e=0),this._pt=a,a},iO={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},kce=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=iO[r]||r,t[1]=iO[i]||i,t.join(" ")},Nce=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],tl[a]&&(l=1,a=a==="transformOrigin"?bo:Jn),lg(r,a);l&&(lg(r,Jn),o&&(o.svg&&r.removeAttribute("transform"),ug(r,1),o.uncache=1,nG(i)))}},K1={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Yi(e._pt,t,r,0,0,Nce);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},cg=[1,0,0,1,0,0],aG={},lG=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},sO=function(e){var t=oa(e,Jn);return lG(t)?cg:t.substr(7).match(m8).map(mr)},eR=function(e,t){var r=e._gsap||Tu(e),i=e.style,s=sO(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?cg:s):(s===cg&&!e.offsetParent&&e!==Ud&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Ud.appendChild(e)),s=sO(e),l?i.display=l:lg(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Ud.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Db=function(e,t,r,i,s,o){var a=e._gsap,l=s||eR(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,p=a.yOffset||0,m=l[0],v=l[1],y=l[2],_=l[3],g=l[4],x=l[5],S=t.split(" "),M=parseFloat(S[0])||0,w=parseFloat(S[1])||0,b,T,R,C;r?l!==cg&&(T=m*_-v*y)&&(R=M*(_/T)+w*(-y/T)+(y*x-_*g)/T,C=M*(-v/T)+w*(m/T)-(m*x-v*g)/T,M=R,w=C):(b=sG(e),M=b.x+(~S[0].indexOf("%")?M/100*b.width:M),w=b.y+(~(S[1]||S[0]).indexOf("%")?w/100*b.height:w)),i||i!==!1&&a.smooth?(g=M-c,x=w-u,a.xOffset=f+(g*m+x*y)-g,a.yOffset=p+(g*v+x*_)-x):a.xOffset=a.yOffset=0,a.xOrigin=M,a.yOrigin=w,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[bo]="0px 0px",o&&(Gl(o,a,"xOrigin",c,M),Gl(o,a,"yOrigin",u,w),Gl(o,a,"xOffset",f,a.xOffset),Gl(o,a,"yOffset",p,a.yOffset)),e.setAttribute("data-svg-origin",M+" "+w)},ug=function(e,t){var r=e._gsap||new j8(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=oa(e,bo)||"0",u,f,p,m,v,y,_,g,x,S,M,w,b,T,R,C,B,U,k,W,Y,Q,X,J,O,V,G,D,H,se,le,ae;return u=f=p=y=_=g=x=S=M=0,m=v=1,r.svg=!!(e.getCTM&&oG(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Jn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Jn]!=="none"?l[Jn]:"")),i.scale=i.rotate=i.translate="none"),T=eR(e,r.svg),r.svg&&(r.uncache?(O=e.getBBox(),c=r.xOrigin-O.x+"px "+(r.yOrigin-O.y)+"px",J=""):J=!t&&e.getAttribute("data-svg-origin"),Db(e,J||c,!!J||r.originIsAbsolute,r.smooth!==!1,T)),w=r.xOrigin||0,b=r.yOrigin||0,T!==cg&&(U=T[0],k=T[1],W=T[2],Y=T[3],u=Q=T[4],f=X=T[5],T.length===6?(m=Math.sqrt(U*U+k*k),v=Math.sqrt(Y*Y+W*W),y=U||k?Yf(k,U)*eu:0,x=W||Y?Yf(W,Y)*eu+y:0,x&&(v*=Math.abs(Math.cos(x*kd))),r.svg&&(u-=w-(w*U+b*W),f-=b-(w*k+b*Y))):(ae=T[6],se=T[7],G=T[8],D=T[9],H=T[10],le=T[11],u=T[12],f=T[13],p=T[14],R=Yf(ae,H),_=R*eu,R&&(C=Math.cos(-R),B=Math.sin(-R),J=Q*C+G*B,O=X*C+D*B,V=ae*C+H*B,G=Q*-B+G*C,D=X*-B+D*C,H=ae*-B+H*C,le=se*-B+le*C,Q=J,X=O,ae=V),R=Yf(-W,H),g=R*eu,R&&(C=Math.cos(-R),B=Math.sin(-R),J=U*C-G*B,O=k*C-D*B,V=W*C-H*B,le=Y*B+le*C,U=J,k=O,W=V),R=Yf(k,U),y=R*eu,R&&(C=Math.cos(R),B=Math.sin(R),J=U*C+k*B,O=Q*C+X*B,k=k*C-U*B,X=X*C-Q*B,U=J,Q=O),_&&Math.abs(_)+Math.abs(y)>359.9&&(_=y=0,g=180-g),m=mr(Math.sqrt(U*U+k*k+W*W)),v=mr(Math.sqrt(X*X+ae*ae)),R=Yf(Q,X),x=Math.abs(R)>2e-4?R*eu:0,M=le?1/(le<0?-le:le):0),r.svg&&(J=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!lG(oa(e,Jn)),J&&e.setAttribute("transform",J))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(m*=-1,x+=y<=0?180:-180,y+=y<=0?180:-180):(v*=-1,x+=x<=0?180:-180)),t=t||r.uncache,r.x=u-((r.xPercent=u&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=p+o,r.scaleX=mr(m),r.scaleY=mr(v),r.rotation=mr(y)+a,r.rotationX=mr(_)+a,r.rotationY=mr(g)+a,r.skewX=x+a,r.skewY=S+a,r.transformPerspective=M+o,(r.zOrigin=parseFloat(c.split(" ")[2])||0)&&(i[bo]=Q1(c)),r.xOffset=r.yOffset=0,r.force3D=ms.force3D,r.renderTransform=r.svg?Gce:iG?cG:zce,r.uncache=0,r},Q1=function(e){return(e=e.split(" "))[0]+" "+e[1]},IM=function(e,t,r){var i=oi(t);return mr(parseFloat(t)+parseFloat(fc(e,"x",r+"px",i)))+i},zce=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,cG(e,t)},Xc="0deg",Ep="0px",Jc=") ",cG=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,f=r.rotationX,p=r.skewX,m=r.skewY,v=r.scaleX,y=r.scaleY,_=r.transformPerspective,g=r.force3D,x=r.target,S=r.zOrigin,M="",w=g==="auto"&&e&&e!==1||g===!0;if(S&&(f!==Xc||u!==Xc)){var b=parseFloat(u)*kd,T=Math.sin(b),R=Math.cos(b),C;b=parseFloat(f)*kd,C=Math.cos(b),o=IM(x,o,T*C*-S),a=IM(x,a,-Math.sin(b)*-S),l=IM(x,l,R*C*-S+S)}_!==Ep&&(M+="perspective("+_+Jc),(i||s)&&(M+="translate("+i+"%, "+s+"%) "),(w||o!==Ep||a!==Ep||l!==Ep)&&(M+=l!==Ep||w?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Jc),c!==Xc&&(M+="rotate("+c+Jc),u!==Xc&&(M+="rotateY("+u+Jc),f!==Xc&&(M+="rotateX("+f+Jc),(p!==Xc||m!==Xc)&&(M+="skew("+p+", "+m+Jc),(v!==1||y!==1)&&(M+="scale("+v+", "+y+Jc),x.style[Jn]=M||"translate(0, 0)"},Gce=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,f=r.scaleX,p=r.scaleY,m=r.target,v=r.xOrigin,y=r.yOrigin,_=r.xOffset,g=r.yOffset,x=r.forceCSS,S=parseFloat(o),M=parseFloat(a),w,b,T,R,C;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=kd,c*=kd,w=Math.cos(l)*f,b=Math.sin(l)*f,T=Math.sin(l-c)*-p,R=Math.cos(l-c)*p,c&&(u*=kd,C=Math.tan(c-u),C=Math.sqrt(1+C*C),T*=C,R*=C,u&&(C=Math.tan(u),C=Math.sqrt(1+C*C),w*=C,b*=C)),w=mr(w),b=mr(b),T=mr(T),R=mr(R)):(w=f,R=p,b=T=0),(S&&!~(o+"").indexOf("px")||M&&!~(a+"").indexOf("px"))&&(S=fc(m,"x",o,"px"),M=fc(m,"y",a,"px")),(v||y||_||g)&&(S=mr(S+v-(v*w+y*T)+_),M=mr(M+y-(v*b+y*R)+g)),(i||s)&&(C=m.getBBox(),S=mr(S+i/100*C.width),M=mr(M+s/100*C.height)),C="matrix("+w+","+b+","+T+","+R+","+S+","+M+")",m.setAttribute("transform",C),x&&(m.style[Jn]=C)},Hce=function(e,t,r,i,s){var o=360,a=Gr(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?eu:1),c=l-i,u=i+c+"deg",f,p;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*eO)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*eO)%o-~~(c/o)*o)),e._pt=p=new Yi(e._pt,t,r,i,c,wce),p.e=u,p.u="deg",e._props.push(r),p},oO=function(e,t){for(var r in t)e[r]=t[r];return e},Vce=function(e,t,r){var i=oO({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,f,p,m,v;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[Jn]=t,a=ug(r,1),lg(r,Jn),r.setAttribute("transform",c)):(c=getComputedStyle(r)[Jn],o[Jn]=t,a=ug(r,1),o[Jn]=c);for(l in tl)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(m=oi(c),v=oi(u),f=m!==v?fc(r,l,c,v):parseFloat(c),p=parseFloat(u),e._pt=new Yi(e._pt,a,l,f,p-f,Ib),e._pt.u=v||0,e._props.push(l));oO(a,i)};Ji("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});K1[e>1?"border"+n:n]=function(a,l,c,u,f){var p,m;if(arguments.length<4)return p=o.map(function(v){return ka(a,v,c)}),m=p.join(" "),m.split(p[0]).length===5?p[0]:m;p=(u+"").split(" "),m={},o.forEach(function(v,y){return m[v]=p[y]=p[y]||p[(y-1)/2|0]}),a.init(l,m,f)}});var uG={name:"css",register:Lb,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,u,f,p,m,v,y,_,g,x,S,M,w,b,T,R;Q2||Lb(),this.styles=this.styles||rG(e),R=this.styles.props,this.tween=r;for(y in t)if(y!=="autoRound"&&(u=t[y],!(cs[y]&&X8(y,t,r,i,e,s)))){if(m=typeof u,v=K1[y],m==="function"&&(u=u.call(r,i,e,s),m=typeof u),m==="string"&&~u.indexOf("random(")&&(u=sg(u)),v)v(this,e,y,u,r)&&(T=1);else if(y.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(y)+"").trim(),u+="",rc.lastIndex=0,rc.test(c)||(_=oi(c),g=oi(u)),g?_!==g&&(c=fc(e,y,c,g)+g):_&&(u+=_),this.add(a,"setProperty",c,u,i,s,0,0,y),o.push(y),R.push(y,0,a[y]);else if(m!=="undefined"){if(l&&y in l?(c=typeof l[y]=="function"?l[y].call(r,i,e,s):l[y],Gr(c)&&~c.indexOf("random(")&&(c=sg(c)),oi(c+"")||(c+=ms.units[y]||oi(ka(e,y))||""),(c+"").charAt(1)==="="&&(c=ka(e,y))):c=ka(e,y),p=parseFloat(c),x=m==="string"&&u.charAt(1)==="="&&u.substr(0,2),x&&(u=u.substr(2)),f=parseFloat(u),y in qo&&(y==="autoAlpha"&&(p===1&&ka(e,"visibility")==="hidden"&&f&&(p=0),R.push("visibility",0,a.visibility),Gl(this,a,"visibility",p?"inherit":"hidden",f?"inherit":"hidden",!f)),y!=="scale"&&y!=="transform"&&(y=qo[y],~y.indexOf(",")&&(y=y.split(",")[0]))),S=y in tl,S){if(this.styles.save(y),M||(w=e._gsap,w.renderTransform&&!t.parseTransform||ug(e,t.parseTransform),b=t.smoothOrigin!==!1&&w.smooth,M=this._pt=new Yi(this._pt,a,Jn,0,1,w.renderTransform,w,0,-1),M.dep=1),y==="scale")this._pt=new Yi(this._pt,w,"scaleY",w.scaleY,(x?Fd(w.scaleY,x+f):f)-w.scaleY||0,Ib),this._pt.u=0,o.push("scaleY",y),y+="X";else if(y==="transformOrigin"){R.push(bo,0,a[bo]),u=kce(u),w.svg?Db(e,u,0,b,0,this):(g=parseFloat(u.split(" ")[2])||0,g!==w.zOrigin&&Gl(this,w,"zOrigin",w.zOrigin,g),Gl(this,a,y,Q1(c),Q1(u)));continue}else if(y==="svgOrigin"){Db(e,u,1,b,0,this);continue}else if(y in aG){Hce(this,w,y,p,x?Fd(p,x+u):u);continue}else if(y==="smoothOrigin"){Gl(this,w,"smooth",w.smooth,u);continue}else if(y==="force3D"){w[y]=u;continue}else if(y==="transform"){Vce(this,u,e);continue}}else y in a||(y=ch(y)||y);if(S||(f||f===0)&&(p||p===0)&&!Ece.test(u)&&y in a)_=(c+"").substr((p+"").length),f||(f=0),g=oi(u)||(y in ms.units?ms.units[y]:_),_!==g&&(p=fc(e,y,c,g)),this._pt=new Yi(this._pt,S?w:a,y,p,(x?Fd(p,x+f):f)-p,!S&&(g==="px"||y==="zIndex")&&t.autoRound!==!1?Tce:Ib),this._pt.u=g||0,_!==g&&g!=="%"&&(this._pt.b=c,this._pt.r=bce);else if(y in a)Uce.call(this,e,y,c,x?x+u:u);else if(y in e)this.add(e,y,c||e[y],x?x+u:u,i,s);else if(y!=="parseTransform"){H2(y,u);continue}S||(y in a?R.push(y,0,a[y]):R.push(y,1,c||e[y])),o.push(y)}}T&&Z8(this)},render:function(e,t){if(t.tween._time||!Z2())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:ka,aliases:qo,getSetter:function(e,t,r){var i=qo[t];return i&&i.indexOf(",")<0&&(t=i),t in tl&&t!==bo&&(e._gsap.x||ka(e,"x"))?r&&qD===r?t==="scale"?Ice:Pce:(qD=r||{})&&(t==="scale"?Bce:Lce):e.style&&!N2(e.style[t])?Cce:~t.indexOf("-")?Rce:$2(e,t)},core:{_removeProperty:lg,_getMatrix:eR}};$i.utils.checkPrefix=ch;$i.core.getStyleSaver=rG;(function(n,e,t,r){var i=Ji(n+","+e+","+t,function(s){tl[s]=1});Ji(e,function(s){ms.units[s]="deg",aG[s]=1}),qo[i[13]]=n+","+e,Ji(r,function(s){var o=s.split(":");qo[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ji("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ms.units[n]="px"});$i.registerPlugin(uG);var Ob=$i.registerPlugin(uG)||$i;Ob.core.Tween;const Wce=({position:n,target:e})=>{const{camera:t,gl:{domElement:r}}=Cr(),i=z.useRef(null);t.up=new q(0,1,0);function s(){i.current&&(Ob.timeline().to(t.position,{duration:2,repeat:0,x:n.x,y:n.y,z:n.z,ease:"power3.inOut"}),Ob.timeline().to(i.current.target,{duration:2,repeat:0,x:e.x,y:e.y,z:e.z,ease:"power3.inOut"}))}return z.useEffect(()=>{s()},[e,n]),ie.jsx(vee,{ref:i,args:[t,r],enableZoom:!1,panSpeed:1,maxPolarAngle:Math.PI/2})};function jce(){const[n,e]=nn.useState(!1),t={position:{one:{x:-2.5,y:2,z:6},two:{x:1.2,y:1.925,z:-1.9}},target:{one:{x:4.6,y:1.2,z:-1},two:{x:1.2,y:1.925,z:-2.4}}},[r,i]=nn.useState(t.position.one),[s,o]=nn.useState(t.target.one),a={x:0,y:.2,z:0},l="https://www.linkedin.com/in/kendrickdrews/",c="https://github.com/KendrickDrews",u={position:{x:.7,y:2.362,z:-2.6},rotation:{x:0,y:-.2,z:0}},f={position:{x:1.792,y:1.92,z:-2.355},rotation:{x:0,y:-.2,z:0},scale:.378},p=Cr(_=>_.camera),{scale:m}=hle({scale:n?.175:.35,config:{duration:1650,tension:120,friction:14}});function v(){n?(i(t.position.one),o(t.target.one),p.updateProjectionMatrix(),e(!n)):(i(t.position.two),o(t.target.two),p.updateProjectionMatrix(),e(!n))}const y="lightpink";return ie.jsxs(ie.Fragment,{children:[ie.jsx(wee,{preset:"city"}),ie.jsx("color",{args:[y],attach:"background"}),ie.jsx("fog",{attach:"fog",near:12,far:25,args:[y,30,100]}),ie.jsx(Wce,{position:r,target:s}),ie.jsxs(MZ,{global:!0,rotation:[a.x,a.y,a.z],polar:[-1,1],azimuth:[-2,1],config:{mass:2,tension:200},snap:{mass:4,tension:200},children:[ie.jsxs("group",{position:[0,0,0],children:[ie.jsx(_ee,{args:[250,250],position:[0,-2.18,0],rotation:[-1.5707,0,0],children:ie.jsx("meshBasicMaterial",{color:"#eaa0f2"})}),ie.jsx(Rle,{}),ie.jsx(hp,{transform:!0,occlude:"blending",wrapperClass:"htmlScreen",distanceFactor:f.scale,position:[f.position.x,f.position.y,f.position.z],rotation:[f.rotation.x,f.rotation.y,f.rotation.z],zIndexRange:[100,0],children:ie.jsx(nae,{})})]}),ie.jsx(yle.group,{scale:m,position:[u.position.x,u.position.y,u.position.z],rotation:[u.rotation.x,u.rotation.y,u.rotation.z],children:ie.jsx(hp,{transform:!0,occlude:"blending",wrapperClass:"floatingButton",zIndexRange:[100,2],children:ie.jsx(ay,{shape:"circle",onClick:()=>v(),icon:n?ie.jsx(Ioe,{}):ie.jsx(Toe,{})})})}),ie.jsxs("group",{position:[4.4,2.4,3.4],"rotation-y":-1.6,children:[ie.jsx(bL,{position:[0,1,0],color:"black",children:"Kendrick Drews"}),ie.jsx(bL,{position:[0,.25,0],color:"black",scale:.5,children:"Front End Developer / UI / UX"}),ie.jsxs("group",{position:[.5,-.5,0],children:[ie.jsx(hp,{transform:!0,occlude:"blending",wrapperClass:"banner-resume",position:[-3,0,0],children:ie.jsxs(ay,{type:"primary",className:"banner-btns",onClick:()=>v(),children:[" ",ie.jsx(Ooe,{})," View Resume"]})}),ie.jsx(hp,{transform:!0,occlude:"blending",wrapperClass:"banner-resume",position:[0,0,0],children:ie.jsx("a",{href:l,target:"_blank",children:ie.jsxs(ay,{className:"banner-btns",children:[" ",ie.jsx(Joe,{}),"  LinkedIn  "]})})}),ie.jsx(hp,{transform:!0,occlude:"blending",wrapperClass:"banner-resume",position:[2.5,0,0],children:ie.jsx("a",{href:c,target:"_blank",children:ie.jsxs(ay,{className:"banner-btns",children:[" ",ie.jsx(Noe,{}),"   Github "]})})})]})]})]})]})}function Xce(){return ie.jsx("div",{id:"canvas-container",children:ie.jsx(U$,{children:ie.jsx(jce,{})})})}BM.createRoot(document.getElementById("root")).render(ie.jsx(nn.StrictMode,{children:ie.jsx(Xce,{})}));
