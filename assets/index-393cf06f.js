function cD(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var uD={exports:{}},R_={},fD={exports:{}},an={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=Symbol.for("react.element"),AG=Symbol.for("react.portal"),MG=Symbol.for("react.fragment"),wG=Symbol.for("react.strict_mode"),EG=Symbol.for("react.profiler"),bG=Symbol.for("react.provider"),CG=Symbol.for("react.context"),TG=Symbol.for("react.forward_ref"),RG=Symbol.for("react.suspense"),PG=Symbol.for("react.memo"),IG=Symbol.for("react.lazy"),DR=Symbol.iterator;function BG(n){return n===null||typeof n!="object"?null:(n=DR&&n[DR]||n["@@iterator"],typeof n=="function"?n:null)}var dD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hD=Object.assign,pD={};function dh(n,e,t){this.props=n,this.context=e,this.refs=pD,this.updater=t||dD}dh.prototype.isReactComponent={};dh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};dh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function mD(){}mD.prototype=dh.prototype;function ZE(n,e,t){this.props=n,this.context=e,this.refs=pD,this.updater=t||dD}var qE=ZE.prototype=new mD;qE.constructor=ZE;hD(qE,dh.prototype);qE.isPureReactComponent=!0;var OR=Array.isArray,gD=Object.prototype.hasOwnProperty,eb={current:null},vD={key:!0,ref:!0,__self:!0,__source:!0};function yD(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)gD.call(e,r)&&!vD.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qm,type:n,key:s,ref:o,props:i,_owner:eb.current}}function LG(n,e){return{$$typeof:Qm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function tb(n){return typeof n=="object"&&n!==null&&n.$$typeof===Qm}function DG(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var FR=/\/+/g;function $x(n,e){return typeof n=="object"&&n!==null&&n.key!=null?DG(""+n.key):e.toString(36)}function Yv(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Qm:case AG:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+$x(o,0):r,OR(i)?(t="",n!=null&&(t=n.replace(FR,"$&/")+"/"),Yv(i,e,t,"",function(c){return c})):i!=null&&(tb(i)&&(i=LG(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(FR,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",OR(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+$x(s,a);o+=Yv(s,e,t,l,i)}else if(l=BG(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+$x(s,a++),o+=Yv(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function x0(n,e,t){if(n==null)return n;var r=[],i=0;return Yv(n,r,"","",function(s){return e.call(t,s,i++)}),r}function OG(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var zi={current:null},Kv={transition:null},FG={ReactCurrentDispatcher:zi,ReactCurrentBatchConfig:Kv,ReactCurrentOwner:eb};an.Children={map:x0,forEach:function(n,e,t){x0(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return x0(n,function(){e++}),e},toArray:function(n){return x0(n,function(e){return e})||[]},only:function(n){if(!tb(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};an.Component=dh;an.Fragment=MG;an.Profiler=EG;an.PureComponent=ZE;an.StrictMode=wG;an.Suspense=RG;an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FG;an.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=hD({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=eb.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)gD.call(e,l)&&!vD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Qm,type:n.type,key:i,ref:s,props:r,_owner:o}};an.createContext=function(n){return n={$$typeof:CG,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:bG,_context:n},n.Consumer=n};an.createElement=yD;an.createFactory=function(n){var e=yD.bind(null,n);return e.type=n,e};an.createRef=function(){return{current:null}};an.forwardRef=function(n){return{$$typeof:TG,render:n}};an.isValidElement=tb;an.lazy=function(n){return{$$typeof:IG,_payload:{_status:-1,_result:n},_init:OG}};an.memo=function(n,e){return{$$typeof:PG,type:n,compare:e===void 0?null:e}};an.startTransition=function(n){var e=Kv.transition;Kv.transition={};try{n()}finally{Kv.transition=e}};an.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};an.useCallback=function(n,e){return zi.current.useCallback(n,e)};an.useContext=function(n){return zi.current.useContext(n)};an.useDebugValue=function(){};an.useDeferredValue=function(n){return zi.current.useDeferredValue(n)};an.useEffect=function(n,e){return zi.current.useEffect(n,e)};an.useId=function(){return zi.current.useId()};an.useImperativeHandle=function(n,e,t){return zi.current.useImperativeHandle(n,e,t)};an.useInsertionEffect=function(n,e){return zi.current.useInsertionEffect(n,e)};an.useLayoutEffect=function(n,e){return zi.current.useLayoutEffect(n,e)};an.useMemo=function(n,e){return zi.current.useMemo(n,e)};an.useReducer=function(n,e,t){return zi.current.useReducer(n,e,t)};an.useRef=function(n){return zi.current.useRef(n)};an.useState=function(n){return zi.current.useState(n)};an.useSyncExternalStore=function(n,e,t){return zi.current.useSyncExternalStore(n,e,t)};an.useTransition=function(){return zi.current.useTransition()};an.version="18.2.0";fD.exports=an;var F=fD.exports;const rn=fh(F),P_=cD({__proto__:null,default:rn},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UG=F,kG=Symbol.for("react.element"),NG=Symbol.for("react.fragment"),zG=Object.prototype.hasOwnProperty,GG=UG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HG={key:!0,ref:!0,__self:!0,__source:!0};function _D(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zG.call(e,r)&&!HG.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kG,type:n,key:s,ref:o,props:i,_owner:GG.current}}R_.Fragment=NG;R_.jsx=_D;R_.jsxs=_D;uD.exports=R_;var le=uD.exports,eM={},xD={exports:{}},Is={},SD={exports:{}},AD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,G){var H=D.length;D.push(G);e:for(;0<H;){var O=H-1>>>1,X=D[O];if(0<i(X,G))D[O]=G,D[H]=X,H=O;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var G=D[0],H=D.pop();if(H!==G){D[0]=H;e:for(var O=0,X=D.length,ie=X>>>1;O<ie;){var ae=2*(O+1)-1,oe=D[ae],fe=ae+1,ue=D[fe];if(0>i(oe,H))fe<X&&0>i(ue,oe)?(D[O]=ue,D[fe]=H,O=fe):(D[O]=oe,D[ae]=H,O=ae);else if(fe<X&&0>i(ue,H))D[O]=ue,D[fe]=H,O=fe;else break e}}return G}function i(D,G){var H=D.sortIndex-G.sortIndex;return H!==0?H:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,m=!1,v=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var G=t(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=D)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(c)}}function M(D){if(y=!1,S(D),!v)if(t(l)!==null)v=!0,W(E);else{var G=t(c);G!==null&&V(M,G.startTime-D)}}function E(D,G){v=!1,y&&(y=!1,g(R),R=-1),m=!0;var H=h;try{for(S(G),f=t(l);f!==null&&(!(f.expirationTime>G)||D&&!k());){var O=f.callback;if(typeof O=="function"){f.callback=null,h=f.priorityLevel;var X=O(f.expirationTime<=G);G=n.unstable_now(),typeof X=="function"?f.callback=X:f===t(l)&&r(l),S(G)}else r(l);f=t(l)}if(f!==null)var ie=!0;else{var ae=t(c);ae!==null&&V(M,ae.startTime-G),ie=!1}return ie}finally{f=null,h=H,m=!1}}var b=!1,C=null,R=-1,T=5,B=-1;function k(){return!(n.unstable_now()-B<T)}function N(){if(C!==null){var D=n.unstable_now();B=D;var G=!0;try{G=C(!0,D)}finally{G?j():(b=!1,C=null)}}else b=!1}var j;if(typeof x=="function")j=function(){x(N)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Q=Y.port2;Y.port1.onmessage=N,j=function(){Q.postMessage(null)}}else j=function(){_(N,0)};function W(D){C=D,b||(b=!0,j())}function V(D,G){R=_(function(){D(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,W(E))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var H=h;h=G;try{return D()}finally{h=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=h;h=D;try{return G()}finally{h=H}},n.unstable_scheduleCallback=function(D,G,H){var O=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?O+H:O):H=O,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,D={id:u++,callback:G,priorityLevel:D,startTime:H,expirationTime:X,sortIndex:-1},H>O?(D.sortIndex=H,e(c,D),t(l)===null&&D===t(c)&&(y?(g(R),R=-1):y=!0,V(M,H-O))):(D.sortIndex=X,e(l,D),v||m||(v=!0,W(E))),D},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(D){var G=h;return function(){var H=h;h=G;try{return D.apply(this,arguments)}finally{h=H}}}})(AD);SD.exports=AD;var VG=SD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MD=F,Ts=VG;function et(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wD=new Set,nm={};function ju(n,e){kd(n,e),kd(n+"Capture",e)}function kd(n,e){for(nm[n]=e,n=0;n<e.length;n++)wD.add(e[n])}var Ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tM=Object.prototype.hasOwnProperty,WG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UR={},kR={};function jG(n){return tM.call(kR,n)?!0:tM.call(UR,n)?!1:WG.test(n)?kR[n]=!0:(UR[n]=!0,!1)}function XG(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function JG(n,e,t,r){if(e===null||typeof e>"u"||XG(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gi(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){oi[n]=new Gi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];oi[e]=new Gi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){oi[n]=new Gi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){oi[n]=new Gi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){oi[n]=new Gi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){oi[n]=new Gi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){oi[n]=new Gi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){oi[n]=new Gi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){oi[n]=new Gi(n,5,!1,n.toLowerCase(),null,!1,!1)});var nb=/[\-:]([a-z])/g;function rb(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(nb,rb);oi[e]=new Gi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(nb,rb);oi[e]=new Gi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(nb,rb);oi[e]=new Gi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){oi[n]=new Gi(n,1,!1,n.toLowerCase(),null,!1,!1)});oi.xlinkHref=new Gi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){oi[n]=new Gi(n,1,!1,n.toLowerCase(),null,!0,!0)});function ib(n,e,t,r){var i=oi.hasOwnProperty(e)?oi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JG(e,t,i,r)&&(t=null),r||i===null?jG(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var al=MD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S0=Symbol.for("react.element"),qf=Symbol.for("react.portal"),ed=Symbol.for("react.fragment"),sb=Symbol.for("react.strict_mode"),nM=Symbol.for("react.profiler"),ED=Symbol.for("react.provider"),bD=Symbol.for("react.context"),ob=Symbol.for("react.forward_ref"),rM=Symbol.for("react.suspense"),iM=Symbol.for("react.suspense_list"),ab=Symbol.for("react.memo"),Tl=Symbol.for("react.lazy"),CD=Symbol.for("react.offscreen"),NR=Symbol.iterator;function Jh(n){return n===null||typeof n!="object"?null:(n=NR&&n[NR]||n["@@iterator"],typeof n=="function"?n:null)}var ir=Object.assign,Qx;function Ap(n){if(Qx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Qx=e&&e[1]||""}return`
`+Qx+n}var Zx=!1;function qx(n,e){if(!n||Zx)return"";Zx=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zx=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ap(n):""}function YG(n){switch(n.tag){case 5:return Ap(n.type);case 16:return Ap("Lazy");case 13:return Ap("Suspense");case 19:return Ap("SuspenseList");case 0:case 2:case 15:return n=qx(n.type,!1),n;case 11:return n=qx(n.type.render,!1),n;case 1:return n=qx(n.type,!0),n;default:return""}}function sM(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ed:return"Fragment";case qf:return"Portal";case nM:return"Profiler";case sb:return"StrictMode";case rM:return"Suspense";case iM:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case bD:return(n.displayName||"Context")+".Consumer";case ED:return(n._context.displayName||"Context")+".Provider";case ob:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ab:return e=n.displayName||null,e!==null?e:sM(n.type)||"Memo";case Tl:e=n._payload,n=n._init;try{return sM(n(e))}catch{}}return null}function KG(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sM(e);case 8:return e===sb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function TD(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $G(n){var e=TD(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function A0(n){n._valueTracker||(n._valueTracker=$G(n))}function RD(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=TD(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function by(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function oM(n,e){var t=e.checked;return ir({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function zR(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=sc(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PD(n,e){e=e.checked,e!=null&&ib(n,"checked",e,!1)}function aM(n,e){PD(n,e);var t=sc(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?lM(n,e.type,t):e.hasOwnProperty("defaultValue")&&lM(n,e.type,sc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function GR(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function lM(n,e,t){(e!=="number"||by(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Mp=Array.isArray;function Ad(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+sc(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function cM(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(et(91));return ir({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function HR(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(et(92));if(Mp(t)){if(1<t.length)throw Error(et(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:sc(t)}}function ID(n,e){var t=sc(e.value),r=sc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function VR(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function BD(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uM(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?BD(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var M0,LD=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(M0=M0||document.createElement("div"),M0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=M0.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function rm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ip={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QG=["Webkit","ms","Moz","O"];Object.keys(Ip).forEach(function(n){QG.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ip[e]=Ip[n]})});function DD(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ip.hasOwnProperty(n)&&Ip[n]?(""+e).trim():e+"px"}function OD(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=DD(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var ZG=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fM(n,e){if(e){if(ZG[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(et(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(et(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(et(62))}}function dM(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hM=null;function lb(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var pM=null,Md=null,wd=null;function WR(n){if(n=eg(n)){if(typeof pM!="function")throw Error(et(280));var e=n.stateNode;e&&(e=O_(e),pM(n.stateNode,n.type,e))}}function FD(n){Md?wd?wd.push(n):wd=[n]:Md=n}function UD(){if(Md){var n=Md,e=wd;if(wd=Md=null,WR(n),e)for(n=0;n<e.length;n++)WR(e[n])}}function kD(n,e){return n(e)}function ND(){}var eS=!1;function zD(n,e,t){if(eS)return n(e,t);eS=!0;try{return kD(n,e,t)}finally{eS=!1,(Md!==null||wd!==null)&&(ND(),UD())}}function im(n,e){var t=n.stateNode;if(t===null)return null;var r=O_(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(et(231,e,typeof t));return t}var mM=!1;if(Ka)try{var Yh={};Object.defineProperty(Yh,"passive",{get:function(){mM=!0}}),window.addEventListener("test",Yh,Yh),window.removeEventListener("test",Yh,Yh)}catch{mM=!1}function qG(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Bp=!1,Cy=null,Ty=!1,gM=null,eH={onError:function(n){Bp=!0,Cy=n}};function tH(n,e,t,r,i,s,o,a,l){Bp=!1,Cy=null,qG.apply(eH,arguments)}function nH(n,e,t,r,i,s,o,a,l){if(tH.apply(this,arguments),Bp){if(Bp){var c=Cy;Bp=!1,Cy=null}else throw Error(et(198));Ty||(Ty=!0,gM=c)}}function Xu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function GD(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function jR(n){if(Xu(n)!==n)throw Error(et(188))}function rH(n){var e=n.alternate;if(!e){if(e=Xu(n),e===null)throw Error(et(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return jR(i),n;if(s===r)return jR(i),e;s=s.sibling}throw Error(et(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(et(189))}}if(t.alternate!==r)throw Error(et(190))}if(t.tag!==3)throw Error(et(188));return t.stateNode.current===t?n:e}function HD(n){return n=rH(n),n!==null?VD(n):null}function VD(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=VD(n);if(e!==null)return e;n=n.sibling}return null}var WD=Ts.unstable_scheduleCallback,XR=Ts.unstable_cancelCallback,iH=Ts.unstable_shouldYield,sH=Ts.unstable_requestPaint,Ar=Ts.unstable_now,oH=Ts.unstable_getCurrentPriorityLevel,cb=Ts.unstable_ImmediatePriority,jD=Ts.unstable_UserBlockingPriority,Ry=Ts.unstable_NormalPriority,aH=Ts.unstable_LowPriority,XD=Ts.unstable_IdlePriority,I_=null,ca=null;function lH(n){if(ca&&typeof ca.onCommitFiberRoot=="function")try{ca.onCommitFiberRoot(I_,n,void 0,(n.current.flags&128)===128)}catch{}}var Uo=Math.clz32?Math.clz32:fH,cH=Math.log,uH=Math.LN2;function fH(n){return n>>>=0,n===0?32:31-(cH(n)/uH|0)|0}var w0=64,E0=4194304;function wp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Py(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=wp(a):(s&=o,s!==0&&(r=wp(s)))}else o=t&~i,o!==0?r=wp(o):s!==0&&(r=wp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Uo(e),i=1<<t,r|=n[t],e&=~i;return r}function dH(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hH(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Uo(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=dH(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function vM(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function JD(){var n=w0;return w0<<=1,!(w0&4194240)&&(w0=64),n}function tS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Zm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Uo(e),n[e]=t}function pH(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Uo(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function ub(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Uo(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Cn=0;function YD(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var KD,fb,$D,QD,ZD,yM=!1,b0=[],Wl=null,jl=null,Xl=null,sm=new Map,om=new Map,Bl=[],mH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JR(n,e){switch(n){case"focusin":case"focusout":Wl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Xl=null;break;case"pointerover":case"pointerout":sm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":om.delete(e.pointerId)}}function Kh(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=eg(e),e!==null&&fb(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function gH(n,e,t,r,i){switch(e){case"focusin":return Wl=Kh(Wl,n,e,t,r,i),!0;case"dragenter":return jl=Kh(jl,n,e,t,r,i),!0;case"mouseover":return Xl=Kh(Xl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return sm.set(s,Kh(sm.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,om.set(s,Kh(om.get(s)||null,n,e,t,r,i)),!0}return!1}function qD(n){var e=ou(n.target);if(e!==null){var t=Xu(e);if(t!==null){if(e=t.tag,e===13){if(e=GD(t),e!==null){n.blockedOn=e,ZD(n.priority,function(){$D(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $v(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=_M(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);hM=r,t.target.dispatchEvent(r),hM=null}else return e=eg(t),e!==null&&fb(e),n.blockedOn=t,!1;e.shift()}return!0}function YR(n,e,t){$v(n)&&t.delete(e)}function vH(){yM=!1,Wl!==null&&$v(Wl)&&(Wl=null),jl!==null&&$v(jl)&&(jl=null),Xl!==null&&$v(Xl)&&(Xl=null),sm.forEach(YR),om.forEach(YR)}function $h(n,e){n.blockedOn===e&&(n.blockedOn=null,yM||(yM=!0,Ts.unstable_scheduleCallback(Ts.unstable_NormalPriority,vH)))}function am(n){function e(i){return $h(i,n)}if(0<b0.length){$h(b0[0],n);for(var t=1;t<b0.length;t++){var r=b0[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Wl!==null&&$h(Wl,n),jl!==null&&$h(jl,n),Xl!==null&&$h(Xl,n),sm.forEach(e),om.forEach(e),t=0;t<Bl.length;t++)r=Bl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Bl.length&&(t=Bl[0],t.blockedOn===null);)qD(t),t.blockedOn===null&&Bl.shift()}var Ed=al.ReactCurrentBatchConfig,Iy=!0;function yH(n,e,t,r){var i=Cn,s=Ed.transition;Ed.transition=null;try{Cn=1,db(n,e,t,r)}finally{Cn=i,Ed.transition=s}}function _H(n,e,t,r){var i=Cn,s=Ed.transition;Ed.transition=null;try{Cn=4,db(n,e,t,r)}finally{Cn=i,Ed.transition=s}}function db(n,e,t,r){if(Iy){var i=_M(n,e,t,r);if(i===null)fS(n,e,r,By,t),JR(n,r);else if(gH(i,n,e,t,r))r.stopPropagation();else if(JR(n,r),e&4&&-1<mH.indexOf(n)){for(;i!==null;){var s=eg(i);if(s!==null&&KD(s),s=_M(n,e,t,r),s===null&&fS(n,e,r,By,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else fS(n,e,r,null,t)}}var By=null;function _M(n,e,t,r){if(By=null,n=lb(r),n=ou(n),n!==null)if(e=Xu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=GD(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return By=n,null}function eO(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oH()){case cb:return 1;case jD:return 4;case Ry:case aH:return 16;case XD:return 536870912;default:return 16}default:return 16}}var Dl=null,hb=null,Qv=null;function tO(){if(Qv)return Qv;var n,e=hb,t=e.length,r,i="value"in Dl?Dl.value:Dl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Qv=i.slice(n,1<r?1-r:void 0)}function Zv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function C0(){return!0}function KR(){return!1}function Bs(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?C0:KR,this.isPropagationStopped=KR,this}return ir(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=C0)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=C0)},persist:function(){},isPersistent:C0}),e}var hh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pb=Bs(hh),qm=ir({},hh,{view:0,detail:0}),xH=Bs(qm),nS,rS,Qh,B_=ir({},qm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mb,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qh&&(Qh&&n.type==="mousemove"?(nS=n.screenX-Qh.screenX,rS=n.screenY-Qh.screenY):rS=nS=0,Qh=n),nS)},movementY:function(n){return"movementY"in n?n.movementY:rS}}),$R=Bs(B_),SH=ir({},B_,{dataTransfer:0}),AH=Bs(SH),MH=ir({},qm,{relatedTarget:0}),iS=Bs(MH),wH=ir({},hh,{animationName:0,elapsedTime:0,pseudoElement:0}),EH=Bs(wH),bH=ir({},hh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CH=Bs(bH),TH=ir({},hh,{data:0}),QR=Bs(TH),RH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BH(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=IH[n])?!!e[n]:!1}function mb(){return BH}var LH=ir({},qm,{key:function(n){if(n.key){var e=RH[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Zv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?PH[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mb,charCode:function(n){return n.type==="keypress"?Zv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),DH=Bs(LH),OH=ir({},B_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZR=Bs(OH),FH=ir({},qm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mb}),UH=Bs(FH),kH=ir({},hh,{propertyName:0,elapsedTime:0,pseudoElement:0}),NH=Bs(kH),zH=ir({},B_,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),GH=Bs(zH),HH=[9,13,27,32],gb=Ka&&"CompositionEvent"in window,Lp=null;Ka&&"documentMode"in document&&(Lp=document.documentMode);var VH=Ka&&"TextEvent"in window&&!Lp,nO=Ka&&(!gb||Lp&&8<Lp&&11>=Lp),qR=String.fromCharCode(32),eP=!1;function rO(n,e){switch(n){case"keyup":return HH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iO(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var td=!1;function WH(n,e){switch(n){case"compositionend":return iO(e);case"keypress":return e.which!==32?null:(eP=!0,qR);case"textInput":return n=e.data,n===qR&&eP?null:n;default:return null}}function jH(n,e){if(td)return n==="compositionend"||!gb&&rO(n,e)?(n=tO(),Qv=hb=Dl=null,td=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nO&&e.locale!=="ko"?null:e.data;default:return null}}var XH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!XH[n.type]:e==="textarea"}function sO(n,e,t,r){FD(r),e=Ly(e,"onChange"),0<e.length&&(t=new pb("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Dp=null,lm=null;function JH(n){gO(n,0)}function L_(n){var e=id(n);if(RD(e))return n}function YH(n,e){if(n==="change")return e}var oO=!1;if(Ka){var sS;if(Ka){var oS="oninput"in document;if(!oS){var nP=document.createElement("div");nP.setAttribute("oninput","return;"),oS=typeof nP.oninput=="function"}sS=oS}else sS=!1;oO=sS&&(!document.documentMode||9<document.documentMode)}function rP(){Dp&&(Dp.detachEvent("onpropertychange",aO),lm=Dp=null)}function aO(n){if(n.propertyName==="value"&&L_(lm)){var e=[];sO(e,lm,n,lb(n)),zD(JH,e)}}function KH(n,e,t){n==="focusin"?(rP(),Dp=e,lm=t,Dp.attachEvent("onpropertychange",aO)):n==="focusout"&&rP()}function $H(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return L_(lm)}function QH(n,e){if(n==="click")return L_(e)}function ZH(n,e){if(n==="input"||n==="change")return L_(e)}function qH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ho=typeof Object.is=="function"?Object.is:qH;function cm(n,e){if(Ho(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!tM.call(e,i)||!Ho(n[i],e[i]))return!1}return!0}function iP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sP(n,e){var t=iP(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=iP(t)}}function lO(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?lO(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function cO(){for(var n=window,e=by();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=by(n.document)}return e}function vb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function e8(n){var e=cO(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&lO(t.ownerDocument.documentElement,t)){if(r!==null&&vb(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=sP(t,s);var o=sP(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var t8=Ka&&"documentMode"in document&&11>=document.documentMode,nd=null,xM=null,Op=null,SM=!1;function oP(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;SM||nd==null||nd!==by(r)||(r=nd,"selectionStart"in r&&vb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Op&&cm(Op,r)||(Op=r,r=Ly(xM,"onSelect"),0<r.length&&(e=new pb("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=nd)))}function T0(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var rd={animationend:T0("Animation","AnimationEnd"),animationiteration:T0("Animation","AnimationIteration"),animationstart:T0("Animation","AnimationStart"),transitionend:T0("Transition","TransitionEnd")},aS={},uO={};Ka&&(uO=document.createElement("div").style,"AnimationEvent"in window||(delete rd.animationend.animation,delete rd.animationiteration.animation,delete rd.animationstart.animation),"TransitionEvent"in window||delete rd.transitionend.transition);function D_(n){if(aS[n])return aS[n];if(!rd[n])return n;var e=rd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in uO)return aS[n]=e[t];return n}var fO=D_("animationend"),dO=D_("animationiteration"),hO=D_("animationstart"),pO=D_("transitionend"),mO=new Map,aP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hc(n,e){mO.set(n,e),ju(e,[n])}for(var lS=0;lS<aP.length;lS++){var cS=aP[lS],n8=cS.toLowerCase(),r8=cS[0].toUpperCase()+cS.slice(1);hc(n8,"on"+r8)}hc(fO,"onAnimationEnd");hc(dO,"onAnimationIteration");hc(hO,"onAnimationStart");hc("dblclick","onDoubleClick");hc("focusin","onFocus");hc("focusout","onBlur");hc(pO,"onTransitionEnd");kd("onMouseEnter",["mouseout","mouseover"]);kd("onMouseLeave",["mouseout","mouseover"]);kd("onPointerEnter",["pointerout","pointerover"]);kd("onPointerLeave",["pointerout","pointerover"]);ju("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ju("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ju("onBeforeInput",["compositionend","keypress","textInput","paste"]);ju("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ju("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ep="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ep));function lP(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,nH(r,e,void 0,n),n.currentTarget=null}function gO(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;lP(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;lP(i,a,c),s=l}}}if(Ty)throw n=gM,Ty=!1,gM=null,n}function Hn(n,e){var t=e[bM];t===void 0&&(t=e[bM]=new Set);var r=n+"__bubble";t.has(r)||(vO(e,n,2,!1),t.add(r))}function uS(n,e,t){var r=0;e&&(r|=4),vO(t,n,r,e)}var R0="_reactListening"+Math.random().toString(36).slice(2);function um(n){if(!n[R0]){n[R0]=!0,wD.forEach(function(t){t!=="selectionchange"&&(i8.has(t)||uS(t,!1,n),uS(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[R0]||(e[R0]=!0,uS("selectionchange",!1,e))}}function vO(n,e,t,r){switch(eO(e)){case 1:var i=yH;break;case 4:i=_H;break;default:i=db}t=i.bind(null,e,t,n),i=void 0,!mM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function fS(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ou(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zD(function(){var c=s,u=lb(t),f=[];e:{var h=mO.get(n);if(h!==void 0){var m=pb,v=n;switch(n){case"keypress":if(Zv(t)===0)break e;case"keydown":case"keyup":m=DH;break;case"focusin":v="focus",m=iS;break;case"focusout":v="blur",m=iS;break;case"beforeblur":case"afterblur":m=iS;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$R;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=AH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=UH;break;case fO:case dO:case hO:m=EH;break;case pO:m=NH;break;case"scroll":m=xH;break;case"wheel":m=GH;break;case"copy":case"cut":case"paste":m=CH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ZR}var y=(e&4)!==0,_=!y&&n==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var x=c,S;x!==null;){S=x;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,g!==null&&(M=im(x,g),M!=null&&y.push(fm(x,M,S)))),_)break;x=x.return}0<y.length&&(h=new m(h,v,null,t,u),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",h&&t!==hM&&(v=t.relatedTarget||t.fromElement)&&(ou(v)||v[$a]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=c,v=v?ou(v):null,v!==null&&(_=Xu(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=$R,M="onMouseLeave",g="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(y=ZR,M="onPointerLeave",g="onPointerEnter",x="pointer"),_=m==null?h:id(m),S=v==null?h:id(v),h=new y(M,x+"leave",m,t,u),h.target=_,h.relatedTarget=S,M=null,ou(u)===c&&(y=new y(g,x+"enter",v,t,u),y.target=S,y.relatedTarget=_,M=y),_=M,m&&v)t:{for(y=m,g=v,x=0,S=y;S;S=mf(S))x++;for(S=0,M=g;M;M=mf(M))S++;for(;0<x-S;)y=mf(y),x--;for(;0<S-x;)g=mf(g),S--;for(;x--;){if(y===g||g!==null&&y===g.alternate)break t;y=mf(y),g=mf(g)}y=null}else y=null;m!==null&&cP(f,h,m,y,!1),v!==null&&_!==null&&cP(f,_,v,y,!0)}}e:{if(h=c?id(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=YH;else if(tP(h))if(oO)E=ZH;else{E=$H;var b=KH}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=QH);if(E&&(E=E(n,c))){sO(f,E,t,u);break e}b&&b(n,h,c),n==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&lM(h,"number",h.value)}switch(b=c?id(c):window,n){case"focusin":(tP(b)||b.contentEditable==="true")&&(nd=b,xM=c,Op=null);break;case"focusout":Op=xM=nd=null;break;case"mousedown":SM=!0;break;case"contextmenu":case"mouseup":case"dragend":SM=!1,oP(f,t,u);break;case"selectionchange":if(t8)break;case"keydown":case"keyup":oP(f,t,u)}var C;if(gb)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else td?rO(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(nO&&t.locale!=="ko"&&(td||R!=="onCompositionStart"?R==="onCompositionEnd"&&td&&(C=tO()):(Dl=u,hb="value"in Dl?Dl.value:Dl.textContent,td=!0)),b=Ly(c,R),0<b.length&&(R=new QR(R,n,null,t,u),f.push({event:R,listeners:b}),C?R.data=C:(C=iO(t),C!==null&&(R.data=C)))),(C=VH?WH(n,t):jH(n,t))&&(c=Ly(c,"onBeforeInput"),0<c.length&&(u=new QR("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=C))}gO(f,e)})}function fm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Ly(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=im(n,t),s!=null&&r.unshift(fm(n,s,i)),s=im(n,e),s!=null&&r.push(fm(n,s,i))),n=n.return}return r}function mf(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function cP(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=im(t,s),l!=null&&o.unshift(fm(t,l,a))):i||(l=im(t,s),l!=null&&o.push(fm(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var s8=/\r\n?/g,o8=/\u0000|\uFFFD/g;function uP(n){return(typeof n=="string"?n:""+n).replace(s8,`
`).replace(o8,"")}function P0(n,e,t){if(e=uP(e),uP(n)!==e&&t)throw Error(et(425))}function Dy(){}var AM=null,MM=null;function wM(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var EM=typeof setTimeout=="function"?setTimeout:void 0,a8=typeof clearTimeout=="function"?clearTimeout:void 0,fP=typeof Promise=="function"?Promise:void 0,l8=typeof queueMicrotask=="function"?queueMicrotask:typeof fP<"u"?function(n){return fP.resolve(null).then(n).catch(c8)}:EM;function c8(n){setTimeout(function(){throw n})}function dS(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),am(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);am(e)}function Jl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function dP(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ph=Math.random().toString(36).slice(2),sa="__reactFiber$"+ph,dm="__reactProps$"+ph,$a="__reactContainer$"+ph,bM="__reactEvents$"+ph,u8="__reactListeners$"+ph,f8="__reactHandles$"+ph;function ou(n){var e=n[sa];if(e)return e;for(var t=n.parentNode;t;){if(e=t[$a]||t[sa]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=dP(n);n!==null;){if(t=n[sa])return t;n=dP(n)}return e}n=t,t=n.parentNode}return null}function eg(n){return n=n[sa]||n[$a],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function id(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(et(33))}function O_(n){return n[dm]||null}var CM=[],sd=-1;function pc(n){return{current:n}}function jn(n){0>sd||(n.current=CM[sd],CM[sd]=null,sd--)}function kn(n,e){sd++,CM[sd]=n.current,n.current=e}var oc={},Si=pc(oc),ts=pc(!1),Iu=oc;function Nd(n,e){var t=n.type.contextTypes;if(!t)return oc;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ns(n){return n=n.childContextTypes,n!=null}function Oy(){jn(ts),jn(Si)}function hP(n,e,t){if(Si.current!==oc)throw Error(et(168));kn(Si,e),kn(ts,t)}function yO(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(et(108,KG(n)||"Unknown",i));return ir({},t,r)}function Fy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||oc,Iu=Si.current,kn(Si,n),kn(ts,ts.current),!0}function pP(n,e,t){var r=n.stateNode;if(!r)throw Error(et(169));t?(n=yO(n,e,Iu),r.__reactInternalMemoizedMergedChildContext=n,jn(ts),jn(Si),kn(Si,n)):jn(ts),kn(ts,t)}var Na=null,F_=!1,hS=!1;function _O(n){Na===null?Na=[n]:Na.push(n)}function d8(n){F_=!0,_O(n)}function mc(){if(!hS&&Na!==null){hS=!0;var n=0,e=Cn;try{var t=Na;for(Cn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Na=null,F_=!1}catch(i){throw Na!==null&&(Na=Na.slice(n+1)),WD(cb,mc),i}finally{Cn=e,hS=!1}}return null}var od=[],ad=0,Uy=null,ky=0,eo=[],to=0,Bu=null,Va=1,Wa="";function Yc(n,e){od[ad++]=ky,od[ad++]=Uy,Uy=n,ky=e}function xO(n,e,t){eo[to++]=Va,eo[to++]=Wa,eo[to++]=Bu,Bu=n;var r=Va;n=Wa;var i=32-Uo(r)-1;r&=~(1<<i),t+=1;var s=32-Uo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Va=1<<32-Uo(e)+i|t<<i|r,Wa=s+n}else Va=1<<s|t<<i|r,Wa=n}function yb(n){n.return!==null&&(Yc(n,1),xO(n,1,0))}function _b(n){for(;n===Uy;)Uy=od[--ad],od[ad]=null,ky=od[--ad],od[ad]=null;for(;n===Bu;)Bu=eo[--to],eo[to]=null,Wa=eo[--to],eo[to]=null,Va=eo[--to],eo[to]=null}var Es=null,ws=null,Yn=!1,Lo=null;function SO(n,e){var t=so(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function mP(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Es=n,ws=Jl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Es=n,ws=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Bu!==null?{id:Va,overflow:Wa}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=so(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Es=n,ws=null,!0):!1;default:return!1}}function TM(n){return(n.mode&1)!==0&&(n.flags&128)===0}function RM(n){if(Yn){var e=ws;if(e){var t=e;if(!mP(n,e)){if(TM(n))throw Error(et(418));e=Jl(t.nextSibling);var r=Es;e&&mP(n,e)?SO(r,t):(n.flags=n.flags&-4097|2,Yn=!1,Es=n)}}else{if(TM(n))throw Error(et(418));n.flags=n.flags&-4097|2,Yn=!1,Es=n}}}function gP(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Es=n}function I0(n){if(n!==Es)return!1;if(!Yn)return gP(n),Yn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!wM(n.type,n.memoizedProps)),e&&(e=ws)){if(TM(n))throw AO(),Error(et(418));for(;e;)SO(n,e),e=Jl(e.nextSibling)}if(gP(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(et(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ws=Jl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ws=null}}else ws=Es?Jl(n.stateNode.nextSibling):null;return!0}function AO(){for(var n=ws;n;)n=Jl(n.nextSibling)}function zd(){ws=Es=null,Yn=!1}function xb(n){Lo===null?Lo=[n]:Lo.push(n)}var h8=al.ReactCurrentBatchConfig;function Ro(n,e){if(n&&n.defaultProps){e=ir({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Ny=pc(null),zy=null,ld=null,Sb=null;function Ab(){Sb=ld=zy=null}function Mb(n){var e=Ny.current;jn(Ny),n._currentValue=e}function PM(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function bd(n,e){zy=n,Sb=ld=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(qi=!0),n.firstContext=null)}function fo(n){var e=n._currentValue;if(Sb!==n)if(n={context:n,memoizedValue:e,next:null},ld===null){if(zy===null)throw Error(et(308));ld=n,zy.dependencies={lanes:0,firstContext:n}}else ld=ld.next=n;return e}var au=null;function wb(n){au===null?au=[n]:au.push(n)}function MO(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,wb(e)):(t.next=i.next,i.next=t),e.interleaved=t,Qa(n,r)}function Qa(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Rl=!1;function Eb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wO(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ja(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Yl(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,hn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qa(n,t)}return i=r.interleaved,i===null?(e.next=e,wb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qa(n,t)}function qv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,ub(n,t)}}function vP(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Gy(n,e,t,r){var i=n.updateQueue;Rl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(h=e,m=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=ir({},f,h);break e;case 2:Rl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Du|=o,n.lanes=o,n.memoizedState=f}}function yP(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(et(191,i));i.call(r)}}}var EO=new MD.Component().refs;function IM(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ir({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var U_={isMounted:function(n){return(n=n._reactInternals)?Xu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=ki(),i=$l(n),s=Ja(r,i);s.payload=e,t!=null&&(s.callback=t),e=Yl(n,s,i),e!==null&&(ko(e,n,i,r),qv(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=ki(),i=$l(n),s=Ja(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Yl(n,s,i),e!==null&&(ko(e,n,i,r),qv(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ki(),r=$l(n),i=Ja(t,r);i.tag=2,e!=null&&(i.callback=e),e=Yl(n,i,r),e!==null&&(ko(e,n,r,t),qv(e,n,r))}};function _P(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!cm(t,r)||!cm(i,s):!0}function bO(n,e,t){var r=!1,i=oc,s=e.contextType;return typeof s=="object"&&s!==null?s=fo(s):(i=ns(e)?Iu:Si.current,r=e.contextTypes,s=(r=r!=null)?Nd(n,i):oc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=U_,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function xP(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&U_.enqueueReplaceState(e,e.state,null)}function BM(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=EO,Eb(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fo(s):(s=ns(e)?Iu:Si.current,i.context=Nd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(IM(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&U_.enqueueReplaceState(i,i.state,null),Gy(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Zh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(et(309));var r=t.stateNode}if(!r)throw Error(et(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===EO&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(et(284));if(!t._owner)throw Error(et(290,n))}return n}function B0(n,e){throw n=Object.prototype.toString.call(e),Error(et(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function SP(n){var e=n._init;return e(n._payload)}function CO(n){function e(g,x){if(n){var S=g.deletions;S===null?(g.deletions=[x],g.flags|=16):S.push(x)}}function t(g,x){if(!n)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=Ql(g,x),g.index=0,g.sibling=null,g}function s(g,x,S){return g.index=S,n?(S=g.alternate,S!==null?(S=S.index,S<x?(g.flags|=2,x):S):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,x,S,M){return x===null||x.tag!==6?(x=xS(S,g.mode,M),x.return=g,x):(x=i(x,S),x.return=g,x)}function l(g,x,S,M){var E=S.type;return E===ed?u(g,x,S.props.children,M,S.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tl&&SP(E)===x.type)?(M=i(x,S.props),M.ref=Zh(g,x,S),M.return=g,M):(M=sy(S.type,S.key,S.props,null,g.mode,M),M.ref=Zh(g,x,S),M.return=g,M)}function c(g,x,S,M){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=SS(S,g.mode,M),x.return=g,x):(x=i(x,S.children||[]),x.return=g,x)}function u(g,x,S,M,E){return x===null||x.tag!==7?(x=yu(S,g.mode,M,E),x.return=g,x):(x=i(x,S),x.return=g,x)}function f(g,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=xS(""+x,g.mode,S),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case S0:return S=sy(x.type,x.key,x.props,null,g.mode,S),S.ref=Zh(g,null,x),S.return=g,S;case qf:return x=SS(x,g.mode,S),x.return=g,x;case Tl:var M=x._init;return f(g,M(x._payload),S)}if(Mp(x)||Jh(x))return x=yu(x,g.mode,S,null),x.return=g,x;B0(g,x)}return null}function h(g,x,S,M){var E=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:a(g,x,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case S0:return S.key===E?l(g,x,S,M):null;case qf:return S.key===E?c(g,x,S,M):null;case Tl:return E=S._init,h(g,x,E(S._payload),M)}if(Mp(S)||Jh(S))return E!==null?null:u(g,x,S,M,null);B0(g,S)}return null}function m(g,x,S,M,E){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(S)||null,a(x,g,""+M,E);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S0:return g=g.get(M.key===null?S:M.key)||null,l(x,g,M,E);case qf:return g=g.get(M.key===null?S:M.key)||null,c(x,g,M,E);case Tl:var b=M._init;return m(g,x,S,b(M._payload),E)}if(Mp(M)||Jh(M))return g=g.get(S)||null,u(x,g,M,E,null);B0(x,M)}return null}function v(g,x,S,M){for(var E=null,b=null,C=x,R=x=0,T=null;C!==null&&R<S.length;R++){C.index>R?(T=C,C=null):T=C.sibling;var B=h(g,C,S[R],M);if(B===null){C===null&&(C=T);break}n&&C&&B.alternate===null&&e(g,C),x=s(B,x,R),b===null?E=B:b.sibling=B,b=B,C=T}if(R===S.length)return t(g,C),Yn&&Yc(g,R),E;if(C===null){for(;R<S.length;R++)C=f(g,S[R],M),C!==null&&(x=s(C,x,R),b===null?E=C:b.sibling=C,b=C);return Yn&&Yc(g,R),E}for(C=r(g,C);R<S.length;R++)T=m(C,g,R,S[R],M),T!==null&&(n&&T.alternate!==null&&C.delete(T.key===null?R:T.key),x=s(T,x,R),b===null?E=T:b.sibling=T,b=T);return n&&C.forEach(function(k){return e(g,k)}),Yn&&Yc(g,R),E}function y(g,x,S,M){var E=Jh(S);if(typeof E!="function")throw Error(et(150));if(S=E.call(S),S==null)throw Error(et(151));for(var b=E=null,C=x,R=x=0,T=null,B=S.next();C!==null&&!B.done;R++,B=S.next()){C.index>R?(T=C,C=null):T=C.sibling;var k=h(g,C,B.value,M);if(k===null){C===null&&(C=T);break}n&&C&&k.alternate===null&&e(g,C),x=s(k,x,R),b===null?E=k:b.sibling=k,b=k,C=T}if(B.done)return t(g,C),Yn&&Yc(g,R),E;if(C===null){for(;!B.done;R++,B=S.next())B=f(g,B.value,M),B!==null&&(x=s(B,x,R),b===null?E=B:b.sibling=B,b=B);return Yn&&Yc(g,R),E}for(C=r(g,C);!B.done;R++,B=S.next())B=m(C,g,R,B.value,M),B!==null&&(n&&B.alternate!==null&&C.delete(B.key===null?R:B.key),x=s(B,x,R),b===null?E=B:b.sibling=B,b=B);return n&&C.forEach(function(N){return e(g,N)}),Yn&&Yc(g,R),E}function _(g,x,S,M){if(typeof S=="object"&&S!==null&&S.type===ed&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case S0:e:{for(var E=S.key,b=x;b!==null;){if(b.key===E){if(E=S.type,E===ed){if(b.tag===7){t(g,b.sibling),x=i(b,S.props.children),x.return=g,g=x;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Tl&&SP(E)===b.type){t(g,b.sibling),x=i(b,S.props),x.ref=Zh(g,b,S),x.return=g,g=x;break e}t(g,b);break}else e(g,b);b=b.sibling}S.type===ed?(x=yu(S.props.children,g.mode,M,S.key),x.return=g,g=x):(M=sy(S.type,S.key,S.props,null,g.mode,M),M.ref=Zh(g,x,S),M.return=g,g=M)}return o(g);case qf:e:{for(b=S.key;x!==null;){if(x.key===b)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){t(g,x.sibling),x=i(x,S.children||[]),x.return=g,g=x;break e}else{t(g,x);break}else e(g,x);x=x.sibling}x=SS(S,g.mode,M),x.return=g,g=x}return o(g);case Tl:return b=S._init,_(g,x,b(S._payload),M)}if(Mp(S))return v(g,x,S,M);if(Jh(S))return y(g,x,S,M);B0(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(t(g,x.sibling),x=i(x,S),x.return=g,g=x):(t(g,x),x=xS(S,g.mode,M),x.return=g,g=x),o(g)):t(g,x)}return _}var Gd=CO(!0),TO=CO(!1),tg={},ua=pc(tg),hm=pc(tg),pm=pc(tg);function lu(n){if(n===tg)throw Error(et(174));return n}function bb(n,e){switch(kn(pm,e),kn(hm,n),kn(ua,tg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uM(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=uM(e,n)}jn(ua),kn(ua,e)}function Hd(){jn(ua),jn(hm),jn(pm)}function RO(n){lu(pm.current);var e=lu(ua.current),t=uM(e,n.type);e!==t&&(kn(hm,n),kn(ua,t))}function Cb(n){hm.current===n&&(jn(ua),jn(hm))}var Zn=pc(0);function Hy(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pS=[];function Tb(){for(var n=0;n<pS.length;n++)pS[n]._workInProgressVersionPrimary=null;pS.length=0}var ey=al.ReactCurrentDispatcher,mS=al.ReactCurrentBatchConfig,Lu=0,rr=null,Or=null,jr=null,Vy=!1,Fp=!1,mm=0,p8=0;function fi(){throw Error(et(321))}function Rb(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ho(n[t],e[t]))return!1;return!0}function Pb(n,e,t,r,i,s){if(Lu=s,rr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ey.current=n===null||n.memoizedState===null?y8:_8,n=t(r,i),Fp){s=0;do{if(Fp=!1,mm=0,25<=s)throw Error(et(301));s+=1,jr=Or=null,e.updateQueue=null,ey.current=x8,n=t(r,i)}while(Fp)}if(ey.current=Wy,e=Or!==null&&Or.next!==null,Lu=0,jr=Or=rr=null,Vy=!1,e)throw Error(et(300));return n}function Ib(){var n=mm!==0;return mm=0,n}function ta(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?rr.memoizedState=jr=n:jr=jr.next=n,jr}function ho(){if(Or===null){var n=rr.alternate;n=n!==null?n.memoizedState:null}else n=Or.next;var e=jr===null?rr.memoizedState:jr.next;if(e!==null)jr=e,Or=n;else{if(n===null)throw Error(et(310));Or=n,n={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},jr===null?rr.memoizedState=jr=n:jr=jr.next=n}return jr}function gm(n,e){return typeof e=="function"?e(n):e}function gS(n){var e=ho(),t=e.queue;if(t===null)throw Error(et(311));t.lastRenderedReducer=n;var r=Or,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Lu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,rr.lanes|=u,Du|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ho(r,e.memoizedState)||(qi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,rr.lanes|=s,Du|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function vS(n){var e=ho(),t=e.queue;if(t===null)throw Error(et(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Ho(s,e.memoizedState)||(qi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function PO(){}function IO(n,e){var t=rr,r=ho(),i=e(),s=!Ho(r.memoizedState,i);if(s&&(r.memoizedState=i,qi=!0),r=r.queue,Bb(DO.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||jr!==null&&jr.memoizedState.tag&1){if(t.flags|=2048,vm(9,LO.bind(null,t,r,i,e),void 0,null),Jr===null)throw Error(et(349));Lu&30||BO(t,e,i)}return i}function BO(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function LO(n,e,t,r){e.value=t,e.getSnapshot=r,OO(e)&&FO(n)}function DO(n,e,t){return t(function(){OO(e)&&FO(n)})}function OO(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ho(n,t)}catch{return!0}}function FO(n){var e=Qa(n,1);e!==null&&ko(e,n,1,-1)}function AP(n){var e=ta();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:n},e.queue=n,n=n.dispatch=v8.bind(null,rr,n),[e.memoizedState,n]}function vm(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function UO(){return ho().memoizedState}function ty(n,e,t,r){var i=ta();rr.flags|=n,i.memoizedState=vm(1|e,t,void 0,r===void 0?null:r)}function k_(n,e,t,r){var i=ho();r=r===void 0?null:r;var s=void 0;if(Or!==null){var o=Or.memoizedState;if(s=o.destroy,r!==null&&Rb(r,o.deps)){i.memoizedState=vm(e,t,s,r);return}}rr.flags|=n,i.memoizedState=vm(1|e,t,s,r)}function MP(n,e){return ty(8390656,8,n,e)}function Bb(n,e){return k_(2048,8,n,e)}function kO(n,e){return k_(4,2,n,e)}function NO(n,e){return k_(4,4,n,e)}function zO(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function GO(n,e,t){return t=t!=null?t.concat([n]):null,k_(4,4,zO.bind(null,e,n),t)}function Lb(){}function HO(n,e){var t=ho();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Rb(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function VO(n,e){var t=ho();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Rb(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function WO(n,e,t){return Lu&21?(Ho(t,e)||(t=JD(),rr.lanes|=t,Du|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,qi=!0),n.memoizedState=t)}function m8(n,e){var t=Cn;Cn=t!==0&&4>t?t:4,n(!0);var r=mS.transition;mS.transition={};try{n(!1),e()}finally{Cn=t,mS.transition=r}}function jO(){return ho().memoizedState}function g8(n,e,t){var r=$l(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},XO(n))JO(e,t);else if(t=MO(n,e,t,r),t!==null){var i=ki();ko(t,n,r,i),YO(t,e,r)}}function v8(n,e,t){var r=$l(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(XO(n))JO(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Ho(a,o)){var l=e.interleaved;l===null?(i.next=i,wb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=MO(n,e,i,r),t!==null&&(i=ki(),ko(t,n,r,i),YO(t,e,r))}}function XO(n){var e=n.alternate;return n===rr||e!==null&&e===rr}function JO(n,e){Fp=Vy=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function YO(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,ub(n,t)}}var Wy={readContext:fo,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},y8={readContext:fo,useCallback:function(n,e){return ta().memoizedState=[n,e===void 0?null:e],n},useContext:fo,useEffect:MP,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ty(4194308,4,zO.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ty(4194308,4,n,e)},useInsertionEffect:function(n,e){return ty(4,2,n,e)},useMemo:function(n,e){var t=ta();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ta();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=g8.bind(null,rr,n),[r.memoizedState,n]},useRef:function(n){var e=ta();return n={current:n},e.memoizedState=n},useState:AP,useDebugValue:Lb,useDeferredValue:function(n){return ta().memoizedState=n},useTransition:function(){var n=AP(!1),e=n[0];return n=m8.bind(null,n[1]),ta().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=rr,i=ta();if(Yn){if(t===void 0)throw Error(et(407));t=t()}else{if(t=e(),Jr===null)throw Error(et(349));Lu&30||BO(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,MP(DO.bind(null,r,s,n),[n]),r.flags|=2048,vm(9,LO.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ta(),e=Jr.identifierPrefix;if(Yn){var t=Wa,r=Va;t=(r&~(1<<32-Uo(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=mm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=p8++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},_8={readContext:fo,useCallback:HO,useContext:fo,useEffect:Bb,useImperativeHandle:GO,useInsertionEffect:kO,useLayoutEffect:NO,useMemo:VO,useReducer:gS,useRef:UO,useState:function(){return gS(gm)},useDebugValue:Lb,useDeferredValue:function(n){var e=ho();return WO(e,Or.memoizedState,n)},useTransition:function(){var n=gS(gm)[0],e=ho().memoizedState;return[n,e]},useMutableSource:PO,useSyncExternalStore:IO,useId:jO,unstable_isNewReconciler:!1},x8={readContext:fo,useCallback:HO,useContext:fo,useEffect:Bb,useImperativeHandle:GO,useInsertionEffect:kO,useLayoutEffect:NO,useMemo:VO,useReducer:vS,useRef:UO,useState:function(){return vS(gm)},useDebugValue:Lb,useDeferredValue:function(n){var e=ho();return Or===null?e.memoizedState=n:WO(e,Or.memoizedState,n)},useTransition:function(){var n=vS(gm)[0],e=ho().memoizedState;return[n,e]},useMutableSource:PO,useSyncExternalStore:IO,useId:jO,unstable_isNewReconciler:!1};function Vd(n,e){try{var t="",r=e;do t+=YG(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function yS(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function LM(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var S8=typeof WeakMap=="function"?WeakMap:Map;function KO(n,e,t){t=Ja(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Xy||(Xy=!0,VM=r),LM(n,e)},t}function $O(n,e,t){t=Ja(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){LM(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){LM(n,e),typeof r!="function"&&(Kl===null?Kl=new Set([this]):Kl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function wP(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new S8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=O8.bind(null,n,e,t),e.then(n,n))}function EP(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function bP(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ja(-1,1),e.tag=2,Yl(t,e,1))),t.lanes|=1),n)}var A8=al.ReactCurrentOwner,qi=!1;function Bi(n,e,t,r){e.child=n===null?TO(e,null,t,r):Gd(e,n.child,t,r)}function CP(n,e,t,r,i){t=t.render;var s=e.ref;return bd(e,i),r=Pb(n,e,t,r,s,i),t=Ib(),n!==null&&!qi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Za(n,e,i)):(Yn&&t&&yb(e),e.flags|=1,Bi(n,e,r,i),e.child)}function TP(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!Gb(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,QO(n,e,s,r,i)):(n=sy(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:cm,t(o,r)&&n.ref===e.ref)return Za(n,e,i)}return e.flags|=1,n=Ql(s,r),n.ref=e.ref,n.return=e,e.child=n}function QO(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(cm(s,r)&&n.ref===e.ref)if(qi=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(qi=!0);else return e.lanes=n.lanes,Za(n,e,i)}return DM(n,e,t,r,i)}function ZO(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(ud,Ss),Ss|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,kn(ud,Ss),Ss|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,kn(ud,Ss),Ss|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,kn(ud,Ss),Ss|=r;return Bi(n,e,i,t),e.child}function qO(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function DM(n,e,t,r,i){var s=ns(t)?Iu:Si.current;return s=Nd(e,s),bd(e,i),t=Pb(n,e,t,r,s,i),r=Ib(),n!==null&&!qi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Za(n,e,i)):(Yn&&r&&yb(e),e.flags|=1,Bi(n,e,t,i),e.child)}function RP(n,e,t,r,i){if(ns(t)){var s=!0;Fy(e)}else s=!1;if(bd(e,i),e.stateNode===null)ny(n,e),bO(e,t,r),BM(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=fo(c):(c=ns(t)?Iu:Si.current,c=Nd(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&xP(e,o,r,c),Rl=!1;var h=e.memoizedState;o.state=h,Gy(e,r,o,i),l=e.memoizedState,a!==r||h!==l||ts.current||Rl?(typeof u=="function"&&(IM(e,t,u,r),l=e.memoizedState),(a=Rl||_P(e,t,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wO(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ro(e.type,a),o.props=c,f=e.pendingProps,h=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=fo(l):(l=ns(t)?Iu:Si.current,l=Nd(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&xP(e,o,r,l),Rl=!1,h=e.memoizedState,o.state=h,Gy(e,r,o,i);var v=e.memoizedState;a!==f||h!==v||ts.current||Rl?(typeof m=="function"&&(IM(e,t,m,r),v=e.memoizedState),(c=Rl||_P(e,t,c,r,h,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),r=!1)}return OM(n,e,t,r,s,i)}function OM(n,e,t,r,i,s){qO(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&pP(e,t,!1),Za(n,e,s);r=e.stateNode,A8.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Gd(e,n.child,null,s),e.child=Gd(e,null,a,s)):Bi(n,e,a,s),e.memoizedState=r.state,i&&pP(e,t,!0),e.child}function eF(n){var e=n.stateNode;e.pendingContext?hP(n,e.pendingContext,e.pendingContext!==e.context):e.context&&hP(n,e.context,!1),bb(n,e.containerInfo)}function PP(n,e,t,r,i){return zd(),xb(i),e.flags|=256,Bi(n,e,t,r),e.child}var FM={dehydrated:null,treeContext:null,retryLane:0};function UM(n){return{baseLanes:n,cachePool:null,transitions:null}}function tF(n,e,t){var r=e.pendingProps,i=Zn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),kn(Zn,i&1),n===null)return RM(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=G_(o,r,0,null),n=yu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=UM(t),e.memoizedState=FM,n):Db(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return M8(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ql(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ql(a,s):(s=yu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?UM(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=FM,r}return s=n.child,n=s.sibling,r=Ql(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function Db(n,e){return e=G_({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function L0(n,e,t,r){return r!==null&&xb(r),Gd(e,n.child,null,t),n=Db(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function M8(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=yS(Error(et(422))),L0(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=G_({mode:"visible",children:r.children},i,0,null),s=yu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Gd(e,n.child,null,o),e.child.memoizedState=UM(o),e.memoizedState=FM,s);if(!(e.mode&1))return L0(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(et(419)),r=yS(s,r,void 0),L0(n,e,o,r)}if(a=(o&n.childLanes)!==0,qi||a){if(r=Jr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qa(n,i),ko(r,n,i,-1))}return zb(),r=yS(Error(et(421))),L0(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=F8.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,ws=Jl(i.nextSibling),Es=e,Yn=!0,Lo=null,n!==null&&(eo[to++]=Va,eo[to++]=Wa,eo[to++]=Bu,Va=n.id,Wa=n.overflow,Bu=e),e=Db(e,r.children),e.flags|=4096,e)}function IP(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),PM(n.return,e,t)}function _S(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function nF(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Bi(n,e,r.children,t),r=Zn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&IP(n,t,e);else if(n.tag===19)IP(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(kn(Zn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Hy(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),_S(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Hy(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}_S(e,!0,t,null,s);break;case"together":_S(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ny(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Za(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Du|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(et(153));if(e.child!==null){for(n=e.child,t=Ql(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ql(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function w8(n,e,t){switch(e.tag){case 3:eF(e),zd();break;case 5:RO(e);break;case 1:ns(e.type)&&Fy(e);break;case 4:bb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;kn(Ny,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(kn(Zn,Zn.current&1),e.flags|=128,null):t&e.child.childLanes?tF(n,e,t):(kn(Zn,Zn.current&1),n=Za(n,e,t),n!==null?n.sibling:null);kn(Zn,Zn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return nF(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kn(Zn,Zn.current),r)break;return null;case 22:case 23:return e.lanes=0,ZO(n,e,t)}return Za(n,e,t)}var rF,kM,iF,sF;rF=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};kM=function(){};iF=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,lu(ua.current);var s=null;switch(t){case"input":i=oM(n,i),r=oM(n,r),s=[];break;case"select":i=ir({},i,{value:void 0}),r=ir({},r,{value:void 0}),s=[];break;case"textarea":i=cM(n,i),r=cM(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Dy)}fM(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Hn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};sF=function(n,e,t,r){t!==r&&(e.flags|=4)};function qh(n,e){if(!Yn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function di(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function E8(n,e,t){var r=e.pendingProps;switch(_b(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(e),null;case 1:return ns(e.type)&&Oy(),di(e),null;case 3:return r=e.stateNode,Hd(),jn(ts),jn(Si),Tb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(I0(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lo!==null&&(XM(Lo),Lo=null))),kM(n,e),di(e),null;case 5:Cb(e);var i=lu(pm.current);if(t=e.type,n!==null&&e.stateNode!=null)iF(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(et(166));return di(e),null}if(n=lu(ua.current),I0(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[sa]=e,r[dm]=s,n=(e.mode&1)!==0,t){case"dialog":Hn("cancel",r),Hn("close",r);break;case"iframe":case"object":case"embed":Hn("load",r);break;case"video":case"audio":for(i=0;i<Ep.length;i++)Hn(Ep[i],r);break;case"source":Hn("error",r);break;case"img":case"image":case"link":Hn("error",r),Hn("load",r);break;case"details":Hn("toggle",r);break;case"input":zR(r,s),Hn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Hn("invalid",r);break;case"textarea":HR(r,s),Hn("invalid",r)}fM(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&P0(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&P0(r.textContent,a,n),i=["children",""+a]):nm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Hn("scroll",r)}switch(t){case"input":A0(r),GR(r,s,!0);break;case"textarea":A0(r),VR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Dy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=BD(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[sa]=e,n[dm]=r,rF(n,e,!1,!1),e.stateNode=n;e:{switch(o=dM(t,r),t){case"dialog":Hn("cancel",n),Hn("close",n),i=r;break;case"iframe":case"object":case"embed":Hn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Ep.length;i++)Hn(Ep[i],n);i=r;break;case"source":Hn("error",n),i=r;break;case"img":case"image":case"link":Hn("error",n),Hn("load",n),i=r;break;case"details":Hn("toggle",n),i=r;break;case"input":zR(n,r),i=oM(n,r),Hn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=ir({},r,{value:void 0}),Hn("invalid",n);break;case"textarea":HR(n,r),i=cM(n,r),Hn("invalid",n);break;default:i=r}fM(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?OD(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&LD(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&rm(n,l):typeof l=="number"&&rm(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Hn("scroll",n):l!=null&&ib(n,s,l,o))}switch(t){case"input":A0(n),GR(n,r,!1);break;case"textarea":A0(n),VR(n);break;case"option":r.value!=null&&n.setAttribute("value",""+sc(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Ad(n,!!r.multiple,s,!1):r.defaultValue!=null&&Ad(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Dy)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return di(e),null;case 6:if(n&&e.stateNode!=null)sF(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(et(166));if(t=lu(pm.current),lu(ua.current),I0(e)){if(r=e.stateNode,t=e.memoizedProps,r[sa]=e,(s=r.nodeValue!==t)&&(n=Es,n!==null))switch(n.tag){case 3:P0(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&P0(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[sa]=e,e.stateNode=r}return di(e),null;case 13:if(jn(Zn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Yn&&ws!==null&&e.mode&1&&!(e.flags&128))AO(),zd(),e.flags|=98560,s=!1;else if(s=I0(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(et(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(et(317));s[sa]=e}else zd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;di(e),s=!1}else Lo!==null&&(XM(Lo),Lo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Zn.current&1?Ur===0&&(Ur=3):zb())),e.updateQueue!==null&&(e.flags|=4),di(e),null);case 4:return Hd(),kM(n,e),n===null&&um(e.stateNode.containerInfo),di(e),null;case 10:return Mb(e.type._context),di(e),null;case 17:return ns(e.type)&&Oy(),di(e),null;case 19:if(jn(Zn),s=e.memoizedState,s===null)return di(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qh(s,!1);else{if(Ur!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Hy(n),o!==null){for(e.flags|=128,qh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return kn(Zn,Zn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Ar()>Wd&&(e.flags|=128,r=!0,qh(s,!1),e.lanes=4194304)}else{if(!r)if(n=Hy(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),qh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Yn)return di(e),null}else 2*Ar()-s.renderingStartTime>Wd&&t!==1073741824&&(e.flags|=128,r=!0,qh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ar(),e.sibling=null,t=Zn.current,kn(Zn,r?t&1|2:t&1),e):(di(e),null);case 22:case 23:return Nb(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ss&1073741824&&(di(e),e.subtreeFlags&6&&(e.flags|=8192)):di(e),null;case 24:return null;case 25:return null}throw Error(et(156,e.tag))}function b8(n,e){switch(_b(e),e.tag){case 1:return ns(e.type)&&Oy(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Hd(),jn(ts),jn(Si),Tb(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Cb(e),null;case 13:if(jn(Zn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(et(340));zd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return jn(Zn),null;case 4:return Hd(),null;case 10:return Mb(e.type._context),null;case 22:case 23:return Nb(),null;case 24:return null;default:return null}}var D0=!1,mi=!1,C8=typeof WeakSet=="function"?WeakSet:Set,yt=null;function cd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){lr(n,e,r)}else t.current=null}function NM(n,e,t){try{t()}catch(r){lr(n,e,r)}}var BP=!1;function T8(n,e){if(AM=Iy,n=cO(),vb(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,h=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===n)break t;if(h===t&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(MM={focusedElem:n,selectionRange:t},Iy=!1,yt=e;yt!==null;)if(e=yt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,yt=n;else for(;yt!==null;){e=yt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,_=v.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Ro(e.type,y),_);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(M){lr(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,yt=n;break}yt=e.return}return v=BP,BP=!1,v}function Up(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&NM(e,t,s)}i=i.next}while(i!==r)}}function N_(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function zM(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function oF(n){var e=n.alternate;e!==null&&(n.alternate=null,oF(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[sa],delete e[dm],delete e[bM],delete e[u8],delete e[f8])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function aF(n){return n.tag===5||n.tag===3||n.tag===4}function LP(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||aF(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function GM(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Dy));else if(r!==4&&(n=n.child,n!==null))for(GM(n,e,t),n=n.sibling;n!==null;)GM(n,e,t),n=n.sibling}function HM(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(HM(n,e,t),n=n.sibling;n!==null;)HM(n,e,t),n=n.sibling}var ti=null,Io=!1;function vl(n,e,t){for(t=t.child;t!==null;)lF(n,e,t),t=t.sibling}function lF(n,e,t){if(ca&&typeof ca.onCommitFiberUnmount=="function")try{ca.onCommitFiberUnmount(I_,t)}catch{}switch(t.tag){case 5:mi||cd(t,e);case 6:var r=ti,i=Io;ti=null,vl(n,e,t),ti=r,Io=i,ti!==null&&(Io?(n=ti,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ti.removeChild(t.stateNode));break;case 18:ti!==null&&(Io?(n=ti,t=t.stateNode,n.nodeType===8?dS(n.parentNode,t):n.nodeType===1&&dS(n,t),am(n)):dS(ti,t.stateNode));break;case 4:r=ti,i=Io,ti=t.stateNode.containerInfo,Io=!0,vl(n,e,t),ti=r,Io=i;break;case 0:case 11:case 14:case 15:if(!mi&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&NM(t,e,o),i=i.next}while(i!==r)}vl(n,e,t);break;case 1:if(!mi&&(cd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){lr(t,e,a)}vl(n,e,t);break;case 21:vl(n,e,t);break;case 22:t.mode&1?(mi=(r=mi)||t.memoizedState!==null,vl(n,e,t),mi=r):vl(n,e,t);break;default:vl(n,e,t)}}function DP(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new C8),e.forEach(function(r){var i=U8.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Mo(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ti=a.stateNode,Io=!1;break e;case 3:ti=a.stateNode.containerInfo,Io=!0;break e;case 4:ti=a.stateNode.containerInfo,Io=!0;break e}a=a.return}if(ti===null)throw Error(et(160));lF(s,o,i),ti=null,Io=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){lr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cF(e,n),e=e.sibling}function cF(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Mo(e,n),ea(n),r&4){try{Up(3,n,n.return),N_(3,n)}catch(y){lr(n,n.return,y)}try{Up(5,n,n.return)}catch(y){lr(n,n.return,y)}}break;case 1:Mo(e,n),ea(n),r&512&&t!==null&&cd(t,t.return);break;case 5:if(Mo(e,n),ea(n),r&512&&t!==null&&cd(t,t.return),n.flags&32){var i=n.stateNode;try{rm(i,"")}catch(y){lr(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&PD(i,s),dM(a,o);var c=dM(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?OD(i,f):u==="dangerouslySetInnerHTML"?LD(i,f):u==="children"?rm(i,f):ib(i,u,f,c)}switch(a){case"input":aM(i,s);break;case"textarea":ID(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ad(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ad(i,!!s.multiple,s.defaultValue,!0):Ad(i,!!s.multiple,s.multiple?[]:"",!1))}i[dm]=s}catch(y){lr(n,n.return,y)}}break;case 6:if(Mo(e,n),ea(n),r&4){if(n.stateNode===null)throw Error(et(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){lr(n,n.return,y)}}break;case 3:if(Mo(e,n),ea(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{am(e.containerInfo)}catch(y){lr(n,n.return,y)}break;case 4:Mo(e,n),ea(n);break;case 13:Mo(e,n),ea(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ub=Ar())),r&4&&DP(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(mi=(c=mi)||u,Mo(e,n),mi=c):Mo(e,n),ea(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(yt=n,u=n.child;u!==null;){for(f=yt=u;yt!==null;){switch(h=yt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Up(4,h,h.return);break;case 1:cd(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,t=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){lr(r,t,y)}}break;case 5:cd(h,h.return);break;case 22:if(h.memoizedState!==null){FP(f);continue}}m!==null?(m.return=h,yt=m):FP(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=DD("display",o))}catch(y){lr(n,n.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){lr(n,n.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mo(e,n),ea(n),r&4&&DP(n);break;case 21:break;default:Mo(e,n),ea(n)}}function ea(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(aF(t)){var r=t;break e}t=t.return}throw Error(et(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rm(i,""),r.flags&=-33);var s=LP(n);HM(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=LP(n);GM(n,a,o);break;default:throw Error(et(161))}}catch(l){lr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function R8(n,e,t){yt=n,uF(n)}function uF(n,e,t){for(var r=(n.mode&1)!==0;yt!==null;){var i=yt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||D0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||mi;a=D0;var c=mi;if(D0=o,(mi=l)&&!c)for(yt=i;yt!==null;)o=yt,l=o.child,o.tag===22&&o.memoizedState!==null?UP(i):l!==null?(l.return=o,yt=l):UP(i);for(;s!==null;)yt=s,uF(s),s=s.sibling;yt=i,D0=a,mi=c}OP(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,yt=s):OP(n)}}function OP(n){for(;yt!==null;){var e=yt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mi||N_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mi)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Ro(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}yP(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&am(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}mi||e.flags&512&&zM(e)}catch(h){lr(e,e.return,h)}}if(e===n){yt=null;break}if(t=e.sibling,t!==null){t.return=e.return,yt=t;break}yt=e.return}}function FP(n){for(;yt!==null;){var e=yt;if(e===n){yt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,yt=t;break}yt=e.return}}function UP(n){for(;yt!==null;){var e=yt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{N_(4,e)}catch(l){lr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){lr(e,i,l)}}var s=e.return;try{zM(e)}catch(l){lr(e,s,l)}break;case 5:var o=e.return;try{zM(e)}catch(l){lr(e,o,l)}}}catch(l){lr(e,e.return,l)}if(e===n){yt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,yt=a;break}yt=e.return}}var P8=Math.ceil,jy=al.ReactCurrentDispatcher,Ob=al.ReactCurrentOwner,uo=al.ReactCurrentBatchConfig,hn=0,Jr=null,Pr=null,ii=0,Ss=0,ud=pc(0),Ur=0,ym=null,Du=0,z_=0,Fb=0,kp=null,Ki=null,Ub=0,Wd=1/0,Fa=null,Xy=!1,VM=null,Kl=null,O0=!1,Ol=null,Jy=0,Np=0,WM=null,ry=-1,iy=0;function ki(){return hn&6?Ar():ry!==-1?ry:ry=Ar()}function $l(n){return n.mode&1?hn&2&&ii!==0?ii&-ii:h8.transition!==null?(iy===0&&(iy=JD()),iy):(n=Cn,n!==0||(n=window.event,n=n===void 0?16:eO(n.type)),n):1}function ko(n,e,t,r){if(50<Np)throw Np=0,WM=null,Error(et(185));Zm(n,t,r),(!(hn&2)||n!==Jr)&&(n===Jr&&(!(hn&2)&&(z_|=t),Ur===4&&Ll(n,ii)),rs(n,r),t===1&&hn===0&&!(e.mode&1)&&(Wd=Ar()+500,F_&&mc()))}function rs(n,e){var t=n.callbackNode;hH(n,e);var r=Py(n,n===Jr?ii:0);if(r===0)t!==null&&XR(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&XR(t),e===1)n.tag===0?d8(kP.bind(null,n)):_O(kP.bind(null,n)),l8(function(){!(hn&6)&&mc()}),t=null;else{switch(YD(r)){case 1:t=cb;break;case 4:t=jD;break;case 16:t=Ry;break;case 536870912:t=XD;break;default:t=Ry}t=yF(t,fF.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function fF(n,e){if(ry=-1,iy=0,hn&6)throw Error(et(327));var t=n.callbackNode;if(Cd()&&n.callbackNode!==t)return null;var r=Py(n,n===Jr?ii:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Yy(n,r);else{e=r;var i=hn;hn|=2;var s=hF();(Jr!==n||ii!==e)&&(Fa=null,Wd=Ar()+500,vu(n,e));do try{L8();break}catch(a){dF(n,a)}while(1);Ab(),jy.current=s,hn=i,Pr!==null?e=0:(Jr=null,ii=0,e=Ur)}if(e!==0){if(e===2&&(i=vM(n),i!==0&&(r=i,e=jM(n,i))),e===1)throw t=ym,vu(n,0),Ll(n,r),rs(n,Ar()),t;if(e===6)Ll(n,r);else{if(i=n.current.alternate,!(r&30)&&!I8(i)&&(e=Yy(n,r),e===2&&(s=vM(n),s!==0&&(r=s,e=jM(n,s))),e===1))throw t=ym,vu(n,0),Ll(n,r),rs(n,Ar()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(et(345));case 2:Kc(n,Ki,Fa);break;case 3:if(Ll(n,r),(r&130023424)===r&&(e=Ub+500-Ar(),10<e)){if(Py(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){ki(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=EM(Kc.bind(null,n,Ki,Fa),e);break}Kc(n,Ki,Fa);break;case 4:if(Ll(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Uo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ar()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*P8(r/1960))-r,10<r){n.timeoutHandle=EM(Kc.bind(null,n,Ki,Fa),r);break}Kc(n,Ki,Fa);break;case 5:Kc(n,Ki,Fa);break;default:throw Error(et(329))}}}return rs(n,Ar()),n.callbackNode===t?fF.bind(null,n):null}function jM(n,e){var t=kp;return n.current.memoizedState.isDehydrated&&(vu(n,e).flags|=256),n=Yy(n,e),n!==2&&(e=Ki,Ki=t,e!==null&&XM(e)),n}function XM(n){Ki===null?Ki=n:Ki.push.apply(Ki,n)}function I8(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Ho(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ll(n,e){for(e&=~Fb,e&=~z_,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Uo(e),r=1<<t;n[t]=-1,e&=~r}}function kP(n){if(hn&6)throw Error(et(327));Cd();var e=Py(n,0);if(!(e&1))return rs(n,Ar()),null;var t=Yy(n,e);if(n.tag!==0&&t===2){var r=vM(n);r!==0&&(e=r,t=jM(n,r))}if(t===1)throw t=ym,vu(n,0),Ll(n,e),rs(n,Ar()),t;if(t===6)throw Error(et(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Kc(n,Ki,Fa),rs(n,Ar()),null}function kb(n,e){var t=hn;hn|=1;try{return n(e)}finally{hn=t,hn===0&&(Wd=Ar()+500,F_&&mc())}}function Ou(n){Ol!==null&&Ol.tag===0&&!(hn&6)&&Cd();var e=hn;hn|=1;var t=uo.transition,r=Cn;try{if(uo.transition=null,Cn=1,n)return n()}finally{Cn=r,uo.transition=t,hn=e,!(hn&6)&&mc()}}function Nb(){Ss=ud.current,jn(ud)}function vu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,a8(t)),Pr!==null)for(t=Pr.return;t!==null;){var r=t;switch(_b(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oy();break;case 3:Hd(),jn(ts),jn(Si),Tb();break;case 5:Cb(r);break;case 4:Hd();break;case 13:jn(Zn);break;case 19:jn(Zn);break;case 10:Mb(r.type._context);break;case 22:case 23:Nb()}t=t.return}if(Jr=n,Pr=n=Ql(n.current,null),ii=Ss=e,Ur=0,ym=null,Fb=z_=Du=0,Ki=kp=null,au!==null){for(e=0;e<au.length;e++)if(t=au[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}au=null}return n}function dF(n,e){do{var t=Pr;try{if(Ab(),ey.current=Wy,Vy){for(var r=rr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vy=!1}if(Lu=0,jr=Or=rr=null,Fp=!1,mm=0,Ob.current=null,t===null||t.return===null){Ur=1,ym=e,Pr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ii,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=EP(o);if(m!==null){m.flags&=-257,bP(m,o,a,s,e),m.mode&1&&wP(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){wP(s,c,e),zb();break e}l=Error(et(426))}}else if(Yn&&a.mode&1){var _=EP(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),bP(_,o,a,s,e),xb(Vd(l,a));break e}}s=l=Vd(l,a),Ur!==4&&(Ur=2),kp===null?kp=[s]:kp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=KO(s,l,e);vP(s,g);break e;case 1:a=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Kl===null||!Kl.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=$O(s,a,e);vP(s,M);break e}}s=s.return}while(s!==null)}mF(t)}catch(E){e=E,Pr===t&&t!==null&&(Pr=t=t.return);continue}break}while(1)}function hF(){var n=jy.current;return jy.current=Wy,n===null?Wy:n}function zb(){(Ur===0||Ur===3||Ur===2)&&(Ur=4),Jr===null||!(Du&268435455)&&!(z_&268435455)||Ll(Jr,ii)}function Yy(n,e){var t=hn;hn|=2;var r=hF();(Jr!==n||ii!==e)&&(Fa=null,vu(n,e));do try{B8();break}catch(i){dF(n,i)}while(1);if(Ab(),hn=t,jy.current=r,Pr!==null)throw Error(et(261));return Jr=null,ii=0,Ur}function B8(){for(;Pr!==null;)pF(Pr)}function L8(){for(;Pr!==null&&!iH();)pF(Pr)}function pF(n){var e=vF(n.alternate,n,Ss);n.memoizedProps=n.pendingProps,e===null?mF(n):Pr=e,Ob.current=null}function mF(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=b8(t,e),t!==null){t.flags&=32767,Pr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ur=6,Pr=null;return}}else if(t=E8(t,e,Ss),t!==null){Pr=t;return}if(e=e.sibling,e!==null){Pr=e;return}Pr=e=n}while(e!==null);Ur===0&&(Ur=5)}function Kc(n,e,t){var r=Cn,i=uo.transition;try{uo.transition=null,Cn=1,D8(n,e,t,r)}finally{uo.transition=i,Cn=r}return null}function D8(n,e,t,r){do Cd();while(Ol!==null);if(hn&6)throw Error(et(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(et(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(pH(n,s),n===Jr&&(Pr=Jr=null,ii=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||O0||(O0=!0,yF(Ry,function(){return Cd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=uo.transition,uo.transition=null;var o=Cn;Cn=1;var a=hn;hn|=4,Ob.current=null,T8(n,t),cF(t,n),e8(MM),Iy=!!AM,MM=AM=null,n.current=t,R8(t),sH(),hn=a,Cn=o,uo.transition=s}else n.current=t;if(O0&&(O0=!1,Ol=n,Jy=i),s=n.pendingLanes,s===0&&(Kl=null),lH(t.stateNode),rs(n,Ar()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xy)throw Xy=!1,n=VM,VM=null,n;return Jy&1&&n.tag!==0&&Cd(),s=n.pendingLanes,s&1?n===WM?Np++:(Np=0,WM=n):Np=0,mc(),null}function Cd(){if(Ol!==null){var n=YD(Jy),e=uo.transition,t=Cn;try{if(uo.transition=null,Cn=16>n?16:n,Ol===null)var r=!1;else{if(n=Ol,Ol=null,Jy=0,hn&6)throw Error(et(331));var i=hn;for(hn|=4,yt=n.current;yt!==null;){var s=yt,o=s.child;if(yt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(yt=c;yt!==null;){var u=yt;switch(u.tag){case 0:case 11:case 15:Up(8,u,s)}var f=u.child;if(f!==null)f.return=u,yt=f;else for(;yt!==null;){u=yt;var h=u.sibling,m=u.return;if(oF(u),u===c){yt=null;break}if(h!==null){h.return=m,yt=h;break}yt=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}yt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,yt=o;else e:for(;yt!==null;){if(s=yt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Up(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,yt=g;break e}yt=s.return}}var x=n.current;for(yt=x;yt!==null;){o=yt;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,yt=S;else e:for(o=x;yt!==null;){if(a=yt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:N_(9,a)}}catch(E){lr(a,a.return,E)}if(a===o){yt=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,yt=M;break e}yt=a.return}}if(hn=i,mc(),ca&&typeof ca.onPostCommitFiberRoot=="function")try{ca.onPostCommitFiberRoot(I_,n)}catch{}r=!0}return r}finally{Cn=t,uo.transition=e}}return!1}function NP(n,e,t){e=Vd(t,e),e=KO(n,e,1),n=Yl(n,e,1),e=ki(),n!==null&&(Zm(n,1,e),rs(n,e))}function lr(n,e,t){if(n.tag===3)NP(n,n,t);else for(;e!==null;){if(e.tag===3){NP(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kl===null||!Kl.has(r))){n=Vd(t,n),n=$O(e,n,1),e=Yl(e,n,1),n=ki(),e!==null&&(Zm(e,1,n),rs(e,n));break}}e=e.return}}function O8(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=ki(),n.pingedLanes|=n.suspendedLanes&t,Jr===n&&(ii&t)===t&&(Ur===4||Ur===3&&(ii&130023424)===ii&&500>Ar()-Ub?vu(n,0):Fb|=t),rs(n,e)}function gF(n,e){e===0&&(n.mode&1?(e=E0,E0<<=1,!(E0&130023424)&&(E0=4194304)):e=1);var t=ki();n=Qa(n,e),n!==null&&(Zm(n,e,t),rs(n,t))}function F8(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),gF(n,t)}function U8(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(et(314))}r!==null&&r.delete(e),gF(n,t)}var vF;vF=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ts.current)qi=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return qi=!1,w8(n,e,t);qi=!!(n.flags&131072)}else qi=!1,Yn&&e.flags&1048576&&xO(e,ky,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ny(n,e),n=e.pendingProps;var i=Nd(e,Si.current);bd(e,t),i=Pb(null,e,r,n,i,t);var s=Ib();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ns(r)?(s=!0,Fy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Eb(e),i.updater=U_,e.stateNode=i,i._reactInternals=e,BM(e,r,n,t),e=OM(null,e,r,!0,s,t)):(e.tag=0,Yn&&s&&yb(e),Bi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(ny(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=N8(r),n=Ro(r,n),i){case 0:e=DM(null,e,r,n,t);break e;case 1:e=RP(null,e,r,n,t);break e;case 11:e=CP(null,e,r,n,t);break e;case 14:e=TP(null,e,r,Ro(r.type,n),t);break e}throw Error(et(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ro(r,i),DM(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ro(r,i),RP(n,e,r,i,t);case 3:e:{if(eF(e),n===null)throw Error(et(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wO(n,e),Gy(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vd(Error(et(423)),e),e=PP(n,e,r,t,i);break e}else if(r!==i){i=Vd(Error(et(424)),e),e=PP(n,e,r,t,i);break e}else for(ws=Jl(e.stateNode.containerInfo.firstChild),Es=e,Yn=!0,Lo=null,t=TO(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(zd(),r===i){e=Za(n,e,t);break e}Bi(n,e,r,t)}e=e.child}return e;case 5:return RO(e),n===null&&RM(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,wM(r,i)?o=null:s!==null&&wM(r,s)&&(e.flags|=32),qO(n,e),Bi(n,e,o,t),e.child;case 6:return n===null&&RM(e),null;case 13:return tF(n,e,t);case 4:return bb(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Gd(e,null,r,t):Bi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ro(r,i),CP(n,e,r,i,t);case 7:return Bi(n,e,e.pendingProps,t),e.child;case 8:return Bi(n,e,e.pendingProps.children,t),e.child;case 12:return Bi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,kn(Ny,r._currentValue),r._currentValue=o,s!==null)if(Ho(s.value,o)){if(s.children===i.children&&!ts.current){e=Za(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ja(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),PM(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(et(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),PM(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Bi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bd(e,t),i=fo(i),r=r(i),e.flags|=1,Bi(n,e,r,t),e.child;case 14:return r=e.type,i=Ro(r,e.pendingProps),i=Ro(r.type,i),TP(n,e,r,i,t);case 15:return QO(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ro(r,i),ny(n,e),e.tag=1,ns(r)?(n=!0,Fy(e)):n=!1,bd(e,t),bO(e,r,i),BM(e,r,i,t),OM(null,e,r,!0,n,t);case 19:return nF(n,e,t);case 22:return ZO(n,e,t)}throw Error(et(156,e.tag))};function yF(n,e){return WD(n,e)}function k8(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function so(n,e,t,r){return new k8(n,e,t,r)}function Gb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function N8(n){if(typeof n=="function")return Gb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ob)return 11;if(n===ab)return 14}return 2}function Ql(n,e){var t=n.alternate;return t===null?(t=so(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function sy(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")Gb(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ed:return yu(t.children,i,s,e);case sb:o=8,i|=8;break;case nM:return n=so(12,t,e,i|2),n.elementType=nM,n.lanes=s,n;case rM:return n=so(13,t,e,i),n.elementType=rM,n.lanes=s,n;case iM:return n=so(19,t,e,i),n.elementType=iM,n.lanes=s,n;case CD:return G_(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ED:o=10;break e;case bD:o=9;break e;case ob:o=11;break e;case ab:o=14;break e;case Tl:o=16,r=null;break e}throw Error(et(130,n==null?n:typeof n,""))}return e=so(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function yu(n,e,t,r){return n=so(7,n,r,e),n.lanes=t,n}function G_(n,e,t,r){return n=so(22,n,r,e),n.elementType=CD,n.lanes=t,n.stateNode={isHidden:!1},n}function xS(n,e,t){return n=so(6,n,null,e),n.lanes=t,n}function SS(n,e,t){return e=so(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function z8(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tS(0),this.expirationTimes=tS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hb(n,e,t,r,i,s,o,a,l){return n=new z8(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=so(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eb(s),n}function G8(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qf,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function _F(n){if(!n)return oc;n=n._reactInternals;e:{if(Xu(n)!==n||n.tag!==1)throw Error(et(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ns(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(et(171))}if(n.tag===1){var t=n.type;if(ns(t))return yO(n,t,e)}return e}function xF(n,e,t,r,i,s,o,a,l){return n=Hb(t,r,!0,n,i,s,o,a,l),n.context=_F(null),t=n.current,r=ki(),i=$l(t),s=Ja(r,i),s.callback=e??null,Yl(t,s,i),n.current.lanes=i,Zm(n,i,r),rs(n,r),n}function H_(n,e,t,r){var i=e.current,s=ki(),o=$l(i);return t=_F(t),e.context===null?e.context=t:e.pendingContext=t,e=Ja(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Yl(i,e,o),n!==null&&(ko(n,i,o,s),qv(n,i,o)),o}function Ky(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function zP(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Vb(n,e){zP(n,e),(n=n.alternate)&&zP(n,e)}function H8(){return null}var SF=typeof reportError=="function"?reportError:function(n){console.error(n)};function Wb(n){this._internalRoot=n}V_.prototype.render=Wb.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(et(409));H_(n,e,null,null)};V_.prototype.unmount=Wb.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ou(function(){H_(null,n,null,null)}),e[$a]=null}};function V_(n){this._internalRoot=n}V_.prototype.unstable_scheduleHydration=function(n){if(n){var e=QD();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Bl.length&&e!==0&&e<Bl[t].priority;t++);Bl.splice(t,0,n),t===0&&qD(n)}};function jb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function W_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function GP(){}function V8(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ky(o);s.call(c)}}var o=xF(e,r,n,0,null,!1,!1,"",GP);return n._reactRootContainer=o,n[$a]=o.current,um(n.nodeType===8?n.parentNode:n),Ou(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ky(l);a.call(c)}}var l=Hb(n,0,!1,null,null,!1,!1,"",GP);return n._reactRootContainer=l,n[$a]=l.current,um(n.nodeType===8?n.parentNode:n),Ou(function(){H_(e,l,t,r)}),l}function j_(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ky(o);a.call(l)}}H_(e,o,n,i)}else o=V8(t,e,n,i,r);return Ky(o)}KD=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=wp(e.pendingLanes);t!==0&&(ub(e,t|1),rs(e,Ar()),!(hn&6)&&(Wd=Ar()+500,mc()))}break;case 13:Ou(function(){var r=Qa(n,1);if(r!==null){var i=ki();ko(r,n,1,i)}}),Vb(n,1)}};fb=function(n){if(n.tag===13){var e=Qa(n,134217728);if(e!==null){var t=ki();ko(e,n,134217728,t)}Vb(n,134217728)}};$D=function(n){if(n.tag===13){var e=$l(n),t=Qa(n,e);if(t!==null){var r=ki();ko(t,n,e,r)}Vb(n,e)}};QD=function(){return Cn};ZD=function(n,e){var t=Cn;try{return Cn=n,e()}finally{Cn=t}};pM=function(n,e,t){switch(e){case"input":if(aM(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=O_(r);if(!i)throw Error(et(90));RD(r),aM(r,i)}}}break;case"textarea":ID(n,t);break;case"select":e=t.value,e!=null&&Ad(n,!!t.multiple,e,!1)}};kD=kb;ND=Ou;var W8={usingClientEntryPoint:!1,Events:[eg,id,O_,FD,UD,kb]},ep={findFiberByHostInstance:ou,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},j8={bundleType:ep.bundleType,version:ep.version,rendererPackageName:ep.rendererPackageName,rendererConfig:ep.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:al.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=HD(n),n===null?null:n.stateNode},findFiberByHostInstance:ep.findFiberByHostInstance||H8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var F0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!F0.isDisabled&&F0.supportsFiber)try{I_=F0.inject(j8),ca=F0}catch{}}Is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W8;Is.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jb(e))throw Error(et(200));return G8(n,e,null,t)};Is.createRoot=function(n,e){if(!jb(n))throw Error(et(299));var t=!1,r="",i=SF;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Hb(n,1,!1,null,null,t,!1,r,i),n[$a]=e.current,um(n.nodeType===8?n.parentNode:n),new Wb(e)};Is.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(et(188)):(n=Object.keys(n).join(","),Error(et(268,n)));return n=HD(e),n=n===null?null:n.stateNode,n};Is.flushSync=function(n){return Ou(n)};Is.hydrate=function(n,e,t){if(!W_(e))throw Error(et(200));return j_(null,n,e,!0,t)};Is.hydrateRoot=function(n,e,t){if(!jb(n))throw Error(et(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=SF;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=xF(e,null,n,1,t??null,i,!1,s,o),n[$a]=e.current,um(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new V_(e)};Is.render=function(n,e,t){if(!W_(e))throw Error(et(200));return j_(null,n,e,!1,t)};Is.unmountComponentAtNode=function(n){if(!W_(n))throw Error(et(40));return n._reactRootContainer?(Ou(function(){j_(null,null,n,!1,function(){n._reactRootContainer=null,n[$a]=null})}),!0):!1};Is.unstable_batchedUpdates=kb;Is.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!W_(t))throw Error(et(200));if(n==null||n._reactInternals===void 0)throw Error(et(38));return j_(n,e,t,!1,r)};Is.version="18.2.0-next-9e3b772b8-20220608";function AF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AF)}catch(n){console.error(n)}}AF(),xD.exports=Is;var ng=xD.exports;const MF=fh(ng),X8=cD({__proto__:null,default:MF},[ng]);var wF,HP=ng;wF=eM.createRoot=HP.createRoot,eM.hydrateRoot=HP.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const mh="155",$c={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Qc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},EF=0,JM=1,bF=2,J8=3,CF=0,X_=1,zp=2,Po=3,Vo=0,yi=1,Di=2,Y8=2,Ya=0,_u=1,YM=2,KM=3,$M=4,TF=5,nu=100,RF=101,PF=102,QM=103,ZM=104,IF=200,BF=201,LF=202,DF=203,Xb=204,Jb=205,OF=206,FF=207,UF=208,kF=209,NF=210,zF=0,GF=1,HF=2,$y=3,VF=4,WF=5,jF=6,XF=7,rg=0,JF=1,YF=2,fa=0,KF=1,$F=2,QF=3,Yb=4,ZF=5,J_=300,ga=301,ac=302,jd=303,_m=304,gh=306,lc=1e3,ri=1001,Xd=1002,cr=1003,xm=1004,K8=1004,Td=1005,$8=1005,bn=1006,Y_=1007,Q8=1007,va=1008,Z8=1008,da=1009,qF=1010,eU=1011,K_=1012,Kb=1013,ja=1014,vi=1015,Fi=1016,$b=1017,Qb=1018,Zl=1020,tU=1021,Oi=1023,nU=1024,rU=1025,ql=1026,Fu=1027,Zb=1028,qb=1029,iU=1030,eC=1031,tC=1033,oy=33776,ay=33777,ly=33778,cy=33779,qM=35840,ew=35841,tw=35842,nw=35843,sU=36196,rw=37492,iw=37496,sw=37808,ow=37809,aw=37810,lw=37811,cw=37812,uw=37813,fw=37814,dw=37815,hw=37816,pw=37817,mw=37818,gw=37819,vw=37820,yw=37821,uy=36492,oU=36283,_w=36284,xw=36285,Sw=36286,aU=2200,lU=2201,cU=2202,Jd=2300,Uu=2301,fy=2302,cu=2400,uu=2401,Sm=2402,$_=2500,nC=2501,uU=0,rC=1,Qy=2,iC=3e3,ec=3001,fU=3200,sC=3201,gc=0,dU=1,tc="",$t="srgb",Wo="srgb-linear",oC="display-p3",q8=0,dy=7680,e6=7681,t6=7682,n6=7683,r6=34055,i6=34056,s6=5386,o6=512,a6=513,l6=514,c6=515,u6=516,f6=517,d6=518,hU=519,pU=512,mU=513,gU=514,vU=515,yU=516,_U=517,xU=518,SU=519,Am=35044,h6=35048,p6=35040,m6=35045,g6=35049,v6=35041,y6=35046,_6=35050,x6=35042,S6="100",Aw="300 es",Zy=1035,aa=2e3,Mm=2001;class xa{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const hi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let VP=1234567;const xu=Math.PI/180,Yd=180/Math.PI;function bs(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(hi[n&255]+hi[n>>8&255]+hi[n>>16&255]+hi[n>>24&255]+"-"+hi[e&255]+hi[e>>8&255]+"-"+hi[e>>16&15|64]+hi[e>>24&255]+"-"+hi[t&63|128]+hi[t>>8&255]+"-"+hi[t>>16&255]+hi[t>>24&255]+hi[r&255]+hi[r>>8&255]+hi[r>>16&255]+hi[r>>24&255]).toLowerCase()}function ur(n,e,t){return Math.max(e,Math.min(t,n))}function aC(n,e){return(n%e+e)%e}function A6(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function M6(n,e,t){return n!==e?(t-n)/(e-n):0}function Gp(n,e,t){return(1-t)*n+t*e}function w6(n,e,t,r){return Gp(n,e,1-Math.exp(-t*r))}function E6(n,e=1){return e-Math.abs(aC(n,e*2)-e)}function b6(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function C6(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function T6(n,e){return n+Math.floor(Math.random()*(e-n+1))}function R6(n,e){return n+Math.random()*(e-n)}function P6(n){return n*(.5-Math.random())}function I6(n){n!==void 0&&(VP=n);let e=VP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function B6(n){return n*xu}function L6(n){return n*Yd}function Mw(n){return(n&n-1)===0&&n!==0}function AU(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function qy(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function D6(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),h=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*f,l*h,a*c);break;case"YZY":n.set(l*h,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*h,a*u,a*c);break;case"XZX":n.set(a*u,l*v,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*v,a*c);break;case"ZYZ":n.set(l*v,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Qi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Zt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const fd={DEG2RAD:xu,RAD2DEG:Yd,generateUUID:bs,clamp:ur,euclideanModulo:aC,mapLinear:A6,inverseLerp:M6,lerp:Gp,damp:w6,pingpong:E6,smoothstep:b6,smootherstep:C6,randInt:T6,randFloat:R6,randFloatSpread:P6,seededRandom:I6,degToRad:B6,radToDeg:L6,isPowerOfTwo:Mw,ceilPowerOfTwo:AU,floorPowerOfTwo:qy,setQuaternionFromProperEuler:D6,normalize:Zt,denormalize:Qi};class Je{constructor(e=0,t=0){Je.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ur(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Qt{constructor(e,t,r,i,s,o,a,l,c){Qt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c)}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],h=r[2],m=r[5],v=r[8],y=i[0],_=i[3],g=i[6],x=i[1],S=i[4],M=i[7],E=i[2],b=i[5],C=i[8];return s[0]=o*y+a*x+l*E,s[3]=o*_+a*S+l*b,s[6]=o*g+a*M+l*C,s[1]=c*y+u*x+f*E,s[4]=c*_+u*S+f*b,s[7]=c*g+u*M+f*C,s[2]=h*y+m*x+v*E,s[5]=h*_+m*S+v*b,s[8]=h*g+m*M+v*C,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,h=a*l-u*s,m=c*s-o*l,v=t*f+r*h+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=f*y,e[1]=(i*c-u*r)*y,e[2]=(a*r-i*o)*y,e[3]=h*y,e[4]=(u*t-i*l)*y,e[5]=(i*s-a*t)*y,e[6]=m*y,e[7]=(r*l-c*t)*y,e[8]=(o*t-r*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(AS.makeScale(e,t)),this}rotate(e){return this.premultiply(AS.makeRotation(-e)),this}translate(e,t){return this.premultiply(AS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const AS=new Qt;function MU(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const O6={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function dd(n,e){return new O6[n](e)}function wm(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const WP={};function Hp(n){n in WP||(WP[n]=!0,console.warn(n))}function Rd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function MS(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const F6=new Qt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),U6=new Qt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function k6(n){return n.convertSRGBToLinear().applyMatrix3(U6)}function N6(n){return n.applyMatrix3(F6).convertLinearToSRGB()}const z6={[Wo]:n=>n,[$t]:n=>n.convertSRGBToLinear(),[oC]:k6},G6={[Wo]:n=>n,[$t]:n=>n.convertLinearToSRGB(),[oC]:N6},Ys={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Wo},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=z6[e],i=G6[t];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let gf;class lC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{gf===void 0&&(gf=wm("canvas")),gf.width=e.width,gf.height=e.height;const r=gf.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=gf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=wm("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Rd(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Rd(t[r]/255)*255):t[r]=Rd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let H6=0;class fu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:H6++}),this.uuid=bs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(wS(i[o].image)):s.push(wS(i[o]))}else s=wS(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function wS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?lC.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let V6=0;class Nn extends xa{constructor(e=Nn.DEFAULT_IMAGE,t=Nn.DEFAULT_MAPPING,r=ri,i=ri,s=bn,o=va,a=Oi,l=da,c=Nn.DEFAULT_ANISOTROPY,u=tc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:V6++}),this.uuid=bs(),this.name="",this.source=new fu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Je(0,0),this.repeat=new Je(1,1),this.center=new Je(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Qt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Hp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===ec?$t:tc),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==J_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case lc:e.x=e.x-Math.floor(e.x);break;case ri:e.x=e.x<0?0:1;break;case Xd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case lc:e.y=e.y-Math.floor(e.y);break;case ri:e.y=e.y<0?0:1;break;case Xd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Hp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===$t?ec:iC}set encoding(e){Hp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===ec?$t:tc}}Nn.DEFAULT_IMAGE=null;Nn.DEFAULT_MAPPING=J_;Nn.DEFAULT_ANISOTROPY=1;class Sn{constructor(e=0,t=0,r=0,i=1){Sn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],h=l[1],m=l[5],v=l[9],y=l[2],_=l[6],g=l[10];if(Math.abs(u-h)<.01&&Math.abs(f-y)<.01&&Math.abs(v-_)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+y)<.1&&Math.abs(v+_)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,M=(m+1)/2,E=(g+1)/2,b=(u+h)/4,C=(f+y)/4,R=(v+_)/4;return S>M&&S>E?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=b/r,s=C/r):M>E?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=b/i,s=R/i):E<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(E),r=C/s,i=R/s),this.set(r,i,s,t),this}let x=Math.sqrt((_-v)*(_-v)+(f-y)*(f-y)+(h-u)*(h-u));return Math.abs(x)<.001&&(x=1),this.x=(_-v)/x,this.y=(f-y)/x,this.z=(h-u)/x,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class wU extends xa{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Sn(0,0,e,t),this.scissorTest=!1,this.viewport=new Sn(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(Hp("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===ec?$t:tc),this.texture=new Nn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:bn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new fu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class jo extends wU{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Q_ extends Nn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=cr,this.minFilter=cr,this.wrapR=ri,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class W6 extends jo{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Q_(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class cC extends Nn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=cr,this.minFilter=cr,this.wrapR=ri,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class j6 extends jo{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new cC(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class X6 extends jo{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Yr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const h=s[o+0],m=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=h,e[t+1]=m,e[t+2]=v,e[t+3]=y;return}if(f!==y||l!==h||c!==m||u!==v){let _=1-a;const g=l*h+c*m+u*v+f*y,x=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const E=Math.sqrt(S),b=Math.atan2(E,g*x);_=Math.sin(_*b)/E,a=Math.sin(a*b)/E}const M=a*x;if(l=l*_+h*M,c=c*_+m*M,u=u*_+v*M,f=f*_+y*M,_===1-a){const E=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=E,c*=E,u*=E,f*=E}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],h=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+u*f+l*m-c*h,e[t+1]=l*v+u*h+c*f-a*m,e[t+2]=c*v+u*m+a*h-l*f,e[t+3]=u*v-a*f-l*h-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),h=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=h*u*f+c*m*v,this._y=c*m*f-h*u*v,this._z=c*u*v+h*m*f,this._w=c*u*f-h*m*v;break;case"YXZ":this._x=h*u*f+c*m*v,this._y=c*m*f-h*u*v,this._z=c*u*v-h*m*f,this._w=c*u*f+h*m*v;break;case"ZXY":this._x=h*u*f-c*m*v,this._y=c*m*f+h*u*v,this._z=c*u*v+h*m*f,this._w=c*u*f-h*m*v;break;case"ZYX":this._x=h*u*f-c*m*v,this._y=c*m*f+h*u*v,this._z=c*u*v-h*m*f,this._w=c*u*f+h*m*v;break;case"YZX":this._x=h*u*f+c*m*v,this._y=c*m*f+h*u*v,this._z=c*u*v-h*m*f,this._w=c*u*f-h*m*v;break;case"XZY":this._x=h*u*f-c*m*v,this._y=c*m*f-h*u*v,this._z=c*u*v+h*m*f,this._w=c*u*f+h*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],h=r+a+f;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ur(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class q{constructor(e=0,t=0,r=0){q.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(jP.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(jP.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,f=l*i+s*r-o*t,h=-s*t-o*r-a*i;return this.x=c*l+h*-s+u*-a-f*-o,this.y=u*l+h*-o+f*-s-c*-a,this.z=f*l+h*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return ES.copy(this).projectOnVector(e),this.sub(ES)}reflect(e){return this.sub(ES.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(ur(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ES=new q,jP=new Yr;class vo{constructor(e=new q(1/0,1/0,1/0),t=new q(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Ta.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Ta.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ta.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),vf.copy(e.boundingBox),vf.applyMatrix4(e.matrixWorld),this.union(vf);else{const i=e.geometry;if(i!==void 0)if(t&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)Ta.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ta)}else i.boundingBox===null&&i.computeBoundingBox(),vf.copy(i.boundingBox),vf.applyMatrix4(e.matrixWorld),this.union(vf)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ta),Ta.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(tp),U0.subVectors(this.max,tp),yf.subVectors(e.a,tp),_f.subVectors(e.b,tp),xf.subVectors(e.c,tp),yl.subVectors(_f,yf),_l.subVectors(xf,_f),Oc.subVectors(yf,xf);let t=[0,-yl.z,yl.y,0,-_l.z,_l.y,0,-Oc.z,Oc.y,yl.z,0,-yl.x,_l.z,0,-_l.x,Oc.z,0,-Oc.x,-yl.y,yl.x,0,-_l.y,_l.x,0,-Oc.y,Oc.x,0];return!bS(t,yf,_f,xf,U0)||(t=[1,0,0,0,1,0,0,0,1],!bS(t,yf,_f,xf,U0))?!1:(k0.crossVectors(yl,_l),t=[k0.x,k0.y,k0.z],bS(t,yf,_f,xf,U0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ta).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ta).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ca[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ca[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ca[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ca[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ca[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ca[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ca[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ca[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ca),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ca=[new q,new q,new q,new q,new q,new q,new q,new q],Ta=new q,vf=new vo,yf=new q,_f=new q,xf=new q,yl=new q,_l=new q,Oc=new q,tp=new q,U0=new q,k0=new q,Fc=new q;function bS(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Fc.fromArray(n,s);const a=i.x*Math.abs(Fc.x)+i.y*Math.abs(Fc.y)+i.z*Math.abs(Fc.z),l=e.dot(Fc),c=t.dot(Fc),u=r.dot(Fc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const J6=new vo,np=new q,CS=new q;class Ls{constructor(e=new q,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):J6.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;np.subVectors(e,this.center);const t=np.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(np,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(CS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(np.copy(e.center).add(CS)),this.expandByPoint(np.copy(e.center).sub(CS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ra=new q,TS=new q,N0=new q,xl=new q,RS=new q,z0=new q,PS=new q;class vh{constructor(e=new q,t=new q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ra)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ra.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ra.copy(this.origin).addScaledVector(this.direction,t),Ra.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){TS.copy(e).add(t).multiplyScalar(.5),N0.copy(t).sub(e).normalize(),xl.copy(this.origin).sub(TS);const s=e.distanceTo(t)*.5,o=-this.direction.dot(N0),a=xl.dot(this.direction),l=-xl.dot(N0),c=xl.lengthSq(),u=Math.abs(1-o*o);let f,h,m,v;if(u>0)if(f=o*l-a,h=o*a-l,v=s*u,f>=0)if(h>=-v)if(h<=v){const y=1/u;f*=y,h*=y,m=f*(f+o*h+2*a)+h*(o*f+h+2*l)+c}else h=s,f=Math.max(0,-(o*h+a)),m=-f*f+h*(h+2*l)+c;else h=-s,f=Math.max(0,-(o*h+a)),m=-f*f+h*(h+2*l)+c;else h<=-v?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+h*(h+2*l)+c):h<=v?(f=0,h=Math.min(Math.max(-s,-l),s),m=h*(h+2*l)+c):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+h*(h+2*l)+c);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),m=-f*f+h*(h+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(TS).addScaledVector(N0,h),m}intersectSphere(e,t){Ra.subVectors(e.center,this.origin);const r=Ra.dot(this.direction),i=Ra.dot(Ra)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Ra)!==null}intersectTriangle(e,t,r,i,s){RS.subVectors(t,e),z0.subVectors(r,e),PS.crossVectors(RS,z0);let o=this.direction.dot(PS),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;xl.subVectors(this.origin,e);const l=a*this.direction.dot(z0.crossVectors(xl,z0));if(l<0)return null;const c=a*this.direction.dot(RS.cross(xl));if(c<0||l+c>o)return null;const u=-a*xl.dot(PS);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ut{constructor(e,t,r,i,s,o,a,l,c,u,f,h,m,v,y,_){Ut.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c,u,f,h,m,v,y,_)}set(e,t,r,i,s,o,a,l,c,u,f,h,m,v,y,_){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=f,g[14]=h,g[3]=m,g[7]=v,g[11]=y,g[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ut().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Sf.setFromMatrixColumn(e,0).length(),s=1/Sf.setFromMatrixColumn(e,1).length(),o=1/Sf.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*u,m=o*f,v=a*u,y=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=m+v*c,t[5]=h-y*c,t[9]=-a*l,t[2]=y-h*c,t[6]=v+m*c,t[10]=o*l}else if(e.order==="YXZ"){const h=l*u,m=l*f,v=c*u,y=c*f;t[0]=h+y*a,t[4]=v*a-m,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=m*a-v,t[6]=y+h*a,t[10]=o*l}else if(e.order==="ZXY"){const h=l*u,m=l*f,v=c*u,y=c*f;t[0]=h-y*a,t[4]=-o*f,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*u,t[9]=y-h*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const h=o*u,m=o*f,v=a*u,y=a*f;t[0]=l*u,t[4]=v*c-m,t[8]=h*c+y,t[1]=l*f,t[5]=y*c+h,t[9]=m*c-v,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,m=o*c,v=a*l,y=a*c;t[0]=l*u,t[4]=y-h*f,t[8]=v*f+m,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*f+v,t[10]=h-y*f}else if(e.order==="XZY"){const h=o*l,m=o*c,v=a*l,y=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=h*f+y,t[5]=o*u,t[9]=m*f-v,t[2]=v*f-m,t[6]=a*u,t[10]=y*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Y6,e,K6)}lookAt(e,t,r){const i=this.elements;return vs.subVectors(e,t),vs.lengthSq()===0&&(vs.z=1),vs.normalize(),Sl.crossVectors(r,vs),Sl.lengthSq()===0&&(Math.abs(r.z)===1?vs.x+=1e-4:vs.z+=1e-4,vs.normalize(),Sl.crossVectors(r,vs)),Sl.normalize(),G0.crossVectors(vs,Sl),i[0]=Sl.x,i[4]=G0.x,i[8]=vs.x,i[1]=Sl.y,i[5]=G0.y,i[9]=vs.y,i[2]=Sl.z,i[6]=G0.z,i[10]=vs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],h=r[9],m=r[13],v=r[2],y=r[6],_=r[10],g=r[14],x=r[3],S=r[7],M=r[11],E=r[15],b=i[0],C=i[4],R=i[8],T=i[12],B=i[1],k=i[5],N=i[9],j=i[13],Y=i[2],Q=i[6],W=i[10],V=i[14],D=i[3],G=i[7],H=i[11],O=i[15];return s[0]=o*b+a*B+l*Y+c*D,s[4]=o*C+a*k+l*Q+c*G,s[8]=o*R+a*N+l*W+c*H,s[12]=o*T+a*j+l*V+c*O,s[1]=u*b+f*B+h*Y+m*D,s[5]=u*C+f*k+h*Q+m*G,s[9]=u*R+f*N+h*W+m*H,s[13]=u*T+f*j+h*V+m*O,s[2]=v*b+y*B+_*Y+g*D,s[6]=v*C+y*k+_*Q+g*G,s[10]=v*R+y*N+_*W+g*H,s[14]=v*T+y*j+_*V+g*O,s[3]=x*b+S*B+M*Y+E*D,s[7]=x*C+S*k+M*Q+E*G,s[11]=x*R+S*N+M*W+E*H,s[15]=x*T+S*j+M*V+E*O,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],h=e[10],m=e[14],v=e[3],y=e[7],_=e[11],g=e[15];return v*(+s*l*f-i*c*f-s*a*h+r*c*h+i*a*m-r*l*m)+y*(+t*l*m-t*c*h+s*o*h-i*o*m+i*c*u-s*l*u)+_*(+t*c*f-t*a*m-s*o*f+r*o*m+s*a*u-r*c*u)+g*(-i*a*u-t*l*f+t*a*h+i*o*f-r*o*h+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],m=e[11],v=e[12],y=e[13],_=e[14],g=e[15],x=f*_*c-y*h*c+y*l*m-a*_*m-f*l*g+a*h*g,S=v*h*c-u*_*c-v*l*m+o*_*m+u*l*g-o*h*g,M=u*y*c-v*f*c+v*a*m-o*y*m-u*a*g+o*f*g,E=v*f*l-u*y*l-v*a*h+o*y*h+u*a*_-o*f*_,b=t*x+r*S+i*M+s*E;if(b===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/b;return e[0]=x*C,e[1]=(y*h*s-f*_*s-y*i*m+r*_*m+f*i*g-r*h*g)*C,e[2]=(a*_*s-y*l*s+y*i*c-r*_*c-a*i*g+r*l*g)*C,e[3]=(f*l*s-a*h*s-f*i*c+r*h*c+a*i*m-r*l*m)*C,e[4]=S*C,e[5]=(u*_*s-v*h*s+v*i*m-t*_*m-u*i*g+t*h*g)*C,e[6]=(v*l*s-o*_*s-v*i*c+t*_*c+o*i*g-t*l*g)*C,e[7]=(o*h*s-u*l*s+u*i*c-t*h*c-o*i*m+t*l*m)*C,e[8]=M*C,e[9]=(v*f*s-u*y*s-v*r*m+t*y*m+u*r*g-t*f*g)*C,e[10]=(o*y*s-v*a*s+v*r*c-t*y*c-o*r*g+t*a*g)*C,e[11]=(u*a*s-o*f*s-u*r*c+t*f*c+o*r*m-t*a*m)*C,e[12]=E*C,e[13]=(u*y*i-v*f*i+v*r*h-t*y*h-u*r*_+t*f*_)*C,e[14]=(v*a*i-o*y*i-v*r*l+t*y*l+o*r*_-t*a*_)*C,e[15]=(o*f*i-u*a*i+u*r*l-t*f*l-o*r*h+t*a*h)*C,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,h=s*c,m=s*u,v=s*f,y=o*u,_=o*f,g=a*f,x=l*c,S=l*u,M=l*f,E=r.x,b=r.y,C=r.z;return i[0]=(1-(y+g))*E,i[1]=(m+M)*E,i[2]=(v-S)*E,i[3]=0,i[4]=(m-M)*b,i[5]=(1-(h+g))*b,i[6]=(_+x)*b,i[7]=0,i[8]=(v+S)*C,i[9]=(_-x)*C,i[10]=(1-(h+y))*C,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Sf.set(i[0],i[1],i[2]).length();const o=Sf.set(i[4],i[5],i[6]).length(),a=Sf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],wo.copy(this);const c=1/s,u=1/o,f=1/a;return wo.elements[0]*=c,wo.elements[1]*=c,wo.elements[2]*=c,wo.elements[4]*=u,wo.elements[5]*=u,wo.elements[6]*=u,wo.elements[8]*=f,wo.elements[9]*=f,wo.elements[10]*=f,t.setFromRotationMatrix(wo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=aa){const l=this.elements,c=2*s/(t-e),u=2*s/(r-i),f=(t+e)/(t-e),h=(r+i)/(r-i);let m,v;if(a===aa)m=-(o+s)/(o-s),v=-2*o*s/(o-s);else if(a===Mm)m=-o/(o-s),v=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=aa){const l=this.elements,c=1/(t-e),u=1/(r-i),f=1/(o-s),h=(t+e)*c,m=(r+i)*u;let v,y;if(a===aa)v=(o+s)*f,y=-2*f;else if(a===Mm)v=s*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=y,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Sf=new q,wo=new Ut,Y6=new q(0,0,0),K6=new q(1,1,1),Sl=new q,G0=new q,vs=new q,XP=new Ut,JP=new Yr;class ig{constructor(e=0,t=0,r=0,i=ig.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],h=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(ur(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ur(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(ur(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-ur(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ur(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-ur(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return XP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(XP,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return JP.setFromEuler(this),this.setFromQuaternion(JP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ig.DEFAULT_ORDER="XYZ";class Su{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let $6=0;const YP=new q,Af=new Yr,Pa=new Ut,H0=new q,rp=new q,Q6=new q,Z6=new Yr,KP=new q(1,0,0),$P=new q(0,1,0),QP=new q(0,0,1),q6={type:"added"},ZP={type:"removed"};class fn extends xa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:$6++}),this.uuid=bs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=fn.DEFAULT_UP.clone();const e=new q,t=new ig,r=new Yr,i=new q(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ut},normalMatrix:{value:new Qt}}),this.matrix=new Ut,this.matrixWorld=new Ut,this.matrixAutoUpdate=fn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=fn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Su,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Af.setFromAxisAngle(e,t),this.quaternion.multiply(Af),this}rotateOnWorldAxis(e,t){return Af.setFromAxisAngle(e,t),this.quaternion.premultiply(Af),this}rotateX(e){return this.rotateOnAxis(KP,e)}rotateY(e){return this.rotateOnAxis($P,e)}rotateZ(e){return this.rotateOnAxis(QP,e)}translateOnAxis(e,t){return YP.copy(e).applyQuaternion(this.quaternion),this.position.add(YP.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(KP,e)}translateY(e){return this.translateOnAxis($P,e)}translateZ(e){return this.translateOnAxis(QP,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Pa.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?H0.copy(e):H0.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),rp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pa.lookAt(rp,H0,this.up):Pa.lookAt(H0,rp,this.up),this.quaternion.setFromRotationMatrix(Pa),i&&(Pa.extractRotation(i.matrixWorld),Af.setFromRotationMatrix(Pa),this.quaternion.premultiply(Af.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(q6)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(ZP)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(ZP)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Pa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Pa.multiply(e.parent.matrixWorld)),e.applyMatrix4(Pa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rp,e,Q6),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rp,Z6,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),h=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}fn.DEFAULT_UP=new q(0,1,0);fn.DEFAULT_MATRIX_AUTO_UPDATE=!0;fn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Eo=new q,Ia=new q,IS=new q,Ba=new q,Mf=new q,wf=new q,qP=new q,BS=new q,LS=new q,DS=new q;let V0=!1;class $i{constructor(e=new q,t=new q,r=new q){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Eo.subVectors(e,t),i.cross(Eo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Eo.subVectors(i,t),Ia.subVectors(r,t),IS.subVectors(e,t);const o=Eo.dot(Eo),a=Eo.dot(Ia),l=Eo.dot(IS),c=Ia.dot(Ia),u=Ia.dot(IS),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const h=1/f,m=(c*l-a*u)*h,v=(o*u-a*l)*h;return s.set(1-m-v,v,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ba),Ba.x>=0&&Ba.y>=0&&Ba.x+Ba.y<=1}static getUV(e,t,r,i,s,o,a,l){return V0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),V0=!0),this.getInterpolation(e,t,r,i,s,o,a,l)}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Ba),l.setScalar(0),l.addScaledVector(s,Ba.x),l.addScaledVector(o,Ba.y),l.addScaledVector(a,Ba.z),l}static isFrontFacing(e,t,r,i){return Eo.subVectors(r,t),Ia.subVectors(e,t),Eo.cross(Ia).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Eo.subVectors(this.c,this.b),Ia.subVectors(this.a,this.b),Eo.cross(Ia).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return $i.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return $i.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return V0===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),V0=!0),$i.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return $i.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return $i.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return $i.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Mf.subVectors(i,r),wf.subVectors(s,r),BS.subVectors(e,r);const l=Mf.dot(BS),c=wf.dot(BS);if(l<=0&&c<=0)return t.copy(r);LS.subVectors(e,i);const u=Mf.dot(LS),f=wf.dot(LS);if(u>=0&&f<=u)return t.copy(i);const h=l*f-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(Mf,o);DS.subVectors(e,s);const m=Mf.dot(DS),v=wf.dot(DS);if(v>=0&&m<=v)return t.copy(s);const y=m*c-l*v;if(y<=0&&c>=0&&v<=0)return a=c/(c-v),t.copy(r).addScaledVector(wf,a);const _=u*v-m*f;if(_<=0&&f-u>=0&&m-v>=0)return qP.subVectors(s,i),a=(f-u)/(f-u+(m-v)),t.copy(i).addScaledVector(qP,a);const g=1/(_+y+h);return o=y*g,a=h*g,t.copy(r).addScaledVector(Mf,o).addScaledVector(wf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let e9=0;class Ir extends xa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:e9++}),this.uuid=bs(),this.name="",this.type="Material",this.blending=_u,this.side=Vo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Xb,this.blendDst=Jb,this.blendEquation=nu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=$y,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=hU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=dy,this.stencilZFail=dy,this.stencilZPass=dy,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==_u&&(r.blending=this.blending),this.side!==Vo&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const EU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bo={h:0,s:0,l:0},W0={h:0,s:0,l:0};function OS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class lt{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=$t){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ys.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Ys.workingColorSpace){return this.r=e,this.g=t,this.b=r,Ys.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Ys.workingColorSpace){if(e=aC(e,1),t=ur(t,0,1),r=ur(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=OS(o,s,e+1/3),this.g=OS(o,s,e),this.b=OS(o,s,e-1/3)}return Ys.toWorkingColorSpace(this,i),this}setStyle(e,t=$t){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=$t){const r=EU[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Rd(e.r),this.g=Rd(e.g),this.b=Rd(e.b),this}copyLinearToSRGB(e){return this.r=MS(e.r),this.g=MS(e.g),this.b=MS(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=$t){return Ys.fromWorkingColorSpace(pi.copy(this),e),Math.round(ur(pi.r*255,0,255))*65536+Math.round(ur(pi.g*255,0,255))*256+Math.round(ur(pi.b*255,0,255))}getHexString(e=$t){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Ys.workingColorSpace){Ys.fromWorkingColorSpace(pi.copy(this),t);const r=pi.r,i=pi.g,s=pi.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Ys.workingColorSpace){return Ys.fromWorkingColorSpace(pi.copy(this),t),e.r=pi.r,e.g=pi.g,e.b=pi.b,e}getStyle(e=$t){Ys.fromWorkingColorSpace(pi.copy(this),e);const t=pi.r,r=pi.g,i=pi.b;return e!==$t?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(bo),bo.h+=e,bo.s+=t,bo.l+=r,this.setHSL(bo.h,bo.s,bo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(bo),e.getHSL(W0);const r=Gp(bo.h,W0.h,t),i=Gp(bo.s,W0.s,t),s=Gp(bo.l,W0.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const pi=new lt;lt.NAMES=EU;class es extends Ir{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ha=t9();function t9(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Yi(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=ur(n,-65504,65504),Ha.floatView[0]=n;const e=Ha.uint32View[0],t=e>>23&511;return Ha.baseTable[t]+((e&8388607)>>Ha.shiftTable[t])}function bp(n){const e=n>>10;return Ha.uint32View[0]=Ha.mantissaTable[Ha.offsetTable[e]+(n&1023)]+Ha.exponentTable[e],Ha.floatView[0]}const du={toHalfFloat:Yi,fromHalfFloat:bp},br=new q,j0=new Je;class vn{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Am,this.updateRange={offset:0,count:-1},this.gpuType=vi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)j0.fromBufferAttribute(this,t),j0.applyMatrix3(e),this.setXY(t,j0.x,j0.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)br.fromBufferAttribute(this,t),br.applyMatrix3(e),this.setXYZ(t,br.x,br.y,br.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)br.fromBufferAttribute(this,t),br.applyMatrix4(e),this.setXYZ(t,br.x,br.y,br.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)br.fromBufferAttribute(this,t),br.applyNormalMatrix(e),this.setXYZ(t,br.x,br.y,br.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)br.fromBufferAttribute(this,t),br.transformDirection(e),this.setXYZ(t,br.x,br.y,br.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Qi(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Zt(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Qi(t,this.array)),t}setX(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Qi(t,this.array)),t}setY(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Qi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Qi(t,this.array)),t}setW(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Zt(t,this.array),r=Zt(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Zt(t,this.array),r=Zt(r,this.array),i=Zt(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Zt(t,this.array),r=Zt(r,this.array),i=Zt(i,this.array),s=Zt(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Am&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class n9 extends vn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class r9 extends vn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class i9 extends vn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class s9 extends vn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class uC extends vn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class o9 extends vn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class fC extends vn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class a9 extends vn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=bp(this.array[e*this.itemSize]);return this.normalized&&(t=Qi(t,this.array)),t}setX(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize]=Yi(t),this}getY(e){let t=bp(this.array[e*this.itemSize+1]);return this.normalized&&(t=Qi(t,this.array)),t}setY(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize+1]=Yi(t),this}getZ(e){let t=bp(this.array[e*this.itemSize+2]);return this.normalized&&(t=Qi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize+2]=Yi(t),this}getW(e){let t=bp(this.array[e*this.itemSize+3]);return this.normalized&&(t=Qi(t,this.array)),t}setW(e,t){return this.normalized&&(t=Zt(t,this.array)),this.array[e*this.itemSize+3]=Yi(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Zt(t,this.array),r=Zt(r,this.array)),this.array[e+0]=Yi(t),this.array[e+1]=Yi(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Zt(t,this.array),r=Zt(r,this.array),i=Zt(i,this.array)),this.array[e+0]=Yi(t),this.array[e+1]=Yi(r),this.array[e+2]=Yi(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Zt(t,this.array),r=Zt(r,this.array),i=Zt(i,this.array),s=Zt(s,this.array)),this.array[e+0]=Yi(t),this.array[e+1]=Yi(r),this.array[e+2]=Yi(i),this.array[e+3]=Yi(s),this}}class St extends vn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class l9 extends vn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let c9=0;const Xs=new Ut,FS=new fn,Ef=new q,ys=new vo,ip=new vo,Wr=new q;class Xt extends xa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:c9++}),this.uuid=bs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(MU(e)?fC:uC)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Qt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xs.makeRotationFromQuaternion(e),this.applyMatrix4(Xs),this}rotateX(e){return Xs.makeRotationX(e),this.applyMatrix4(Xs),this}rotateY(e){return Xs.makeRotationY(e),this.applyMatrix4(Xs),this}rotateZ(e){return Xs.makeRotationZ(e),this.applyMatrix4(Xs),this}translate(e,t,r){return Xs.makeTranslation(e,t,r),this.applyMatrix4(Xs),this}scale(e,t,r){return Xs.makeScale(e,t,r),this.applyMatrix4(Xs),this}lookAt(e){return FS.lookAt(e),FS.updateMatrix(),this.applyMatrix4(FS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ef).negate(),this.translate(Ef.x,Ef.y,Ef.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new St(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new q(-1/0,-1/0,-1/0),new q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];ys.setFromBufferAttribute(s),this.morphTargetsRelative?(Wr.addVectors(this.boundingBox.min,ys.min),this.boundingBox.expandByPoint(Wr),Wr.addVectors(this.boundingBox.max,ys.max),this.boundingBox.expandByPoint(Wr)):(this.boundingBox.expandByPoint(ys.min),this.boundingBox.expandByPoint(ys.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ls);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new q,1/0);return}if(e){const r=this.boundingSphere.center;if(ys.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];ip.setFromBufferAttribute(a),this.morphTargetsRelative?(Wr.addVectors(ys.min,ip.min),ys.expandByPoint(Wr),Wr.addVectors(ys.max,ip.max),ys.expandByPoint(Wr)):(ys.expandByPoint(ip.min),ys.expandByPoint(ip.max))}ys.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Wr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Wr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Wr.fromBufferAttribute(a,c),l&&(Ef.fromBufferAttribute(e,c),Wr.add(Ef)),i=Math.max(i,r.distanceToSquared(Wr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new vn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let B=0;B<a;B++)c[B]=new q,u[B]=new q;const f=new q,h=new q,m=new q,v=new Je,y=new Je,_=new Je,g=new q,x=new q;function S(B,k,N){f.fromArray(i,B*3),h.fromArray(i,k*3),m.fromArray(i,N*3),v.fromArray(o,B*2),y.fromArray(o,k*2),_.fromArray(o,N*2),h.sub(f),m.sub(f),y.sub(v),_.sub(v);const j=1/(y.x*_.y-_.x*y.y);isFinite(j)&&(g.copy(h).multiplyScalar(_.y).addScaledVector(m,-y.y).multiplyScalar(j),x.copy(m).multiplyScalar(y.x).addScaledVector(h,-_.x).multiplyScalar(j),c[B].add(g),c[k].add(g),c[N].add(g),u[B].add(x),u[k].add(x),u[N].add(x))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let B=0,k=M.length;B<k;++B){const N=M[B],j=N.start,Y=N.count;for(let Q=j,W=j+Y;Q<W;Q+=3)S(r[Q+0],r[Q+1],r[Q+2])}const E=new q,b=new q,C=new q,R=new q;function T(B){C.fromArray(s,B*3),R.copy(C);const k=c[B];E.copy(k),E.sub(C.multiplyScalar(C.dot(k))).normalize(),b.crossVectors(R,k);const j=b.dot(u[B])<0?-1:1;l[B*4]=E.x,l[B*4+1]=E.y,l[B*4+2]=E.z,l[B*4+3]=j}for(let B=0,k=M.length;B<k;++B){const N=M[B],j=N.start,Y=N.count;for(let Q=j,W=j+Y;Q<W;Q+=3)T(r[Q+0]),T(r[Q+1]),T(r[Q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new vn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let h=0,m=r.count;h<m;h++)r.setXYZ(h,0,0,0);const i=new q,s=new q,o=new q,a=new q,l=new q,c=new q,u=new q,f=new q;if(e)for(let h=0,m=e.count;h<m;h+=3){const v=e.getX(h+0),y=e.getX(h+1),_=e.getX(h+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,_),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,_),a.add(u),l.add(u),c.add(u),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(_,c.x,c.y,c.z)}else for(let h=0,m=t.count;h<m;h+=3)i.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(h+0,u.x,u.y,u.z),r.setXYZ(h+1,u.x,u.y,u.z),r.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Wr.fromBufferAttribute(e,t),Wr.normalize(),e.setXYZ(t,Wr.x,Wr.y,Wr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,h=new c.constructor(l.length*u);let m=0,v=0;for(let y=0,_=l.length;y<_;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*u;for(let g=0;g<u;g++)h[v++]=c[m++]}return new vn(h,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Xt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const h=c[u],m=e(h,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,h=c.length;f<h;f++){const m=c[f];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let h=0,m=f.length;h<m;h++)u.push(f[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const eI=new Ut,Uc=new vh,X0=new Ls,tI=new q,bf=new q,Cf=new q,Tf=new q,US=new q,J0=new q,Y0=new Je,K0=new Je,$0=new Je,nI=new q,rI=new q,iI=new q,Q0=new q,Z0=new q;class dr extends fn{constructor(e=new Xt,t=new es){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){J0.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(US.fromBufferAttribute(f,e),o?J0.addScaledVector(US,u):J0.addScaledVector(US.sub(t),u))}t.add(J0)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),X0.copy(r.boundingSphere),X0.applyMatrix4(s),Uc.copy(e.ray).recast(e.near),!(X0.containsPoint(Uc.origin)===!1&&(Uc.intersectSphere(X0,tI)===null||Uc.origin.distanceToSquared(tI)>(e.far-e.near)**2))&&(eI.copy(s).invert(),Uc.copy(e.ray).applyMatrix4(eI),!(r.boundingBox!==null&&Uc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Uc)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,h=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,y=h.length;v<y;v++){const _=h[v],g=o[_.materialIndex],x=Math.max(_.start,m.start),S=Math.min(a.count,Math.min(_.start+_.count,m.start+m.count));for(let M=x,E=S;M<E;M+=3){const b=a.getX(M),C=a.getX(M+1),R=a.getX(M+2);i=q0(this,g,e,r,c,u,f,b,C,R),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let _=v,g=y;_<g;_+=3){const x=a.getX(_),S=a.getX(_+1),M=a.getX(_+2);i=q0(this,o,e,r,c,u,f,x,S,M),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,y=h.length;v<y;v++){const _=h[v],g=o[_.materialIndex],x=Math.max(_.start,m.start),S=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let M=x,E=S;M<E;M+=3){const b=M,C=M+1,R=M+2;i=q0(this,g,e,r,c,u,f,b,C,R),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const v=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let _=v,g=y;_<g;_+=3){const x=_,S=_+1,M=_+2;i=q0(this,o,e,r,c,u,f,x,S,M),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}}}function u9(n,e,t,r,i,s,o,a){let l;if(e.side===yi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Vo,a),l===null)return null;Z0.copy(a),Z0.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Z0);return c<t.near||c>t.far?null:{distance:c,point:Z0.clone(),object:n}}function q0(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,bf),n.getVertexPosition(l,Cf),n.getVertexPosition(c,Tf);const u=u9(n,e,t,r,bf,Cf,Tf,Q0);if(u){i&&(Y0.fromBufferAttribute(i,a),K0.fromBufferAttribute(i,l),$0.fromBufferAttribute(i,c),u.uv=$i.getInterpolation(Q0,bf,Cf,Tf,Y0,K0,$0,new Je)),s&&(Y0.fromBufferAttribute(s,a),K0.fromBufferAttribute(s,l),$0.fromBufferAttribute(s,c),u.uv1=$i.getInterpolation(Q0,bf,Cf,Tf,Y0,K0,$0,new Je),u.uv2=u.uv1),o&&(nI.fromBufferAttribute(o,a),rI.fromBufferAttribute(o,l),iI.fromBufferAttribute(o,c),u.normal=$i.getInterpolation(Q0,bf,Cf,Tf,nI,rI,iI,new q),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new q,materialIndex:0};$i.getNormal(bf,Cf,Tf,f.normal),u.face=f}return u}class Ju extends Xt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let h=0,m=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new St(c,3)),this.setAttribute("normal",new St(u,3)),this.setAttribute("uv",new St(f,2));function v(y,_,g,x,S,M,E,b,C,R,T){const B=M/C,k=E/R,N=M/2,j=E/2,Y=b/2,Q=C+1,W=R+1;let V=0,D=0;const G=new q;for(let H=0;H<W;H++){const O=H*k-j;for(let X=0;X<Q;X++){const ie=X*B-N;G[y]=ie*x,G[_]=O*S,G[g]=Y,c.push(G.x,G.y,G.z),G[y]=0,G[_]=0,G[g]=b>0?1:-1,u.push(G.x,G.y,G.z),f.push(X/C),f.push(1-H/R),V+=1}}for(let H=0;H<R;H++)for(let O=0;O<C;O++){const X=h+O+Q*H,ie=h+O+Q*(H+1),ae=h+(O+1)+Q*(H+1),oe=h+(O+1)+Q*H;l.push(X,ie,oe),l.push(ie,ae,oe),D+=6}a.addGroup(m,D,T),m+=D,h+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ju(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Kd(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Ii(n){const e={};for(let t=0;t<n.length;t++){const r=Kd(n[t]);for(const i in r)e[i]=r[i]}return e}function f9(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function bU(n){return n.getRenderTarget()===null?n.outputColorSpace:Wo}const dC={clone:Kd,merge:Ii};var d9=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,h9=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Xo extends Ir{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=d9,this.fragmentShader=h9,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Kd(e.uniforms),this.uniformsGroups=f9(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class sg extends fn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ut,this.projectionMatrix=new Ut,this.projectionMatrixInverse=new Ut,this.coordinateSystem=aa}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Kn extends sg{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Yd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(xu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Yd*2*Math.atan(Math.tan(xu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(xu*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Rf=-90,Pf=1;class CU extends fn{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new Kn(Rf,Pf,e,t);i.layers=this.layers,this.add(i);const s=new Kn(Rf,Pf,e,t);s.layers=this.layers,this.add(s);const o=new Kn(Rf,Pf,e,t);o.layers=this.layers,this.add(o);const a=new Kn(Rf,Pf,e,t);a.layers=this.layers,this.add(a);const l=new Kn(Rf,Pf,e,t);l.layers=this.layers,this.add(l);const c=new Kn(Rf,Pf,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===aa)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Mm)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),f=e.xr.enabled;e.xr.enabled=!1;const h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}}class og extends Nn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:ga,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class hC extends jo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(Hp("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===ec?$t:tc),this.texture=new og(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:bn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ju(5,5,5),s=new Xo({name:"CubemapFromEquirect",uniforms:Kd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:yi,blending:Ya});s.uniforms.tEquirect.value=t;const o=new dr(i,s),a=t.minFilter;return t.minFilter===va&&(t.minFilter=bn),new CU(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const kS=new q,p9=new q,m9=new Qt;class Pl{constructor(e=new q(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=kS.subVectors(r,t).cross(p9.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(kS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||m9.getNormalMatrix(e),i=this.coplanarPoint(kS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const kc=new Ls,ev=new q;class Z_{constructor(e=new Pl,t=new Pl,r=new Pl,i=new Pl,s=new Pl,o=new Pl){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=aa){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=i[6],h=i[7],m=i[8],v=i[9],y=i[10],_=i[11],g=i[12],x=i[13],S=i[14],M=i[15];if(r[0].setComponents(l-s,h-c,_-m,M-g).normalize(),r[1].setComponents(l+s,h+c,_+m,M+g).normalize(),r[2].setComponents(l+o,h+u,_+v,M+x).normalize(),r[3].setComponents(l-o,h-u,_-v,M-x).normalize(),r[4].setComponents(l-a,h-f,_-y,M-S).normalize(),t===aa)r[5].setComponents(l+a,h+f,_+y,M+S).normalize();else if(t===Mm)r[5].setComponents(a,f,y,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),kc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),kc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(kc)}intersectsSprite(e){return kc.center.set(0,0,0),kc.radius=.7071067811865476,kc.applyMatrix4(e.matrixWorld),this.intersectsSphere(kc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(ev.x=i.normal.x>0?e.max.x:e.min.x,ev.y=i.normal.y>0?e.max.y:e.min.y,ev.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(ev)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function TU(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function g9(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,h=c.usage,m=n.createBuffer();n.bindBuffer(u,m),n.bufferData(u,f,h),c.onUploadCallback();let v;if(f instanceof Float32Array)v=n.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)v=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)v=n.SHORT;else if(f instanceof Uint32Array)v=n.UNSIGNED_INT;else if(f instanceof Int32Array)v=n.INT;else if(f instanceof Int8Array)v=n.BYTE;else if(f instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const h=u.array,m=u.updateRange;n.bindBuffer(f,c),m.count===-1?n.bufferSubData(f,0,h):(t?n.bufferSubData(f,m.offset*h.BYTES_PER_ELEMENT,h,m.offset,m.count):n.bufferSubData(f,m.offset*h.BYTES_PER_ELEMENT,h.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const h=r.get(c);(!h||h.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class vc extends Xt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,h=t/l,m=[],v=[],y=[],_=[];for(let g=0;g<u;g++){const x=g*h-o;for(let S=0;S<c;S++){const M=S*f-s;v.push(M,-x,0),y.push(0,0,1),_.push(S/a),_.push(1-g/l)}}for(let g=0;g<l;g++)for(let x=0;x<a;x++){const S=x+c*g,M=x+c*(g+1),E=x+1+c*(g+1),b=x+1+c*g;m.push(S,M,b),m.push(M,E,b)}this.setIndex(m),this.setAttribute("position",new St(v,3)),this.setAttribute("normal",new St(y,3)),this.setAttribute("uv",new St(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vc(e.width,e.height,e.widthSegments,e.heightSegments)}}var v9=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,y9=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,_9=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,x9=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,S9=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,A9=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,M9=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,w9=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,E9=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,b9=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,C9=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,T9=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,R9=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,P9=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,I9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,B9=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,L9=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,D9=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,O9=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,F9=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,U9=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,k9=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,N9=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,z9=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,G9=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,H9=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,V9=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,W9=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,j9="gl_FragColor = linearToOutputTexel( gl_FragColor );",X9=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,J9=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Y9=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,K9=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,$9=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Q9=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Z9=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,q9=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,eV=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,tV=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,nV=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,rV=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,iV=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,sV=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,oV=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,aV=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,lV=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,cV=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,uV=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,fV=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,dV=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,hV=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,pV=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,mV=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,gV=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,vV=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,yV=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,_V=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,xV=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,SV=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,AV=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,MV=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,wV=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,EV=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,bV=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,CV=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,TV=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,RV=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,PV=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,IV=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,BV=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,LV=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,DV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,OV=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,FV=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,UV=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,kV=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,NV=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,zV=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,GV=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,HV=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,VV=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,WV=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,jV=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,XV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,JV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,YV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,KV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,$V=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,QV=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,ZV=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,qV=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,eW=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,tW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,nW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,rW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,iW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,sW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,oW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,aW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,lW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,cW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,fW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,dW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,hW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const pW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,mW=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,gW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,vW=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,_W=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,xW=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,SW=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,AW=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,MW=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,wW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,EW=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bW=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,CW=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,TW=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,RW=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PW=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,IW=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BW=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,LW=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DW=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,OW=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,FW=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,UW=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kW=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,NW=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zW=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GW=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HW=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,VW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,WW=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jW=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,XW=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,JW=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Kt={alphahash_fragment:v9,alphahash_pars_fragment:y9,alphamap_fragment:_9,alphamap_pars_fragment:x9,alphatest_fragment:S9,alphatest_pars_fragment:A9,aomap_fragment:M9,aomap_pars_fragment:w9,begin_vertex:E9,beginnormal_vertex:b9,bsdfs:C9,iridescence_fragment:T9,bumpmap_pars_fragment:R9,clipping_planes_fragment:P9,clipping_planes_pars_fragment:I9,clipping_planes_pars_vertex:B9,clipping_planes_vertex:L9,color_fragment:D9,color_pars_fragment:O9,color_pars_vertex:F9,color_vertex:U9,common:k9,cube_uv_reflection_fragment:N9,defaultnormal_vertex:z9,displacementmap_pars_vertex:G9,displacementmap_vertex:H9,emissivemap_fragment:V9,emissivemap_pars_fragment:W9,colorspace_fragment:j9,colorspace_pars_fragment:X9,envmap_fragment:J9,envmap_common_pars_fragment:Y9,envmap_pars_fragment:K9,envmap_pars_vertex:$9,envmap_physical_pars_fragment:lV,envmap_vertex:Q9,fog_vertex:Z9,fog_pars_vertex:q9,fog_fragment:eV,fog_pars_fragment:tV,gradientmap_pars_fragment:nV,lightmap_fragment:rV,lightmap_pars_fragment:iV,lights_lambert_fragment:sV,lights_lambert_pars_fragment:oV,lights_pars_begin:aV,lights_toon_fragment:cV,lights_toon_pars_fragment:uV,lights_phong_fragment:fV,lights_phong_pars_fragment:dV,lights_physical_fragment:hV,lights_physical_pars_fragment:pV,lights_fragment_begin:mV,lights_fragment_maps:gV,lights_fragment_end:vV,logdepthbuf_fragment:yV,logdepthbuf_pars_fragment:_V,logdepthbuf_pars_vertex:xV,logdepthbuf_vertex:SV,map_fragment:AV,map_pars_fragment:MV,map_particle_fragment:wV,map_particle_pars_fragment:EV,metalnessmap_fragment:bV,metalnessmap_pars_fragment:CV,morphcolor_vertex:TV,morphnormal_vertex:RV,morphtarget_pars_vertex:PV,morphtarget_vertex:IV,normal_fragment_begin:BV,normal_fragment_maps:LV,normal_pars_fragment:DV,normal_pars_vertex:OV,normal_vertex:FV,normalmap_pars_fragment:UV,clearcoat_normal_fragment_begin:kV,clearcoat_normal_fragment_maps:NV,clearcoat_pars_fragment:zV,iridescence_pars_fragment:GV,opaque_fragment:HV,packing:VV,premultiplied_alpha_fragment:WV,project_vertex:jV,dithering_fragment:XV,dithering_pars_fragment:JV,roughnessmap_fragment:YV,roughnessmap_pars_fragment:KV,shadowmap_pars_fragment:$V,shadowmap_pars_vertex:QV,shadowmap_vertex:ZV,shadowmask_pars_fragment:qV,skinbase_vertex:eW,skinning_pars_vertex:tW,skinning_vertex:nW,skinnormal_vertex:rW,specularmap_fragment:iW,specularmap_pars_fragment:sW,tonemapping_fragment:oW,tonemapping_pars_fragment:aW,transmission_fragment:lW,transmission_pars_fragment:cW,uv_pars_fragment:uW,uv_pars_vertex:fW,uv_vertex:dW,worldpos_vertex:hW,background_vert:pW,background_frag:mW,backgroundCube_vert:gW,backgroundCube_frag:vW,cube_vert:yW,cube_frag:_W,depth_vert:xW,depth_frag:SW,distanceRGBA_vert:AW,distanceRGBA_frag:MW,equirect_vert:wW,equirect_frag:EW,linedashed_vert:bW,linedashed_frag:CW,meshbasic_vert:TW,meshbasic_frag:RW,meshlambert_vert:PW,meshlambert_frag:IW,meshmatcap_vert:BW,meshmatcap_frag:LW,meshnormal_vert:DW,meshnormal_frag:OW,meshphong_vert:FW,meshphong_frag:UW,meshphysical_vert:kW,meshphysical_frag:NW,meshtoon_vert:zW,meshtoon_frag:GW,points_vert:HW,points_frag:VW,shadow_vert:WW,shadow_frag:jW,sprite_vert:XW,sprite_frag:JW},ct={common:{diffuse:{value:new lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Qt},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Qt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Qt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Qt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Qt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Qt},normalScale:{value:new Je(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Qt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Qt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Qt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Qt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0},uvTransform:{value:new Qt}},sprite:{diffuse:{value:new lt(16777215)},opacity:{value:1},center:{value:new Je(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Qt},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0}}},Do={basic:{uniforms:Ii([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.fog]),vertexShader:Kt.meshbasic_vert,fragmentShader:Kt.meshbasic_frag},lambert:{uniforms:Ii([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new lt(0)}}]),vertexShader:Kt.meshlambert_vert,fragmentShader:Kt.meshlambert_frag},phong:{uniforms:Ii([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new lt(0)},specular:{value:new lt(1118481)},shininess:{value:30}}]),vertexShader:Kt.meshphong_vert,fragmentShader:Kt.meshphong_frag},standard:{uniforms:Ii([ct.common,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.roughnessmap,ct.metalnessmap,ct.fog,ct.lights,{emissive:{value:new lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Kt.meshphysical_vert,fragmentShader:Kt.meshphysical_frag},toon:{uniforms:Ii([ct.common,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.gradientmap,ct.fog,ct.lights,{emissive:{value:new lt(0)}}]),vertexShader:Kt.meshtoon_vert,fragmentShader:Kt.meshtoon_frag},matcap:{uniforms:Ii([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,{matcap:{value:null}}]),vertexShader:Kt.meshmatcap_vert,fragmentShader:Kt.meshmatcap_frag},points:{uniforms:Ii([ct.points,ct.fog]),vertexShader:Kt.points_vert,fragmentShader:Kt.points_frag},dashed:{uniforms:Ii([ct.common,ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Kt.linedashed_vert,fragmentShader:Kt.linedashed_frag},depth:{uniforms:Ii([ct.common,ct.displacementmap]),vertexShader:Kt.depth_vert,fragmentShader:Kt.depth_frag},normal:{uniforms:Ii([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,{opacity:{value:1}}]),vertexShader:Kt.meshnormal_vert,fragmentShader:Kt.meshnormal_frag},sprite:{uniforms:Ii([ct.sprite,ct.fog]),vertexShader:Kt.sprite_vert,fragmentShader:Kt.sprite_frag},background:{uniforms:{uvTransform:{value:new Qt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Kt.background_vert,fragmentShader:Kt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Kt.backgroundCube_vert,fragmentShader:Kt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Kt.cube_vert,fragmentShader:Kt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Kt.equirect_vert,fragmentShader:Kt.equirect_frag},distanceRGBA:{uniforms:Ii([ct.common,ct.displacementmap,{referencePosition:{value:new q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Kt.distanceRGBA_vert,fragmentShader:Kt.distanceRGBA_frag},shadow:{uniforms:Ii([ct.lights,ct.fog,{color:{value:new lt(0)},opacity:{value:1}}]),vertexShader:Kt.shadow_vert,fragmentShader:Kt.shadow_frag}};Do.physical={uniforms:Ii([Do.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Qt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Qt},clearcoatNormalScale:{value:new Je(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Qt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Qt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Qt},sheen:{value:0},sheenColor:{value:new lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Qt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Qt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Qt},transmissionSamplerSize:{value:new Je},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Qt},attenuationDistance:{value:0},attenuationColor:{value:new lt(0)},specularColor:{value:new lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Qt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Qt},anisotropyVector:{value:new Je},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Qt}}]),vertexShader:Kt.meshphysical_vert,fragmentShader:Kt.meshphysical_frag};const tv={r:0,b:0,g:0};function YW(n,e,t,r,i,s,o){const a=new lt(0);let l=s===!0?0:1,c,u,f=null,h=0,m=null;function v(_,g){let x=!1,S=g.isScene===!0?g.background:null;switch(S&&S.isTexture&&(S=(g.backgroundBlurriness>0?t:e).get(S)),S===null?y(a,l):S&&S.isColor&&(y(S,1),x=!0),n.xr.getEnvironmentBlendMode()){case"opaque":x=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),x=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),x=!0;break}(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===gh)?(u===void 0&&(u=new dr(new Ju(1,1,1),new Xo({name:"BackgroundCubeMaterial",uniforms:Kd(Do.backgroundCube.uniforms),vertexShader:Do.backgroundCube.vertexShader,fragmentShader:Do.backgroundCube.fragmentShader,side:yi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(b,C,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=S.colorSpace!==$t,(f!==S||h!==S.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=S,h=S.version,m=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new dr(new vc(2,2),new Xo({name:"BackgroundMaterial",uniforms:Kd(Do.background.uniforms),vertexShader:Do.background.vertexShader,fragmentShader:Do.background.fragmentShader,side:Vo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=S.colorSpace!==$t,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(f!==S||h!==S.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=S,h=S.version,m=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function y(_,g){_.getRGB(tv,bU(n)),r.buffers.color.setClear(tv.r,tv.g,tv.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(_,g=1){a.set(_),l=g,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,y(a,l)},render:v}}function KW(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let c=l,u=!1;function f(Y,Q,W,V,D){let G=!1;if(o){const H=y(V,W,Q);c!==H&&(c=H,m(c.object)),G=g(Y,V,W,D),G&&x(Y,V,W,D)}else{const H=Q.wireframe===!0;(c.geometry!==V.id||c.program!==W.id||c.wireframe!==H)&&(c.geometry=V.id,c.program=W.id,c.wireframe=H,G=!0)}D!==null&&t.update(D,n.ELEMENT_ARRAY_BUFFER),(G||u)&&(u=!1,R(Y,Q,W,V),D!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(D).buffer))}function h(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(Y){return r.isWebGL2?n.bindVertexArray(Y):s.bindVertexArrayOES(Y)}function v(Y){return r.isWebGL2?n.deleteVertexArray(Y):s.deleteVertexArrayOES(Y)}function y(Y,Q,W){const V=W.wireframe===!0;let D=a[Y.id];D===void 0&&(D={},a[Y.id]=D);let G=D[Q.id];G===void 0&&(G={},D[Q.id]=G);let H=G[V];return H===void 0&&(H=_(h()),G[V]=H),H}function _(Y){const Q=[],W=[],V=[];for(let D=0;D<i;D++)Q[D]=0,W[D]=0,V[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Q,enabledAttributes:W,attributeDivisors:V,object:Y,attributes:{},index:null}}function g(Y,Q,W,V){const D=c.attributes,G=Q.attributes;let H=0;const O=W.getAttributes();for(const X in O)if(O[X].location>=0){const ae=D[X];let oe=G[X];if(oe===void 0&&(X==="instanceMatrix"&&Y.instanceMatrix&&(oe=Y.instanceMatrix),X==="instanceColor"&&Y.instanceColor&&(oe=Y.instanceColor)),ae===void 0||ae.attribute!==oe||oe&&ae.data!==oe.data)return!0;H++}return c.attributesNum!==H||c.index!==V}function x(Y,Q,W,V){const D={},G=Q.attributes;let H=0;const O=W.getAttributes();for(const X in O)if(O[X].location>=0){let ae=G[X];ae===void 0&&(X==="instanceMatrix"&&Y.instanceMatrix&&(ae=Y.instanceMatrix),X==="instanceColor"&&Y.instanceColor&&(ae=Y.instanceColor));const oe={};oe.attribute=ae,ae&&ae.data&&(oe.data=ae.data),D[X]=oe,H++}c.attributes=D,c.attributesNum=H,c.index=V}function S(){const Y=c.newAttributes;for(let Q=0,W=Y.length;Q<W;Q++)Y[Q]=0}function M(Y){E(Y,0)}function E(Y,Q){const W=c.newAttributes,V=c.enabledAttributes,D=c.attributeDivisors;W[Y]=1,V[Y]===0&&(n.enableVertexAttribArray(Y),V[Y]=1),D[Y]!==Q&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Y,Q),D[Y]=Q)}function b(){const Y=c.newAttributes,Q=c.enabledAttributes;for(let W=0,V=Q.length;W<V;W++)Q[W]!==Y[W]&&(n.disableVertexAttribArray(W),Q[W]=0)}function C(Y,Q,W,V,D,G,H){H===!0?n.vertexAttribIPointer(Y,Q,W,D,G):n.vertexAttribPointer(Y,Q,W,V,D,G)}function R(Y,Q,W,V){if(r.isWebGL2===!1&&(Y.isInstancedMesh||V.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const D=V.attributes,G=W.getAttributes(),H=Q.defaultAttributeValues;for(const O in G){const X=G[O];if(X.location>=0){let ie=D[O];if(ie===void 0&&(O==="instanceMatrix"&&Y.instanceMatrix&&(ie=Y.instanceMatrix),O==="instanceColor"&&Y.instanceColor&&(ie=Y.instanceColor)),ie!==void 0){const ae=ie.normalized,oe=ie.itemSize,fe=t.get(ie);if(fe===void 0)continue;const ue=fe.buffer,me=fe.type,Ne=fe.bytesPerElement,Xe=r.isWebGL2===!0&&(me===n.INT||me===n.UNSIGNED_INT||ie.gpuType===Kb);if(ie.isInterleavedBufferAttribute){const ye=ie.data,$=ye.stride,we=ie.offset;if(ye.isInstancedInterleavedBuffer){for(let _e=0;_e<X.locationSize;_e++)E(X.location+_e,ye.meshPerAttribute);Y.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let _e=0;_e<X.locationSize;_e++)M(X.location+_e);n.bindBuffer(n.ARRAY_BUFFER,ue);for(let _e=0;_e<X.locationSize;_e++)C(X.location+_e,oe/X.locationSize,me,ae,$*Ne,(we+oe/X.locationSize*_e)*Ne,Xe)}else{if(ie.isInstancedBufferAttribute){for(let ye=0;ye<X.locationSize;ye++)E(X.location+ye,ie.meshPerAttribute);Y.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let ye=0;ye<X.locationSize;ye++)M(X.location+ye);n.bindBuffer(n.ARRAY_BUFFER,ue);for(let ye=0;ye<X.locationSize;ye++)C(X.location+ye,oe/X.locationSize,me,ae,oe*Ne,oe/X.locationSize*ye*Ne,Xe)}}else if(H!==void 0){const ae=H[O];if(ae!==void 0)switch(ae.length){case 2:n.vertexAttrib2fv(X.location,ae);break;case 3:n.vertexAttrib3fv(X.location,ae);break;case 4:n.vertexAttrib4fv(X.location,ae);break;default:n.vertexAttrib1fv(X.location,ae)}}}}b()}function T(){N();for(const Y in a){const Q=a[Y];for(const W in Q){const V=Q[W];for(const D in V)v(V[D].object),delete V[D];delete Q[W]}delete a[Y]}}function B(Y){if(a[Y.id]===void 0)return;const Q=a[Y.id];for(const W in Q){const V=Q[W];for(const D in V)v(V[D].object),delete V[D];delete Q[W]}delete a[Y.id]}function k(Y){for(const Q in a){const W=a[Q];if(W[Y.id]===void 0)continue;const V=W[Y.id];for(const D in V)v(V[D].object),delete V[D];delete W[Y.id]}}function N(){j(),u=!0,c!==l&&(c=l,m(c.object))}function j(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:N,resetDefaultState:j,dispose:T,releaseStatesOfGeometry:B,releaseStatesOfProgram:k,initAttributes:S,enableAttribute:M,disableUnusedAttributes:b}}function $W(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,f){if(f===0)return;let h,m;if(i)h=n,m="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[m](s,c,u,f),t.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function QW(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(C){if(C==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),x=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),S=h>0,M=o||e.has("OES_texture_float"),E=S&&M,b=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:h,maxTextureSize:m,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:_,maxVaryings:g,maxFragmentUniforms:x,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:E,maxSamples:b}}function ZW(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Pl,a=new Qt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const m=f.length!==0||h||r!==0||i;return i=h,r=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){t=u(f,h,0)},this.setState=function(f,h,m){const v=f.clippingPlanes,y=f.clipIntersection,_=f.clipShadows,g=n.get(f);if(!i||v===null||v.length===0||s&&!_)s?u(null):c();else{const x=s?0:r,S=x*4;let M=g.clippingState||null;l.value=M,M=u(v,h,S,m);for(let E=0;E!==S;++E)M[E]=t[E];g.clippingState=M,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,h,m,v){const y=f!==null?f.length:0;let _=null;if(y!==0){if(_=l.value,v!==!0||_===null){const g=m+y*4,x=h.matrixWorldInverse;a.getNormalMatrix(x),(_===null||_.length<g)&&(_=new Float32Array(g));for(let S=0,M=m;S!==y;++S,M+=4)o.copy(f[S]).applyMatrix4(x,a),o.normal.toArray(_,M),_[M+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,_}}function qW(n){let e=new WeakMap;function t(o,a){return a===jd?o.mapping=ga:a===_m&&(o.mapping=ac),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===jd||a===_m)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new hC(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class No extends sg{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const hd=4,sI=[.125,.215,.35,.446,.526,.582],ru=20,NS=new No,oI=new lt;let zS=null;const Zc=(1+Math.sqrt(5))/2,If=1/Zc,aI=[new q(1,1,1),new q(-1,1,1),new q(1,1,-1),new q(-1,1,-1),new q(0,Zc,If),new q(0,Zc,-If),new q(If,0,Zc),new q(-If,0,Zc),new q(Zc,If,0),new q(-Zc,If,0)];class ww{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){zS=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=uI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=cI(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(zS),e.scissorTest=!1,nv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ga||e.mapping===ac?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),zS=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:bn,minFilter:bn,generateMipmaps:!1,type:Fi,format:Oi,colorSpace:Wo,depthBuffer:!1},i=lI(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=lI(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ej(s)),this._blurMaterial=tj(s,e,t)}return i}_compileMaterial(e){const t=new dr(this._lodPlanes[0],e);this._renderer.compile(t,NS)}_sceneToCubeUV(e,t,r,i){const a=new Kn(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,h=u.toneMapping;u.getClearColor(oI),u.toneMapping=fa,u.autoClear=!1;const m=new es({name:"PMREM.Background",side:yi,depthWrite:!1,depthTest:!1}),v=new dr(new Ju,m);let y=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,y=!0):(m.color.copy(oI),y=!0);for(let g=0;g<6;g++){const x=g%3;x===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):x===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const S=this._cubeSize;nv(i,x*S,g>2?S:0,S,S),u.setRenderTarget(i),y&&u.render(v,a),u.render(e,a)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=h,u.autoClear=f,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===ga||e.mapping===ac;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=uI()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=cI());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new dr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;nv(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,NS)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=aI[(i-1)%aI.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new dr(this._lodPlanes[i],c),h=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*ru-1),y=s/v,_=isFinite(s)?1+Math.floor(u*y):ru;_>ru&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${ru}`);const g=[];let x=0;for(let C=0;C<ru;++C){const R=C/y,T=Math.exp(-R*R/2);g.push(T),C===0?x+=T:C<_&&(x+=2*T)}for(let C=0;C<g.length;C++)g[C]=g[C]/x;h.envMap.value=e.texture,h.samples.value=_,h.weights.value=g,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:S}=this;h.dTheta.value=v,h.mipInt.value=S-r;const M=this._sizeLods[i],E=3*M*(i>S-hd?i-S+hd:0),b=4*(this._cubeSize-M);nv(t,E,b,3*M,2*M),l.setRenderTarget(t),l.render(f,NS)}}function ej(n){const e=[],t=[],r=[];let i=n;const s=n-hd+1+sI.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-hd?l=sI[o-n+hd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,h=[u,u,f,u,f,f,u,u,f,f,u,f],m=6,v=6,y=3,_=2,g=1,x=new Float32Array(y*v*m),S=new Float32Array(_*v*m),M=new Float32Array(g*v*m);for(let b=0;b<m;b++){const C=b%3*2/3-1,R=b>2?0:-1,T=[C,R,0,C+2/3,R,0,C+2/3,R+1,0,C,R,0,C+2/3,R+1,0,C,R+1,0];x.set(T,y*v*b),S.set(h,_*v*b);const B=[b,b,b,b,b,b];M.set(B,g*v*b)}const E=new Xt;E.setAttribute("position",new vn(x,y)),E.setAttribute("uv",new vn(S,_)),E.setAttribute("faceIndex",new vn(M,g)),e.push(E),i>hd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function lI(n,e,t){const r=new jo(n,e,t);return r.texture.mapping=gh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function nv(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function tj(n,e,t){const r=new Float32Array(ru),i=new q(0,1,0);return new Xo({name:"SphericalGaussianBlur",defines:{n:ru,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:pC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ya,depthTest:!1,depthWrite:!1})}function cI(){return new Xo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:pC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ya,depthTest:!1,depthWrite:!1})}function uI(){return new Xo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:pC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ya,depthTest:!1,depthWrite:!1})}function pC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function nj(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===jd||l===_m,u=l===ga||l===ac;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new ww(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){t===null&&(t=new ww(n));const h=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function rj(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function ij(n,e,t,r){const i={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const v in h.attributes)e.remove(h.attributes[v]);for(const v in h.morphAttributes){const y=h.morphAttributes[v];for(let _=0,g=y.length;_<g;_++)e.remove(y[_])}h.removeEventListener("dispose",o),delete i[h.id];const m=s.get(h);m&&(e.remove(m),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,t.memory.geometries++),h}function l(f){const h=f.attributes;for(const v in h)e.update(h[v],n.ARRAY_BUFFER);const m=f.morphAttributes;for(const v in m){const y=m[v];for(let _=0,g=y.length;_<g;_++)e.update(y[_],n.ARRAY_BUFFER)}}function c(f){const h=[],m=f.index,v=f.attributes.position;let y=0;if(m!==null){const x=m.array;y=m.version;for(let S=0,M=x.length;S<M;S+=3){const E=x[S+0],b=x[S+1],C=x[S+2];h.push(E,b,b,C,C,E)}}else if(v!==void 0){const x=v.array;y=v.version;for(let S=0,M=x.length/3-1;S<M;S+=3){const E=S+0,b=S+1,C=S+2;h.push(E,b,b,C,C,E)}}else return;const _=new(MU(h)?fC:uC)(h,1);_.version=y;const g=s.get(f);g&&e.remove(g),s.set(f,_)}function u(f){const h=s.get(f);if(h){const m=f.index;m!==null&&h.version<m.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function sj(n,e,t,r){const i=r.isWebGL2;let s;function o(h){s=h}let a,l;function c(h){a=h.type,l=h.bytesPerElement}function u(h,m){n.drawElements(s,m,a,h*l),t.update(m,s,1)}function f(h,m,v){if(v===0)return;let y,_;if(i)y=n,_="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[_](s,m,a,h*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function oj(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function aj(n,e){return n[0]-e[0]}function lj(n,e){return Math.abs(e[1])-Math.abs(n[1])}function cj(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Sn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f){const h=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=v!==void 0?v.length:0;let _=s.get(u);if(_===void 0||_.count!==y){let Q=function(){j.dispose(),s.delete(u),u.removeEventListener("dispose",Q)};var m=Q;_!==void 0&&_.texture.dispose();const S=u.morphAttributes.position!==void 0,M=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,b=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],R=u.morphAttributes.color||[];let T=0;S===!0&&(T=1),M===!0&&(T=2),E===!0&&(T=3);let B=u.attributes.position.count*T,k=1;B>e.maxTextureSize&&(k=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const N=new Float32Array(B*k*4*y),j=new Q_(N,B,k,y);j.type=vi,j.needsUpdate=!0;const Y=T*4;for(let W=0;W<y;W++){const V=b[W],D=C[W],G=R[W],H=B*k*4*W;for(let O=0;O<V.count;O++){const X=O*Y;S===!0&&(o.fromBufferAttribute(V,O),N[H+X+0]=o.x,N[H+X+1]=o.y,N[H+X+2]=o.z,N[H+X+3]=0),M===!0&&(o.fromBufferAttribute(D,O),N[H+X+4]=o.x,N[H+X+5]=o.y,N[H+X+6]=o.z,N[H+X+7]=0),E===!0&&(o.fromBufferAttribute(G,O),N[H+X+8]=o.x,N[H+X+9]=o.y,N[H+X+10]=o.z,N[H+X+11]=G.itemSize===4?o.w:1)}}_={count:y,texture:j,size:new Je(B,k)},s.set(u,_),u.addEventListener("dispose",Q)}let g=0;for(let S=0;S<h.length;S++)g+=h[S];const x=u.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",x),f.getUniforms().setValue(n,"morphTargetInfluences",h),f.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const v=h===void 0?0:h.length;let y=r[u.id];if(y===void 0||y.length!==v){y=[];for(let M=0;M<v;M++)y[M]=[M,0];r[u.id]=y}for(let M=0;M<v;M++){const E=y[M];E[0]=M,E[1]=h[M]}y.sort(lj);for(let M=0;M<8;M++)M<v&&y[M][1]?(a[M][0]=y[M][0],a[M][1]=y[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(aj);const _=u.morphAttributes.position,g=u.morphAttributes.normal;let x=0;for(let M=0;M<8;M++){const E=a[M],b=E[0],C=E[1];b!==Number.MAX_SAFE_INTEGER&&C?(_&&u.getAttribute("morphTarget"+M)!==_[b]&&u.setAttribute("morphTarget"+M,_[b]),g&&u.getAttribute("morphNormal"+M)!==g[b]&&u.setAttribute("morphNormal"+M,g[b]),i[M]=C,x+=C):(_&&u.hasAttribute("morphTarget"+M)===!0&&u.deleteAttribute("morphTarget"+M),g&&u.hasAttribute("morphNormal"+M)===!0&&u.deleteAttribute("morphNormal"+M),i[M]=0)}const S=u.morphTargetsRelative?1:1-x;f.getUniforms().setValue(n,"morphTargetBaseInfluence",S),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function uj(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==c&&(h.update(),i.set(h,c))}return f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const RU=new Nn,PU=new Q_,IU=new cC,BU=new og,fI=[],dI=[],hI=new Float32Array(16),pI=new Float32Array(9),mI=new Float32Array(4);function yh(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=fI[i];if(s===void 0&&(s=new Float32Array(i),fI[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function kr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Nr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function q_(n,e){let t=dI[e];t===void 0&&(t=new Int32Array(e),dI[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function fj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function dj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kr(t,e))return;n.uniform2fv(this.addr,e),Nr(t,e)}}function hj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(kr(t,e))return;n.uniform3fv(this.addr,e),Nr(t,e)}}function pj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kr(t,e))return;n.uniform4fv(this.addr,e),Nr(t,e)}}function mj(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(kr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Nr(t,e)}else{if(kr(t,r))return;mI.set(r),n.uniformMatrix2fv(this.addr,!1,mI),Nr(t,r)}}function gj(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(kr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Nr(t,e)}else{if(kr(t,r))return;pI.set(r),n.uniformMatrix3fv(this.addr,!1,pI),Nr(t,r)}}function vj(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(kr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Nr(t,e)}else{if(kr(t,r))return;hI.set(r),n.uniformMatrix4fv(this.addr,!1,hI),Nr(t,r)}}function yj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function _j(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kr(t,e))return;n.uniform2iv(this.addr,e),Nr(t,e)}}function xj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(kr(t,e))return;n.uniform3iv(this.addr,e),Nr(t,e)}}function Sj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kr(t,e))return;n.uniform4iv(this.addr,e),Nr(t,e)}}function Aj(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Mj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(kr(t,e))return;n.uniform2uiv(this.addr,e),Nr(t,e)}}function wj(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(kr(t,e))return;n.uniform3uiv(this.addr,e),Nr(t,e)}}function Ej(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(kr(t,e))return;n.uniform4uiv(this.addr,e),Nr(t,e)}}function bj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||RU,i)}function Cj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||IU,i)}function Tj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||BU,i)}function Rj(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||PU,i)}function Pj(n){switch(n){case 5126:return fj;case 35664:return dj;case 35665:return hj;case 35666:return pj;case 35674:return mj;case 35675:return gj;case 35676:return vj;case 5124:case 35670:return yj;case 35667:case 35671:return _j;case 35668:case 35672:return xj;case 35669:case 35673:return Sj;case 5125:return Aj;case 36294:return Mj;case 36295:return wj;case 36296:return Ej;case 35678:case 36198:case 36298:case 36306:case 35682:return bj;case 35679:case 36299:case 36307:return Cj;case 35680:case 36300:case 36308:case 36293:return Tj;case 36289:case 36303:case 36311:case 36292:return Rj}}function Ij(n,e){n.uniform1fv(this.addr,e)}function Bj(n,e){const t=yh(e,this.size,2);n.uniform2fv(this.addr,t)}function Lj(n,e){const t=yh(e,this.size,3);n.uniform3fv(this.addr,t)}function Dj(n,e){const t=yh(e,this.size,4);n.uniform4fv(this.addr,t)}function Oj(n,e){const t=yh(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Fj(n,e){const t=yh(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Uj(n,e){const t=yh(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function kj(n,e){n.uniform1iv(this.addr,e)}function Nj(n,e){n.uniform2iv(this.addr,e)}function zj(n,e){n.uniform3iv(this.addr,e)}function Gj(n,e){n.uniform4iv(this.addr,e)}function Hj(n,e){n.uniform1uiv(this.addr,e)}function Vj(n,e){n.uniform2uiv(this.addr,e)}function Wj(n,e){n.uniform3uiv(this.addr,e)}function jj(n,e){n.uniform4uiv(this.addr,e)}function Xj(n,e,t){const r=this.cache,i=e.length,s=q_(t,i);kr(r,s)||(n.uniform1iv(this.addr,s),Nr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||RU,s[o])}function Jj(n,e,t){const r=this.cache,i=e.length,s=q_(t,i);kr(r,s)||(n.uniform1iv(this.addr,s),Nr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||IU,s[o])}function Yj(n,e,t){const r=this.cache,i=e.length,s=q_(t,i);kr(r,s)||(n.uniform1iv(this.addr,s),Nr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||BU,s[o])}function Kj(n,e,t){const r=this.cache,i=e.length,s=q_(t,i);kr(r,s)||(n.uniform1iv(this.addr,s),Nr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||PU,s[o])}function $j(n){switch(n){case 5126:return Ij;case 35664:return Bj;case 35665:return Lj;case 35666:return Dj;case 35674:return Oj;case 35675:return Fj;case 35676:return Uj;case 5124:case 35670:return kj;case 35667:case 35671:return Nj;case 35668:case 35672:return zj;case 35669:case 35673:return Gj;case 5125:return Hj;case 36294:return Vj;case 36295:return Wj;case 36296:return jj;case 35678:case 36198:case 36298:case 36306:case 35682:return Xj;case 35679:case 36299:case 36307:return Jj;case 35680:case 36300:case 36308:case 36293:return Yj;case 36289:case 36303:case 36311:case 36292:return Kj}}class Qj{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=Pj(t.type)}}class Zj{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=$j(t.type)}}class qj{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const GS=/(\w+)(\])?(\[|\.)?/g;function gI(n,e){n.seq.push(e),n.map[e.id]=e}function e7(n,e,t){const r=n.name,i=r.length;for(GS.lastIndex=0;;){const s=GS.exec(r),o=GS.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){gI(t,c===void 0?new Qj(a,n,e):new Zj(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new qj(a),gI(t,f)),t=f}}}class hy{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);e7(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function vI(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let t7=0;function n7(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function r7(n){switch(n){case Wo:return["Linear","( value )"];case $t:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function yI(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+n7(n.getShaderSource(e),o)}else return i}function i7(n,e){const t=r7(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function s7(n,e){let t;switch(e){case KF:t="Linear";break;case $F:t="Reinhard";break;case QF:t="OptimizedCineon";break;case Yb:t="ACESFilmic";break;case ZF:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function o7(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Cp).join(`
`)}function a7(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function l7(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Cp(n){return n!==""}function _I(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function xI(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const c7=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ew(n){return n.replace(c7,f7)}const u7=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function f7(n,e){let t=Kt[e];if(t===void 0){const r=u7.get(e);if(r!==void 0)t=Kt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return Ew(t)}const d7=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function SI(n){return n.replace(d7,h7)}function h7(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function AI(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function p7(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===X_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===zp?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Po&&(e="SHADOWMAP_TYPE_VSM"),e}function m7(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ga:case ac:e="ENVMAP_TYPE_CUBE";break;case gh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function g7(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case ac:e="ENVMAP_MODE_REFRACTION";break}return e}function v7(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case rg:e="ENVMAP_BLENDING_MULTIPLY";break;case JF:e="ENVMAP_BLENDING_MIX";break;case YF:e="ENVMAP_BLENDING_ADD";break}return e}function y7(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function _7(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=p7(t),c=m7(t),u=g7(t),f=v7(t),h=y7(t),m=t.isWebGL2?"":o7(t),v=a7(s),y=i.createProgram();let _,g,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Cp).join(`
`),_.length>0&&(_+=`
`),g=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v].filter(Cp).join(`
`),g.length>0&&(g+=`
`)):(_=[AI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Cp).join(`
`),g=[m,AI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==fa?"#define TONE_MAPPING":"",t.toneMapping!==fa?Kt.tonemapping_pars_fragment:"",t.toneMapping!==fa?s7("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Kt.colorspace_pars_fragment,i7("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Cp).join(`
`)),o=Ew(o),o=_I(o,t),o=xI(o,t),a=Ew(a),a=_I(a,t),a=xI(a,t),o=SI(o),a=SI(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,g=["#define varying in",t.glslVersion===Aw?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Aw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const S=x+_+o,M=x+g+a,E=vI(i,i.VERTEX_SHADER,S),b=vI(i,i.FRAGMENT_SHADER,M);if(i.attachShader(y,E),i.attachShader(y,b),t.index0AttributeName!==void 0?i.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),n.debug.checkShaderErrors){const T=i.getProgramInfoLog(y).trim(),B=i.getShaderInfoLog(E).trim(),k=i.getShaderInfoLog(b).trim();let N=!0,j=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(N=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,y,E,b);else{const Y=yI(i,E,"vertex"),Q=yI(i,b,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Program Info Log: `+T+`
`+Y+`
`+Q)}else T!==""?console.warn("THREE.WebGLProgram: Program Info Log:",T):(B===""||k==="")&&(j=!1);j&&(this.diagnostics={runnable:N,programLog:T,vertexShader:{log:B,prefix:_},fragmentShader:{log:k,prefix:g}})}i.deleteShader(E),i.deleteShader(b);let C;this.getUniforms=function(){return C===void 0&&(C=new hy(i,y)),C};let R;return this.getAttributes=function(){return R===void 0&&(R=l7(i,y)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=t7++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=b,this}let x7=0;class S7{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new A7(e),t.set(e,r)),r}}class A7{constructor(e){this.id=x7++,this.code=e,this.usedTimes=0}}function M7(n,e,t,r,i,s,o){const a=new Su,l=new S7,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,h=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(T){return T===0?"uv":`uv${T}`}function _(T,B,k,N,j){const Y=N.fog,Q=j.geometry,W=T.isMeshStandardMaterial?N.environment:null,V=(T.isMeshStandardMaterial?t:e).get(T.envMap||W),D=V&&V.mapping===gh?V.image.height:null,G=v[T.type];T.precision!==null&&(m=i.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const H=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,O=H!==void 0?H.length:0;let X=0;Q.morphAttributes.position!==void 0&&(X=1),Q.morphAttributes.normal!==void 0&&(X=2),Q.morphAttributes.color!==void 0&&(X=3);let ie,ae,oe,fe;if(G){const zt=Do[G];ie=zt.vertexShader,ae=zt.fragmentShader}else ie=T.vertexShader,ae=T.fragmentShader,l.update(T),oe=l.getVertexShaderID(T),fe=l.getFragmentShaderID(T);const ue=n.getRenderTarget(),me=j.isInstancedMesh===!0,Ne=!!T.map,Xe=!!T.matcap,ye=!!V,$=!!T.aoMap,we=!!T.lightMap,_e=!!T.bumpMap,Ee=!!T.normalMap,Ae=!!T.displacementMap,Ye=!!T.emissiveMap,de=!!T.metalnessMap,Re=!!T.roughnessMap,Te=T.anisotropy>0,xe=T.clearcoat>0,Qe=T.iridescence>0,K=T.sheen>0,z=T.transmission>0,ce=Te&&!!T.anisotropyMap,Ve=xe&&!!T.clearcoatMap,De=xe&&!!T.clearcoatNormalMap,Be=xe&&!!T.clearcoatRoughnessMap,Ke=Qe&&!!T.iridescenceMap,We=Qe&&!!T.iridescenceThicknessMap,ve=K&&!!T.sheenColorMap,ne=K&&!!T.sheenRoughnessMap,Se=!!T.specularMap,Ce=!!T.specularColorMap,Ie=!!T.specularIntensityMap,Ge=z&&!!T.transmissionMap,Ze=z&&!!T.thicknessMap,tt=!!T.gradientMap,se=!!T.alphaMap,pe=T.alphaTest>0,be=!!T.alphaHash,$e=!!T.extensions,ze=!!Q.attributes.uv1,st=!!Q.attributes.uv2,gt=!!Q.attributes.uv3;let Et=fa;return T.toneMapped&&(ue===null||ue.isXRRenderTarget===!0)&&(Et=n.toneMapping),{isWebGL2:u,shaderID:G,shaderType:T.type,shaderName:T.name,vertexShader:ie,fragmentShader:ae,defines:T.defines,customVertexShaderID:oe,customFragmentShaderID:fe,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,instancing:me,instancingColor:me&&j.instanceColor!==null,supportsVertexTextures:h,outputColorSpace:ue===null?n.outputColorSpace:ue.isXRRenderTarget===!0?ue.texture.colorSpace:Wo,map:Ne,matcap:Xe,envMap:ye,envMapMode:ye&&V.mapping,envMapCubeUVHeight:D,aoMap:$,lightMap:we,bumpMap:_e,normalMap:Ee,displacementMap:h&&Ae,emissiveMap:Ye,normalMapObjectSpace:Ee&&T.normalMapType===dU,normalMapTangentSpace:Ee&&T.normalMapType===gc,metalnessMap:de,roughnessMap:Re,anisotropy:Te,anisotropyMap:ce,clearcoat:xe,clearcoatMap:Ve,clearcoatNormalMap:De,clearcoatRoughnessMap:Be,iridescence:Qe,iridescenceMap:Ke,iridescenceThicknessMap:We,sheen:K,sheenColorMap:ve,sheenRoughnessMap:ne,specularMap:Se,specularColorMap:Ce,specularIntensityMap:Ie,transmission:z,transmissionMap:Ge,thicknessMap:Ze,gradientMap:tt,opaque:T.transparent===!1&&T.blending===_u,alphaMap:se,alphaTest:pe,alphaHash:be,combine:T.combine,mapUv:Ne&&y(T.map.channel),aoMapUv:$&&y(T.aoMap.channel),lightMapUv:we&&y(T.lightMap.channel),bumpMapUv:_e&&y(T.bumpMap.channel),normalMapUv:Ee&&y(T.normalMap.channel),displacementMapUv:Ae&&y(T.displacementMap.channel),emissiveMapUv:Ye&&y(T.emissiveMap.channel),metalnessMapUv:de&&y(T.metalnessMap.channel),roughnessMapUv:Re&&y(T.roughnessMap.channel),anisotropyMapUv:ce&&y(T.anisotropyMap.channel),clearcoatMapUv:Ve&&y(T.clearcoatMap.channel),clearcoatNormalMapUv:De&&y(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Be&&y(T.clearcoatRoughnessMap.channel),iridescenceMapUv:Ke&&y(T.iridescenceMap.channel),iridescenceThicknessMapUv:We&&y(T.iridescenceThicknessMap.channel),sheenColorMapUv:ve&&y(T.sheenColorMap.channel),sheenRoughnessMapUv:ne&&y(T.sheenRoughnessMap.channel),specularMapUv:Se&&y(T.specularMap.channel),specularColorMapUv:Ce&&y(T.specularColorMap.channel),specularIntensityMapUv:Ie&&y(T.specularIntensityMap.channel),transmissionMapUv:Ge&&y(T.transmissionMap.channel),thicknessMapUv:Ze&&y(T.thicknessMap.channel),alphaMapUv:se&&y(T.alphaMap.channel),vertexTangents:!!Q.attributes.tangent&&(Ee||Te),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,vertexUv1s:ze,vertexUv2s:st,vertexUv3s:gt,pointsUvs:j.isPoints===!0&&!!Q.attributes.uv&&(Ne||se),fog:!!Y,useFog:T.fog===!0,fogExp2:Y&&Y.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:j.isSkinnedMesh===!0,morphTargets:Q.morphAttributes.position!==void 0,morphNormals:Q.morphAttributes.normal!==void 0,morphColors:Q.morphAttributes.color!==void 0,morphTargetsCount:O,morphTextureStride:X,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:Et,useLegacyLights:n._useLegacyLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Di,flipSided:T.side===yi,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:$e&&T.extensions.derivatives===!0,extensionFragDepth:$e&&T.extensions.fragDepth===!0,extensionDrawBuffers:$e&&T.extensions.drawBuffers===!0,extensionShaderTextureLOD:$e&&T.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function g(T){const B=[];if(T.shaderID?B.push(T.shaderID):(B.push(T.customVertexShaderID),B.push(T.customFragmentShaderID)),T.defines!==void 0)for(const k in T.defines)B.push(k),B.push(T.defines[k]);return T.isRawShaderMaterial===!1&&(x(B,T),S(B,T),B.push(n.outputColorSpace)),B.push(T.customProgramCacheKey),B.join()}function x(T,B){T.push(B.precision),T.push(B.outputColorSpace),T.push(B.envMapMode),T.push(B.envMapCubeUVHeight),T.push(B.mapUv),T.push(B.alphaMapUv),T.push(B.lightMapUv),T.push(B.aoMapUv),T.push(B.bumpMapUv),T.push(B.normalMapUv),T.push(B.displacementMapUv),T.push(B.emissiveMapUv),T.push(B.metalnessMapUv),T.push(B.roughnessMapUv),T.push(B.anisotropyMapUv),T.push(B.clearcoatMapUv),T.push(B.clearcoatNormalMapUv),T.push(B.clearcoatRoughnessMapUv),T.push(B.iridescenceMapUv),T.push(B.iridescenceThicknessMapUv),T.push(B.sheenColorMapUv),T.push(B.sheenRoughnessMapUv),T.push(B.specularMapUv),T.push(B.specularColorMapUv),T.push(B.specularIntensityMapUv),T.push(B.transmissionMapUv),T.push(B.thicknessMapUv),T.push(B.combine),T.push(B.fogExp2),T.push(B.sizeAttenuation),T.push(B.morphTargetsCount),T.push(B.morphAttributeCount),T.push(B.numDirLights),T.push(B.numPointLights),T.push(B.numSpotLights),T.push(B.numSpotLightMaps),T.push(B.numHemiLights),T.push(B.numRectAreaLights),T.push(B.numDirLightShadows),T.push(B.numPointLightShadows),T.push(B.numSpotLightShadows),T.push(B.numSpotLightShadowsWithMaps),T.push(B.shadowMapType),T.push(B.toneMapping),T.push(B.numClippingPlanes),T.push(B.numClipIntersection),T.push(B.depthPacking)}function S(T,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUv1s&&a.enable(13),B.vertexUv2s&&a.enable(14),B.vertexUv3s&&a.enable(15),B.vertexTangents&&a.enable(16),B.anisotropy&&a.enable(17),T.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.useLegacyLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),T.push(a.mask)}function M(T){const B=v[T.type];let k;if(B){const N=Do[B];k=dC.clone(N.uniforms)}else k=T.uniforms;return k}function E(T,B){let k;for(let N=0,j=c.length;N<j;N++){const Y=c[N];if(Y.cacheKey===B){k=Y,++k.usedTimes;break}}return k===void 0&&(k=new _7(n,B,T,s),c.push(k)),k}function b(T){if(--T.usedTimes===0){const B=c.indexOf(T);c[B]=c[c.length-1],c.pop(),T.destroy()}}function C(T){l.remove(T)}function R(){l.dispose()}return{getParameters:_,getProgramCacheKey:g,getUniforms:M,acquireProgram:E,releaseProgram:b,releaseShaderCache:C,programs:c,dispose:R}}function w7(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function E7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function MI(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function wI(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,h,m,v,y,_){let g=n[e];return g===void 0?(g={id:f.id,object:f,geometry:h,material:m,groupOrder:v,renderOrder:f.renderOrder,z:y,group:_},n[e]=g):(g.id=f.id,g.object=f,g.geometry=h,g.material=m,g.groupOrder=v,g.renderOrder=f.renderOrder,g.z=y,g.group=_),e++,g}function a(f,h,m,v,y,_){const g=o(f,h,m,v,y,_);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):t.push(g)}function l(f,h,m,v,y,_){const g=o(f,h,m,v,y,_);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):t.unshift(g)}function c(f,h){t.length>1&&t.sort(f||E7),r.length>1&&r.sort(h||MI),i.length>1&&i.sort(h||MI)}function u(){for(let f=e,h=n.length;f<h;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function b7(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new wI,n.set(r,[o])):i>=s.length?(o=new wI,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function C7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new q,color:new lt};break;case"SpotLight":t={position:new q,direction:new q,color:new lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new q,color:new lt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new q,skyColor:new lt,groundColor:new lt};break;case"RectAreaLight":t={color:new lt,position:new q,halfWidth:new q,halfHeight:new q};break}return n[e.id]=t,t}}}function T7(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Je};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Je};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Je,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let R7=0;function P7(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function I7(n,e){const t=new C7,r=T7(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new q);const s=new q,o=new Ut,a=new Ut;function l(u,f){let h=0,m=0,v=0;for(let k=0;k<9;k++)i.probe[k].set(0,0,0);let y=0,_=0,g=0,x=0,S=0,M=0,E=0,b=0,C=0,R=0;u.sort(P7);const T=f===!0?Math.PI:1;for(let k=0,N=u.length;k<N;k++){const j=u[k],Y=j.color,Q=j.intensity,W=j.distance,V=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)h+=Y.r*Q*T,m+=Y.g*Q*T,v+=Y.b*Q*T;else if(j.isLightProbe)for(let D=0;D<9;D++)i.probe[D].addScaledVector(j.sh.coefficients[D],Q);else if(j.isDirectionalLight){const D=t.get(j);if(D.color.copy(j.color).multiplyScalar(j.intensity*T),j.castShadow){const G=j.shadow,H=r.get(j);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,i.directionalShadow[y]=H,i.directionalShadowMap[y]=V,i.directionalShadowMatrix[y]=j.shadow.matrix,M++}i.directional[y]=D,y++}else if(j.isSpotLight){const D=t.get(j);D.position.setFromMatrixPosition(j.matrixWorld),D.color.copy(Y).multiplyScalar(Q*T),D.distance=W,D.coneCos=Math.cos(j.angle),D.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),D.decay=j.decay,i.spot[g]=D;const G=j.shadow;if(j.map&&(i.spotLightMap[C]=j.map,C++,G.updateMatrices(j),j.castShadow&&R++),i.spotLightMatrix[g]=G.matrix,j.castShadow){const H=r.get(j);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,i.spotShadow[g]=H,i.spotShadowMap[g]=V,b++}g++}else if(j.isRectAreaLight){const D=t.get(j);D.color.copy(Y).multiplyScalar(Q),D.halfWidth.set(j.width*.5,0,0),D.halfHeight.set(0,j.height*.5,0),i.rectArea[x]=D,x++}else if(j.isPointLight){const D=t.get(j);if(D.color.copy(j.color).multiplyScalar(j.intensity*T),D.distance=j.distance,D.decay=j.decay,j.castShadow){const G=j.shadow,H=r.get(j);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,H.shadowCameraNear=G.camera.near,H.shadowCameraFar=G.camera.far,i.pointShadow[_]=H,i.pointShadowMap[_]=V,i.pointShadowMatrix[_]=j.shadow.matrix,E++}i.point[_]=D,_++}else if(j.isHemisphereLight){const D=t.get(j);D.skyColor.copy(j.color).multiplyScalar(Q*T),D.groundColor.copy(j.groundColor).multiplyScalar(Q*T),i.hemi[S]=D,S++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_FLOAT_1,i.rectAreaLTC2=ct.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=ct.LTC_HALF_1,i.rectAreaLTC2=ct.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=m,i.ambient[2]=v;const B=i.hash;(B.directionalLength!==y||B.pointLength!==_||B.spotLength!==g||B.rectAreaLength!==x||B.hemiLength!==S||B.numDirectionalShadows!==M||B.numPointShadows!==E||B.numSpotShadows!==b||B.numSpotMaps!==C)&&(i.directional.length=y,i.spot.length=g,i.rectArea.length=x,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=b,i.spotShadowMap.length=b,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=b+C-R,i.spotLightMap.length=C,i.numSpotLightShadowsWithMaps=R,B.directionalLength=y,B.pointLength=_,B.spotLength=g,B.rectAreaLength=x,B.hemiLength=S,B.numDirectionalShadows=M,B.numPointShadows=E,B.numSpotShadows=b,B.numSpotMaps=C,i.version=R7++)}function c(u,f){let h=0,m=0,v=0,y=0,_=0;const g=f.matrixWorldInverse;for(let x=0,S=u.length;x<S;x++){const M=u[x];if(M.isDirectionalLight){const E=i.directional[h];E.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(g),h++}else if(M.isSpotLight){const E=i.spot[v];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(g),E.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(g),v++}else if(M.isRectAreaLight){const E=i.rectArea[y];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(g),a.identity(),o.copy(M.matrixWorld),o.premultiply(g),a.extractRotation(o),E.halfWidth.set(M.width*.5,0,0),E.halfHeight.set(0,M.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),y++}else if(M.isPointLight){const E=i.point[m];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(g),m++}else if(M.isHemisphereLight){const E=i.hemi[_];E.direction.setFromMatrixPosition(M.matrixWorld),E.direction.transformDirection(g),_++}}}return{setup:l,setupView:c,state:i}}function EI(n,e){const t=new I7(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function c(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function B7(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new EI(n,e),t.set(s,[l])):o>=a.length?(l=new EI(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class e1 extends Ir{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=fU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class t1 extends Ir{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const L7=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,D7=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function O7(n,e,t){let r=new Z_;const i=new Je,s=new Je,o=new Sn,a=new e1({depthPacking:sC}),l=new t1,c={},u=t.maxTextureSize,f={[Vo]:yi,[yi]:Vo,[Di]:Di},h=new Xo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Je},radius:{value:4}},vertexShader:L7,fragmentShader:D7}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const v=new Xt;v.setAttribute("position",new vn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new dr(v,h),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=X_;let g=this.type;this.render=function(E,b,C){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||E.length===0)return;const R=n.getRenderTarget(),T=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),k=n.state;k.setBlending(Ya),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const N=g!==Po&&this.type===Po,j=g===Po&&this.type!==Po;for(let Y=0,Q=E.length;Y<Q;Y++){const W=E[Y],V=W.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;i.copy(V.mapSize);const D=V.getFrameExtents();if(i.multiply(D),s.copy(V.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/D.x),i.x=s.x*D.x,V.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/D.y),i.y=s.y*D.y,V.mapSize.y=s.y)),V.map===null||N===!0||j===!0){const H=this.type!==Po?{minFilter:cr,magFilter:cr}:{};V.map!==null&&V.map.dispose(),V.map=new jo(i.x,i.y,H),V.map.texture.name=W.name+".shadowMap",V.camera.updateProjectionMatrix()}n.setRenderTarget(V.map),n.clear();const G=V.getViewportCount();for(let H=0;H<G;H++){const O=V.getViewport(H);o.set(s.x*O.x,s.y*O.y,s.x*O.z,s.y*O.w),k.viewport(o),V.updateMatrices(W,H),r=V.getFrustum(),M(b,C,V.camera,W,this.type)}V.isPointLightShadow!==!0&&this.type===Po&&x(V,C),V.needsUpdate=!1}g=this.type,_.needsUpdate=!1,n.setRenderTarget(R,T,B)};function x(E,b){const C=e.update(y);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new jo(i.x,i.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(b,null,C,h,y,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(b,null,C,m,y,null)}function S(E,b,C,R){let T=null;const B=C.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(B!==void 0)T=B;else if(T=C.isPointLight===!0?l:a,n.localClippingEnabled&&b.clipShadows===!0&&Array.isArray(b.clippingPlanes)&&b.clippingPlanes.length!==0||b.displacementMap&&b.displacementScale!==0||b.alphaMap&&b.alphaTest>0||b.map&&b.alphaTest>0){const k=T.uuid,N=b.uuid;let j=c[k];j===void 0&&(j={},c[k]=j);let Y=j[N];Y===void 0&&(Y=T.clone(),j[N]=Y),T=Y}if(T.visible=b.visible,T.wireframe=b.wireframe,R===Po?T.side=b.shadowSide!==null?b.shadowSide:b.side:T.side=b.shadowSide!==null?b.shadowSide:f[b.side],T.alphaMap=b.alphaMap,T.alphaTest=b.alphaTest,T.map=b.map,T.clipShadows=b.clipShadows,T.clippingPlanes=b.clippingPlanes,T.clipIntersection=b.clipIntersection,T.displacementMap=b.displacementMap,T.displacementScale=b.displacementScale,T.displacementBias=b.displacementBias,T.wireframeLinewidth=b.wireframeLinewidth,T.linewidth=b.linewidth,C.isPointLight===!0&&T.isMeshDistanceMaterial===!0){const k=n.properties.get(T);k.light=C}return T}function M(E,b,C,R,T){if(E.visible===!1)return;if(E.layers.test(b.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&T===Po)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,E.matrixWorld);const N=e.update(E),j=E.material;if(Array.isArray(j)){const Y=N.groups;for(let Q=0,W=Y.length;Q<W;Q++){const V=Y[Q],D=j[V.materialIndex];if(D&&D.visible){const G=S(E,D,R,T);n.renderBufferDirect(C,null,N,G,E,V)}}}else if(j.visible){const Y=S(E,j,R,T);n.renderBufferDirect(C,null,N,Y,E,null)}}const k=E.children;for(let N=0,j=k.length;N<j;N++)M(k[N],b,C,R,T)}}function F7(n,e,t){const r=t.isWebGL2;function i(){let se=!1;const pe=new Sn;let be=null;const $e=new Sn(0,0,0,0);return{setMask:function(ze){be!==ze&&!se&&(n.colorMask(ze,ze,ze,ze),be=ze)},setLocked:function(ze){se=ze},setClear:function(ze,st,gt,Et,kt){kt===!0&&(ze*=Et,st*=Et,gt*=Et),pe.set(ze,st,gt,Et),$e.equals(pe)===!1&&(n.clearColor(ze,st,gt,Et),$e.copy(pe))},reset:function(){se=!1,be=null,$e.set(-1,0,0,0)}}}function s(){let se=!1,pe=null,be=null,$e=null;return{setTest:function(ze){ze?ue(n.DEPTH_TEST):me(n.DEPTH_TEST)},setMask:function(ze){pe!==ze&&!se&&(n.depthMask(ze),pe=ze)},setFunc:function(ze){if(be!==ze){switch(ze){case zF:n.depthFunc(n.NEVER);break;case GF:n.depthFunc(n.ALWAYS);break;case HF:n.depthFunc(n.LESS);break;case $y:n.depthFunc(n.LEQUAL);break;case VF:n.depthFunc(n.EQUAL);break;case WF:n.depthFunc(n.GEQUAL);break;case jF:n.depthFunc(n.GREATER);break;case XF:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}be=ze}},setLocked:function(ze){se=ze},setClear:function(ze){$e!==ze&&(n.clearDepth(ze),$e=ze)},reset:function(){se=!1,pe=null,be=null,$e=null}}}function o(){let se=!1,pe=null,be=null,$e=null,ze=null,st=null,gt=null,Et=null,kt=null;return{setTest:function(zt){se||(zt?ue(n.STENCIL_TEST):me(n.STENCIL_TEST))},setMask:function(zt){pe!==zt&&!se&&(n.stencilMask(zt),pe=zt)},setFunc:function(zt,Rt,Ft){(be!==zt||$e!==Rt||ze!==Ft)&&(n.stencilFunc(zt,Rt,Ft),be=zt,$e=Rt,ze=Ft)},setOp:function(zt,Rt,Ft){(st!==zt||gt!==Rt||Et!==Ft)&&(n.stencilOp(zt,Rt,Ft),st=zt,gt=Rt,Et=Ft)},setLocked:function(zt){se=zt},setClear:function(zt){kt!==zt&&(n.clearStencil(zt),kt=zt)},reset:function(){se=!1,pe=null,be=null,$e=null,ze=null,st=null,gt=null,Et=null,kt=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let h={},m={},v=new WeakMap,y=[],_=null,g=!1,x=null,S=null,M=null,E=null,b=null,C=null,R=null,T=!1,B=null,k=null,N=null,j=null,Y=null;const Q=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,V=0;const D=n.getParameter(n.VERSION);D.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(D)[1]),W=V>=1):D.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),W=V>=2);let G=null,H={};const O=n.getParameter(n.SCISSOR_BOX),X=n.getParameter(n.VIEWPORT),ie=new Sn().fromArray(O),ae=new Sn().fromArray(X);function oe(se,pe,be,$e){const ze=new Uint8Array(4),st=n.createTexture();n.bindTexture(se,st),n.texParameteri(se,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(se,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let gt=0;gt<be;gt++)r&&(se===n.TEXTURE_3D||se===n.TEXTURE_2D_ARRAY)?n.texImage3D(pe,0,n.RGBA,1,1,$e,0,n.RGBA,n.UNSIGNED_BYTE,ze):n.texImage2D(pe+gt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,ze);return st}const fe={};fe[n.TEXTURE_2D]=oe(n.TEXTURE_2D,n.TEXTURE_2D,1),fe[n.TEXTURE_CUBE_MAP]=oe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(fe[n.TEXTURE_2D_ARRAY]=oe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),fe[n.TEXTURE_3D]=oe(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ue(n.DEPTH_TEST),l.setFunc($y),Ae(!1),Ye(JM),ue(n.CULL_FACE),_e(Ya);function ue(se){h[se]!==!0&&(n.enable(se),h[se]=!0)}function me(se){h[se]!==!1&&(n.disable(se),h[se]=!1)}function Ne(se,pe){return m[se]!==pe?(n.bindFramebuffer(se,pe),m[se]=pe,r&&(se===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=pe),se===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=pe)),!0):!1}function Xe(se,pe){let be=y,$e=!1;if(se)if(be=v.get(pe),be===void 0&&(be=[],v.set(pe,be)),se.isWebGLMultipleRenderTargets){const ze=se.texture;if(be.length!==ze.length||be[0]!==n.COLOR_ATTACHMENT0){for(let st=0,gt=ze.length;st<gt;st++)be[st]=n.COLOR_ATTACHMENT0+st;be.length=ze.length,$e=!0}}else be[0]!==n.COLOR_ATTACHMENT0&&(be[0]=n.COLOR_ATTACHMENT0,$e=!0);else be[0]!==n.BACK&&(be[0]=n.BACK,$e=!0);$e&&(t.isWebGL2?n.drawBuffers(be):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(be))}function ye(se){return _!==se?(n.useProgram(se),_=se,!0):!1}const $={[nu]:n.FUNC_ADD,[RF]:n.FUNC_SUBTRACT,[PF]:n.FUNC_REVERSE_SUBTRACT};if(r)$[QM]=n.MIN,$[ZM]=n.MAX;else{const se=e.get("EXT_blend_minmax");se!==null&&($[QM]=se.MIN_EXT,$[ZM]=se.MAX_EXT)}const we={[IF]:n.ZERO,[BF]:n.ONE,[LF]:n.SRC_COLOR,[Xb]:n.SRC_ALPHA,[NF]:n.SRC_ALPHA_SATURATE,[UF]:n.DST_COLOR,[OF]:n.DST_ALPHA,[DF]:n.ONE_MINUS_SRC_COLOR,[Jb]:n.ONE_MINUS_SRC_ALPHA,[kF]:n.ONE_MINUS_DST_COLOR,[FF]:n.ONE_MINUS_DST_ALPHA};function _e(se,pe,be,$e,ze,st,gt,Et){if(se===Ya){g===!0&&(me(n.BLEND),g=!1);return}if(g===!1&&(ue(n.BLEND),g=!0),se!==TF){if(se!==x||Et!==T){if((S!==nu||b!==nu)&&(n.blendEquation(n.FUNC_ADD),S=nu,b=nu),Et)switch(se){case _u:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case YM:n.blendFunc(n.ONE,n.ONE);break;case KM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case $M:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}else switch(se){case _u:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case YM:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case KM:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case $M:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}M=null,E=null,C=null,R=null,x=se,T=Et}return}ze=ze||pe,st=st||be,gt=gt||$e,(pe!==S||ze!==b)&&(n.blendEquationSeparate($[pe],$[ze]),S=pe,b=ze),(be!==M||$e!==E||st!==C||gt!==R)&&(n.blendFuncSeparate(we[be],we[$e],we[st],we[gt]),M=be,E=$e,C=st,R=gt),x=se,T=!1}function Ee(se,pe){se.side===Di?me(n.CULL_FACE):ue(n.CULL_FACE);let be=se.side===yi;pe&&(be=!be),Ae(be),se.blending===_u&&se.transparent===!1?_e(Ya):_e(se.blending,se.blendEquation,se.blendSrc,se.blendDst,se.blendEquationAlpha,se.blendSrcAlpha,se.blendDstAlpha,se.premultipliedAlpha),l.setFunc(se.depthFunc),l.setTest(se.depthTest),l.setMask(se.depthWrite),a.setMask(se.colorWrite);const $e=se.stencilWrite;c.setTest($e),$e&&(c.setMask(se.stencilWriteMask),c.setFunc(se.stencilFunc,se.stencilRef,se.stencilFuncMask),c.setOp(se.stencilFail,se.stencilZFail,se.stencilZPass)),Re(se.polygonOffset,se.polygonOffsetFactor,se.polygonOffsetUnits),se.alphaToCoverage===!0?ue(n.SAMPLE_ALPHA_TO_COVERAGE):me(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ae(se){B!==se&&(se?n.frontFace(n.CW):n.frontFace(n.CCW),B=se)}function Ye(se){se!==EF?(ue(n.CULL_FACE),se!==k&&(se===JM?n.cullFace(n.BACK):se===bF?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):me(n.CULL_FACE),k=se}function de(se){se!==N&&(W&&n.lineWidth(se),N=se)}function Re(se,pe,be){se?(ue(n.POLYGON_OFFSET_FILL),(j!==pe||Y!==be)&&(n.polygonOffset(pe,be),j=pe,Y=be)):me(n.POLYGON_OFFSET_FILL)}function Te(se){se?ue(n.SCISSOR_TEST):me(n.SCISSOR_TEST)}function xe(se){se===void 0&&(se=n.TEXTURE0+Q-1),G!==se&&(n.activeTexture(se),G=se)}function Qe(se,pe,be){be===void 0&&(G===null?be=n.TEXTURE0+Q-1:be=G);let $e=H[be];$e===void 0&&($e={type:void 0,texture:void 0},H[be]=$e),($e.type!==se||$e.texture!==pe)&&(G!==be&&(n.activeTexture(be),G=be),n.bindTexture(se,pe||fe[se]),$e.type=se,$e.texture=pe)}function K(){const se=H[G];se!==void 0&&se.type!==void 0&&(n.bindTexture(se.type,null),se.type=void 0,se.texture=void 0)}function z(){try{n.compressedTexImage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ve(){try{n.texSubImage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function De(){try{n.texSubImage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Be(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ke(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function We(){try{n.texStorage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ve(){try{n.texStorage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ne(){try{n.texImage2D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Se(){try{n.texImage3D.apply(n,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Ce(se){ie.equals(se)===!1&&(n.scissor(se.x,se.y,se.z,se.w),ie.copy(se))}function Ie(se){ae.equals(se)===!1&&(n.viewport(se.x,se.y,se.z,se.w),ae.copy(se))}function Ge(se,pe){let be=f.get(pe);be===void 0&&(be=new WeakMap,f.set(pe,be));let $e=be.get(se);$e===void 0&&($e=n.getUniformBlockIndex(pe,se.name),be.set(se,$e))}function Ze(se,pe){const $e=f.get(pe).get(se);u.get(pe)!==$e&&(n.uniformBlockBinding(pe,$e,se.__bindingPointIndex),u.set(pe,$e))}function tt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},G=null,H={},m={},v=new WeakMap,y=[],_=null,g=!1,x=null,S=null,M=null,E=null,b=null,C=null,R=null,T=!1,B=null,k=null,N=null,j=null,Y=null,ie.set(0,0,n.canvas.width,n.canvas.height),ae.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ue,disable:me,bindFramebuffer:Ne,drawBuffers:Xe,useProgram:ye,setBlending:_e,setMaterial:Ee,setFlipSided:Ae,setCullFace:Ye,setLineWidth:de,setPolygonOffset:Re,setScissorTest:Te,activeTexture:xe,bindTexture:Qe,unbindTexture:K,compressedTexImage2D:z,compressedTexImage3D:ce,texImage2D:ne,texImage3D:Se,updateUBOMapping:Ge,uniformBlockBinding:Ze,texStorage2D:We,texStorage3D:ve,texSubImage2D:Ve,texSubImage3D:De,compressedTexSubImage2D:Be,compressedTexSubImage3D:Ke,scissor:Ce,viewport:Ie,reset:tt}}function U7(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const _=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(K,z){return g?new OffscreenCanvas(K,z):wm("canvas")}function S(K,z,ce,Ve){let De=1;if((K.width>Ve||K.height>Ve)&&(De=Ve/Math.max(K.width,K.height)),De<1||z===!0)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap){const Be=z?qy:Math.floor,Ke=Be(De*K.width),We=Be(De*K.height);y===void 0&&(y=x(Ke,We));const ve=ce?x(Ke,We):y;return ve.width=Ke,ve.height=We,ve.getContext("2d").drawImage(K,0,0,Ke,We),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+K.width+"x"+K.height+") to ("+Ke+"x"+We+")."),ve}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+K.width+"x"+K.height+")."),K;return K}function M(K){return Mw(K.width)&&Mw(K.height)}function E(K){return a?!1:K.wrapS!==ri||K.wrapT!==ri||K.minFilter!==cr&&K.minFilter!==bn}function b(K,z){return K.generateMipmaps&&z&&K.minFilter!==cr&&K.minFilter!==bn}function C(K){n.generateMipmap(K)}function R(K,z,ce,Ve,De=!1){if(a===!1)return z;if(K!==null){if(n[K]!==void 0)return n[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let Be=z;return z===n.RED&&(ce===n.FLOAT&&(Be=n.R32F),ce===n.HALF_FLOAT&&(Be=n.R16F),ce===n.UNSIGNED_BYTE&&(Be=n.R8)),z===n.RED_INTEGER&&(ce===n.UNSIGNED_BYTE&&(Be=n.R8UI),ce===n.UNSIGNED_SHORT&&(Be=n.R16UI),ce===n.UNSIGNED_INT&&(Be=n.R32UI),ce===n.BYTE&&(Be=n.R8I),ce===n.SHORT&&(Be=n.R16I),ce===n.INT&&(Be=n.R32I)),z===n.RG&&(ce===n.FLOAT&&(Be=n.RG32F),ce===n.HALF_FLOAT&&(Be=n.RG16F),ce===n.UNSIGNED_BYTE&&(Be=n.RG8)),z===n.RGBA&&(ce===n.FLOAT&&(Be=n.RGBA32F),ce===n.HALF_FLOAT&&(Be=n.RGBA16F),ce===n.UNSIGNED_BYTE&&(Be=Ve===$t&&De===!1?n.SRGB8_ALPHA8:n.RGBA8),ce===n.UNSIGNED_SHORT_4_4_4_4&&(Be=n.RGBA4),ce===n.UNSIGNED_SHORT_5_5_5_1&&(Be=n.RGB5_A1)),(Be===n.R16F||Be===n.R32F||Be===n.RG16F||Be===n.RG32F||Be===n.RGBA16F||Be===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Be}function T(K,z,ce){return b(K,ce)===!0||K.isFramebufferTexture&&K.minFilter!==cr&&K.minFilter!==bn?Math.log2(Math.max(z.width,z.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?z.mipmaps.length:1}function B(K){return K===cr||K===xm||K===Td?n.NEAREST:n.LINEAR}function k(K){const z=K.target;z.removeEventListener("dispose",k),j(z),z.isVideoTexture&&v.delete(z)}function N(K){const z=K.target;z.removeEventListener("dispose",N),Q(z)}function j(K){const z=r.get(K);if(z.__webglInit===void 0)return;const ce=K.source,Ve=_.get(ce);if(Ve){const De=Ve[z.__cacheKey];De.usedTimes--,De.usedTimes===0&&Y(K),Object.keys(Ve).length===0&&_.delete(ce)}r.remove(K)}function Y(K){const z=r.get(K);n.deleteTexture(z.__webglTexture);const ce=K.source,Ve=_.get(ce);delete Ve[z.__cacheKey],o.memory.textures--}function Q(K){const z=K.texture,ce=r.get(K),Ve=r.get(z);if(Ve.__webglTexture!==void 0&&(n.deleteTexture(Ve.__webglTexture),o.memory.textures--),K.depthTexture&&K.depthTexture.dispose(),K.isWebGLCubeRenderTarget)for(let De=0;De<6;De++){if(Array.isArray(ce.__webglFramebuffer[De]))for(let Be=0;Be<ce.__webglFramebuffer[De].length;Be++)n.deleteFramebuffer(ce.__webglFramebuffer[De][Be]);else n.deleteFramebuffer(ce.__webglFramebuffer[De]);ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer[De])}else{if(Array.isArray(ce.__webglFramebuffer))for(let De=0;De<ce.__webglFramebuffer.length;De++)n.deleteFramebuffer(ce.__webglFramebuffer[De]);else n.deleteFramebuffer(ce.__webglFramebuffer);if(ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer),ce.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ce.__webglMultisampledFramebuffer),ce.__webglColorRenderbuffer)for(let De=0;De<ce.__webglColorRenderbuffer.length;De++)ce.__webglColorRenderbuffer[De]&&n.deleteRenderbuffer(ce.__webglColorRenderbuffer[De]);ce.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ce.__webglDepthRenderbuffer)}if(K.isWebGLMultipleRenderTargets)for(let De=0,Be=z.length;De<Be;De++){const Ke=r.get(z[De]);Ke.__webglTexture&&(n.deleteTexture(Ke.__webglTexture),o.memory.textures--),r.remove(z[De])}r.remove(z),r.remove(K)}let W=0;function V(){W=0}function D(){const K=W;return K>=l&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+l),W+=1,K}function G(K){const z=[];return z.push(K.wrapS),z.push(K.wrapT),z.push(K.wrapR||0),z.push(K.magFilter),z.push(K.minFilter),z.push(K.anisotropy),z.push(K.internalFormat),z.push(K.format),z.push(K.type),z.push(K.generateMipmaps),z.push(K.premultiplyAlpha),z.push(K.flipY),z.push(K.unpackAlignment),z.push(K.colorSpace),z.join()}function H(K,z){const ce=r.get(K);if(K.isVideoTexture&&xe(K),K.isRenderTargetTexture===!1&&K.version>0&&ce.__version!==K.version){const Ve=K.image;if(Ve===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ve.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ne(ce,K,z);return}}t.bindTexture(n.TEXTURE_2D,ce.__webglTexture,n.TEXTURE0+z)}function O(K,z){const ce=r.get(K);if(K.version>0&&ce.__version!==K.version){Ne(ce,K,z);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ce.__webglTexture,n.TEXTURE0+z)}function X(K,z){const ce=r.get(K);if(K.version>0&&ce.__version!==K.version){Ne(ce,K,z);return}t.bindTexture(n.TEXTURE_3D,ce.__webglTexture,n.TEXTURE0+z)}function ie(K,z){const ce=r.get(K);if(K.version>0&&ce.__version!==K.version){Xe(ce,K,z);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+z)}const ae={[lc]:n.REPEAT,[ri]:n.CLAMP_TO_EDGE,[Xd]:n.MIRRORED_REPEAT},oe={[cr]:n.NEAREST,[xm]:n.NEAREST_MIPMAP_NEAREST,[Td]:n.NEAREST_MIPMAP_LINEAR,[bn]:n.LINEAR,[Y_]:n.LINEAR_MIPMAP_NEAREST,[va]:n.LINEAR_MIPMAP_LINEAR},fe={[pU]:n.NEVER,[SU]:n.ALWAYS,[mU]:n.LESS,[vU]:n.LEQUAL,[gU]:n.EQUAL,[xU]:n.GEQUAL,[yU]:n.GREATER,[_U]:n.NOTEQUAL};function ue(K,z,ce){if(ce?(n.texParameteri(K,n.TEXTURE_WRAP_S,ae[z.wrapS]),n.texParameteri(K,n.TEXTURE_WRAP_T,ae[z.wrapT]),(K===n.TEXTURE_3D||K===n.TEXTURE_2D_ARRAY)&&n.texParameteri(K,n.TEXTURE_WRAP_R,ae[z.wrapR]),n.texParameteri(K,n.TEXTURE_MAG_FILTER,oe[z.magFilter]),n.texParameteri(K,n.TEXTURE_MIN_FILTER,oe[z.minFilter])):(n.texParameteri(K,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(K,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(K===n.TEXTURE_3D||K===n.TEXTURE_2D_ARRAY)&&n.texParameteri(K,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(z.wrapS!==ri||z.wrapT!==ri)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(K,n.TEXTURE_MAG_FILTER,B(z.magFilter)),n.texParameteri(K,n.TEXTURE_MIN_FILTER,B(z.minFilter)),z.minFilter!==cr&&z.minFilter!==bn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),z.compareFunction&&(n.texParameteri(K,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(K,n.TEXTURE_COMPARE_FUNC,fe[z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ve=e.get("EXT_texture_filter_anisotropic");if(z.magFilter===cr||z.minFilter!==Td&&z.minFilter!==va||z.type===vi&&e.has("OES_texture_float_linear")===!1||a===!1&&z.type===Fi&&e.has("OES_texture_half_float_linear")===!1)return;(z.anisotropy>1||r.get(z).__currentAnisotropy)&&(n.texParameterf(K,Ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,i.getMaxAnisotropy())),r.get(z).__currentAnisotropy=z.anisotropy)}}function me(K,z){let ce=!1;K.__webglInit===void 0&&(K.__webglInit=!0,z.addEventListener("dispose",k));const Ve=z.source;let De=_.get(Ve);De===void 0&&(De={},_.set(Ve,De));const Be=G(z);if(Be!==K.__cacheKey){De[Be]===void 0&&(De[Be]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ce=!0),De[Be].usedTimes++;const Ke=De[K.__cacheKey];Ke!==void 0&&(De[K.__cacheKey].usedTimes--,Ke.usedTimes===0&&Y(z)),K.__cacheKey=Be,K.__webglTexture=De[Be].texture}return ce}function Ne(K,z,ce){let Ve=n.TEXTURE_2D;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(Ve=n.TEXTURE_2D_ARRAY),z.isData3DTexture&&(Ve=n.TEXTURE_3D);const De=me(K,z),Be=z.source;t.bindTexture(Ve,K.__webglTexture,n.TEXTURE0+ce);const Ke=r.get(Be);if(Be.version!==Ke.__version||De===!0){t.activeTexture(n.TEXTURE0+ce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const We=E(z)&&M(z.image)===!1;let ve=S(z.image,We,!1,u);ve=Qe(z,ve);const ne=M(ve)||a,Se=s.convert(z.format,z.colorSpace);let Ce=s.convert(z.type),Ie=R(z.internalFormat,Se,Ce,z.colorSpace);ue(Ve,z,ne);let Ge;const Ze=z.mipmaps,tt=a&&z.isVideoTexture!==!0,se=Ke.__version===void 0||De===!0,pe=T(z,ve,ne);if(z.isDepthTexture)Ie=n.DEPTH_COMPONENT,a?z.type===vi?Ie=n.DEPTH_COMPONENT32F:z.type===ja?Ie=n.DEPTH_COMPONENT24:z.type===Zl?Ie=n.DEPTH24_STENCIL8:Ie=n.DEPTH_COMPONENT16:z.type===vi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),z.format===ql&&Ie===n.DEPTH_COMPONENT&&z.type!==K_&&z.type!==ja&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),z.type=ja,Ce=s.convert(z.type)),z.format===Fu&&Ie===n.DEPTH_COMPONENT&&(Ie=n.DEPTH_STENCIL,z.type!==Zl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),z.type=Zl,Ce=s.convert(z.type))),se&&(tt?t.texStorage2D(n.TEXTURE_2D,1,Ie,ve.width,ve.height):t.texImage2D(n.TEXTURE_2D,0,Ie,ve.width,ve.height,0,Se,Ce,null));else if(z.isDataTexture)if(Ze.length>0&&ne){tt&&se&&t.texStorage2D(n.TEXTURE_2D,pe,Ie,Ze[0].width,Ze[0].height);for(let be=0,$e=Ze.length;be<$e;be++)Ge=Ze[be],tt?t.texSubImage2D(n.TEXTURE_2D,be,0,0,Ge.width,Ge.height,Se,Ce,Ge.data):t.texImage2D(n.TEXTURE_2D,be,Ie,Ge.width,Ge.height,0,Se,Ce,Ge.data);z.generateMipmaps=!1}else tt?(se&&t.texStorage2D(n.TEXTURE_2D,pe,Ie,ve.width,ve.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ve.width,ve.height,Se,Ce,ve.data)):t.texImage2D(n.TEXTURE_2D,0,Ie,ve.width,ve.height,0,Se,Ce,ve.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){tt&&se&&t.texStorage3D(n.TEXTURE_2D_ARRAY,pe,Ie,Ze[0].width,Ze[0].height,ve.depth);for(let be=0,$e=Ze.length;be<$e;be++)Ge=Ze[be],z.format!==Oi?Se!==null?tt?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,be,0,0,0,Ge.width,Ge.height,ve.depth,Se,Ge.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,be,Ie,Ge.width,Ge.height,ve.depth,0,Ge.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):tt?t.texSubImage3D(n.TEXTURE_2D_ARRAY,be,0,0,0,Ge.width,Ge.height,ve.depth,Se,Ce,Ge.data):t.texImage3D(n.TEXTURE_2D_ARRAY,be,Ie,Ge.width,Ge.height,ve.depth,0,Se,Ce,Ge.data)}else{tt&&se&&t.texStorage2D(n.TEXTURE_2D,pe,Ie,Ze[0].width,Ze[0].height);for(let be=0,$e=Ze.length;be<$e;be++)Ge=Ze[be],z.format!==Oi?Se!==null?tt?t.compressedTexSubImage2D(n.TEXTURE_2D,be,0,0,Ge.width,Ge.height,Se,Ge.data):t.compressedTexImage2D(n.TEXTURE_2D,be,Ie,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):tt?t.texSubImage2D(n.TEXTURE_2D,be,0,0,Ge.width,Ge.height,Se,Ce,Ge.data):t.texImage2D(n.TEXTURE_2D,be,Ie,Ge.width,Ge.height,0,Se,Ce,Ge.data)}else if(z.isDataArrayTexture)tt?(se&&t.texStorage3D(n.TEXTURE_2D_ARRAY,pe,Ie,ve.width,ve.height,ve.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ve.width,ve.height,ve.depth,Se,Ce,ve.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ie,ve.width,ve.height,ve.depth,0,Se,Ce,ve.data);else if(z.isData3DTexture)tt?(se&&t.texStorage3D(n.TEXTURE_3D,pe,Ie,ve.width,ve.height,ve.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ve.width,ve.height,ve.depth,Se,Ce,ve.data)):t.texImage3D(n.TEXTURE_3D,0,Ie,ve.width,ve.height,ve.depth,0,Se,Ce,ve.data);else if(z.isFramebufferTexture){if(se)if(tt)t.texStorage2D(n.TEXTURE_2D,pe,Ie,ve.width,ve.height);else{let be=ve.width,$e=ve.height;for(let ze=0;ze<pe;ze++)t.texImage2D(n.TEXTURE_2D,ze,Ie,be,$e,0,Se,Ce,null),be>>=1,$e>>=1}}else if(Ze.length>0&&ne){tt&&se&&t.texStorage2D(n.TEXTURE_2D,pe,Ie,Ze[0].width,Ze[0].height);for(let be=0,$e=Ze.length;be<$e;be++)Ge=Ze[be],tt?t.texSubImage2D(n.TEXTURE_2D,be,0,0,Se,Ce,Ge):t.texImage2D(n.TEXTURE_2D,be,Ie,Se,Ce,Ge);z.generateMipmaps=!1}else tt?(se&&t.texStorage2D(n.TEXTURE_2D,pe,Ie,ve.width,ve.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Se,Ce,ve)):t.texImage2D(n.TEXTURE_2D,0,Ie,Se,Ce,ve);b(z,ne)&&C(Ve),Ke.__version=Be.version,z.onUpdate&&z.onUpdate(z)}K.__version=z.version}function Xe(K,z,ce){if(z.image.length!==6)return;const Ve=me(K,z),De=z.source;t.bindTexture(n.TEXTURE_CUBE_MAP,K.__webglTexture,n.TEXTURE0+ce);const Be=r.get(De);if(De.version!==Be.__version||Ve===!0){t.activeTexture(n.TEXTURE0+ce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Ke=z.isCompressedTexture||z.image[0].isCompressedTexture,We=z.image[0]&&z.image[0].isDataTexture,ve=[];for(let be=0;be<6;be++)!Ke&&!We?ve[be]=S(z.image[be],!1,!0,c):ve[be]=We?z.image[be].image:z.image[be],ve[be]=Qe(z,ve[be]);const ne=ve[0],Se=M(ne)||a,Ce=s.convert(z.format,z.colorSpace),Ie=s.convert(z.type),Ge=R(z.internalFormat,Ce,Ie,z.colorSpace),Ze=a&&z.isVideoTexture!==!0,tt=Be.__version===void 0||Ve===!0;let se=T(z,ne,Se);ue(n.TEXTURE_CUBE_MAP,z,Se);let pe;if(Ke){Ze&&tt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,se,Ge,ne.width,ne.height);for(let be=0;be<6;be++){pe=ve[be].mipmaps;for(let $e=0;$e<pe.length;$e++){const ze=pe[$e];z.format!==Oi?Ce!==null?Ze?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,$e,0,0,ze.width,ze.height,Ce,ze.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,$e,Ge,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,$e,0,0,ze.width,ze.height,Ce,Ie,ze.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,$e,Ge,ze.width,ze.height,0,Ce,Ie,ze.data)}}}else{pe=z.mipmaps,Ze&&tt&&(pe.length>0&&se++,t.texStorage2D(n.TEXTURE_CUBE_MAP,se,Ge,ve[0].width,ve[0].height));for(let be=0;be<6;be++)if(We){Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,ve[be].width,ve[be].height,Ce,Ie,ve[be].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,Ge,ve[be].width,ve[be].height,0,Ce,Ie,ve[be].data);for(let $e=0;$e<pe.length;$e++){const st=pe[$e].image[be].image;Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,$e+1,0,0,st.width,st.height,Ce,Ie,st.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,$e+1,Ge,st.width,st.height,0,Ce,Ie,st.data)}}else{Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,Ce,Ie,ve[be]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,Ge,Ce,Ie,ve[be]);for(let $e=0;$e<pe.length;$e++){const ze=pe[$e];Ze?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,$e+1,0,0,Ce,Ie,ze.image[be]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+be,$e+1,Ge,Ce,Ie,ze.image[be])}}}b(z,Se)&&C(n.TEXTURE_CUBE_MAP),Be.__version=De.version,z.onUpdate&&z.onUpdate(z)}K.__version=z.version}function ye(K,z,ce,Ve,De,Be){const Ke=s.convert(ce.format,ce.colorSpace),We=s.convert(ce.type),ve=R(ce.internalFormat,Ke,We,ce.colorSpace);if(!r.get(z).__hasExternalTextures){const Se=Math.max(1,z.width>>Be),Ce=Math.max(1,z.height>>Be);De===n.TEXTURE_3D||De===n.TEXTURE_2D_ARRAY?t.texImage3D(De,Be,ve,Se,Ce,z.depth,0,Ke,We,null):t.texImage2D(De,Be,ve,Se,Ce,0,Ke,We,null)}t.bindFramebuffer(n.FRAMEBUFFER,K),Te(z)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ve,De,r.get(ce).__webglTexture,0,Re(z)):(De===n.TEXTURE_2D||De>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&De<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ve,De,r.get(ce).__webglTexture,Be),t.bindFramebuffer(n.FRAMEBUFFER,null)}function $(K,z,ce){if(n.bindRenderbuffer(n.RENDERBUFFER,K),z.depthBuffer&&!z.stencilBuffer){let Ve=n.DEPTH_COMPONENT16;if(ce||Te(z)){const De=z.depthTexture;De&&De.isDepthTexture&&(De.type===vi?Ve=n.DEPTH_COMPONENT32F:De.type===ja&&(Ve=n.DEPTH_COMPONENT24));const Be=Re(z);Te(z)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Be,Ve,z.width,z.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Be,Ve,z.width,z.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ve,z.width,z.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,K)}else if(z.depthBuffer&&z.stencilBuffer){const Ve=Re(z);ce&&Te(z)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ve,n.DEPTH24_STENCIL8,z.width,z.height):Te(z)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ve,n.DEPTH24_STENCIL8,z.width,z.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,z.width,z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,K)}else{const Ve=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let De=0;De<Ve.length;De++){const Be=Ve[De],Ke=s.convert(Be.format,Be.colorSpace),We=s.convert(Be.type),ve=R(Be.internalFormat,Ke,We,Be.colorSpace),ne=Re(z);ce&&Te(z)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ne,ve,z.width,z.height):Te(z)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ne,ve,z.width,z.height):n.renderbufferStorage(n.RENDERBUFFER,ve,z.width,z.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function we(K,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,K),!(z.depthTexture&&z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(z.depthTexture).__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),H(z.depthTexture,0);const Ve=r.get(z.depthTexture).__webglTexture,De=Re(z);if(z.depthTexture.format===ql)Te(z)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ve,0,De):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ve,0);else if(z.depthTexture.format===Fu)Te(z)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ve,0,De):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ve,0);else throw new Error("Unknown depthTexture format")}function _e(K){const z=r.get(K),ce=K.isWebGLCubeRenderTarget===!0;if(K.depthTexture&&!z.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");we(z.__webglFramebuffer,K)}else if(ce){z.__webglDepthbuffer=[];for(let Ve=0;Ve<6;Ve++)t.bindFramebuffer(n.FRAMEBUFFER,z.__webglFramebuffer[Ve]),z.__webglDepthbuffer[Ve]=n.createRenderbuffer(),$(z.__webglDepthbuffer[Ve],K,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,z.__webglFramebuffer),z.__webglDepthbuffer=n.createRenderbuffer(),$(z.__webglDepthbuffer,K,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ee(K,z,ce){const Ve=r.get(K);z!==void 0&&ye(Ve.__webglFramebuffer,K,K.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ce!==void 0&&_e(K)}function Ae(K){const z=K.texture,ce=r.get(K),Ve=r.get(z);K.addEventListener("dispose",N),K.isWebGLMultipleRenderTargets!==!0&&(Ve.__webglTexture===void 0&&(Ve.__webglTexture=n.createTexture()),Ve.__version=z.version,o.memory.textures++);const De=K.isWebGLCubeRenderTarget===!0,Be=K.isWebGLMultipleRenderTargets===!0,Ke=M(K)||a;if(De){ce.__webglFramebuffer=[];for(let We=0;We<6;We++)if(a&&z.mipmaps&&z.mipmaps.length>0){ce.__webglFramebuffer[We]=[];for(let ve=0;ve<z.mipmaps.length;ve++)ce.__webglFramebuffer[We][ve]=n.createFramebuffer()}else ce.__webglFramebuffer[We]=n.createFramebuffer()}else{if(a&&z.mipmaps&&z.mipmaps.length>0){ce.__webglFramebuffer=[];for(let We=0;We<z.mipmaps.length;We++)ce.__webglFramebuffer[We]=n.createFramebuffer()}else ce.__webglFramebuffer=n.createFramebuffer();if(Be)if(i.drawBuffers){const We=K.texture;for(let ve=0,ne=We.length;ve<ne;ve++){const Se=r.get(We[ve]);Se.__webglTexture===void 0&&(Se.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&K.samples>0&&Te(K)===!1){const We=Be?z:[z];ce.__webglMultisampledFramebuffer=n.createFramebuffer(),ce.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let ve=0;ve<We.length;ve++){const ne=We[ve];ce.__webglColorRenderbuffer[ve]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ce.__webglColorRenderbuffer[ve]);const Se=s.convert(ne.format,ne.colorSpace),Ce=s.convert(ne.type),Ie=R(ne.internalFormat,Se,Ce,ne.colorSpace,K.isXRRenderTarget===!0),Ge=Re(K);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ge,Ie,K.width,K.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ve,n.RENDERBUFFER,ce.__webglColorRenderbuffer[ve])}n.bindRenderbuffer(n.RENDERBUFFER,null),K.depthBuffer&&(ce.__webglDepthRenderbuffer=n.createRenderbuffer(),$(ce.__webglDepthRenderbuffer,K,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(De){t.bindTexture(n.TEXTURE_CUBE_MAP,Ve.__webglTexture),ue(n.TEXTURE_CUBE_MAP,z,Ke);for(let We=0;We<6;We++)if(a&&z.mipmaps&&z.mipmaps.length>0)for(let ve=0;ve<z.mipmaps.length;ve++)ye(ce.__webglFramebuffer[We][ve],K,z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+We,ve);else ye(ce.__webglFramebuffer[We],K,z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+We,0);b(z,Ke)&&C(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Be){const We=K.texture;for(let ve=0,ne=We.length;ve<ne;ve++){const Se=We[ve],Ce=r.get(Se);t.bindTexture(n.TEXTURE_2D,Ce.__webglTexture),ue(n.TEXTURE_2D,Se,Ke),ye(ce.__webglFramebuffer,K,Se,n.COLOR_ATTACHMENT0+ve,n.TEXTURE_2D,0),b(Se,Ke)&&C(n.TEXTURE_2D)}t.unbindTexture()}else{let We=n.TEXTURE_2D;if((K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(a?We=K.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(We,Ve.__webglTexture),ue(We,z,Ke),a&&z.mipmaps&&z.mipmaps.length>0)for(let ve=0;ve<z.mipmaps.length;ve++)ye(ce.__webglFramebuffer[ve],K,z,n.COLOR_ATTACHMENT0,We,ve);else ye(ce.__webglFramebuffer,K,z,n.COLOR_ATTACHMENT0,We,0);b(z,Ke)&&C(We),t.unbindTexture()}K.depthBuffer&&_e(K)}function Ye(K){const z=M(K)||a,ce=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let Ve=0,De=ce.length;Ve<De;Ve++){const Be=ce[Ve];if(b(Be,z)){const Ke=K.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,We=r.get(Be).__webglTexture;t.bindTexture(Ke,We),C(Ke),t.unbindTexture()}}}function de(K){if(a&&K.samples>0&&Te(K)===!1){const z=K.isWebGLMultipleRenderTargets?K.texture:[K.texture],ce=K.width,Ve=K.height;let De=n.COLOR_BUFFER_BIT;const Be=[],Ke=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,We=r.get(K),ve=K.isWebGLMultipleRenderTargets===!0;if(ve)for(let ne=0;ne<z.length;ne++)t.bindFramebuffer(n.FRAMEBUFFER,We.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ne,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,We.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ne,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,We.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,We.__webglFramebuffer);for(let ne=0;ne<z.length;ne++){Be.push(n.COLOR_ATTACHMENT0+ne),K.depthBuffer&&Be.push(Ke);const Se=We.__ignoreDepthValues!==void 0?We.__ignoreDepthValues:!1;if(Se===!1&&(K.depthBuffer&&(De|=n.DEPTH_BUFFER_BIT),K.stencilBuffer&&(De|=n.STENCIL_BUFFER_BIT)),ve&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,We.__webglColorRenderbuffer[ne]),Se===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Ke]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Ke])),ve){const Ce=r.get(z[ne]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Ce,0)}n.blitFramebuffer(0,0,ce,Ve,0,0,ce,Ve,De,n.NEAREST),m&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Be)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ve)for(let ne=0;ne<z.length;ne++){t.bindFramebuffer(n.FRAMEBUFFER,We.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ne,n.RENDERBUFFER,We.__webglColorRenderbuffer[ne]);const Se=r.get(z[ne]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,We.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ne,n.TEXTURE_2D,Se,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,We.__webglMultisampledFramebuffer)}}function Re(K){return Math.min(f,K.samples)}function Te(K){const z=r.get(K);return a&&K.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&z.__useRenderToTexture!==!1}function xe(K){const z=o.render.frame;v.get(K)!==z&&(v.set(K,z),K.update())}function Qe(K,z){const ce=K.colorSpace,Ve=K.format,De=K.type;return K.isCompressedTexture===!0||K.format===Zy||ce!==Wo&&ce!==tc&&(ce===$t?a===!1?e.has("EXT_sRGB")===!0&&Ve===Oi?(K.format=Zy,K.minFilter=bn,K.generateMipmaps=!1):z=lC.sRGBToLinear(z):(Ve!==Oi||De!==da)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ce)),z}this.allocateTextureUnit=D,this.resetTextureUnits=V,this.setTexture2D=H,this.setTexture2DArray=O,this.setTexture3D=X,this.setTextureCube=ie,this.rebindTextures=Ee,this.setupRenderTarget=Ae,this.updateRenderTargetMipmap=Ye,this.updateMultisampleRenderTarget=de,this.setupDepthRenderbuffer=_e,this.setupFrameBufferTexture=ye,this.useMultisampledRTT=Te}function LU(n,e,t){const r=t.isWebGL2;function i(s,o=tc){let a;if(s===da)return n.UNSIGNED_BYTE;if(s===$b)return n.UNSIGNED_SHORT_4_4_4_4;if(s===Qb)return n.UNSIGNED_SHORT_5_5_5_1;if(s===qF)return n.BYTE;if(s===eU)return n.SHORT;if(s===K_)return n.UNSIGNED_SHORT;if(s===Kb)return n.INT;if(s===ja)return n.UNSIGNED_INT;if(s===vi)return n.FLOAT;if(s===Fi)return r?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===tU)return n.ALPHA;if(s===Oi)return n.RGBA;if(s===nU)return n.LUMINANCE;if(s===rU)return n.LUMINANCE_ALPHA;if(s===ql)return n.DEPTH_COMPONENT;if(s===Fu)return n.DEPTH_STENCIL;if(s===Zy)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Zb)return n.RED;if(s===qb)return n.RED_INTEGER;if(s===iU)return n.RG;if(s===eC)return n.RG_INTEGER;if(s===tC)return n.RGBA_INTEGER;if(s===oy||s===ay||s===ly||s===cy)if(o===$t)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===oy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===ay)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===ly)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===cy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===oy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===ay)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===ly)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===cy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===qM||s===ew||s===tw||s===nw)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===qM)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===ew)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===tw)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===nw)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===sU)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===rw||s===iw)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===rw)return o===$t?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===iw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===sw||s===ow||s===aw||s===lw||s===cw||s===uw||s===fw||s===dw||s===hw||s===pw||s===mw||s===gw||s===vw||s===yw)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===sw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===ow)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===aw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===lw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===cw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===uw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===fw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===dw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===hw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===pw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===mw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===gw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===vw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===yw)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===uy)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===uy)return o===$t?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===oU||s===_w||s===xw||s===Sw)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===uy)return a.COMPRESSED_RED_RGTC1_EXT;if(s===_w)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===xw)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Sw)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Zl?r?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class DU extends Kn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let Xa=class extends fn{constructor(){super(),this.isGroup=!0,this.type="Group"}};const k7={type:"move"};class HS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Xa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Xa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Xa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const _=t.getJointPose(y,r),g=this._getHandJoint(c,y);_!==null&&(g.matrix.fromArray(_.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=_.radius),g.visible=_!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=u.position.distanceTo(f.position),m=.02,v=.005;c.inputState.pinching&&h>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(k7)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Xa;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class OU extends Nn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:ql,u!==ql&&u!==Fu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===ql&&(r=ja),r===void 0&&u===Fu&&(r=Zl),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:cr,this.minFilter=l!==void 0?l:cr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class N7 extends xa{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,h=null,m=null,v=null;const y=t.getContextAttributes();let _=null,g=null;const x=[],S=[],M=new Kn;M.layers.enable(1),M.viewport=new Sn;const E=new Kn;E.layers.enable(2),E.viewport=new Sn;const b=[M,E],C=new DU;C.layers.enable(1),C.layers.enable(2);let R=null,T=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(O){let X=x[O];return X===void 0&&(X=new HS,x[O]=X),X.getTargetRaySpace()},this.getControllerGrip=function(O){let X=x[O];return X===void 0&&(X=new HS,x[O]=X),X.getGripSpace()},this.getHand=function(O){let X=x[O];return X===void 0&&(X=new HS,x[O]=X),X.getHandSpace()};function B(O){const X=S.indexOf(O.inputSource);if(X===-1)return;const ie=x[X];ie!==void 0&&(ie.update(O.inputSource,O.frame,c||o),ie.dispatchEvent({type:O.type,data:O.inputSource}))}function k(){i.removeEventListener("select",B),i.removeEventListener("selectstart",B),i.removeEventListener("selectend",B),i.removeEventListener("squeeze",B),i.removeEventListener("squeezestart",B),i.removeEventListener("squeezeend",B),i.removeEventListener("end",k),i.removeEventListener("inputsourceschange",N);for(let O=0;O<x.length;O++){const X=S[O];X!==null&&(S[O]=null,x[O].disconnect(X))}R=null,T=null,e.setRenderTarget(_),m=null,h=null,f=null,i=null,g=null,H.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(O){s=O,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(O){a=O,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(O){c=O},this.getBaseLayer=function(){return h!==null?h:m},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(O){if(i=O,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",k),i.addEventListener("inputsourceschange",N),y.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const X={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,X),i.updateRenderState({baseLayer:m}),g=new jo(m.framebufferWidth,m.framebufferHeight,{format:Oi,type:da,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let X=null,ie=null,ae=null;y.depth&&(ae=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,X=y.stencil?Fu:ql,ie=y.stencil?Zl:ja);const oe={colorFormat:t.RGBA8,depthFormat:ae,scaleFactor:s};f=new XRWebGLBinding(i,t),h=f.createProjectionLayer(oe),i.updateRenderState({layers:[h]}),g=new jo(h.textureWidth,h.textureHeight,{format:Oi,type:da,depthTexture:new OU(h.textureWidth,h.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,X),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const fe=e.properties.get(g);fe.__ignoreDepthValues=h.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),H.setContext(i),H.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function N(O){for(let X=0;X<O.removed.length;X++){const ie=O.removed[X],ae=S.indexOf(ie);ae>=0&&(S[ae]=null,x[ae].disconnect(ie))}for(let X=0;X<O.added.length;X++){const ie=O.added[X];let ae=S.indexOf(ie);if(ae===-1){for(let fe=0;fe<x.length;fe++)if(fe>=S.length){S.push(ie),ae=fe;break}else if(S[fe]===null){S[fe]=ie,ae=fe;break}if(ae===-1)break}const oe=x[ae];oe&&oe.connect(ie)}}const j=new q,Y=new q;function Q(O,X,ie){j.setFromMatrixPosition(X.matrixWorld),Y.setFromMatrixPosition(ie.matrixWorld);const ae=j.distanceTo(Y),oe=X.projectionMatrix.elements,fe=ie.projectionMatrix.elements,ue=oe[14]/(oe[10]-1),me=oe[14]/(oe[10]+1),Ne=(oe[9]+1)/oe[5],Xe=(oe[9]-1)/oe[5],ye=(oe[8]-1)/oe[0],$=(fe[8]+1)/fe[0],we=ue*ye,_e=ue*$,Ee=ae/(-ye+$),Ae=Ee*-ye;X.matrixWorld.decompose(O.position,O.quaternion,O.scale),O.translateX(Ae),O.translateZ(Ee),O.matrixWorld.compose(O.position,O.quaternion,O.scale),O.matrixWorldInverse.copy(O.matrixWorld).invert();const Ye=ue+Ee,de=me+Ee,Re=we-Ae,Te=_e+(ae-Ae),xe=Ne*me/de*Ye,Qe=Xe*me/de*Ye;O.projectionMatrix.makePerspective(Re,Te,xe,Qe,Ye,de),O.projectionMatrixInverse.copy(O.projectionMatrix).invert()}function W(O,X){X===null?O.matrixWorld.copy(O.matrix):O.matrixWorld.multiplyMatrices(X.matrixWorld,O.matrix),O.matrixWorldInverse.copy(O.matrixWorld).invert()}this.updateCamera=function(O){if(i===null)return;C.near=E.near=M.near=O.near,C.far=E.far=M.far=O.far,(R!==C.near||T!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),R=C.near,T=C.far);const X=O.parent,ie=C.cameras;W(C,X);for(let ae=0;ae<ie.length;ae++)W(ie[ae],X);ie.length===2?Q(C,M,E):C.projectionMatrix.copy(M.projectionMatrix),V(O,C,X)};function V(O,X,ie){ie===null?O.matrix.copy(X.matrixWorld):(O.matrix.copy(ie.matrixWorld),O.matrix.invert(),O.matrix.multiply(X.matrixWorld)),O.matrix.decompose(O.position,O.quaternion,O.scale),O.updateMatrixWorld(!0);const ae=O.children;for(let oe=0,fe=ae.length;oe<fe;oe++)ae[oe].updateMatrixWorld(!0);O.projectionMatrix.copy(X.projectionMatrix),O.projectionMatrixInverse.copy(X.projectionMatrixInverse),O.isPerspectiveCamera&&(O.fov=Yd*2*Math.atan(1/O.projectionMatrix.elements[5]),O.zoom=1)}this.getCamera=function(){return C},this.getFoveation=function(){if(!(h===null&&m===null))return l},this.setFoveation=function(O){l=O,h!==null&&(h.fixedFoveation=O),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=O)};let D=null;function G(O,X){if(u=X.getViewerPose(c||o),v=X,u!==null){const ie=u.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let ae=!1;ie.length!==C.cameras.length&&(C.cameras.length=0,ae=!0);for(let oe=0;oe<ie.length;oe++){const fe=ie[oe];let ue=null;if(m!==null)ue=m.getViewport(fe);else{const Ne=f.getViewSubImage(h,fe);ue=Ne.viewport,oe===0&&(e.setRenderTargetTextures(g,Ne.colorTexture,h.ignoreDepthValues?void 0:Ne.depthStencilTexture),e.setRenderTarget(g))}let me=b[oe];me===void 0&&(me=new Kn,me.layers.enable(oe),me.viewport=new Sn,b[oe]=me),me.matrix.fromArray(fe.transform.matrix),me.matrix.decompose(me.position,me.quaternion,me.scale),me.projectionMatrix.fromArray(fe.projectionMatrix),me.projectionMatrixInverse.copy(me.projectionMatrix).invert(),me.viewport.set(ue.x,ue.y,ue.width,ue.height),oe===0&&(C.matrix.copy(me.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),ae===!0&&C.cameras.push(me)}}for(let ie=0;ie<x.length;ie++){const ae=S[ie],oe=x[ie];ae!==null&&oe!==void 0&&oe.update(ae,X,c||o)}D&&D(O,X),X.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:X}),v=null}const H=new TU;H.setAnimationLoop(G),this.setAnimationLoop=function(O){D=O},this.dispose=function(){}}}function z7(n,e){function t(_,g){_.matrixAutoUpdate===!0&&_.updateMatrix(),g.value.copy(_.matrix)}function r(_,g){g.color.getRGB(_.fogColor.value,bU(n)),g.isFog?(_.fogNear.value=g.near,_.fogFar.value=g.far):g.isFogExp2&&(_.fogDensity.value=g.density)}function i(_,g,x,S,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(_,g):g.isMeshToonMaterial?(s(_,g),f(_,g)):g.isMeshPhongMaterial?(s(_,g),u(_,g)):g.isMeshStandardMaterial?(s(_,g),h(_,g),g.isMeshPhysicalMaterial&&m(_,g,M)):g.isMeshMatcapMaterial?(s(_,g),v(_,g)):g.isMeshDepthMaterial?s(_,g):g.isMeshDistanceMaterial?(s(_,g),y(_,g)):g.isMeshNormalMaterial?s(_,g):g.isLineBasicMaterial?(o(_,g),g.isLineDashedMaterial&&a(_,g)):g.isPointsMaterial?l(_,g,x,S):g.isSpriteMaterial?c(_,g):g.isShadowMaterial?(_.color.value.copy(g.color),_.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(_,g){_.opacity.value=g.opacity,g.color&&_.diffuse.value.copy(g.color),g.emissive&&_.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.bumpMap&&(_.bumpMap.value=g.bumpMap,t(g.bumpMap,_.bumpMapTransform),_.bumpScale.value=g.bumpScale,g.side===yi&&(_.bumpScale.value*=-1)),g.normalMap&&(_.normalMap.value=g.normalMap,t(g.normalMap,_.normalMapTransform),_.normalScale.value.copy(g.normalScale),g.side===yi&&_.normalScale.value.negate()),g.displacementMap&&(_.displacementMap.value=g.displacementMap,t(g.displacementMap,_.displacementMapTransform),_.displacementScale.value=g.displacementScale,_.displacementBias.value=g.displacementBias),g.emissiveMap&&(_.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,_.emissiveMapTransform)),g.specularMap&&(_.specularMap.value=g.specularMap,t(g.specularMap,_.specularMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest);const x=e.get(g).envMap;if(x&&(_.envMap.value=x,_.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=g.reflectivity,_.ior.value=g.ior,_.refractionRatio.value=g.refractionRatio),g.lightMap){_.lightMap.value=g.lightMap;const S=n._useLegacyLights===!0?Math.PI:1;_.lightMapIntensity.value=g.lightMapIntensity*S,t(g.lightMap,_.lightMapTransform)}g.aoMap&&(_.aoMap.value=g.aoMap,_.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,_.aoMapTransform))}function o(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform))}function a(_,g){_.dashSize.value=g.dashSize,_.totalSize.value=g.dashSize+g.gapSize,_.scale.value=g.scale}function l(_,g,x,S){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.size.value=g.size*x,_.scale.value=S*.5,g.map&&(_.map.value=g.map,t(g.map,_.uvTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}function c(_,g){_.diffuse.value.copy(g.color),_.opacity.value=g.opacity,_.rotation.value=g.rotation,g.map&&(_.map.value=g.map,t(g.map,_.mapTransform)),g.alphaMap&&(_.alphaMap.value=g.alphaMap,t(g.alphaMap,_.alphaMapTransform)),g.alphaTest>0&&(_.alphaTest.value=g.alphaTest)}function u(_,g){_.specular.value.copy(g.specular),_.shininess.value=Math.max(g.shininess,1e-4)}function f(_,g){g.gradientMap&&(_.gradientMap.value=g.gradientMap)}function h(_,g){_.metalness.value=g.metalness,g.metalnessMap&&(_.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,_.metalnessMapTransform)),_.roughness.value=g.roughness,g.roughnessMap&&(_.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,_.roughnessMapTransform)),e.get(g).envMap&&(_.envMapIntensity.value=g.envMapIntensity)}function m(_,g,x){_.ior.value=g.ior,g.sheen>0&&(_.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),_.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(_.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,_.sheenColorMapTransform)),g.sheenRoughnessMap&&(_.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,_.sheenRoughnessMapTransform))),g.clearcoat>0&&(_.clearcoat.value=g.clearcoat,_.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(_.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,_.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(_.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===yi&&_.clearcoatNormalScale.value.negate())),g.iridescence>0&&(_.iridescence.value=g.iridescence,_.iridescenceIOR.value=g.iridescenceIOR,_.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(_.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,_.iridescenceMapTransform)),g.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),g.transmission>0&&(_.transmission.value=g.transmission,_.transmissionSamplerMap.value=x.texture,_.transmissionSamplerSize.value.set(x.width,x.height),g.transmissionMap&&(_.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,_.transmissionMapTransform)),_.thickness.value=g.thickness,g.thicknessMap&&(_.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=g.attenuationDistance,_.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(_.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(_.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=g.specularIntensity,_.specularColor.value.copy(g.specularColor),g.specularColorMap&&(_.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,_.specularColorMapTransform)),g.specularIntensityMap&&(_.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,_.specularIntensityMapTransform))}function v(_,g){g.matcap&&(_.matcap.value=g.matcap)}function y(_,g){const x=e.get(g).light;_.referencePosition.value.setFromMatrixPosition(x.matrixWorld),_.nearDistance.value=x.shadow.camera.near,_.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function G7(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,S){const M=S.program;r.uniformBlockBinding(x,M)}function c(x,S){let M=i[x.id];M===void 0&&(v(x),M=u(x),i[x.id]=M,x.addEventListener("dispose",_));const E=S.program;r.updateUBOMapping(x,E);const b=e.render.frame;s[x.id]!==b&&(h(x),s[x.id]=b)}function u(x){const S=f();x.__bindingPointIndex=S;const M=n.createBuffer(),E=x.__size,b=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,E,b),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,M),M}function f(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(x){const S=i[x.id],M=x.uniforms,E=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let b=0,C=M.length;b<C;b++){const R=M[b];if(m(R,b,E)===!0){const T=R.__offset,B=Array.isArray(R.value)?R.value:[R.value];let k=0;for(let N=0;N<B.length;N++){const j=B[N],Y=y(j);typeof j=="number"?(R.__data[0]=j,n.bufferSubData(n.UNIFORM_BUFFER,T+k,R.__data)):j.isMatrix3?(R.__data[0]=j.elements[0],R.__data[1]=j.elements[1],R.__data[2]=j.elements[2],R.__data[3]=j.elements[0],R.__data[4]=j.elements[3],R.__data[5]=j.elements[4],R.__data[6]=j.elements[5],R.__data[7]=j.elements[0],R.__data[8]=j.elements[6],R.__data[9]=j.elements[7],R.__data[10]=j.elements[8],R.__data[11]=j.elements[0]):(j.toArray(R.__data,k),k+=Y.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,T,R.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(x,S,M){const E=x.value;if(M[S]===void 0){if(typeof E=="number")M[S]=E;else{const b=Array.isArray(E)?E:[E],C=[];for(let R=0;R<b.length;R++)C.push(b[R].clone());M[S]=C}return!0}else if(typeof E=="number"){if(M[S]!==E)return M[S]=E,!0}else{const b=Array.isArray(M[S])?M[S]:[M[S]],C=Array.isArray(E)?E:[E];for(let R=0;R<b.length;R++){const T=b[R];if(T.equals(C[R])===!1)return T.copy(C[R]),!0}}return!1}function v(x){const S=x.uniforms;let M=0;const E=16;let b=0;for(let C=0,R=S.length;C<R;C++){const T=S[C],B={boundary:0,storage:0},k=Array.isArray(T.value)?T.value:[T.value];for(let N=0,j=k.length;N<j;N++){const Y=k[N],Q=y(Y);B.boundary+=Q.boundary,B.storage+=Q.storage}if(T.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=M,C>0){b=M%E;const N=E-b;b!==0&&N-B.boundary<0&&(M+=E-b,T.__offset=M)}M+=B.storage}return b=M%E,b>0&&(M+=E-b),x.__size=M,x.__cache={},this}function y(x){const S={boundary:0,storage:0};return typeof x=="number"?(S.boundary=4,S.storage=4):x.isVector2?(S.boundary=8,S.storage=8):x.isVector3||x.isColor?(S.boundary=16,S.storage=12):x.isVector4?(S.boundary=16,S.storage=16):x.isMatrix3?(S.boundary=48,S.storage=48):x.isMatrix4?(S.boundary=64,S.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),S}function _(x){const S=x.target;S.removeEventListener("dispose",_);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function g(){for(const x in i)n.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:c,dispose:g}}function H7(){const n=wm("canvas");return n.style.display="block",n}class mC{constructor(e={}){const{canvas:t=H7(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;r!==null?h=r.getContextAttributes().alpha:h=o;const m=new Uint32Array(4),v=new Int32Array(4);let y=null,_=null;const g=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=$t,this._useLegacyLights=!1,this.toneMapping=fa,this.toneMappingExposure=1;const S=this;let M=!1,E=0,b=0,C=null,R=-1,T=null;const B=new Sn,k=new Sn;let N=null;const j=new lt(0);let Y=0,Q=t.width,W=t.height,V=1,D=null,G=null;const H=new Sn(0,0,Q,W),O=new Sn(0,0,Q,W);let X=!1;const ie=new Z_;let ae=!1,oe=!1,fe=null;const ue=new Ut,me=new Je,Ne=new q,Xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ye(){return C===null?V:1}let $=r;function we(I,J){for(let ee=0;ee<I.length;ee++){const Z=I[ee],te=t.getContext(Z,J);if(te!==null)return te}return null}try{const I={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${mh}`),t.addEventListener("webglcontextlost",pe,!1),t.addEventListener("webglcontextrestored",be,!1),t.addEventListener("webglcontextcreationerror",$e,!1),$===null){const J=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&J.shift(),$=we(J,I),$===null)throw we(J)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&$ instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),$.getShaderPrecisionFormat===void 0&&($.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(I){throw console.error("THREE.WebGLRenderer: "+I.message),I}let _e,Ee,Ae,Ye,de,Re,Te,xe,Qe,K,z,ce,Ve,De,Be,Ke,We,ve,ne,Se,Ce,Ie,Ge,Ze;function tt(){_e=new rj($),Ee=new QW($,_e,e),_e.init(Ee),Ie=new LU($,_e,Ee),Ae=new F7($,_e,Ee),Ye=new oj($),de=new w7,Re=new U7($,_e,Ae,de,Ee,Ie,Ye),Te=new qW(S),xe=new nj(S),Qe=new g9($,Ee),Ge=new KW($,_e,Qe,Ee),K=new ij($,Qe,Ye,Ge),z=new uj($,K,Qe,Ye),ne=new cj($,Ee,Re),Ke=new ZW(de),ce=new M7(S,Te,xe,_e,Ee,Ge,Ke),Ve=new z7(S,de),De=new b7,Be=new B7(_e,Ee),ve=new YW(S,Te,xe,Ae,z,h,l),We=new O7(S,z,Ee),Ze=new G7($,Ye,Ee,Ae),Se=new $W($,_e,Ye,Ee),Ce=new sj($,_e,Ye,Ee),Ye.programs=ce.programs,S.capabilities=Ee,S.extensions=_e,S.properties=de,S.renderLists=De,S.shadowMap=We,S.state=Ae,S.info=Ye}tt();const se=new N7(S,$);this.xr=se,this.getContext=function(){return $},this.getContextAttributes=function(){return $.getContextAttributes()},this.forceContextLoss=function(){const I=_e.get("WEBGL_lose_context");I&&I.loseContext()},this.forceContextRestore=function(){const I=_e.get("WEBGL_lose_context");I&&I.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(I){I!==void 0&&(V=I,this.setSize(Q,W,!1))},this.getSize=function(I){return I.set(Q,W)},this.setSize=function(I,J,ee=!0){if(se.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Q=I,W=J,t.width=Math.floor(I*V),t.height=Math.floor(J*V),ee===!0&&(t.style.width=I+"px",t.style.height=J+"px"),this.setViewport(0,0,I,J)},this.getDrawingBufferSize=function(I){return I.set(Q*V,W*V).floor()},this.setDrawingBufferSize=function(I,J,ee){Q=I,W=J,V=ee,t.width=Math.floor(I*ee),t.height=Math.floor(J*ee),this.setViewport(0,0,I,J)},this.getCurrentViewport=function(I){return I.copy(B)},this.getViewport=function(I){return I.copy(H)},this.setViewport=function(I,J,ee,Z){I.isVector4?H.set(I.x,I.y,I.z,I.w):H.set(I,J,ee,Z),Ae.viewport(B.copy(H).multiplyScalar(V).floor())},this.getScissor=function(I){return I.copy(O)},this.setScissor=function(I,J,ee,Z){I.isVector4?O.set(I.x,I.y,I.z,I.w):O.set(I,J,ee,Z),Ae.scissor(k.copy(O).multiplyScalar(V).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(I){Ae.setScissorTest(X=I)},this.setOpaqueSort=function(I){D=I},this.setTransparentSort=function(I){G=I},this.getClearColor=function(I){return I.copy(ve.getClearColor())},this.setClearColor=function(){ve.setClearColor.apply(ve,arguments)},this.getClearAlpha=function(){return ve.getClearAlpha()},this.setClearAlpha=function(){ve.setClearAlpha.apply(ve,arguments)},this.clear=function(I=!0,J=!0,ee=!0){let Z=0;if(I){let te=!1;if(C!==null){const Pe=C.texture.format;te=Pe===tC||Pe===eC||Pe===qb}if(te){const Pe=C.texture.type,Le=Pe===da||Pe===ja||Pe===K_||Pe===Zl||Pe===$b||Pe===Qb,Ue=ve.getClearColor(),Fe=ve.getClearAlpha(),je=Ue.r,he=Ue.g,ot=Ue.b;Le?(m[0]=je,m[1]=he,m[2]=ot,m[3]=Fe,$.clearBufferuiv($.COLOR,0,m)):(v[0]=je,v[1]=he,v[2]=ot,v[3]=Fe,$.clearBufferiv($.COLOR,0,v))}else Z|=$.COLOR_BUFFER_BIT}J&&(Z|=$.DEPTH_BUFFER_BIT),ee&&(Z|=$.STENCIL_BUFFER_BIT),$.clear(Z)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",pe,!1),t.removeEventListener("webglcontextrestored",be,!1),t.removeEventListener("webglcontextcreationerror",$e,!1),De.dispose(),Be.dispose(),de.dispose(),Te.dispose(),xe.dispose(),z.dispose(),Ge.dispose(),Ze.dispose(),ce.dispose(),se.dispose(),se.removeEventListener("sessionstart",zt),se.removeEventListener("sessionend",Rt),fe&&(fe.dispose(),fe=null),Ft.stop()};function pe(I){I.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function be(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const I=Ye.autoReset,J=We.enabled,ee=We.autoUpdate,Z=We.needsUpdate,te=We.type;tt(),Ye.autoReset=I,We.enabled=J,We.autoUpdate=ee,We.needsUpdate=Z,We.type=te}function $e(I){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",I.statusMessage)}function ze(I){const J=I.target;J.removeEventListener("dispose",ze),st(J)}function st(I){gt(I),de.remove(I)}function gt(I){const J=de.get(I).programs;J!==void 0&&(J.forEach(function(ee){ce.releaseProgram(ee)}),I.isShaderMaterial&&ce.releaseShaderCache(I))}this.renderBufferDirect=function(I,J,ee,Z,te,Pe){J===null&&(J=Xe);const Le=te.isMesh&&te.matrixWorld.determinant()<0,Ue=En(I,J,ee,Z,te);Ae.setMaterial(Z,Le);let Fe=ee.index,je=1;if(Z.wireframe===!0){if(Fe=K.getWireframeAttribute(ee),Fe===void 0)return;je=2}const he=ee.drawRange,ot=ee.attributes.position;let nt=he.start*je,qe=(he.start+he.count)*je;Pe!==null&&(nt=Math.max(nt,Pe.start*je),qe=Math.min(qe,(Pe.start+Pe.count)*je)),Fe!==null?(nt=Math.max(nt,0),qe=Math.min(qe,Fe.count)):ot!=null&&(nt=Math.max(nt,0),qe=Math.min(qe,ot.count));const ht=qe-nt;if(ht<0||ht===1/0)return;Ge.setup(te,Z,Ue,ee,Fe);let At,mt=Se;if(Fe!==null&&(At=Qe.get(Fe),mt=Ce,mt.setIndex(At)),te.isMesh)Z.wireframe===!0?(Ae.setLineWidth(Z.wireframeLinewidth*ye()),mt.setMode($.LINES)):mt.setMode($.TRIANGLES);else if(te.isLine){let rt=Z.linewidth;rt===void 0&&(rt=1),Ae.setLineWidth(rt*ye()),te.isLineSegments?mt.setMode($.LINES):te.isLineLoop?mt.setMode($.LINE_LOOP):mt.setMode($.LINE_STRIP)}else te.isPoints?mt.setMode($.POINTS):te.isSprite&&mt.setMode($.TRIANGLES);if(te.isInstancedMesh)mt.renderInstances(nt,ht,te.count);else if(ee.isInstancedBufferGeometry){const rt=ee._maxInstanceCount!==void 0?ee._maxInstanceCount:1/0,xt=Math.min(ee.instanceCount,rt);mt.renderInstances(nt,ht,xt)}else mt.render(nt,ht)},this.compile=function(I,J){function ee(Z,te,Pe){Z.transparent===!0&&Z.side===Di&&Z.forceSinglePass===!1?(Z.side=yi,Z.needsUpdate=!0,qt(Z,te,Pe),Z.side=Vo,Z.needsUpdate=!0,qt(Z,te,Pe),Z.side=Di):qt(Z,te,Pe)}_=Be.get(I),_.init(),x.push(_),I.traverseVisible(function(Z){Z.isLight&&Z.layers.test(J.layers)&&(_.pushLight(Z),Z.castShadow&&_.pushShadow(Z))}),_.setupLights(S._useLegacyLights),I.traverse(function(Z){const te=Z.material;if(te)if(Array.isArray(te))for(let Pe=0;Pe<te.length;Pe++){const Le=te[Pe];ee(Le,I,Z)}else ee(te,I,Z)}),x.pop(),_=null};let Et=null;function kt(I){Et&&Et(I)}function zt(){Ft.stop()}function Rt(){Ft.start()}const Ft=new TU;Ft.setAnimationLoop(kt),typeof self<"u"&&Ft.setContext(self),this.setAnimationLoop=function(I){Et=I,se.setAnimationLoop(I),I===null?Ft.stop():Ft.start()},se.addEventListener("sessionstart",zt),se.addEventListener("sessionend",Rt),this.render=function(I,J){if(J!==void 0&&J.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;I.matrixWorldAutoUpdate===!0&&I.updateMatrixWorld(),J.parent===null&&J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),se.enabled===!0&&se.isPresenting===!0&&(se.cameraAutoUpdate===!0&&se.updateCamera(J),J=se.getCamera()),I.isScene===!0&&I.onBeforeRender(S,I,J,C),_=Be.get(I,x.length),_.init(),x.push(_),ue.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),ie.setFromProjectionMatrix(ue),oe=this.localClippingEnabled,ae=Ke.init(this.clippingPlanes,oe),y=De.get(I,g.length),y.init(),g.push(y),Rn(I,J,0,S.sortObjects),y.finish(),S.sortObjects===!0&&y.sort(D,G),this.info.render.frame++,ae===!0&&Ke.beginShadows();const ee=_.state.shadowsArray;if(We.render(ee,I,J),ae===!0&&Ke.endShadows(),this.info.autoReset===!0&&this.info.reset(),ve.render(y,I),_.setupLights(S._useLegacyLights),J.isArrayCamera){const Z=J.cameras;for(let te=0,Pe=Z.length;te<Pe;te++){const Le=Z[te];Pn(y,I,Le,Le.viewport)}}else Pn(y,I,J);C!==null&&(Re.updateMultisampleRenderTarget(C),Re.updateRenderTargetMipmap(C)),I.isScene===!0&&I.onAfterRender(S,I,J),Ge.resetDefaultState(),R=-1,T=null,x.pop(),x.length>0?_=x[x.length-1]:_=null,g.pop(),g.length>0?y=g[g.length-1]:y=null};function Rn(I,J,ee,Z){if(I.visible===!1)return;if(I.layers.test(J.layers)){if(I.isGroup)ee=I.renderOrder;else if(I.isLOD)I.autoUpdate===!0&&I.update(J);else if(I.isLight)_.pushLight(I),I.castShadow&&_.pushShadow(I);else if(I.isSprite){if(!I.frustumCulled||ie.intersectsSprite(I)){Z&&Ne.setFromMatrixPosition(I.matrixWorld).applyMatrix4(ue);const Le=z.update(I),Ue=I.material;Ue.visible&&y.push(I,Le,Ue,ee,Ne.z,null)}}else if((I.isMesh||I.isLine||I.isPoints)&&(!I.frustumCulled||ie.intersectsObject(I))){const Le=z.update(I),Ue=I.material;if(Z&&(I.boundingSphere!==void 0?(I.boundingSphere===null&&I.computeBoundingSphere(),Ne.copy(I.boundingSphere.center)):(Le.boundingSphere===null&&Le.computeBoundingSphere(),Ne.copy(Le.boundingSphere.center)),Ne.applyMatrix4(I.matrixWorld).applyMatrix4(ue)),Array.isArray(Ue)){const Fe=Le.groups;for(let je=0,he=Fe.length;je<he;je++){const ot=Fe[je],nt=Ue[ot.materialIndex];nt&&nt.visible&&y.push(I,Le,nt,ee,Ne.z,ot)}}else Ue.visible&&y.push(I,Le,Ue,ee,Ne.z,null)}}const Pe=I.children;for(let Le=0,Ue=Pe.length;Le<Ue;Le++)Rn(Pe[Le],J,ee,Z)}function Pn(I,J,ee,Z){const te=I.opaque,Pe=I.transmissive,Le=I.transparent;_.setupLightsView(ee),ae===!0&&Ke.setGlobalState(S.clippingPlanes,ee),Pe.length>0&&Pt(te,Pe,J,ee),Z&&Ae.viewport(B.copy(Z)),te.length>0&&dn(te,J,ee),Pe.length>0&&dn(Pe,J,ee),Le.length>0&&dn(Le,J,ee),Ae.buffers.depth.setTest(!0),Ae.buffers.depth.setMask(!0),Ae.buffers.color.setMask(!0),Ae.setPolygonOffset(!1)}function Pt(I,J,ee,Z){const te=Ee.isWebGL2;fe===null&&(fe=new jo(1,1,{generateMipmaps:!0,type:_e.has("EXT_color_buffer_half_float")?Fi:da,minFilter:va,samples:te?4:0})),S.getDrawingBufferSize(me),te?fe.setSize(me.x,me.y):fe.setSize(qy(me.x),qy(me.y));const Pe=S.getRenderTarget();S.setRenderTarget(fe),S.getClearColor(j),Y=S.getClearAlpha(),Y<1&&S.setClearColor(16777215,.5),S.clear();const Le=S.toneMapping;S.toneMapping=fa,dn(I,ee,Z),Re.updateMultisampleRenderTarget(fe),Re.updateRenderTargetMipmap(fe);let Ue=!1;for(let Fe=0,je=J.length;Fe<je;Fe++){const he=J[Fe],ot=he.object,nt=he.geometry,qe=he.material,ht=he.group;if(qe.side===Di&&ot.layers.test(Z.layers)){const At=qe.side;qe.side=yi,qe.needsUpdate=!0,wn(ot,ee,Z,nt,qe,ht),qe.side=At,qe.needsUpdate=!0,Ue=!0}}Ue===!0&&(Re.updateMultisampleRenderTarget(fe),Re.updateRenderTargetMipmap(fe)),S.setRenderTarget(Pe),S.setClearColor(j,Y),S.toneMapping=Le}function dn(I,J,ee){const Z=J.isScene===!0?J.overrideMaterial:null;for(let te=0,Pe=I.length;te<Pe;te++){const Le=I[te],Ue=Le.object,Fe=Le.geometry,je=Z===null?Le.material:Z,he=Le.group;Ue.layers.test(ee.layers)&&wn(Ue,J,ee,Fe,je,he)}}function wn(I,J,ee,Z,te,Pe){I.onBeforeRender(S,J,ee,Z,te,Pe),I.modelViewMatrix.multiplyMatrices(ee.matrixWorldInverse,I.matrixWorld),I.normalMatrix.getNormalMatrix(I.modelViewMatrix),te.onBeforeRender(S,J,ee,Z,I,Pe),te.transparent===!0&&te.side===Di&&te.forceSinglePass===!1?(te.side=yi,te.needsUpdate=!0,S.renderBufferDirect(ee,J,Z,te,I,Pe),te.side=Vo,te.needsUpdate=!0,S.renderBufferDirect(ee,J,Z,te,I,Pe),te.side=Di):S.renderBufferDirect(ee,J,Z,te,I,Pe),I.onAfterRender(S,J,ee,Z,te,Pe)}function qt(I,J,ee){J.isScene!==!0&&(J=Xe);const Z=de.get(I),te=_.state.lights,Pe=_.state.shadowsArray,Le=te.state.version,Ue=ce.getParameters(I,te.state,Pe,J,ee),Fe=ce.getProgramCacheKey(Ue);let je=Z.programs;Z.environment=I.isMeshStandardMaterial?J.environment:null,Z.fog=J.fog,Z.envMap=(I.isMeshStandardMaterial?xe:Te).get(I.envMap||Z.environment),je===void 0&&(I.addEventListener("dispose",ze),je=new Map,Z.programs=je);let he=je.get(Fe);if(he!==void 0){if(Z.currentProgram===he&&Z.lightsStateVersion===Le)return pt(I,Ue),he}else Ue.uniforms=ce.getUniforms(I),I.onBuild(ee,Ue,S),I.onBeforeCompile(Ue,S),he=ce.acquireProgram(Ue,Fe),je.set(Fe,he),Z.uniforms=Ue.uniforms;const ot=Z.uniforms;(!I.isShaderMaterial&&!I.isRawShaderMaterial||I.clipping===!0)&&(ot.clippingPlanes=Ke.uniform),pt(I,Ue),Z.needsLights=U(I),Z.lightsStateVersion=Le,Z.needsLights&&(ot.ambientLightColor.value=te.state.ambient,ot.lightProbe.value=te.state.probe,ot.directionalLights.value=te.state.directional,ot.directionalLightShadows.value=te.state.directionalShadow,ot.spotLights.value=te.state.spot,ot.spotLightShadows.value=te.state.spotShadow,ot.rectAreaLights.value=te.state.rectArea,ot.ltc_1.value=te.state.rectAreaLTC1,ot.ltc_2.value=te.state.rectAreaLTC2,ot.pointLights.value=te.state.point,ot.pointLightShadows.value=te.state.pointShadow,ot.hemisphereLights.value=te.state.hemi,ot.directionalShadowMap.value=te.state.directionalShadowMap,ot.directionalShadowMatrix.value=te.state.directionalShadowMatrix,ot.spotShadowMap.value=te.state.spotShadowMap,ot.spotLightMatrix.value=te.state.spotLightMatrix,ot.spotLightMap.value=te.state.spotLightMap,ot.pointShadowMap.value=te.state.pointShadowMap,ot.pointShadowMatrix.value=te.state.pointShadowMatrix);const nt=he.getUniforms(),qe=hy.seqWithValue(nt.seq,ot);return Z.currentProgram=he,Z.uniformsList=qe,he}function pt(I,J){const ee=de.get(I);ee.outputColorSpace=J.outputColorSpace,ee.instancing=J.instancing,ee.instancingColor=J.instancingColor,ee.skinning=J.skinning,ee.morphTargets=J.morphTargets,ee.morphNormals=J.morphNormals,ee.morphColors=J.morphColors,ee.morphTargetsCount=J.morphTargetsCount,ee.numClippingPlanes=J.numClippingPlanes,ee.numIntersection=J.numClipIntersection,ee.vertexAlphas=J.vertexAlphas,ee.vertexTangents=J.vertexTangents,ee.toneMapping=J.toneMapping}function En(I,J,ee,Z,te){J.isScene!==!0&&(J=Xe),Re.resetTextureUnits();const Pe=J.fog,Le=Z.isMeshStandardMaterial?J.environment:null,Ue=C===null?S.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:Wo,Fe=(Z.isMeshStandardMaterial?xe:Te).get(Z.envMap||Le),je=Z.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,he=!!ee.attributes.tangent&&(!!Z.normalMap||Z.anisotropy>0),ot=!!ee.morphAttributes.position,nt=!!ee.morphAttributes.normal,qe=!!ee.morphAttributes.color;let ht=fa;Z.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(ht=S.toneMapping);const At=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,mt=At!==void 0?At.length:0,rt=de.get(Z),xt=_.state.lights;if(ae===!0&&(oe===!0||I!==T)){const It=I===T&&Z.id===R;Ke.setState(Z,I,It)}let dt=!1;Z.version===rt.__version?(rt.needsLights&&rt.lightsStateVersion!==xt.state.version||rt.outputColorSpace!==Ue||te.isInstancedMesh&&rt.instancing===!1||!te.isInstancedMesh&&rt.instancing===!0||te.isSkinnedMesh&&rt.skinning===!1||!te.isSkinnedMesh&&rt.skinning===!0||te.isInstancedMesh&&rt.instancingColor===!0&&te.instanceColor===null||te.isInstancedMesh&&rt.instancingColor===!1&&te.instanceColor!==null||rt.envMap!==Fe||Z.fog===!0&&rt.fog!==Pe||rt.numClippingPlanes!==void 0&&(rt.numClippingPlanes!==Ke.numPlanes||rt.numIntersection!==Ke.numIntersection)||rt.vertexAlphas!==je||rt.vertexTangents!==he||rt.morphTargets!==ot||rt.morphNormals!==nt||rt.morphColors!==qe||rt.toneMapping!==ht||Ee.isWebGL2===!0&&rt.morphTargetsCount!==mt)&&(dt=!0):(dt=!0,rt.__version=Z.version);let bt=rt.currentProgram;dt===!0&&(bt=qt(Z,J,te));let Jt=!1,Tt=!1,sn=!1;const Vt=bt.getUniforms(),on=rt.uniforms;if(Ae.useProgram(bt.program)&&(Jt=!0,Tt=!0,sn=!0),Z.id!==R&&(R=Z.id,Tt=!0),Jt||T!==I){if(Vt.setValue($,"projectionMatrix",I.projectionMatrix),Ee.logarithmicDepthBuffer&&Vt.setValue($,"logDepthBufFC",2/(Math.log(I.far+1)/Math.LN2)),T!==I&&(T=I,Tt=!0,sn=!0),Z.isShaderMaterial||Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshStandardMaterial||Z.envMap){const It=Vt.map.cameraPosition;It!==void 0&&It.setValue($,Ne.setFromMatrixPosition(I.matrixWorld))}(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial)&&Vt.setValue($,"isOrthographic",I.isOrthographicCamera===!0),(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial||Z.isShadowMaterial||te.isSkinnedMesh)&&Vt.setValue($,"viewMatrix",I.matrixWorldInverse)}if(te.isSkinnedMesh){Vt.setOptional($,te,"bindMatrix"),Vt.setOptional($,te,"bindMatrixInverse");const It=te.skeleton;It&&(Ee.floatVertexTextures?(It.boneTexture===null&&It.computeBoneTexture(),Vt.setValue($,"boneTexture",It.boneTexture,Re),Vt.setValue($,"boneTextureSize",It.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const pn=ee.morphAttributes;if((pn.position!==void 0||pn.normal!==void 0||pn.color!==void 0&&Ee.isWebGL2===!0)&&ne.update(te,ee,bt),(Tt||rt.receiveShadow!==te.receiveShadow)&&(rt.receiveShadow=te.receiveShadow,Vt.setValue($,"receiveShadow",te.receiveShadow)),Z.isMeshGouraudMaterial&&Z.envMap!==null&&(on.envMap.value=Fe,on.flipEnvMap.value=Fe.isCubeTexture&&Fe.isRenderTargetTexture===!1?-1:1),Tt&&(Vt.setValue($,"toneMappingExposure",S.toneMappingExposure),rt.needsLights&&$n(on,sn),Pe&&Z.fog===!0&&Ve.refreshFogUniforms(on,Pe),Ve.refreshMaterialUniforms(on,Z,V,W,fe),hy.upload($,rt.uniformsList,on,Re)),Z.isShaderMaterial&&Z.uniformsNeedUpdate===!0&&(hy.upload($,rt.uniformsList,on,Re),Z.uniformsNeedUpdate=!1),Z.isSpriteMaterial&&Vt.setValue($,"center",te.center),Vt.setValue($,"modelViewMatrix",te.modelViewMatrix),Vt.setValue($,"normalMatrix",te.normalMatrix),Vt.setValue($,"modelMatrix",te.matrixWorld),Z.isShaderMaterial||Z.isRawShaderMaterial){const It=Z.uniformsGroups;for(let yn=0,en=It.length;yn<en;yn++)if(Ee.isWebGL2){const Ot=It[yn];Ze.update(Ot,bt),Ze.bind(Ot,bt)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return bt}function $n(I,J){I.ambientLightColor.needsUpdate=J,I.lightProbe.needsUpdate=J,I.directionalLights.needsUpdate=J,I.directionalLightShadows.needsUpdate=J,I.pointLights.needsUpdate=J,I.pointLightShadows.needsUpdate=J,I.spotLights.needsUpdate=J,I.spotLightShadows.needsUpdate=J,I.rectAreaLights.needsUpdate=J,I.hemisphereLights.needsUpdate=J}function U(I){return I.isMeshLambertMaterial||I.isMeshToonMaterial||I.isMeshPhongMaterial||I.isMeshStandardMaterial||I.isShadowMaterial||I.isShaderMaterial&&I.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(I,J,ee){de.get(I.texture).__webglTexture=J,de.get(I.depthTexture).__webglTexture=ee;const Z=de.get(I);Z.__hasExternalTextures=!0,Z.__hasExternalTextures&&(Z.__autoAllocateDepthBuffer=ee===void 0,Z.__autoAllocateDepthBuffer||_e.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Z.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(I,J){const ee=de.get(I);ee.__webglFramebuffer=J,ee.__useDefaultFramebuffer=J===void 0},this.setRenderTarget=function(I,J=0,ee=0){C=I,E=J,b=ee;let Z=!0,te=null,Pe=!1,Le=!1;if(I){const Fe=de.get(I);Fe.__useDefaultFramebuffer!==void 0?(Ae.bindFramebuffer($.FRAMEBUFFER,null),Z=!1):Fe.__webglFramebuffer===void 0?Re.setupRenderTarget(I):Fe.__hasExternalTextures&&Re.rebindTextures(I,de.get(I.texture).__webglTexture,de.get(I.depthTexture).__webglTexture);const je=I.texture;(je.isData3DTexture||je.isDataArrayTexture||je.isCompressedArrayTexture)&&(Le=!0);const he=de.get(I).__webglFramebuffer;I.isWebGLCubeRenderTarget?(Array.isArray(he[J])?te=he[J][ee]:te=he[J],Pe=!0):Ee.isWebGL2&&I.samples>0&&Re.useMultisampledRTT(I)===!1?te=de.get(I).__webglMultisampledFramebuffer:Array.isArray(he)?te=he[ee]:te=he,B.copy(I.viewport),k.copy(I.scissor),N=I.scissorTest}else B.copy(H).multiplyScalar(V).floor(),k.copy(O).multiplyScalar(V).floor(),N=X;if(Ae.bindFramebuffer($.FRAMEBUFFER,te)&&Ee.drawBuffers&&Z&&Ae.drawBuffers(I,te),Ae.viewport(B),Ae.scissor(k),Ae.setScissorTest(N),Pe){const Fe=de.get(I.texture);$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_CUBE_MAP_POSITIVE_X+J,Fe.__webglTexture,ee)}else if(Le){const Fe=de.get(I.texture),je=J||0;$.framebufferTextureLayer($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,Fe.__webglTexture,ee||0,je)}R=-1},this.readRenderTargetPixels=function(I,J,ee,Z,te,Pe,Le){if(!(I&&I.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ue=de.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&Le!==void 0&&(Ue=Ue[Le]),Ue){Ae.bindFramebuffer($.FRAMEBUFFER,Ue);try{const Fe=I.texture,je=Fe.format,he=Fe.type;if(je!==Oi&&Ie.convert(je)!==$.getParameter($.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ot=he===Fi&&(_e.has("EXT_color_buffer_half_float")||Ee.isWebGL2&&_e.has("EXT_color_buffer_float"));if(he!==da&&Ie.convert(he)!==$.getParameter($.IMPLEMENTATION_COLOR_READ_TYPE)&&!(he===vi&&(Ee.isWebGL2||_e.has("OES_texture_float")||_e.has("WEBGL_color_buffer_float")))&&!ot){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}J>=0&&J<=I.width-Z&&ee>=0&&ee<=I.height-te&&$.readPixels(J,ee,Z,te,Ie.convert(je),Ie.convert(he),Pe)}finally{const Fe=C!==null?de.get(C).__webglFramebuffer:null;Ae.bindFramebuffer($.FRAMEBUFFER,Fe)}}},this.copyFramebufferToTexture=function(I,J,ee=0){const Z=Math.pow(2,-ee),te=Math.floor(J.image.width*Z),Pe=Math.floor(J.image.height*Z);Re.setTexture2D(J,0),$.copyTexSubImage2D($.TEXTURE_2D,ee,0,0,I.x,I.y,te,Pe),Ae.unbindTexture()},this.copyTextureToTexture=function(I,J,ee,Z=0){const te=J.image.width,Pe=J.image.height,Le=Ie.convert(ee.format),Ue=Ie.convert(ee.type);Re.setTexture2D(ee,0),$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,ee.flipY),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ee.premultiplyAlpha),$.pixelStorei($.UNPACK_ALIGNMENT,ee.unpackAlignment),J.isDataTexture?$.texSubImage2D($.TEXTURE_2D,Z,I.x,I.y,te,Pe,Le,Ue,J.image.data):J.isCompressedTexture?$.compressedTexSubImage2D($.TEXTURE_2D,Z,I.x,I.y,J.mipmaps[0].width,J.mipmaps[0].height,Le,J.mipmaps[0].data):$.texSubImage2D($.TEXTURE_2D,Z,I.x,I.y,Le,Ue,J.image),Z===0&&ee.generateMipmaps&&$.generateMipmap($.TEXTURE_2D),Ae.unbindTexture()},this.copyTextureToTexture3D=function(I,J,ee,Z,te=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Pe=I.max.x-I.min.x+1,Le=I.max.y-I.min.y+1,Ue=I.max.z-I.min.z+1,Fe=Ie.convert(Z.format),je=Ie.convert(Z.type);let he;if(Z.isData3DTexture)Re.setTexture3D(Z,0),he=$.TEXTURE_3D;else if(Z.isDataArrayTexture)Re.setTexture2DArray(Z,0),he=$.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}$.pixelStorei($.UNPACK_FLIP_Y_WEBGL,Z.flipY),$.pixelStorei($.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),$.pixelStorei($.UNPACK_ALIGNMENT,Z.unpackAlignment);const ot=$.getParameter($.UNPACK_ROW_LENGTH),nt=$.getParameter($.UNPACK_IMAGE_HEIGHT),qe=$.getParameter($.UNPACK_SKIP_PIXELS),ht=$.getParameter($.UNPACK_SKIP_ROWS),At=$.getParameter($.UNPACK_SKIP_IMAGES),mt=ee.isCompressedTexture?ee.mipmaps[0]:ee.image;$.pixelStorei($.UNPACK_ROW_LENGTH,mt.width),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,mt.height),$.pixelStorei($.UNPACK_SKIP_PIXELS,I.min.x),$.pixelStorei($.UNPACK_SKIP_ROWS,I.min.y),$.pixelStorei($.UNPACK_SKIP_IMAGES,I.min.z),ee.isDataTexture||ee.isData3DTexture?$.texSubImage3D(he,te,J.x,J.y,J.z,Pe,Le,Ue,Fe,je,mt.data):ee.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),$.compressedTexSubImage3D(he,te,J.x,J.y,J.z,Pe,Le,Ue,Fe,mt.data)):$.texSubImage3D(he,te,J.x,J.y,J.z,Pe,Le,Ue,Fe,je,mt),$.pixelStorei($.UNPACK_ROW_LENGTH,ot),$.pixelStorei($.UNPACK_IMAGE_HEIGHT,nt),$.pixelStorei($.UNPACK_SKIP_PIXELS,qe),$.pixelStorei($.UNPACK_SKIP_ROWS,ht),$.pixelStorei($.UNPACK_SKIP_IMAGES,At),te===0&&Z.generateMipmaps&&$.generateMipmap(he),Ae.unbindTexture()},this.initTexture=function(I){I.isCubeTexture?Re.setTextureCube(I,0):I.isData3DTexture?Re.setTexture3D(I,0):I.isDataArrayTexture||I.isCompressedArrayTexture?Re.setTexture2DArray(I,0):Re.setTexture2D(I,0),Ae.unbindTexture()},this.resetState=function(){E=0,b=0,C=null,Ae.reset(),Ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return aa}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===$t?ec:iC}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===ec?$t:Wo}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class FU extends mC{}FU.prototype.isWebGL1Renderer=!0;class n1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new lt(e),this.density=t}clone(){return new n1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class r1{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new lt(e),this.near=t,this.far=r}clone(){return new r1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Em extends fn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class ag{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Am,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=bs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=bs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=bs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Pi=new q;class cc{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Pi.fromBufferAttribute(this,t),Pi.applyMatrix4(e),this.setXYZ(t,Pi.x,Pi.y,Pi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Pi.fromBufferAttribute(this,t),Pi.applyNormalMatrix(e),this.setXYZ(t,Pi.x,Pi.y,Pi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Pi.fromBufferAttribute(this,t),Pi.transformDirection(e),this.setXYZ(t,Pi.x,Pi.y,Pi.z);return this}setX(e,t){return this.normalized&&(t=Zt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Zt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Zt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Zt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Qi(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Qi(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Qi(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Qi(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Zt(t,this.array),r=Zt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Zt(t,this.array),r=Zt(r,this.array),i=Zt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Zt(t,this.array),r=Zt(r,this.array),i=Zt(i,this.array),s=Zt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new vn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new cc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class gC extends Ir{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new lt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Bf;const sp=new q,Lf=new q,Df=new q,Of=new Je,op=new Je,UU=new Ut,rv=new q,ap=new q,iv=new q,bI=new Je,VS=new Je,CI=new Je;class kU extends fn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Bf===void 0){Bf=new Xt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new ag(t,5);Bf.setIndex([0,1,2,0,2,3]),Bf.setAttribute("position",new cc(r,3,0,!1)),Bf.setAttribute("uv",new cc(r,2,3,!1))}this.geometry=Bf,this.material=e!==void 0?e:new gC,this.center=new Je(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Lf.setFromMatrixScale(this.matrixWorld),UU.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Df.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Lf.multiplyScalar(-Df.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;sv(rv.set(-.5,-.5,0),Df,o,Lf,i,s),sv(ap.set(.5,-.5,0),Df,o,Lf,i,s),sv(iv.set(.5,.5,0),Df,o,Lf,i,s),bI.set(0,0),VS.set(1,0),CI.set(1,1);let a=e.ray.intersectTriangle(rv,ap,iv,!1,sp);if(a===null&&(sv(ap.set(-.5,.5,0),Df,o,Lf,i,s),VS.set(0,1),a=e.ray.intersectTriangle(rv,iv,ap,!1,sp),a===null))return;const l=e.ray.origin.distanceTo(sp);l<e.near||l>e.far||t.push({distance:l,point:sp.clone(),uv:$i.getInterpolation(sp,rv,ap,iv,bI,VS,CI,new Je),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function sv(n,e,t,r,i,s){Of.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(op.x=s*Of.x-i*Of.y,op.y=i*Of.x+s*Of.y):op.copy(Of),n.copy(e),n.x+=op.x,n.y+=op.y,n.applyMatrix4(UU)}const ov=new q,TI=new q;class NU extends fn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){ov.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(ov);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ov.setFromMatrixPosition(e.matrixWorld),TI.setFromMatrixPosition(this.matrixWorld);const r=ov.distanceTo(TI)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const RI=new q,PI=new Sn,II=new Sn,V7=new q,BI=new Ut,Ff=new q,WS=new Ls,LI=new Ut,jS=new vh;class vC extends dr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ut,this.bindMatrixInverse=new Ut,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new vo),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Ff.fromBufferAttribute(t,r),this.applyBoneTransform(r,Ff),this.boundingBox.expandByPoint(Ff)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ls),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)Ff.fromBufferAttribute(t,r),this.applyBoneTransform(r,Ff),this.boundingSphere.expandByPoint(Ff)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),WS.copy(this.boundingSphere),WS.applyMatrix4(i),e.ray.intersectsSphere(WS)!==!1&&(LI.copy(i).invert(),jS.copy(e.ray).applyMatrix4(LI),!(this.boundingBox!==null&&jS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,jS)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Sn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;PI.fromBufferAttribute(i.attributes.skinIndex,e),II.fromBufferAttribute(i.attributes.skinWeight,e),RI.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=II.getComponent(s);if(o!==0){const a=PI.getComponent(s);BI.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(V7.copy(RI).applyMatrix4(BI),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class i1 extends fn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Pd extends Nn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=cr,u=cr,f,h){super(null,o,a,l,c,u,i,s,f,h),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const DI=new Ut,W7=new Ut;class lg{constructor(e=[],t=[]){this.uuid=bs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ut)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Ut;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:W7;DI.multiplyMatrices(a,t[s]),DI.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new lg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=AU(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Pd(t,e,e,Oi,vi);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new i1),this.bones.push(o),this.boneInverses.push(new Ut().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class ku extends vn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Uf=new Ut,OI=new Ut,av=[],FI=new vo,j7=new Ut,lp=new dr,cp=new Ls;class yC extends dr{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new ku(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,j7)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new vo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Uf),FI.copy(e.boundingBox).applyMatrix4(Uf),this.boundingBox.union(FI)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ls),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Uf),cp.copy(e.boundingSphere).applyMatrix4(Uf),this.boundingSphere.union(cp)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(lp.geometry=this.geometry,lp.material=this.material,lp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),cp.copy(this.boundingSphere),cp.applyMatrix4(r),e.ray.intersectsSphere(cp)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Uf),OI.multiplyMatrices(r,Uf),lp.matrixWorld=OI,lp.raycast(e,av);for(let o=0,a=av.length;o<a;o++){const l=av[o];l.instanceId=s,l.object=this,t.push(l)}av.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new ku(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ai extends Ir{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new lt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const UI=new q,kI=new q,NI=new Ut,XS=new vh,lv=new Ls;class qa extends fn{constructor(e=new Xt,t=new Ai){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)UI.fromBufferAttribute(t,i-1),kI.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=UI.distanceTo(kI);e.setAttribute("lineDistance",new St(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),lv.copy(r.boundingSphere),lv.applyMatrix4(i),lv.radius+=s,e.ray.intersectsSphere(lv)===!1)return;NI.copy(i).invert(),XS.copy(e.ray).applyMatrix4(NI);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new q,u=new q,f=new q,h=new q,m=this.isLineSegments?2:1,v=r.index,_=r.attributes.position;if(v!==null){const g=Math.max(0,o.start),x=Math.min(v.count,o.start+o.count);for(let S=g,M=x-1;S<M;S+=m){const E=v.getX(S),b=v.getX(S+1);if(c.fromBufferAttribute(_,E),u.fromBufferAttribute(_,b),XS.distanceSqToSegment(c,u,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(h);R<e.near||R>e.far||t.push({distance:R,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),x=Math.min(_.count,o.start+o.count);for(let S=g,M=x-1;S<M;S+=m){if(c.fromBufferAttribute(_,S),u.fromBufferAttribute(_,S+1),XS.distanceSqToSegment(c,u,h,f)>l)continue;h.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(h);b<e.near||b>e.far||t.push({distance:b,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const zI=new q,GI=new q;class Jo extends qa{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)zI.fromBufferAttribute(t,i),GI.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+zI.distanceTo(GI);e.setAttribute("lineDistance",new St(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class _C extends qa{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class s1 extends Ir{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const HI=new Ut,bw=new vh,cv=new Ls,uv=new q;class xC extends fn{constructor(e=new Xt,t=new s1){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),cv.copy(r.boundingSphere),cv.applyMatrix4(i),cv.radius+=s,e.ray.intersectsSphere(cv)===!1)return;HI.copy(i).invert(),bw.copy(e.ray).applyMatrix4(HI);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const h=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let v=h,y=m;v<y;v++){const _=c.getX(v);uv.fromBufferAttribute(f,_),VI(uv,_,l,i,e,t,this)}}else{const h=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let v=h,y=m;v<y;v++)uv.fromBufferAttribute(f,v),VI(uv,v,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function VI(n,e,t,r,i,s,o){const a=bw.distanceSqToPoint(n);if(a<t){const l=new q;bw.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class X7 extends Nn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:bn,this.magFilter=s!==void 0?s:bn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class J7 extends Nn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=cr,this.minFilter=cr,this.generateMipmaps=!1,this.needsUpdate=!0}}class o1 extends Nn{constructor(e,t,r,i,s,o,a,l,c,u,f,h){super(null,o,a,l,c,u,i,s,f,h),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Y7 extends o1{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ri}}class K7 extends o1{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,ga),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class $7 extends Nn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Yo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],h=r[i+1]-u,m=(o-u)/h;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Je:new q);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new q,i=[],s=[],o=[],a=new q,l=new Ut;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new q)}s[0]=new q,o[0]=new q;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),h<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(ur(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(ur(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class a1 extends Yo{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Je,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,m=c-this.aY;l=h*u-m*f+this.aX,c=h*f+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class zU extends a1{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function SC(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let h=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+f)+(l-a)/f;h*=u,m*=u,i(o,a,h,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const fv=new q,JS=new SC,YS=new SC,KS=new SC;class GU extends Yo{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new q){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(fv.subVectors(i[0],i[1]).add(i[0]),c=fv);const f=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(fv.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=fv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(f),m),y=Math.pow(f.distanceToSquared(h),m),_=Math.pow(h.distanceToSquared(u),m);y<1e-4&&(y=1),v<1e-4&&(v=y),_<1e-4&&(_=y),JS.initNonuniformCatmullRom(c.x,f.x,h.x,u.x,v,y,_),YS.initNonuniformCatmullRom(c.y,f.y,h.y,u.y,v,y,_),KS.initNonuniformCatmullRom(c.z,f.z,h.z,u.z,v,y,_)}else this.curveType==="catmullrom"&&(JS.initCatmullRom(c.x,f.x,h.x,u.x,this.tension),YS.initCatmullRom(c.y,f.y,h.y,u.y,this.tension),KS.initCatmullRom(c.z,f.z,h.z,u.z,this.tension));return r.set(JS.calc(l),YS.calc(l),KS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new q().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function WI(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function Q7(n,e){const t=1-n;return t*t*e}function Z7(n,e){return 2*(1-n)*n*e}function q7(n,e){return n*n*e}function Vp(n,e,t,r){return Q7(n,e)+Z7(n,t)+q7(n,r)}function eX(n,e){const t=1-n;return t*t*t*e}function tX(n,e){const t=1-n;return 3*t*t*n*e}function nX(n,e){return 3*(1-n)*n*n*e}function rX(n,e){return n*n*n*e}function Wp(n,e,t,r,i){return eX(n,e)+tX(n,t)+nX(n,r)+rX(n,i)}class AC extends Yo{constructor(e=new Je,t=new Je,r=new Je,i=new Je){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Je){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Wp(e,i.x,s.x,o.x,a.x),Wp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class HU extends Yo{constructor(e=new q,t=new q,r=new q,i=new q){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new q){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Wp(e,i.x,s.x,o.x,a.x),Wp(e,i.y,s.y,o.y,a.y),Wp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class l1 extends Yo{constructor(e=new Je,t=new Je){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Je){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Je){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class VU extends Yo{constructor(e=new q,t=new q){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new q){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new q){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MC extends Yo{constructor(e=new Je,t=new Je,r=new Je){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Je){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Vp(e,i.x,s.x,o.x),Vp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wC extends Yo{constructor(e=new q,t=new q,r=new q){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new q){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Vp(e,i.x,s.x,o.x),Vp(e,i.y,s.y,o.y),Vp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EC extends Yo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Je){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(WI(a,l.x,c.x,u.x,f.x),WI(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Je().fromArray(i))}return this}}var bC=Object.freeze({__proto__:null,ArcCurve:zU,CatmullRomCurve3:GU,CubicBezierCurve:AC,CubicBezierCurve3:HU,EllipseCurve:a1,LineCurve:l1,LineCurve3:VU,QuadraticBezierCurve:MC,QuadraticBezierCurve3:wC,SplineCurve:EC});class WU extends Yo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new l1(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new bC[i.type]().fromJSON(i))}return this}}class bm extends WU{constructor(e){super(),this.type="Path",this.currentPoint=new Je,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new l1(this.currentPoint.clone(),new Je(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new MC(this.currentPoint.clone(),new Je(e,t),new Je(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new AC(this.currentPoint.clone(),new Je(e,t),new Je(r,i),new Je(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new EC(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new a1(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class cg extends Xt{constructor(e=[new Je(0,-.5),new Je(.5,0),new Je(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=ur(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new q,h=new Je,m=new q,v=new q,y=new q;let _=0,g=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:_=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-_,m.z=g*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:_=e[x+1].x-e[x].x,g=e[x+1].y-e[x].y,m.x=g*1,m.y=-_,m.z=g*0,v.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(v)}for(let x=0;x<=t;x++){const S=r+x*u*i,M=Math.sin(S),E=Math.cos(S);for(let b=0;b<=e.length-1;b++){f.x=e[b].x*M,f.y=e[b].y,f.z=e[b].x*E,o.push(f.x,f.y,f.z),h.x=x/t,h.y=b/(e.length-1),a.push(h.x,h.y);const C=l[3*b+0]*M,R=l[3*b+1],T=l[3*b+0]*E;c.push(C,R,T)}}for(let x=0;x<t;x++)for(let S=0;S<e.length-1;S++){const M=S+x*e.length,E=M,b=M+e.length,C=M+e.length+1,R=M+1;s.push(E,b,R),s.push(C,R,b)}this.setIndex(s),this.setAttribute("position",new St(o,3)),this.setAttribute("uv",new St(a,2)),this.setAttribute("normal",new St(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cg(e.points,e.segments,e.phiStart,e.phiLength)}}class c1 extends cg{constructor(e=1,t=1,r=4,i=8){const s=new bm;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new c1(e.radius,e.length,e.capSegments,e.radialSegments)}}class u1 extends Xt{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new q,u=new Je;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=t;f++,h+=3){const m=r+f/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[h]/e+1)/2,u.y=(o[h+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new St(o,3)),this.setAttribute("normal",new St(a,3)),this.setAttribute("uv",new St(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class _h extends Xt{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],h=[],m=[];let v=0;const y=[],_=r/2;let g=0;x(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new St(f,3)),this.setAttribute("normal",new St(h,3)),this.setAttribute("uv",new St(m,2));function x(){const M=new q,E=new q;let b=0;const C=(t-e)/r;for(let R=0;R<=s;R++){const T=[],B=R/s,k=B*(t-e)+e;for(let N=0;N<=i;N++){const j=N/i,Y=j*l+a,Q=Math.sin(Y),W=Math.cos(Y);E.x=k*Q,E.y=-B*r+_,E.z=k*W,f.push(E.x,E.y,E.z),M.set(Q,C,W).normalize(),h.push(M.x,M.y,M.z),m.push(j,1-B),T.push(v++)}y.push(T)}for(let R=0;R<i;R++)for(let T=0;T<s;T++){const B=y[T][R],k=y[T+1][R],N=y[T+1][R+1],j=y[T][R+1];u.push(B,k,j),u.push(k,N,j),b+=6}c.addGroup(g,b,0),g+=b}function S(M){const E=v,b=new Je,C=new q;let R=0;const T=M===!0?e:t,B=M===!0?1:-1;for(let N=1;N<=i;N++)f.push(0,_*B,0),h.push(0,B,0),m.push(.5,.5),v++;const k=v;for(let N=0;N<=i;N++){const Y=N/i*l+a,Q=Math.cos(Y),W=Math.sin(Y);C.x=T*W,C.y=_*B,C.z=T*Q,f.push(C.x,C.y,C.z),h.push(0,B,0),b.x=Q*.5+.5,b.y=W*.5*B+.5,m.push(b.x,b.y),v++}for(let N=0;N<i;N++){const j=E+N,Y=k+N;M===!0?u.push(Y,Y+1,j):u.push(Y+1,Y,j),R+=3}c.addGroup(g,R,M===!0?1:2),g+=R}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _h(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class f1 extends _h{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new f1(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class yc extends Xt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new St(s,3)),this.setAttribute("normal",new St(s.slice(),3)),this.setAttribute("uv",new St(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const S=new q,M=new q,E=new q;for(let b=0;b<t.length;b+=3)m(t[b+0],S),m(t[b+1],M),m(t[b+2],E),l(S,M,E,x)}function l(x,S,M,E){const b=E+1,C=[];for(let R=0;R<=b;R++){C[R]=[];const T=x.clone().lerp(M,R/b),B=S.clone().lerp(M,R/b),k=b-R;for(let N=0;N<=k;N++)N===0&&R===b?C[R][N]=T:C[R][N]=T.clone().lerp(B,N/k)}for(let R=0;R<b;R++)for(let T=0;T<2*(b-R)-1;T++){const B=Math.floor(T/2);T%2===0?(h(C[R][B+1]),h(C[R+1][B]),h(C[R][B])):(h(C[R][B+1]),h(C[R+1][B+1]),h(C[R+1][B]))}}function c(x){const S=new q;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(x),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function u(){const x=new q;for(let S=0;S<s.length;S+=3){x.x=s[S+0],x.y=s[S+1],x.z=s[S+2];const M=_(x)/2/Math.PI+.5,E=g(x)/Math.PI+.5;o.push(M,1-E)}v(),f()}function f(){for(let x=0;x<o.length;x+=6){const S=o[x+0],M=o[x+2],E=o[x+4],b=Math.max(S,M,E),C=Math.min(S,M,E);b>.9&&C<.1&&(S<.2&&(o[x+0]+=1),M<.2&&(o[x+2]+=1),E<.2&&(o[x+4]+=1))}}function h(x){s.push(x.x,x.y,x.z)}function m(x,S){const M=x*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function v(){const x=new q,S=new q,M=new q,E=new q,b=new Je,C=new Je,R=new Je;for(let T=0,B=0;T<s.length;T+=9,B+=6){x.set(s[T+0],s[T+1],s[T+2]),S.set(s[T+3],s[T+4],s[T+5]),M.set(s[T+6],s[T+7],s[T+8]),b.set(o[B+0],o[B+1]),C.set(o[B+2],o[B+3]),R.set(o[B+4],o[B+5]),E.copy(x).add(S).add(M).divideScalar(3);const k=_(E);y(b,B+0,x,k),y(C,B+2,S,k),y(R,B+4,M,k)}}function y(x,S,M,E){E<0&&x.x===1&&(o[S]=x.x-1),M.x===0&&M.z===0&&(o[S]=E/2/Math.PI+.5)}function _(x){return Math.atan2(x.z,-x.x)}function g(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yc(e.vertices,e.indices,e.radius,e.details)}}class d1 extends yc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new d1(e.radius,e.detail)}}const dv=new q,hv=new q,$S=new q,pv=new $i;class jU extends Xt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(xu*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),h={},m=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:y,b:_,c:g}=pv;if(y.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),pv.getNormal($S),f[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const S=(x+1)%3,M=f[x],E=f[S],b=pv[u[x]],C=pv[u[S]],R=`${M}_${E}`,T=`${E}_${M}`;T in h&&h[T]?($S.dot(h[T].normal)<=s&&(m.push(b.x,b.y,b.z),m.push(C.x,C.y,C.z)),h[T]=null):R in h||(h[R]={index0:c[x],index1:c[S],normal:$S.clone()})}}for(const v in h)if(h[v]){const{index0:y,index1:_}=h[v];dv.fromBufferAttribute(a,y),hv.fromBufferAttribute(a,_),m.push(dv.x,dv.y,dv.z),m.push(hv.x,hv.y,hv.z)}this.setAttribute("position",new St(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Au extends bm{constructor(e){super(e),this.uuid=bs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new bm().fromJSON(i))}return this}}const iX={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=XU(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,h,m;if(r&&(s=cX(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let v=t;v<i;v+=t)f=n[v],h=n[v+1],f<a&&(a=f),h<l&&(l=h),f>c&&(c=f),h>u&&(u=h);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Cm(s,o,t,a,l,m,0),o}};function XU(n,e,t,r,i){let s,o;if(i===xX(n,e,t,r)>0)for(s=e;s<t;s+=r)o=jI(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=jI(s,n[s],n[s+1],o);return o&&h1(o,o.next)&&(Rm(o),o=o.next),o}function Nu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(h1(t,t.next)||er(t.prev,t,t.next)===0)){if(Rm(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Cm(n,e,t,r,i,s,o){if(!n)return;!o&&s&&pX(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?oX(n,r,i,s):sX(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Rm(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=aX(Nu(n),e,t),Cm(n,e,t,r,i,s,2)):o===2&&lX(n,e,t,r,i,s):Cm(Nu(n),e,t,r,i,s,1);break}}}function sX(n){const e=n.prev,t=n,r=n.next;if(er(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,h=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let v=r.next;for(;v!==e;){if(v.x>=u&&v.x<=h&&v.y>=f&&v.y<=m&&pd(i,a,s,l,o,c,v.x,v.y)&&er(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function oX(n,e,t,r){const i=n.prev,s=n,o=n.next;if(er(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,h=o.y,m=a<l?a<c?a:c:l<c?l:c,v=u<f?u<h?u:h:f<h?f:h,y=a>l?a>c?a:c:l>c?l:c,_=u>f?u>h?u:h:f>h?f:h,g=Cw(m,v,e,t,r),x=Cw(y,_,e,t,r);let S=n.prevZ,M=n.nextZ;for(;S&&S.z>=g&&M&&M.z<=x;){if(S.x>=m&&S.x<=y&&S.y>=v&&S.y<=_&&S!==i&&S!==o&&pd(a,u,l,f,c,h,S.x,S.y)&&er(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=y&&M.y>=v&&M.y<=_&&M!==i&&M!==o&&pd(a,u,l,f,c,h,M.x,M.y)&&er(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=y&&S.y>=v&&S.y<=_&&S!==i&&S!==o&&pd(a,u,l,f,c,h,S.x,S.y)&&er(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=x;){if(M.x>=m&&M.x<=y&&M.y>=v&&M.y<=_&&M!==i&&M!==o&&pd(a,u,l,f,c,h,M.x,M.y)&&er(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function aX(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!h1(i,s)&&JU(i,r,r.next,s)&&Tm(i,s)&&Tm(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Rm(r),Rm(r.next),r=n=s),r=r.next}while(r!==n);return Nu(r)}function lX(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&vX(o,a)){let l=YU(o,a);o=Nu(o,o.next),l=Nu(l,l.next),Cm(o,e,t,r,i,s,0),Cm(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function cX(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=XU(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(gX(c));for(i.sort(uX),s=0;s<i.length;s++)t=fX(i[s],t);return t}function uX(n,e){return n.x-e.x}function fX(n,e){const t=dX(n,e);if(!t)return e;const r=YU(t,n);return Nu(r,r.next),Nu(t,t.next)}function dX(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const h=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=s&&h>r&&(r=h,i=t.x<t.next.x?t:t.next,h===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&pd(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),Tm(t,n)&&(f<u||f===u&&(t.x>i.x||t.x===i.x&&hX(i,t)))&&(i=t,u=f)),t=t.next;while(t!==a);return i}function hX(n,e){return er(n.prev,n,e.prev)<0&&er(e.next,n,n.next)<0}function pX(n,e,t,r){let i=n;do i.z===0&&(i.z=Cw(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,mX(i)}function mX(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function Cw(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function gX(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function pd(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function vX(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!yX(n,e)&&(Tm(n,e)&&Tm(e,n)&&_X(n,e)&&(er(n.prev,n,e.prev)||er(n,e.prev,e))||h1(n,e)&&er(n.prev,n,n.next)>0&&er(e.prev,e,e.next)>0)}function er(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function h1(n,e){return n.x===e.x&&n.y===e.y}function JU(n,e,t,r){const i=gv(er(n,e,t)),s=gv(er(n,e,r)),o=gv(er(t,r,n)),a=gv(er(t,r,e));return!!(i!==s&&o!==a||i===0&&mv(n,t,e)||s===0&&mv(n,r,e)||o===0&&mv(t,n,r)||a===0&&mv(t,e,r))}function mv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function gv(n){return n>0?1:n<0?-1:0}function yX(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&JU(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Tm(n,e){return er(n.prev,n,n.next)<0?er(n,e,n.next)>=0&&er(n,n.prev,e)>=0:er(n,e,n.prev)<0||er(n,n.next,e)<0}function _X(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function YU(n,e){const t=new Tw(n.i,n.x,n.y),r=new Tw(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function jI(n,e,t,r){const i=new Tw(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Rm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Tw(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xX(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class ha{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return ha.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];XI(e),JI(r,e);let o=e.length;t.forEach(XI);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,JI(r,t[l]);const a=iX.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function XI(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function JI(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class p1 extends Xt{constructor(e=new Au([new Je(.5,.5),new Je(-.5,.5),new Je(-.5,-.5),new Je(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new St(i,3)),this.setAttribute("uv",new St(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let h=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:SX;let S,M=!1,E,b,C,R;g&&(S=g.getSpacedPoints(u),M=!0,h=!1,E=g.computeFrenetFrames(u,!1),b=new q,C=new q,R=new q),h||(_=0,m=0,v=0,y=0);const T=a.extractPoints(c);let B=T.shape;const k=T.holes;if(!ha.isClockWise(B)){B=B.reverse();for(let $=0,we=k.length;$<we;$++){const _e=k[$];ha.isClockWise(_e)&&(k[$]=_e.reverse())}}const j=ha.triangulateShape(B,k),Y=B;for(let $=0,we=k.length;$<we;$++){const _e=k[$];B=B.concat(_e)}function Q($,we,_e){return we||console.error("THREE.ExtrudeGeometry: vec does not exist"),$.clone().addScaledVector(we,_e)}const W=B.length,V=j.length;function D($,we,_e){let Ee,Ae,Ye;const de=$.x-we.x,Re=$.y-we.y,Te=_e.x-$.x,xe=_e.y-$.y,Qe=de*de+Re*Re,K=de*xe-Re*Te;if(Math.abs(K)>Number.EPSILON){const z=Math.sqrt(Qe),ce=Math.sqrt(Te*Te+xe*xe),Ve=we.x-Re/z,De=we.y+de/z,Be=_e.x-xe/ce,Ke=_e.y+Te/ce,We=((Be-Ve)*xe-(Ke-De)*Te)/(de*xe-Re*Te);Ee=Ve+de*We-$.x,Ae=De+Re*We-$.y;const ve=Ee*Ee+Ae*Ae;if(ve<=2)return new Je(Ee,Ae);Ye=Math.sqrt(ve/2)}else{let z=!1;de>Number.EPSILON?Te>Number.EPSILON&&(z=!0):de<-Number.EPSILON?Te<-Number.EPSILON&&(z=!0):Math.sign(Re)===Math.sign(xe)&&(z=!0),z?(Ee=-Re,Ae=de,Ye=Math.sqrt(Qe)):(Ee=de,Ae=Re,Ye=Math.sqrt(Qe/2))}return new Je(Ee/Ye,Ae/Ye)}const G=[];for(let $=0,we=Y.length,_e=we-1,Ee=$+1;$<we;$++,_e++,Ee++)_e===we&&(_e=0),Ee===we&&(Ee=0),G[$]=D(Y[$],Y[_e],Y[Ee]);const H=[];let O,X=G.concat();for(let $=0,we=k.length;$<we;$++){const _e=k[$];O=[];for(let Ee=0,Ae=_e.length,Ye=Ae-1,de=Ee+1;Ee<Ae;Ee++,Ye++,de++)Ye===Ae&&(Ye=0),de===Ae&&(de=0),O[Ee]=D(_e[Ee],_e[Ye],_e[de]);H.push(O),X=X.concat(O)}for(let $=0;$<_;$++){const we=$/_,_e=m*Math.cos(we*Math.PI/2),Ee=v*Math.sin(we*Math.PI/2)+y;for(let Ae=0,Ye=Y.length;Ae<Ye;Ae++){const de=Q(Y[Ae],G[Ae],Ee);ue(de.x,de.y,-_e)}for(let Ae=0,Ye=k.length;Ae<Ye;Ae++){const de=k[Ae];O=H[Ae];for(let Re=0,Te=de.length;Re<Te;Re++){const xe=Q(de[Re],O[Re],Ee);ue(xe.x,xe.y,-_e)}}}const ie=v+y;for(let $=0;$<W;$++){const we=h?Q(B[$],X[$],ie):B[$];M?(C.copy(E.normals[0]).multiplyScalar(we.x),b.copy(E.binormals[0]).multiplyScalar(we.y),R.copy(S[0]).add(C).add(b),ue(R.x,R.y,R.z)):ue(we.x,we.y,0)}for(let $=1;$<=u;$++)for(let we=0;we<W;we++){const _e=h?Q(B[we],X[we],ie):B[we];M?(C.copy(E.normals[$]).multiplyScalar(_e.x),b.copy(E.binormals[$]).multiplyScalar(_e.y),R.copy(S[$]).add(C).add(b),ue(R.x,R.y,R.z)):ue(_e.x,_e.y,f/u*$)}for(let $=_-1;$>=0;$--){const we=$/_,_e=m*Math.cos(we*Math.PI/2),Ee=v*Math.sin(we*Math.PI/2)+y;for(let Ae=0,Ye=Y.length;Ae<Ye;Ae++){const de=Q(Y[Ae],G[Ae],Ee);ue(de.x,de.y,f+_e)}for(let Ae=0,Ye=k.length;Ae<Ye;Ae++){const de=k[Ae];O=H[Ae];for(let Re=0,Te=de.length;Re<Te;Re++){const xe=Q(de[Re],O[Re],Ee);M?ue(xe.x,xe.y+S[u-1].y,S[u-1].x+_e):ue(xe.x,xe.y,f+_e)}}}ae(),oe();function ae(){const $=i.length/3;if(h){let we=0,_e=W*we;for(let Ee=0;Ee<V;Ee++){const Ae=j[Ee];me(Ae[2]+_e,Ae[1]+_e,Ae[0]+_e)}we=u+_*2,_e=W*we;for(let Ee=0;Ee<V;Ee++){const Ae=j[Ee];me(Ae[0]+_e,Ae[1]+_e,Ae[2]+_e)}}else{for(let we=0;we<V;we++){const _e=j[we];me(_e[2],_e[1],_e[0])}for(let we=0;we<V;we++){const _e=j[we];me(_e[0]+W*u,_e[1]+W*u,_e[2]+W*u)}}r.addGroup($,i.length/3-$,0)}function oe(){const $=i.length/3;let we=0;fe(Y,we),we+=Y.length;for(let _e=0,Ee=k.length;_e<Ee;_e++){const Ae=k[_e];fe(Ae,we),we+=Ae.length}r.addGroup($,i.length/3-$,1)}function fe($,we){let _e=$.length;for(;--_e>=0;){const Ee=_e;let Ae=_e-1;Ae<0&&(Ae=$.length-1);for(let Ye=0,de=u+_*2;Ye<de;Ye++){const Re=W*Ye,Te=W*(Ye+1),xe=we+Ee+Re,Qe=we+Ae+Re,K=we+Ae+Te,z=we+Ee+Te;Ne(xe,Qe,K,z)}}}function ue($,we,_e){l.push($),l.push(we),l.push(_e)}function me($,we,_e){Xe($),Xe(we),Xe(_e);const Ee=i.length/3,Ae=x.generateTopUV(r,i,Ee-3,Ee-2,Ee-1);ye(Ae[0]),ye(Ae[1]),ye(Ae[2])}function Ne($,we,_e,Ee){Xe($),Xe(we),Xe(Ee),Xe(we),Xe(_e),Xe(Ee);const Ae=i.length/3,Ye=x.generateSideWallUV(r,i,Ae-6,Ae-3,Ae-2,Ae-1);ye(Ye[0]),ye(Ye[1]),ye(Ye[3]),ye(Ye[1]),ye(Ye[2]),ye(Ye[3])}function Xe($){i.push(l[$*3+0]),i.push(l[$*3+1]),i.push(l[$*3+2])}function ye($){s.push($.x),s.push($.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return AX(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new bC[i.type]().fromJSON(i)),new p1(r,e.options)}}const SX={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Je(s,o),new Je(a,l),new Je(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],h=e[i*3],m=e[i*3+1],v=e[i*3+2],y=e[s*3],_=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Je(o,1-l),new Je(c,1-f),new Je(h,1-v),new Je(y,1-g)]:[new Je(a,1-l),new Je(u,1-f),new Je(m,1-v),new Je(_,1-g)]}};function AX(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class ug extends yc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ug(e.radius,e.detail)}}class fg extends yc{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new fg(e.radius,e.detail)}}class m1 extends Xt{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const h=(t-e)/i,m=new q,v=new Je;for(let y=0;y<=i;y++){for(let _=0;_<=r;_++){const g=s+_/r*o;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,u.push(v.x,v.y)}f+=h}for(let y=0;y<i;y++){const _=y*(r+1);for(let g=0;g<r;g++){const x=g+_,S=x,M=x+r+1,E=x+r+2,b=x+1;a.push(S,M,b),a.push(M,E,b)}}this.setIndex(a),this.setAttribute("position",new St(l,3)),this.setAttribute("normal",new St(c,3)),this.setAttribute("uv",new St(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new m1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class g1 extends Xt{constructor(e=new Au([new Je(0,.5),new Je(-.5,-.5),new Je(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new St(i,3)),this.setAttribute("normal",new St(s,3)),this.setAttribute("uv",new St(o,2));function c(u){const f=i.length/3,h=u.extractPoints(t);let m=h.shape;const v=h.holes;ha.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,g=v.length;_<g;_++){const x=v[_];ha.isClockWise(x)===!0&&(v[_]=x.reverse())}const y=ha.triangulateShape(m,v);for(let _=0,g=v.length;_<g;_++){const x=v[_];m=m.concat(x)}for(let _=0,g=m.length;_<g;_++){const x=m[_];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let _=0,g=y.length;_<g;_++){const x=y[_],S=x[0]+f,M=x[1]+f,E=x[2]+f;r.push(S,M,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return MX(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new g1(r,e.curveSegments)}}function MX(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class dg extends Xt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new q,h=new q,m=[],v=[],y=[],_=[];for(let g=0;g<=r;g++){const x=[],S=g/r;let M=0;g===0&&o===0?M=.5/t:g===r&&l===Math.PI&&(M=-.5/t);for(let E=0;E<=t;E++){const b=E/t;f.x=-e*Math.cos(i+b*s)*Math.sin(o+S*a),f.y=e*Math.cos(o+S*a),f.z=e*Math.sin(i+b*s)*Math.sin(o+S*a),v.push(f.x,f.y,f.z),h.copy(f).normalize(),y.push(h.x,h.y,h.z),_.push(b+M,1-S),x.push(c++)}u.push(x)}for(let g=0;g<r;g++)for(let x=0;x<t;x++){const S=u[g][x+1],M=u[g][x],E=u[g+1][x],b=u[g+1][x+1];(g!==0||o>0)&&m.push(S,M,b),(g!==r-1||l<Math.PI)&&m.push(M,E,b)}this.setIndex(m),this.setAttribute("position",new St(v,3)),this.setAttribute("normal",new St(y,3)),this.setAttribute("uv",new St(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class v1 extends yc{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new v1(e.radius,e.detail)}}class y1 extends Xt{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new q,f=new q,h=new q;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const y=v/i*s,_=m/r*Math.PI*2;f.x=(e+t*Math.cos(_))*Math.cos(y),f.y=(e+t*Math.cos(_))*Math.sin(y),f.z=t*Math.sin(_),a.push(f.x,f.y,f.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),h.subVectors(f,u).normalize(),l.push(h.x,h.y,h.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const y=(i+1)*m+v-1,_=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,x=(i+1)*m+v;o.push(y,_,x),o.push(_,g,x)}this.setIndex(o),this.setAttribute("position",new St(a,3)),this.setAttribute("normal",new St(l,3)),this.setAttribute("uv",new St(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new y1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class _1 extends Xt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new q,h=new q,m=new q,v=new q,y=new q,_=new q,g=new q;for(let S=0;S<=r;++S){const M=S/r*s*Math.PI*2;x(M,s,o,e,m),x(M+.01,s,o,e,v),_.subVectors(v,m),g.addVectors(v,m),y.crossVectors(_,g),g.crossVectors(y,_),y.normalize(),g.normalize();for(let E=0;E<=i;++E){const b=E/i*Math.PI*2,C=-t*Math.cos(b),R=t*Math.sin(b);f.x=m.x+(C*g.x+R*y.x),f.y=m.y+(C*g.y+R*y.y),f.z=m.z+(C*g.z+R*y.z),l.push(f.x,f.y,f.z),h.subVectors(f,m).normalize(),c.push(h.x,h.y,h.z),u.push(S/r),u.push(E/i)}}for(let S=1;S<=r;S++)for(let M=1;M<=i;M++){const E=(i+1)*(S-1)+(M-1),b=(i+1)*S+(M-1),C=(i+1)*S+M,R=(i+1)*(S-1)+M;a.push(E,b,R),a.push(b,C,R)}this.setIndex(a),this.setAttribute("position",new St(l,3)),this.setAttribute("normal",new St(c,3)),this.setAttribute("uv",new St(u,2));function x(S,M,E,b,C){const R=Math.cos(S),T=Math.sin(S),B=E/M*S,k=Math.cos(B);C.x=b*(2+k)*.5*R,C.y=b*(2+k)*T*.5,C.z=b*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class x1 extends Xt{constructor(e=new wC(new q(-1,-1,0),new q(-1,1,0),new q(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new q,l=new q,c=new Je;let u=new q;const f=[],h=[],m=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new St(f,3)),this.setAttribute("normal",new St(h,3)),this.setAttribute("uv",new St(m,2));function y(){for(let S=0;S<t;S++)_(S);_(s===!1?t:0),x(),g()}function _(S){u=e.getPointAt(S/t,u);const M=o.normals[S],E=o.binormals[S];for(let b=0;b<=i;b++){const C=b/i*Math.PI*2,R=Math.sin(C),T=-Math.cos(C);l.x=T*M.x+R*E.x,l.y=T*M.y+R*E.y,l.z=T*M.z+R*E.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=t;S++)for(let M=1;M<=i;M++){const E=(i+1)*(S-1)+(M-1),b=(i+1)*S+(M-1),C=(i+1)*S+M,R=(i+1)*(S-1)+M;v.push(E,b,R),v.push(b,C,R)}}function x(){for(let S=0;S<=t;S++)for(let M=0;M<=i;M++)c.x=S/t,c.y=M/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new x1(new bC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class KU extends Xt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new q,s=new q;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],h=f.start,m=f.count;for(let v=h,y=h+m;v<y;v+=3)for(let _=0;_<3;_++){const g=a.getX(v+_),x=a.getX(v+(_+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,x),YI(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),YI(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new St(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function YI(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var KI=Object.freeze({__proto__:null,BoxGeometry:Ju,CapsuleGeometry:c1,CircleGeometry:u1,ConeGeometry:f1,CylinderGeometry:_h,DodecahedronGeometry:d1,EdgesGeometry:jU,ExtrudeGeometry:p1,IcosahedronGeometry:ug,LatheGeometry:cg,OctahedronGeometry:fg,PlaneGeometry:vc,PolyhedronGeometry:yc,RingGeometry:m1,ShapeGeometry:g1,SphereGeometry:dg,TetrahedronGeometry:v1,TorusGeometry:y1,TorusKnotGeometry:_1,TubeGeometry:x1,WireframeGeometry:KU});class $U extends Ir{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new lt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class QU extends Xo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class hg extends Ir{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new lt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Sa extends hg{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Je(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ur(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new lt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new lt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new lt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class ZU extends Ir{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new lt(16777215),this.specular=new lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class qU extends Ir{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new lt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class ek extends Ir{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class tk extends Ir{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nk extends Ir{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new lt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class rk extends Ai{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Zs(n,e,t){return CC(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function hu(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function CC(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ik(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function Rw(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function TC(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function wX(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],h=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<t||v>=r)){f.push(c.times[m]);for(let y=0;y<u;++y)h.push(c.values[m*u+y])}}f.length!==0&&(c.times=hu(f,c.times.constructor),c.values=hu(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function EX(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let h=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const g=u,x=f-u;y=Zs(a.values,g,x)}else if(s>=a.times[v]){const g=v*f+u,x=g+f-u;y=Zs(a.values,g,x)}else{const g=a.createInterpolant(),x=u,S=f-u;g.evaluate(s),y=Zs(g.resultBuffer,x,S)}l==="quaternion"&&new Yr().fromArray(y).normalize().conjugate().toArray(y);const _=c.times.length;for(let g=0;g<_;++g){const x=g*m+h;if(l==="quaternion")Yr.multiplyQuaternionsFlat(c.values,x,y,0,c.values,x);else{const S=m-h*2;for(let M=0;M<S;++M)c.values[x+M]-=y[M]}}}return n.blendMode=nC,n}const bX={arraySlice:Zs,convertArray:hu,isTypedArray:CC,getKeyframeOrder:ik,sortedArray:Rw,flattenJSON:TC,subclip:wX,makeClipAdditive:EX};class xh{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class sk extends xh{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:cu,endingEnd:cu}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case uu:s=e,a=2*t-r;break;case Sm:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case uu:o=e,l=2*r-t;break;case Sm:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,m=this._weightNext,v=(r-t)/(i-t),y=v*v,_=y*v,g=-h*_+2*h*y-h*v,x=(1+h)*_+(-1.5-2*h)*y+(-.5+h)*v+1,S=(-1-m)*_+(1.5+m)*y+.5*v,M=m*_-m*y;for(let E=0;E!==a;++E)s[E]=g*o[u+E]+x*o[c+E]+S*o[l+E]+M*o[f+E];return s}}class RC extends xh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),f=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*f+o[l+h]*u;return s}}class ok extends xh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ko{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=hu(t,this.TimeBufferType),this.values=hu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:hu(e.times,Array),values:hu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new ok(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new RC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new sk(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Jd:t=this.InterpolantFactoryMethodDiscrete;break;case Uu:t=this.InterpolantFactoryMethodLinear;break;case fy:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Jd;case this.InterpolantFactoryMethodLinear:return Uu;case this.InterpolantFactoryMethodSmooth:return fy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Zs(r,s,o),this.values=Zs(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&CC(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Zs(this.times),t=Zs(this.values),r=this.getValueSize(),i=this.getInterpolation()===fy,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,h=f-r,m=f+r;for(let v=0;v!==r;++v){const y=t[f+v];if(y!==t[h+v]||y!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,h=o*r;for(let m=0;m!==r;++m)t[h+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Zs(e,0,o),this.values=Zs(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Zs(this.times,0),t=Zs(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Ko.prototype.TimeBufferType=Float32Array;Ko.prototype.ValueBufferType=Float32Array;Ko.prototype.DefaultInterpolation=Uu;class Yu extends Ko{}Yu.prototype.ValueTypeName="bool";Yu.prototype.ValueBufferType=Array;Yu.prototype.DefaultInterpolation=Jd;Yu.prototype.InterpolantFactoryMethodLinear=void 0;Yu.prototype.InterpolantFactoryMethodSmooth=void 0;class PC extends Ko{}PC.prototype.ValueTypeName="color";class $d extends Ko{}$d.prototype.ValueTypeName="number";class ak extends xh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Yr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class uc extends Ko{InterpolantFactoryMethodLinear(e){return new ak(this.times,this.values,this.getValueSize(),e)}}uc.prototype.ValueTypeName="quaternion";uc.prototype.DefaultInterpolation=Uu;uc.prototype.InterpolantFactoryMethodSmooth=void 0;class Ku extends Ko{}Ku.prototype.ValueTypeName="string";Ku.prototype.ValueBufferType=Array;Ku.prototype.DefaultInterpolation=Jd;Ku.prototype.InterpolantFactoryMethodLinear=void 0;Ku.prototype.InterpolantFactoryMethodSmooth=void 0;class Qd extends Ko{}Qd.prototype.ValueTypeName="vector";class Zd{constructor(e,t=-1,r,i=$_){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=bs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(TX(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Ko.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=ik(l);l=Rw(l,1,u),c=Rw(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new $d(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let h=i[f];h||(i[f]=h=[]),h.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,m,v,y){if(m.length!==0){const _=[],g=[];TC(m,_,g,v),_.length!==0&&y.push(new f(h,_,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const h=c[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const m={};let v;for(v=0;v<h.length;v++)if(h[v].morphTargets)for(let y=0;y<h[v].morphTargets.length;y++)m[h[v].morphTargets[y]]=-1;for(const y in m){const _=[],g=[];for(let x=0;x!==h[v].morphTargets.length;++x){const S=h[v];_.push(S.time),g.push(S.morphTarget===y?1:0)}i.push(new $d(".morphTargetInfluence["+y+"]",_,g))}l=m.length*o}else{const m=".bones["+t[f].name+"]";r(Qd,m+".position",h,"pos",i),r(uc,m+".quaternion",h,"rot",i),r(Qd,m+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function CX(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return $d;case"vector":case"vector2":case"vector3":case"vector4":return Qd;case"color":return PC;case"quaternion":return uc;case"bool":case"boolean":return Yu;case"string":return Ku}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function TX(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=CX(n.type);if(n.times===void 0){const t=[],r=[];TC(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const zu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class IC{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=c.length;f<h;f+=2){const m=c[f],v=c[f+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}}const lk=new IC;class Mi{constructor(e){this.manager=e!==void 0?e:lk,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Mi.DEFAULT_MATERIAL_NAME="__DEFAULT";const La={};class RX extends Error{constructor(e,t){super(e),this.response=t}}class Rs extends Mi{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=zu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(La[e]!==void 0){La[e].push({onLoad:t,onProgress:r,onError:i});return}La[e]=[],La[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=La[e],f=c.body.getReader(),h=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=h?parseInt(h):0,v=m!==0;let y=0;const _=new ReadableStream({start(g){x();function x(){f.read().then(({done:S,value:M})=>{if(S)g.close();else{y+=M.byteLength;const E=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:m});for(let b=0,C=u.length;b<C;b++){const R=u[b];R.onProgress&&R.onProgress(E)}g.enqueue(M),x()}})}}});return new Response(_)}else throw new RX(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(h);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{zu.add(e,c);const u=La[e];delete La[e];for(let f=0,h=u.length;f<h;f++){const m=u[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=La[e];if(u===void 0)throw this.manager.itemError(e),c;delete La[e];for(let f=0,h=u.length;f<h;f++){const m=u[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class PX extends Mi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Rs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Zd.parse(e[r]);t.push(i)}return t}}class IX extends Mi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new o1,l=new Rs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(h){const m=s.parse(h,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=bn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)u(f);else l.load(e,function(f){const h=s.parse(f,!0);if(h.isCubemap){const m=h.mipmaps.length/h.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let y=0;y<h.mipmapCount;y++)o[v].mipmaps.push(h.mipmaps[v*h.mipmapCount+y]),o[v].format=h.format,o[v].width=h.width,o[v].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=bn),a.format=h.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Pm extends Mi{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=zu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=wm("img");function l(){u(),zu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class ck extends Mi{constructor(e){super(e)}load(e,t,r,i){const s=new og;s.colorSpace=$t;const o=new Pm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class BC extends Mi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Pd,a=new Rs(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}if(!c)return i();c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ri,o.wrapT=c.wrapT!==void 0?c.wrapT:ri,o.magFilter=c.magFilter!==void 0?c.magFilter:bn,o.minFilter=c.minFilter!==void 0?c.minFilter:bn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=va),c.mipmapCount===1&&(o.minFilter=bn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},r,i),o}}class uk extends Mi{constructor(e){super(e)}load(e,t,r,i){const s=new Nn,o=new Pm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class _c extends fn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new lt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class fk extends _c{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(fn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new lt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const QS=new Ut,$I=new q,QI=new q;class LC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Je(512,512),this.map=null,this.mapPass=null,this.matrix=new Ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Z_,this._frameExtents=new Je(1,1),this._viewportCount=1,this._viewports=[new Sn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;$I.setFromMatrixPosition(e.matrixWorld),t.position.copy($I),QI.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(QI),t.updateMatrixWorld(),QS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(QS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(QS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class BX extends LC{constructor(){super(new Kn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Yd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class DC extends _c{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(fn.DEFAULT_UP),this.updateMatrix(),this.target=new fn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new BX}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const ZI=new Ut,up=new q,ZS=new q;class LX extends LC{constructor(){super(new Kn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Je(4,2),this._viewportCount=6,this._viewports=[new Sn(2,1,1,1),new Sn(0,1,1,1),new Sn(3,1,1,1),new Sn(1,1,1,1),new Sn(3,0,1,1),new Sn(1,0,1,1)],this._cubeDirections=[new q(1,0,0),new q(-1,0,0),new q(0,0,1),new q(0,0,-1),new q(0,1,0),new q(0,-1,0)],this._cubeUps=[new q(0,1,0),new q(0,1,0),new q(0,1,0),new q(0,1,0),new q(0,0,1),new q(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),up.setFromMatrixPosition(e.matrixWorld),r.position.copy(up),ZS.copy(r.position),ZS.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(ZS),r.updateMatrixWorld(),i.makeTranslation(-up.x,-up.y,-up.z),ZI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ZI)}}class OC extends _c{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new LX}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class DX extends LC{constructor(){super(new No(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class FC extends _c{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(fn.DEFAULT_UP),this.updateMatrix(),this.target=new fn,this.shadow=new DX}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class dk extends _c{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class hk extends _c{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class pk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class S1 extends _c{constructor(e=new pk,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class A1 extends Mi{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Rs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=A1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new lt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new lt().setHex(o.value);break;case"v2":i.uniforms[s].value=new Je().fromArray(o.value);break;case"v3":i.uniforms[s].value=new q().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Sn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Qt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ut().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Je().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Je().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:$U,SpriteMaterial:gC,RawShaderMaterial:QU,ShaderMaterial:Xo,PointsMaterial:s1,MeshPhysicalMaterial:Sa,MeshStandardMaterial:hg,MeshPhongMaterial:ZU,MeshToonMaterial:qU,MeshNormalMaterial:ek,MeshLambertMaterial:tk,MeshDepthMaterial:e1,MeshDistanceMaterial:t1,MeshBasicMaterial:es,MeshMatcapMaterial:nk,LineDashedMaterial:rk,LineBasicMaterial:Ai,Material:Ir};return new t[e]}}class pa{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class UC extends Xt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class mk extends Mi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Rs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,v){if(t[v]!==void 0)return t[v];const _=m.interleavedBuffers[v],g=s(m,_.buffer),x=dd(_.type,g),S=new ag(x,_.stride);return S.uuid=_.uuid,t[v]=S,S}function s(m,v){if(r[v]!==void 0)return r[v];const _=m.arrayBuffers[v],g=new Uint32Array(_).buffer;return r[v]=g,g}const o=e.isInstancedBufferGeometry?new UC:new Xt,a=e.data.index;if(a!==void 0){const m=dd(a.type,a.array);o.setIndex(new vn(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let y;if(v.isInterleavedBufferAttribute){const _=i(e.data,v.data);y=new cc(_,v.itemSize,v.offset,v.normalized)}else{const _=dd(v.type,v.array),g=v.isInstancedBufferAttribute?ku:vn;y=new g(_,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),o.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],y=[];for(let _=0,g=v.length;_<g;_++){const x=v[_];let S;if(x.isInterleavedBufferAttribute){const M=i(e.data,x.data);S=new cc(M,x.itemSize,x.offset,x.normalized)}else{const M=dd(x.type,x.array);S=new vn(M,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),y.push(S)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,v=f.length;m!==v;++m){const y=f[m];o.addGroup(y.start,y.count,y.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const m=new q;h.center!==void 0&&m.fromArray(h.center),o.boundingSphere=new Ls(m,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class OX extends Mi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?pa.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Rs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?pa.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Rs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Au().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new lg().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new mk;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in KI?a=KI[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new A1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Zd.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:dd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new IC(t);s=new Pm(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],h=f.url;if(Array.isArray(h)){const m=[];for(let v=0,y=h.length;v<y;v++){const _=h[v],g=a(_);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Pd(g.data,g.width,g.height)))}i[f.uuid]=new fu(m)}else{const m=a(f.url);i[f.uuid]=new fu(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:dd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Pm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,h=c.length;f<h;f++){const m=c[f],v=await s(m);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new Pd(v.data,v.width,v.height)))}r[l.uuid]=new fu(u)}else{const u=await s(l.url);r[l.uuid]=new fu(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new og,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Pd:u=new Nn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,FX)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],qI),u.wrapT=r(a.wrap[1],qI)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,eB)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,eB)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(h){return t[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),t[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const m=[];for(let v=0,y=h.length;v<y;v++){const _=h[v];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(r[_])}return m}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function c(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let u,f;switch(e.type){case"Scene":o=new Em,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new lt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new r1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new n1(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Kn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new No(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new dk(e.color,e.intensity);break;case"DirectionalLight":o=new FC(e.color,e.intensity);break;case"PointLight":o=new OC(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new hk(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new DC(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new fk(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new S1().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new vC(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new dr(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const h=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new yC(u,f,h),o.instanceMatrix=new ku(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new ku(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new NU;break;case"Line":o=new qa(a(e.geometry),l(e.material));break;case"LineLoop":o=new _C(a(e.geometry),l(e.material));break;case"LineSegments":o=new Jo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new xC(a(e.geometry),l(e.material));break;case"Sprite":o=new kU(l(e.material));break;case"Group":o=new Xa;break;case"Bone":o=new i1;break;default:o=new fn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let m=0;m<h.length;m++)o.add(this.parseObject(h[m],t,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let m=0;m<h.length;m++){const v=h[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let m=0;m<h.length;m++){const v=h[m],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const FX={UVMapping:J_,CubeReflectionMapping:ga,CubeRefractionMapping:ac,EquirectangularReflectionMapping:jd,EquirectangularRefractionMapping:_m,CubeUVReflectionMapping:gh},qI={RepeatWrapping:lc,ClampToEdgeWrapping:ri,MirroredRepeatWrapping:Xd},eB={NearestFilter:cr,NearestMipmapNearestFilter:xm,NearestMipmapLinearFilter:Td,LinearFilter:bn,LinearMipmapNearestFilter:Y_,LinearMipmapLinearFilter:va};class gk extends Mi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=zu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){zu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let vv;class kC{static getContext(){return vv===void 0&&(vv=new(window.AudioContext||window.webkitAudioContext)),vv}static setContext(e){vv=e}}class UX extends Mi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Rs(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);kC.getContext().decodeAudioData(c,function(f){t(f)},a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class kX extends S1{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new lt().set(e),s=new lt().set(t),o=new q(i.r,i.g,i.b),a=new q(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class NX extends S1{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new lt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const tB=new Ut,nB=new Ut,Nc=new Ut;class zX{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Kn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Kn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Nc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(xu*t.fov*.5)/t.zoom;let a,l;nB.elements[12]=-i,tB.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Nc.elements[0]=2*t.near/(l-a),Nc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Nc),a=-o*t.aspect-s,l=o*t.aspect-s,Nc.elements[0]=2*t.near/(l-a),Nc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Nc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(nB),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(tB)}}class NC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=rB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=rB();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function rB(){return(typeof performance>"u"?Date:performance).now()}const zc=new q,iB=new Yr,GX=new q,Gc=new q;class HX extends fn{constructor(){super(),this.type="AudioListener",this.context=kC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new NC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(zc,iB,GX),Gc.set(0,0,-1).applyQuaternion(iB),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(zc.x,i),t.positionY.linearRampToValueAtTime(zc.y,i),t.positionZ.linearRampToValueAtTime(zc.z,i),t.forwardX.linearRampToValueAtTime(Gc.x,i),t.forwardY.linearRampToValueAtTime(Gc.y,i),t.forwardZ.linearRampToValueAtTime(Gc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(zc.x,zc.y,zc.z),t.setOrientation(Gc.x,Gc.y,Gc.z,r.x,r.y,r.z)}}class vk extends fn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Hc=new q,sB=new Yr,VX=new q,Vc=new q;class WX extends vk{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Hc,sB,VX),Vc.set(0,0,1).applyQuaternion(sB);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Hc.x,r),t.positionY.linearRampToValueAtTime(Hc.y,r),t.positionZ.linearRampToValueAtTime(Hc.z,r),t.orientationX.linearRampToValueAtTime(Vc.x,r),t.orientationY.linearRampToValueAtTime(Vc.y,r),t.orientationZ.linearRampToValueAtTime(Vc.z,r)}else t.setPosition(Hc.x,Hc.y,Hc.z),t.setOrientation(Vc.x,Vc.y,Vc.z)}}class jX{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class yk{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Yr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Yr.multiplyQuaternionsFlat(e,o,e,t,e,r),Yr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const zC="\\[\\]\\.:\\/",XX=new RegExp("["+zC+"]","g"),GC="[^"+zC+"]",JX="[^"+zC.replace("\\.","")+"]",YX=/((?:WC+[\/:])*)/.source.replace("WC",GC),KX=/(WCOD+)?/.source.replace("WCOD",JX),$X=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",GC),QX=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",GC),ZX=new RegExp("^"+YX+KX+$X+QX+"$"),qX=["material","materials","bones","map"];class eJ{constructor(e,t,r){const i=r||un.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class un{constructor(e,t,r){this.path=t,this.parsedPath=r||un.parseTrackName(t),this.node=un.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new un.Composite(e,t,r):new un(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(XX,"")}static parseTrackName(e){const t=ZX.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);qX.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=un.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}un.Composite=eJ;un.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};un.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};un.prototype.GetterByBindingType=[un.prototype._getValue_direct,un.prototype._getValue_array,un.prototype._getValue_arrayElement,un.prototype._getValue_toArray];un.prototype.SetterByBindingTypeAndVersioning=[[un.prototype._setValue_direct,un.prototype._setValue_direct_setNeedsUpdate,un.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[un.prototype._setValue_array,un.prototype._setValue_array_setNeedsUpdate,un.prototype._setValue_array_setMatrixWorldNeedsUpdate],[un.prototype._setValue_arrayElement,un.prototype._setValue_arrayElement_setNeedsUpdate,un.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[un.prototype._setValue_fromArray,un.prototype._setValue_fromArray_setNeedsUpdate,un.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class tJ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=bs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const h=arguments[u],m=h.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(h);for(let y=0,_=o;y!==_;++y)s[y].push(new un(h,r[y],i[y]))}else if(v<c){a=e[v];const y=--c,_=e[y];t[_.uuid]=v,e[v]=_,t[m]=y,e[y]=h;for(let g=0,x=o;g!==x;++g){const S=s[g],M=S[y];let E=S[v];S[v]=M,E===void 0&&(E=new un(h,r[g],i[g])),S[y]=E}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,h=e[f];t[h.uuid]=u,e[u]=h,t[c]=f,e[f]=l;for(let m=0,v=i;m!==v;++m){const y=r[m],_=y[f],g=y[u];y[u]=_,y[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const h=--s,m=e[h],v=--o,y=e[v];t[m.uuid]=f,e[f]=m,t[y.uuid]=h,e[h]=y,e.pop();for(let _=0,g=i;_!==g;++_){const x=r[_],S=x[h],M=x[v];x[f]=S,x[h]=M,x.pop()}}else{const h=--o,m=e[h];h>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let v=0,y=i;v!==y;++v){const _=r[v];_[f]=_[h],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let h=u,m=l.length;h!==m;++h){const v=l[h];f[h]=new un(v,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class _k{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:cu,endingEnd:cu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lU,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case nC:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case $_:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===cU;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===aU){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=uu,i.endingEnd=uu):(e?i.endingStart=this.zeroSlopeAtStart?uu:cu:i.endingStart=Sm,t?i.endingEnd=this.zeroSlopeAtEnd?uu:cu:i.endingEnd=Sm)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const nJ=new Float32Array(1);class rJ extends xa{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const h=i[f],m=h.name;let v=u[m];if(v!==void 0)++v.referenceCount,o[f]=v;else{if(v=o[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const y=t&&t._propertyBindings[f].binding.parsedPath;v=new yk(un.create(r,m,y),h.ValueTypeName,h.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[f]=v}a[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new RC(new Float32Array(2),new Float32Array(2),1,nJ),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Zd.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=$_),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new _k(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Zd.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class HC{constructor(e){this.value=e}clone(){return new HC(this.value.clone===void 0?this.value:this.value.clone())}}let iJ=0;class sJ extends xa{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:iJ++}),this.name="",this.usage=Am,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class oJ extends ag{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class aJ{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class VC{constructor(e,t,r=0,i=1/0){this.ray=new vh(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Su,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return Pw(e,this,r,t),r.sort(oB),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)Pw(e[i],this,r,t);return r.sort(oB),r}}function oB(n,e){return n.distance-e.distance}function Pw(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)Pw(i[s],e,t,!0)}}class Iw{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(ur(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class lJ{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const aB=new Je;class cJ{constructor(e=new Je(1/0,1/0),t=new Je(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=aB.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,aB).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const lB=new q,yv=new q;class uJ{constructor(e=new q,t=new q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){lB.subVectors(e,this.start),yv.subVectors(this.end,this.start);const r=yv.dot(yv);let s=yv.dot(lB)/r;return t&&(s=ur(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const cB=new q;class fJ extends fn{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Xt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new St(i,3));const s=new Ai({fog:!1,toneMapped:!1});this.cone=new Jo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),cB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(cB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Al=new q,_v=new Ut,qS=new Ut;class dJ extends Jo{constructor(e){const t=xk(e),r=new Xt,i=[],s=[],o=new lt(0,0,1),a=new lt(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new St(i,3)),r.setAttribute("color",new St(s,3));const l=new Ai({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");qS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(_v.multiplyMatrices(qS,a.matrixWorld),Al.setFromMatrixPosition(_v),i.setXYZ(o,Al.x,Al.y,Al.z),_v.multiplyMatrices(qS,a.parent.matrixWorld),Al.setFromMatrixPosition(_v),i.setXYZ(o+1,Al.x,Al.y,Al.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function xk(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,xk(n.children[t]));return e}class hJ extends dr{constructor(e,t,r){const i=new dg(t,4,2),s=new es({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const pJ=new q,uB=new lt,fB=new lt;class mJ extends fn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new fg(t);i.rotateY(Math.PI*.5),this.material=new es({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new vn(o,3)),this.add(new dr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");uB.copy(this.light.color),fB.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?uB:fB;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(pJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class gJ extends Jo{constructor(e=10,t=10,r=4473924,i=8947848){r=new lt(r),i=new lt(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let h=0,m=0,v=-a;h<=t;h++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=h===s?r:i;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const u=new Xt;u.setAttribute("position",new St(l,3)),u.setAttribute("color",new St(c,3));const f=new Ai({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class vJ extends Jo{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new lt(s),o=new lt(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const h=f/t*(Math.PI*2),m=Math.sin(h)*e,v=Math.cos(h)*e;a.push(0,0,0),a.push(m,0,v);const y=f&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let f=0;f<r;f++){const h=f&1?s:o,m=e-e/r*f;for(let v=0;v<i;v++){let y=v/i*(Math.PI*2),_=Math.sin(y)*m,g=Math.cos(y)*m;a.push(_,0,g),l.push(h.r,h.g,h.b),y=(v+1)/i*(Math.PI*2),_=Math.sin(y)*m,g=Math.cos(y)*m,a.push(_,0,g),l.push(h.r,h.g,h.b)}}const c=new Xt;c.setAttribute("position",new St(a,3)),c.setAttribute("color",new St(l,3));const u=new Ai({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const dB=new q,xv=new q,hB=new q;class yJ extends fn{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Xt;i.setAttribute("position",new St([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ai({fog:!1,toneMapped:!1});this.lightPlane=new qa(i,s),this.add(this.lightPlane),i=new Xt,i.setAttribute("position",new St([0,0,0,0,0,1],3)),this.targetLine=new qa(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),dB.setFromMatrixPosition(this.light.matrixWorld),xv.setFromMatrixPosition(this.light.target.matrixWorld),hB.subVectors(xv,dB),this.lightPlane.lookAt(xv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(xv),this.targetLine.scale.z=hB.length()}}const Sv=new q,ar=new sg;class _J extends Jo{constructor(e){const t=new Xt,r=new Ai({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){l(v),l(y)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new St(i,3)),t.setAttribute("color",new St(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new lt(16755200),u=new lt(16711680),f=new lt(43775),h=new lt(16777215),m=new lt(3355443);this.setColors(c,u,f,h,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;ar.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),xr("c",t,e,ar,0,0,-1),xr("t",t,e,ar,0,0,1),xr("n1",t,e,ar,-r,-i,-1),xr("n2",t,e,ar,r,-i,-1),xr("n3",t,e,ar,-r,i,-1),xr("n4",t,e,ar,r,i,-1),xr("f1",t,e,ar,-r,-i,1),xr("f2",t,e,ar,r,-i,1),xr("f3",t,e,ar,-r,i,1),xr("f4",t,e,ar,r,i,1),xr("u1",t,e,ar,r*.7,i*1.1,-1),xr("u2",t,e,ar,-r*.7,i*1.1,-1),xr("u3",t,e,ar,0,i*2,-1),xr("cf1",t,e,ar,-r,0,1),xr("cf2",t,e,ar,r,0,1),xr("cf3",t,e,ar,0,-i,1),xr("cf4",t,e,ar,0,i,1),xr("cn1",t,e,ar,-r,0,-1),xr("cn2",t,e,ar,r,0,-1),xr("cn3",t,e,ar,0,-i,-1),xr("cn4",t,e,ar,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function xr(n,e,t,r,i,s,o){Sv.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Sv.x,Sv.y,Sv.z)}}const Av=new vo;class xJ extends Jo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Xt;s.setIndex(new vn(r,1)),s.setAttribute("position",new vn(i,3)),super(s,new Ai({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Av.setFromObject(this.object),Av.isEmpty())return;const t=Av.min,r=Av.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class SJ extends Jo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Xt;s.setIndex(new vn(r,1)),s.setAttribute("position",new St(i,3)),super(s,new Ai({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class AJ extends qa{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Xt;o.setAttribute("position",new St(s,3)),o.computeBoundingSphere(),super(o,new Ai({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Xt;l.setAttribute("position",new St(a,3)),l.computeBoundingSphere(),this.add(new dr(l,new es({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const pB=new q;let Mv,eA;class MJ extends fn{constructor(e=new q(0,0,1),t=new q(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Mv===void 0&&(Mv=new Xt,Mv.setAttribute("position",new St([0,0,0,0,1,0],3)),eA=new _h(0,.5,1,5,1),eA.translate(0,-.5,0)),this.position.copy(t),this.line=new qa(Mv,new Ai({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new dr(eA,new es({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{pB.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(pB,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class wJ extends Jo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Xt;i.setAttribute("position",new St(t,3)),i.setAttribute("color",new St(r,3));const s=new Ai({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new lt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class EJ{constructor(){this.type="ShapePath",this.color=new lt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new bm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const x=[];for(let S=0,M=g.length;S<M;S++){const E=g[S],b=new Au;b.curves=E.curves,x.push(b)}return x}function r(g,x){const S=x.length;let M=!1;for(let E=S-1,b=0;b<S;E=b++){let C=x[E],R=x[b],T=R.x-C.x,B=R.y-C.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(C=x[b],T=-T,R=x[E],B=-B),g.y<C.y||g.y>R.y)continue;if(g.y===C.y){if(g.x===C.x)return!0}else{const k=B*(g.x-C.x)-T*(g.y-C.y);if(k===0)return!0;if(k<0)continue;M=!M}}else{if(g.y!==C.y)continue;if(R.x<=g.x&&g.x<=C.x||C.x<=g.x&&g.x<=R.x)return!0}}return M}const i=ha.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Au,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],h=[];let m=[],v=0,y;h[v]=void 0,m[v]=[];for(let g=0,x=s.length;g<x;g++)a=s[g],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!u&&h[v]&&v++,h[v]={s:new Au,p:y},h[v].s.curves=a.curves,u&&v++,m[v]=[]):m[v].push({h:a,p:y[0]});if(!h[0])return t(s);if(h.length>1){let g=!1,x=0;for(let S=0,M=h.length;S<M;S++)f[S]=[];for(let S=0,M=h.length;S<M;S++){const E=m[S];for(let b=0;b<E.length;b++){const C=E[b];let R=!0;for(let T=0;T<h.length;T++)r(C.p,h[T].p)&&(S!==T&&x++,R?(R=!1,f[T].push(C)):g=!0);R&&f[S].push(C)}}x>0&&g===!1&&(m=f)}let _;for(let g=0,x=h.length;g<x;g++){l=h[g].s,c.push(l),_=m[g];for(let S=0,M=_.length;S<M;S++)l.holes.push(_[S].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:mh}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=mh);const Sk=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Yb,AddEquation:nu,AddOperation:YF,AdditiveAnimationBlendMode:nC,AdditiveBlending:YM,AlphaFormat:tU,AlwaysCompare:SU,AlwaysDepth:GF,AlwaysStencilFunc:hU,AmbientLight:dk,AmbientLightProbe:NX,AnimationAction:_k,AnimationClip:Zd,AnimationLoader:PX,AnimationMixer:rJ,AnimationObjectGroup:tJ,AnimationUtils:bX,ArcCurve:zU,ArrayCamera:DU,ArrowHelper:MJ,Audio:vk,AudioAnalyser:jX,AudioContext:kC,AudioListener:HX,AudioLoader:UX,AxesHelper:wJ,BackSide:yi,BasicDepthPacking:fU,BasicShadowMap:CF,Bone:i1,BooleanKeyframeTrack:Yu,Box2:cJ,Box3:vo,Box3Helper:SJ,BoxGeometry:Ju,BoxHelper:xJ,BufferAttribute:vn,BufferGeometry:Xt,BufferGeometryLoader:mk,ByteType:qF,Cache:zu,Camera:sg,CameraHelper:_J,CanvasTexture:$7,CapsuleGeometry:c1,CatmullRomCurve3:GU,CineonToneMapping:QF,CircleGeometry:u1,ClampToEdgeWrapping:ri,Clock:NC,Color:lt,ColorKeyframeTrack:PC,ColorManagement:Ys,CompressedArrayTexture:Y7,CompressedCubeTexture:K7,CompressedTexture:o1,CompressedTextureLoader:IX,ConeGeometry:f1,CubeCamera:CU,CubeReflectionMapping:ga,CubeRefractionMapping:ac,CubeTexture:og,CubeTextureLoader:ck,CubeUVReflectionMapping:gh,CubicBezierCurve:AC,CubicBezierCurve3:HU,CubicInterpolant:sk,CullFaceBack:JM,CullFaceFront:bF,CullFaceFrontBack:J8,CullFaceNone:EF,Curve:Yo,CurvePath:WU,CustomBlending:TF,CustomToneMapping:ZF,CylinderGeometry:_h,Cylindrical:lJ,Data3DTexture:cC,DataArrayTexture:Q_,DataTexture:Pd,DataTextureLoader:BC,DataUtils:du,DecrementStencilOp:n6,DecrementWrapStencilOp:i6,DefaultLoadingManager:lk,DepthFormat:ql,DepthStencilFormat:Fu,DepthTexture:OU,DirectionalLight:FC,DirectionalLightHelper:yJ,DiscreteInterpolant:ok,DisplayP3ColorSpace:oC,DodecahedronGeometry:d1,DoubleSide:Di,DstAlphaFactor:OF,DstColorFactor:UF,DynamicCopyUsage:_6,DynamicDrawUsage:h6,DynamicReadUsage:g6,EdgesGeometry:jU,EllipseCurve:a1,EqualCompare:gU,EqualDepth:VF,EqualStencilFunc:l6,EquirectangularReflectionMapping:jd,EquirectangularRefractionMapping:_m,Euler:ig,EventDispatcher:xa,ExtrudeGeometry:p1,FileLoader:Rs,Float16BufferAttribute:a9,Float32BufferAttribute:St,Float64BufferAttribute:l9,FloatType:vi,Fog:r1,FogExp2:n1,FramebufferTexture:J7,FrontSide:Vo,Frustum:Z_,GLBufferAttribute:aJ,GLSL1:S6,GLSL3:Aw,GreaterCompare:yU,GreaterDepth:jF,GreaterEqualCompare:xU,GreaterEqualDepth:WF,GreaterEqualStencilFunc:d6,GreaterStencilFunc:u6,GridHelper:gJ,Group:Xa,HalfFloatType:Fi,HemisphereLight:fk,HemisphereLightHelper:mJ,HemisphereLightProbe:kX,IcosahedronGeometry:ug,ImageBitmapLoader:gk,ImageLoader:Pm,ImageUtils:lC,IncrementStencilOp:t6,IncrementWrapStencilOp:r6,InstancedBufferAttribute:ku,InstancedBufferGeometry:UC,InstancedInterleavedBuffer:oJ,InstancedMesh:yC,Int16BufferAttribute:s9,Int32BufferAttribute:o9,Int8BufferAttribute:n9,IntType:Kb,InterleavedBuffer:ag,InterleavedBufferAttribute:cc,Interpolant:xh,InterpolateDiscrete:Jd,InterpolateLinear:Uu,InterpolateSmooth:fy,InvertStencilOp:s6,KeepStencilOp:dy,KeyframeTrack:Ko,LOD:NU,LatheGeometry:cg,Layers:Su,LessCompare:mU,LessDepth:HF,LessEqualCompare:vU,LessEqualDepth:$y,LessEqualStencilFunc:c6,LessStencilFunc:a6,Light:_c,LightProbe:S1,Line:qa,Line3:uJ,LineBasicMaterial:Ai,LineCurve:l1,LineCurve3:VU,LineDashedMaterial:rk,LineLoop:_C,LineSegments:Jo,LinearEncoding:iC,LinearFilter:bn,LinearInterpolant:RC,LinearMipMapLinearFilter:Z8,LinearMipMapNearestFilter:Q8,LinearMipmapLinearFilter:va,LinearMipmapNearestFilter:Y_,LinearSRGBColorSpace:Wo,LinearToneMapping:KF,Loader:Mi,LoaderUtils:pa,LoadingManager:IC,LoopOnce:aU,LoopPingPong:cU,LoopRepeat:lU,LuminanceAlphaFormat:rU,LuminanceFormat:nU,MOUSE:$c,Material:Ir,MaterialLoader:A1,MathUtils:fd,Matrix3:Qt,Matrix4:Ut,MaxEquation:ZM,Mesh:dr,MeshBasicMaterial:es,MeshDepthMaterial:e1,MeshDistanceMaterial:t1,MeshLambertMaterial:tk,MeshMatcapMaterial:nk,MeshNormalMaterial:ek,MeshPhongMaterial:ZU,MeshPhysicalMaterial:Sa,MeshStandardMaterial:hg,MeshToonMaterial:qU,MinEquation:QM,MirroredRepeatWrapping:Xd,MixOperation:JF,MultiplyBlending:$M,MultiplyOperation:rg,NearestFilter:cr,NearestMipMapLinearFilter:$8,NearestMipMapNearestFilter:K8,NearestMipmapLinearFilter:Td,NearestMipmapNearestFilter:xm,NeverCompare:pU,NeverDepth:zF,NeverStencilFunc:o6,NoBlending:Ya,NoColorSpace:tc,NoToneMapping:fa,NormalAnimationBlendMode:$_,NormalBlending:_u,NotEqualCompare:_U,NotEqualDepth:XF,NotEqualStencilFunc:f6,NumberKeyframeTrack:$d,Object3D:fn,ObjectLoader:OX,ObjectSpaceNormalMap:dU,OctahedronGeometry:fg,OneFactor:BF,OneMinusDstAlphaFactor:FF,OneMinusDstColorFactor:kF,OneMinusSrcAlphaFactor:Jb,OneMinusSrcColorFactor:DF,OrthographicCamera:No,PCFShadowMap:X_,PCFSoftShadowMap:zp,PMREMGenerator:ww,Path:bm,PerspectiveCamera:Kn,Plane:Pl,PlaneGeometry:vc,PlaneHelper:AJ,PointLight:OC,PointLightHelper:hJ,Points:xC,PointsMaterial:s1,PolarGridHelper:vJ,PolyhedronGeometry:yc,PositionalAudio:WX,PropertyBinding:un,PropertyMixer:yk,QuadraticBezierCurve:MC,QuadraticBezierCurve3:wC,Quaternion:Yr,QuaternionKeyframeTrack:uc,QuaternionLinearInterpolant:ak,RED_GREEN_RGTC2_Format:xw,RED_RGTC1_Format:oU,REVISION:mh,RGBADepthPacking:sC,RGBAFormat:Oi,RGBAIntegerFormat:tC,RGBA_ASTC_10x10_Format:gw,RGBA_ASTC_10x5_Format:hw,RGBA_ASTC_10x6_Format:pw,RGBA_ASTC_10x8_Format:mw,RGBA_ASTC_12x10_Format:vw,RGBA_ASTC_12x12_Format:yw,RGBA_ASTC_4x4_Format:sw,RGBA_ASTC_5x4_Format:ow,RGBA_ASTC_5x5_Format:aw,RGBA_ASTC_6x5_Format:lw,RGBA_ASTC_6x6_Format:cw,RGBA_ASTC_8x5_Format:uw,RGBA_ASTC_8x6_Format:fw,RGBA_ASTC_8x8_Format:dw,RGBA_BPTC_Format:uy,RGBA_ETC2_EAC_Format:iw,RGBA_PVRTC_2BPPV1_Format:nw,RGBA_PVRTC_4BPPV1_Format:tw,RGBA_S3TC_DXT1_Format:ay,RGBA_S3TC_DXT3_Format:ly,RGBA_S3TC_DXT5_Format:cy,RGB_ETC1_Format:sU,RGB_ETC2_Format:rw,RGB_PVRTC_2BPPV1_Format:ew,RGB_PVRTC_4BPPV1_Format:qM,RGB_S3TC_DXT1_Format:oy,RGFormat:iU,RGIntegerFormat:eC,RawShaderMaterial:QU,Ray:vh,Raycaster:VC,RectAreaLight:hk,RedFormat:Zb,RedIntegerFormat:qb,ReinhardToneMapping:$F,RenderTarget:wU,RepeatWrapping:lc,ReplaceStencilOp:e6,ReverseSubtractEquation:PF,RingGeometry:m1,SIGNED_RED_GREEN_RGTC2_Format:Sw,SIGNED_RED_RGTC1_Format:_w,SRGBColorSpace:$t,Scene:Em,ShaderChunk:Kt,ShaderLib:Do,ShaderMaterial:Xo,ShadowMaterial:$U,Shape:Au,ShapeGeometry:g1,ShapePath:EJ,ShapeUtils:ha,ShortType:eU,Skeleton:lg,SkeletonHelper:dJ,SkinnedMesh:vC,Source:fu,Sphere:Ls,SphereGeometry:dg,Spherical:Iw,SphericalHarmonics3:pk,SplineCurve:EC,SpotLight:DC,SpotLightHelper:fJ,Sprite:kU,SpriteMaterial:gC,SrcAlphaFactor:Xb,SrcAlphaSaturateFactor:NF,SrcColorFactor:LF,StaticCopyUsage:y6,StaticDrawUsage:Am,StaticReadUsage:m6,StereoCamera:zX,StreamCopyUsage:x6,StreamDrawUsage:p6,StreamReadUsage:v6,StringKeyframeTrack:Ku,SubtractEquation:RF,SubtractiveBlending:KM,TOUCH:Qc,TangentSpaceNormalMap:gc,TetrahedronGeometry:v1,Texture:Nn,TextureLoader:uk,TorusGeometry:y1,TorusKnotGeometry:_1,Triangle:$i,TriangleFanDrawMode:Qy,TriangleStripDrawMode:rC,TrianglesDrawMode:uU,TubeGeometry:x1,TwoPassDoubleSide:Y8,UVMapping:J_,Uint16BufferAttribute:uC,Uint32BufferAttribute:fC,Uint8BufferAttribute:r9,Uint8ClampedBufferAttribute:i9,Uniform:HC,UniformsGroup:sJ,UniformsLib:ct,UniformsUtils:dC,UnsignedByteType:da,UnsignedInt248Type:Zl,UnsignedIntType:ja,UnsignedShort4444Type:$b,UnsignedShort5551Type:Qb,UnsignedShortType:K_,VSMShadowMap:Po,Vector2:Je,Vector3:q,Vector4:Sn,VectorKeyframeTrack:Qd,VideoTexture:X7,WebGL1Renderer:FU,WebGL3DRenderTarget:j6,WebGLArrayRenderTarget:W6,WebGLCoordinateSystem:aa,WebGLCubeRenderTarget:hC,WebGLMultipleRenderTargets:X6,WebGLRenderTarget:jo,WebGLRenderer:mC,WebGLUtils:LU,WebGPUCoordinateSystem:Mm,WireframeGeometry:KU,WrapAroundEnding:Sm,ZeroCurvatureEnding:cu,ZeroFactor:IF,ZeroSlopeEnding:uu,ZeroStencilOp:q8,_SRGBAFormat:Zy,sRGBEncoding:ec},Symbol.toStringTag,{value:"Module"}));var Ak={exports:{}},$u={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */$u.ConcurrentRoot=1;$u.ContinuousEventPriority=4;$u.DefaultEventPriority=16;$u.DiscreteEventPriority=1;$u.IdleEventPriority=536870912;$u.LegacyRoot=0;Ak.exports=$u;var md=Ak.exports;function bJ(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const h=e;e=u?f:Object.assign({},e,f),t.forEach(m=>m(e,h))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=u(e);function m(){const v=u(e);if(!f(h,v)){const y=h;c(h=v,y)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const CJ=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),mB=CJ?F.useEffect:F.useLayoutEffect;function Mk(n){const e=typeof n=="function"?bJ(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=F.useReducer(_=>_+1,0),o=e.getState(),a=F.useRef(o),l=F.useRef(r),c=F.useRef(i),u=F.useRef(!1),f=F.useRef();f.current===void 0&&(f.current=r(o));let h,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(h=r(o),m=!i(f.current,h)),mB(()=>{m&&(f.current=h),a.current=o,l.current=r,c.current=i,u.current=!1});const v=F.useRef(o);mB(()=>{const _=()=>{try{const x=e.getState(),S=l.current(x);c.current(f.current,S)||(a.current=x,f.current=S,s())}catch{u.current=!0,s()}},g=e.subscribe(_);return e.getState()!==v.current&&_(),g},[]);const y=m?h:f.current;return F.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var wk={exports:{}},Ek={exports:{}},bk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,G){var H=D.length;D.push(G);e:for(;0<H;){var O=H-1>>>1,X=D[O];if(0<i(X,G))D[O]=G,D[H]=X,H=O;else break e}}function t(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var G=D[0],H=D.pop();if(H!==G){D[0]=H;e:for(var O=0,X=D.length,ie=X>>>1;O<ie;){var ae=2*(O+1)-1,oe=D[ae],fe=ae+1,ue=D[fe];if(0>i(oe,H))fe<X&&0>i(ue,oe)?(D[O]=ue,D[fe]=H,O=fe):(D[O]=oe,D[ae]=H,O=ae);else if(fe<X&&0>i(ue,H))D[O]=ue,D[fe]=H,O=fe;else break e}}return G}function i(D,G){var H=D.sortIndex-G.sortIndex;return H!==0?H:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,m=!1,v=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var G=t(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=D)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(c)}}function M(D){if(y=!1,S(D),!v)if(t(l)!==null)v=!0,W(E);else{var G=t(c);G!==null&&V(M,G.startTime-D)}}function E(D,G){v=!1,y&&(y=!1,g(R),R=-1),m=!0;var H=h;try{for(S(G),f=t(l);f!==null&&(!(f.expirationTime>G)||D&&!k());){var O=f.callback;if(typeof O=="function"){f.callback=null,h=f.priorityLevel;var X=O(f.expirationTime<=G);G=n.unstable_now(),typeof X=="function"?f.callback=X:f===t(l)&&r(l),S(G)}else r(l);f=t(l)}if(f!==null)var ie=!0;else{var ae=t(c);ae!==null&&V(M,ae.startTime-G),ie=!1}return ie}finally{f=null,h=H,m=!1}}var b=!1,C=null,R=-1,T=5,B=-1;function k(){return!(n.unstable_now()-B<T)}function N(){if(C!==null){var D=n.unstable_now();B=D;var G=!0;try{G=C(!0,D)}finally{G?j():(b=!1,C=null)}}else b=!1}var j;if(typeof x=="function")j=function(){x(N)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Q=Y.port2;Y.port1.onmessage=N,j=function(){Q.postMessage(null)}}else j=function(){_(N,0)};function W(D){C=D,b||(b=!0,j())}function V(D,G){R=_(function(){D(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,W(E))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(D){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var H=h;h=G;try{return D()}finally{h=H}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=h;h=D;try{return G()}finally{h=H}},n.unstable_scheduleCallback=function(D,G,H){var O=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?O+H:O):H=O,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=H+X,D={id:u++,callback:G,priorityLevel:D,startTime:H,expirationTime:X,sortIndex:-1},H>O?(D.sortIndex=H,e(c,D),t(l)===null&&D===t(c)&&(y?(g(R),R=-1):y=!0,V(M,H-O))):(D.sortIndex=X,e(l,D),v||m||(v=!0,W(E))),D},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(D){var G=h;return function(){var H=h;h=G;try{return D.apply(this,arguments)}finally{h=H}}}})(bk);Ek.exports=bk;var Bw=Ek.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TJ=function(e){var t={},r=F,i=Bw,s=Object.assign;function o(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,A=1;A<arguments.length;A++)p+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),E=Symbol.iterator;function b(d){return d===null||typeof d!="object"?null:(d=E&&d[E]||d["@@iterator"],typeof d=="function"?d:null)}function C(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case h:return"Profiler";case f:return"StrictMode";case _:return"Suspense";case g:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case v:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case y:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case x:return p=d.displayName||null,p!==null?p:C(d.type)||"Memo";case S:p=d._payload,d=d._init;try{return C(d(p))}catch{}}return null}function R(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(p);case 8:return p===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function T(d){var p=d,A=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,p.flags&4098&&(A=p.return),d=p.return;while(d)}return p.tag===3?A:null}function B(d){if(T(d)!==d)throw Error(o(188))}function k(d){var p=d.alternate;if(!p){if(p=T(d),p===null)throw Error(o(188));return p!==d?null:d}for(var A=d,w=p;;){var P=A.return;if(P===null)break;var L=P.alternate;if(L===null){if(w=P.return,w!==null){A=w;continue}break}if(P.child===L.child){for(L=P.child;L;){if(L===A)return B(P),d;if(L===w)return B(P),p;L=L.sibling}throw Error(o(188))}if(A.return!==w.return)A=P,w=L;else{for(var re=!1,ge=P.child;ge;){if(ge===A){re=!0,A=P,w=L;break}if(ge===w){re=!0,w=P,A=L;break}ge=ge.sibling}if(!re){for(ge=L.child;ge;){if(ge===A){re=!0,A=L,w=P;break}if(ge===w){re=!0,w=L,A=P;break}ge=ge.sibling}if(!re)throw Error(o(189))}}if(A.alternate!==w)throw Error(o(190))}if(A.tag!==3)throw Error(o(188));return A.stateNode.current===A?d:p}function N(d){return d=k(d),d!==null?j(d):null}function j(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=j(d);if(p!==null)return p;d=d.sibling}return null}function Y(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var p=Y(d);if(p!==null)return p}d=d.sibling}return null}var Q=Array.isArray,W=e.getPublicInstance,V=e.getRootHostContext,D=e.getChildHostContext,G=e.prepareForCommit,H=e.resetAfterCommit,O=e.createInstance,X=e.appendInitialChild,ie=e.finalizeInitialChildren,ae=e.prepareUpdate,oe=e.shouldSetTextContent,fe=e.createTextInstance,ue=e.scheduleTimeout,me=e.cancelTimeout,Ne=e.noTimeout,Xe=e.isPrimaryRenderer,ye=e.supportsMutation,$=e.supportsPersistence,we=e.supportsHydration,_e=e.getInstanceFromNode,Ee=e.preparePortalMount,Ae=e.getCurrentEventPriority,Ye=e.detachDeletedInstance,de=e.supportsMicrotasks,Re=e.scheduleMicrotask,Te=e.supportsTestSelectors,xe=e.findFiberRoot,Qe=e.getBoundingRect,K=e.getTextContent,z=e.isHiddenSubtree,ce=e.matchAccessibilityRole,Ve=e.setFocusIfFocusable,De=e.setupIntersectionObserver,Be=e.appendChild,Ke=e.appendChildToContainer,We=e.commitTextUpdate,ve=e.commitMount,ne=e.commitUpdate,Se=e.insertBefore,Ce=e.insertInContainerBefore,Ie=e.removeChild,Ge=e.removeChildFromContainer,Ze=e.resetTextContent,tt=e.hideInstance,se=e.hideTextInstance,pe=e.unhideInstance,be=e.unhideTextInstance,$e=e.clearContainer,ze=e.cloneInstance,st=e.createContainerChildSet,gt=e.appendChildToContainerChildSet,Et=e.finalizeContainerChildren,kt=e.replaceContainerChildren,zt=e.cloneHiddenInstance,Rt=e.cloneHiddenTextInstance,Ft=e.canHydrateInstance,Rn=e.canHydrateTextInstance,Pn=e.canHydrateSuspenseInstance,Pt=e.isSuspenseInstancePending,dn=e.isSuspenseInstanceFallback,wn=e.registerSuspenseInstanceRetry,qt=e.getNextHydratableSibling,pt=e.getFirstHydratableChild,En=e.getFirstHydratableChildWithinContainer,$n=e.getFirstHydratableChildWithinSuspenseInstance,U=e.hydrateInstance,I=e.hydrateTextInstance,J=e.hydrateSuspenseInstance,ee=e.getNextHydratableInstanceAfterSuspenseInstance,Z=e.commitHydratedContainer,te=e.commitHydratedSuspenseInstance,Pe=e.clearSuspenseBoundary,Le=e.clearSuspenseBoundaryFromContainer,Ue=e.shouldDeleteUnhydratedTailInstances,Fe=e.didNotMatchHydratedContainerTextInstance,je=e.didNotMatchHydratedTextInstance,he;function ot(d){if(he===void 0)try{throw Error()}catch(A){var p=A.stack.trim().match(/\n( *(at )?)/);he=p&&p[1]||""}return`
`+he+d}var nt=!1;function qe(d,p){if(!d||nt)return"";nt=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(it){var w=it}Reflect.construct(d,[],p)}else{try{p.call()}catch(it){w=it}d.call(p.prototype)}else{try{throw Error()}catch(it){w=it}d()}}catch(it){if(it&&w&&typeof it.stack=="string"){for(var P=it.stack.split(`
`),L=w.stack.split(`
`),re=P.length-1,ge=L.length-1;1<=re&&0<=ge&&P[re]!==L[ge];)ge--;for(;1<=re&&0<=ge;re--,ge--)if(P[re]!==L[ge]){if(re!==1||ge!==1)do if(re--,ge--,0>ge||P[re]!==L[ge]){var He=`
`+P[re].replace(" at new "," at ");return d.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",d.displayName)),He}while(1<=re&&0<=ge);break}}}finally{nt=!1,Error.prepareStackTrace=A}return(d=d?d.displayName||d.name:"")?ot(d):""}var ht=Object.prototype.hasOwnProperty,At=[],mt=-1;function rt(d){return{current:d}}function xt(d){0>mt||(d.current=At[mt],At[mt]=null,mt--)}function dt(d,p){mt++,At[mt]=d.current,d.current=p}var bt={},Jt=rt(bt),Tt=rt(!1),sn=bt;function Vt(d,p){var A=d.type.contextTypes;if(!A)return bt;var w=d.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===p)return w.__reactInternalMemoizedMaskedChildContext;var P={},L;for(L in A)P[L]=p[L];return w&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=P),P}function on(d){return d=d.childContextTypes,d!=null}function pn(){xt(Tt),xt(Jt)}function It(d,p,A){if(Jt.current!==bt)throw Error(o(168));dt(Jt,p),dt(Tt,A)}function yn(d,p,A){var w=d.stateNode;if(p=p.childContextTypes,typeof w.getChildContext!="function")return A;w=w.getChildContext();for(var P in w)if(!(P in p))throw Error(o(108,R(d)||"Unknown",P));return s({},A,w)}function en(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||bt,sn=Jt.current,dt(Jt,d),dt(Tt,Tt.current),!0}function Ot(d,p,A){var w=d.stateNode;if(!w)throw Error(o(169));A?(d=yn(d,p,sn),w.__reactInternalMemoizedMergedChildContext=d,xt(Tt),xt(Jt),dt(Jt,d)):xt(Tt),dt(Tt,A)}var An=Math.clz32?Math.clz32:Qr,Br=Math.log,Gn=Math.LN2;function Qr(d){return d>>>=0,d===0?32:31-(Br(d)/Gn|0)|0}var ls=64,Zr=4194304;function Fs(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function gr(d,p){var A=d.pendingLanes;if(A===0)return 0;var w=0,P=d.suspendedLanes,L=d.pingedLanes,re=A&268435455;if(re!==0){var ge=re&~P;ge!==0?w=Fs(ge):(L&=re,L!==0&&(w=Fs(L)))}else re=A&~P,re!==0?w=Fs(re):L!==0&&(w=Fs(L));if(w===0)return 0;if(p!==0&&p!==w&&!(p&P)&&(P=w&-w,L=p&-p,P>=L||P===16&&(L&4194240)!==0))return p;if(w&4&&(w|=A&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=w;0<p;)A=31-An(p),P=1<<A,w|=d[A],p&=~P;return w}function Us(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(d,p){for(var A=d.suspendedLanes,w=d.pingedLanes,P=d.expirationTimes,L=d.pendingLanes;0<L;){var re=31-An(L),ge=1<<re,He=P[re];He===-1?(!(ge&A)||ge&w)&&(P[re]=Us(ge,p)):He<=p&&(d.expiredLanes|=ge),L&=~ge}}function Lr(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Hi(d){for(var p=[],A=0;31>A;A++)p.push(d);return p}function wi(d,p,A){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-An(p),d[p]=A}function cs(d,p){var A=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var w=d.eventTimes;for(d=d.expirationTimes;0<A;){var P=31-An(A),L=1<<P;p[P]=0,w[P]=-1,d[P]=-1,A&=~L}}function Vi(d,p){var A=d.entangledLanes|=p;for(d=d.entanglements;A;){var w=31-An(A),P=1<<w;P&p|d[w]&p&&(d[w]|=p),A&=~P}}var Yt=0;function vt(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Bt=i.unstable_scheduleCallback,_n=i.unstable_cancelCallback,Ln=i.unstable_shouldYield,Dn=i.unstable_requestPaint,In=i.unstable_now,xo=i.unstable_ImmediatePriority,Sc=i.unstable_UserBlockingPriority,Mr=i.unstable_NormalPriority,bh=i.unstable_IdlePriority,Ac=null,us=null;function Ch(d){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(Ac,d,void 0,(d.current.flags&128)===128)}catch{}}function Lg(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var fs=typeof Object.is=="function"?Object.is:Lg,Ei=null,$o=!1,ks=!1;function Th(d){Ei===null?Ei=[d]:Ei.push(d)}function Rh(d){$o=!0,Th(d)}function Wi(){if(!ks&&Ei!==null){ks=!0;var d=0,p=Yt;try{var A=Ei;for(Yt=1;d<A.length;d++){var w=A[d];do w=w(!0);while(w!==null)}Ei=null,$o=!1}catch(P){throw Ei!==null&&(Ei=Ei.slice(d+1)),Bt(xo,Wi),P}finally{Yt=p,ks=!1}}return null}var Mc=a.ReactCurrentBatchConfig;function wc(d,p){if(fs(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var A=Object.keys(d),w=Object.keys(p);if(A.length!==w.length)return!1;for(w=0;w<A.length;w++){var P=A[w];if(!ht.call(p,P)||!fs(d[P],p[P]))return!1}return!0}function Ec(d){switch(d.tag){case 5:return ot(d.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 2:case 15:return d=qe(d.type,!1),d;case 11:return d=qe(d.type.render,!1),d;case 1:return d=qe(d.type,!0),d;default:return""}}function bi(d,p){if(d&&d.defaultProps){p=s({},p),d=d.defaultProps;for(var A in d)p[A]===void 0&&(p[A]=d[A]);return p}return p}var zr=rt(null),nf=null,So=null,ll=null;function rf(){ll=So=nf=null}function Dg(d,p,A){Xe?(dt(zr,p._currentValue),p._currentValue=A):(dt(zr,p._currentValue2),p._currentValue2=A)}function Gr(d){var p=zr.current;xt(zr),Xe?d._currentValue=p:d._currentValue2=p}function Ci(d,p,A){for(;d!==null;){var w=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,w!==null&&(w.childLanes|=p)):w!==null&&(w.childLanes&p)!==p&&(w.childLanes|=p),d===A)break;d=d.return}}function vr(d,p){nf=d,ll=So=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&p&&(ms=!0),d.firstContext=null)}function yr(d){var p=Xe?d._currentValue:d._currentValue2;if(ll!==d)if(d={context:d,memoizedValue:p,next:null},So===null){if(nf===null)throw Error(o(308));So=d,nf.dependencies={lanes:0,firstContext:d}}else So=So.next=d;return p}var ds=null,cl=!1;function rx(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a2(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Aa(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function ul(d,p){var A=d.updateQueue;A!==null&&(A=A.shared,wr!==null&&d.mode&1&&!(nn&2)?(d=A.interleaved,d===null?(p.next=p,ds===null?ds=[A]:ds.push(A)):(p.next=d.next,d.next=p),A.interleaved=p):(d=A.pending,d===null?p.next=p:(p.next=d.next,d.next=p),A.pending=p))}function Og(d,p,A){if(p=p.updateQueue,p!==null&&(p=p.shared,(A&4194240)!==0)){var w=p.lanes;w&=d.pendingLanes,A|=w,p.lanes=A,Vi(d,A)}}function l2(d,p){var A=d.updateQueue,w=d.alternate;if(w!==null&&(w=w.updateQueue,A===w)){var P=null,L=null;if(A=A.firstBaseUpdate,A!==null){do{var re={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};L===null?P=L=re:L=L.next=re,A=A.next}while(A!==null);L===null?P=L=p:L=L.next=p}else P=L=p;A={baseState:w.baseState,firstBaseUpdate:P,lastBaseUpdate:L,shared:w.shared,effects:w.effects},d.updateQueue=A;return}d=A.lastBaseUpdate,d===null?A.firstBaseUpdate=p:d.next=p,A.lastBaseUpdate=p}function Fg(d,p,A,w){var P=d.updateQueue;cl=!1;var L=P.firstBaseUpdate,re=P.lastBaseUpdate,ge=P.shared.pending;if(ge!==null){P.shared.pending=null;var He=ge,it=He.next;He.next=null,re===null?L=it:re.next=it,re=He;var _t=d.alternate;_t!==null&&(_t=_t.updateQueue,ge=_t.lastBaseUpdate,ge!==re&&(ge===null?_t.firstBaseUpdate=it:ge.next=it,_t.lastBaseUpdate=He))}if(L!==null){var Wt=P.baseState;re=0,_t=it=He=null,ge=L;do{var Lt=ge.lane,On=ge.eventTime;if((w&Lt)===Lt){_t!==null&&(_t=_t.next={eventTime:On,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var Ct=d,ui=ge;switch(Lt=p,On=A,ui.tag){case 1:if(Ct=ui.payload,typeof Ct=="function"){Wt=Ct.call(On,Wt,Lt);break e}Wt=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=ui.payload,Lt=typeof Ct=="function"?Ct.call(On,Wt,Lt):Ct,Lt==null)break e;Wt=s({},Wt,Lt);break e;case 2:cl=!0}}ge.callback!==null&&ge.lane!==0&&(d.flags|=64,Lt=P.effects,Lt===null?P.effects=[ge]:Lt.push(ge))}else On={eventTime:On,lane:Lt,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},_t===null?(it=_t=On,He=Wt):_t=_t.next=On,re|=Lt;if(ge=ge.next,ge===null){if(ge=P.shared.pending,ge===null)break;Lt=ge,ge=Lt.next,Lt.next=null,P.lastBaseUpdate=Lt,P.shared.pending=null}}while(1);if(_t===null&&(He=Wt),P.baseState=He,P.firstBaseUpdate=it,P.lastBaseUpdate=_t,p=P.shared.interleaved,p!==null){P=p;do re|=P.lane,P=P.next;while(P!==p)}else L===null&&(P.shared.lanes=0);hf|=re,d.lanes=re,d.memoizedState=Wt}}function c2(d,p,A){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var w=d[p],P=w.callback;if(P!==null){if(w.callback=null,w=A,typeof P!="function")throw Error(o(191,P));P.call(w)}}}var u2=new r.Component().refs;function ix(d,p,A,w){p=d.memoizedState,A=A(w,p),A=A==null?p:s({},p,A),d.memoizedState=A,d.lanes===0&&(d.updateQueue.baseState=A)}var Ug={isMounted:function(d){return(d=d._reactInternals)?T(d)===d:!1},enqueueSetState:function(d,p,A){d=d._reactInternals;var w=Ri(),P=hl(d),L=Aa(w,P);L.payload=p,A!=null&&(L.callback=A),ul(d,L),p=Vs(d,P,w),p!==null&&Og(p,d,P)},enqueueReplaceState:function(d,p,A){d=d._reactInternals;var w=Ri(),P=hl(d),L=Aa(w,P);L.tag=1,L.payload=p,A!=null&&(L.callback=A),ul(d,L),p=Vs(d,P,w),p!==null&&Og(p,d,P)},enqueueForceUpdate:function(d,p){d=d._reactInternals;var A=Ri(),w=hl(d),P=Aa(A,w);P.tag=2,p!=null&&(P.callback=p),ul(d,P),p=Vs(d,w,A),p!==null&&Og(p,d,w)}};function f2(d,p,A,w,P,L,re){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(w,L,re):p.prototype&&p.prototype.isPureReactComponent?!wc(A,w)||!wc(P,L):!0}function d2(d,p,A){var w=!1,P=bt,L=p.contextType;return typeof L=="object"&&L!==null?L=yr(L):(P=on(p)?sn:Jt.current,w=p.contextTypes,L=(w=w!=null)?Vt(d,P):bt),p=new p(A,L),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ug,d.stateNode=p,p._reactInternals=d,w&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=P,d.__reactInternalMemoizedMaskedChildContext=L),p}function h2(d,p,A,w){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(A,w),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(A,w),p.state!==d&&Ug.enqueueReplaceState(p,p.state,null)}function sx(d,p,A,w){var P=d.stateNode;P.props=A,P.state=d.memoizedState,P.refs=u2,rx(d);var L=p.contextType;typeof L=="object"&&L!==null?P.context=yr(L):(L=on(p)?sn:Jt.current,P.context=Vt(d,L)),P.state=d.memoizedState,L=p.getDerivedStateFromProps,typeof L=="function"&&(ix(d,p,L,A),P.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(p=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),p!==P.state&&Ug.enqueueReplaceState(P,P.state,null),Fg(d,A,P,w),P.state=d.memoizedState),typeof P.componentDidMount=="function"&&(d.flags|=4194308)}var sf=[],of=0,kg=null,Ng=0,Ns=[],zs=0,bc=null,Ma=1,wa="";function Cc(d,p){sf[of++]=Ng,sf[of++]=kg,kg=d,Ng=p}function p2(d,p,A){Ns[zs++]=Ma,Ns[zs++]=wa,Ns[zs++]=bc,bc=d;var w=Ma;d=wa;var P=32-An(w)-1;w&=~(1<<P),A+=1;var L=32-An(p)+P;if(30<L){var re=P-P%5;L=(w&(1<<re)-1).toString(32),w>>=re,P-=re,Ma=1<<32-An(p)+P|A<<P|w,wa=L+d}else Ma=1<<L|A<<P|w,wa=d}function ox(d){d.return!==null&&(Cc(d,1),p2(d,1,0))}function ax(d){for(;d===kg;)kg=sf[--of],sf[of]=null,Ng=sf[--of],sf[of]=null;for(;d===bc;)bc=Ns[--zs],Ns[zs]=null,wa=Ns[--zs],Ns[zs]=null,Ma=Ns[--zs],Ns[zs]=null}var hs=null,ps=null,Jn=!1,Ph=!1,Ao=null;function m2(d,p){var A=Ws(5,null,null,0);A.elementType="DELETED",A.stateNode=p,A.return=d,p=d.deletions,p===null?(d.deletions=[A],d.flags|=16):p.push(A)}function g2(d,p){switch(d.tag){case 5:return p=Ft(p,d.type,d.pendingProps),p!==null?(d.stateNode=p,hs=d,ps=pt(p),!0):!1;case 6:return p=Rn(p,d.pendingProps),p!==null?(d.stateNode=p,hs=d,ps=null,!0):!1;case 13:if(p=Pn(p),p!==null){var A=bc!==null?{id:Ma,overflow:wa}:null;return d.memoizedState={dehydrated:p,treeContext:A,retryLane:1073741824},A=Ws(18,null,null,0),A.stateNode=p,A.return=d,d.child=A,hs=d,ps=null,!0}return!1;default:return!1}}function lx(d){return(d.mode&1)!==0&&(d.flags&128)===0}function cx(d){if(Jn){var p=ps;if(p){var A=p;if(!g2(d,p)){if(lx(d))throw Error(o(418));p=qt(A);var w=hs;p&&g2(d,p)?m2(w,A):(d.flags=d.flags&-4097|2,Jn=!1,hs=d)}}else{if(lx(d))throw Error(o(418));d.flags=d.flags&-4097|2,Jn=!1,hs=d}}}function v2(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;hs=d}function Ih(d){if(!we||d!==hs)return!1;if(!Jn)return v2(d),Jn=!0,!1;if(d.tag!==3&&(d.tag!==5||Ue(d.type)&&!oe(d.type,d.memoizedProps))){var p=ps;if(p){if(lx(d)){for(d=ps;d;)d=qt(d);throw Error(o(418))}for(;p;)m2(d,p),p=qt(p)}}if(v2(d),d.tag===13){if(!we)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));ps=ee(d)}else ps=hs?qt(d.stateNode):null;return!0}function af(){we&&(ps=hs=null,Ph=Jn=!1)}function ux(d){Ao===null?Ao=[d]:Ao.push(d)}function Bh(d,p,A){if(d=A.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(o(309));var w=A.stateNode}if(!w)throw Error(o(147,d));var P=w,L=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===L?p.ref:(p=function(re){var ge=P.refs;ge===u2&&(ge=P.refs={}),re===null?delete ge[L]:ge[L]=re},p._stringRef=L,p)}if(typeof d!="string")throw Error(o(284));if(!A._owner)throw Error(o(290,d))}return d}function zg(d,p){throw d=Object.prototype.toString.call(p),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function y2(d){var p=d._init;return p(d._payload)}function _2(d){function p(Oe,Me){if(d){var ke=Oe.deletions;ke===null?(Oe.deletions=[Me],Oe.flags|=16):ke.push(Me)}}function A(Oe,Me){if(!d)return null;for(;Me!==null;)p(Oe,Me),Me=Me.sibling;return null}function w(Oe,Me){for(Oe=new Map;Me!==null;)Me.key!==null?Oe.set(Me.key,Me):Oe.set(Me.index,Me),Me=Me.sibling;return Oe}function P(Oe,Me){return Oe=ml(Oe,Me),Oe.index=0,Oe.sibling=null,Oe}function L(Oe,Me,ke){return Oe.index=ke,d?(ke=Oe.alternate,ke!==null?(ke=ke.index,ke<Me?(Oe.flags|=2,Me):ke):(Oe.flags|=2,Me)):(Oe.flags|=1048576,Me)}function re(Oe){return d&&Oe.alternate===null&&(Oe.flags|=2),Oe}function ge(Oe,Me,ke,ft){return Me===null||Me.tag!==6?(Me=Jx(ke,Oe.mode,ft),Me.return=Oe,Me):(Me=P(Me,ke),Me.return=Oe,Me)}function He(Oe,Me,ke,ft){var Mt=ke.type;return Mt===u?_t(Oe,Me,ke.props.children,ft,ke.key):Me!==null&&(Me.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===S&&y2(Mt)===Me.type)?(ft=P(Me,ke.props),ft.ref=Bh(Oe,Me,ke),ft.return=Oe,ft):(ft=v0(ke.type,ke.key,ke.props,null,Oe.mode,ft),ft.ref=Bh(Oe,Me,ke),ft.return=Oe,ft)}function it(Oe,Me,ke,ft){return Me===null||Me.tag!==4||Me.stateNode.containerInfo!==ke.containerInfo||Me.stateNode.implementation!==ke.implementation?(Me=Yx(ke,Oe.mode,ft),Me.return=Oe,Me):(Me=P(Me,ke.children||[]),Me.return=Oe,Me)}function _t(Oe,Me,ke,ft,Mt){return Me===null||Me.tag!==7?(Me=Dc(ke,Oe.mode,ft,Mt),Me.return=Oe,Me):(Me=P(Me,ke),Me.return=Oe,Me)}function Wt(Oe,Me,ke){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Me=Jx(""+Me,Oe.mode,ke),Me.return=Oe,Me;if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case l:return ke=v0(Me.type,Me.key,Me.props,null,Oe.mode,ke),ke.ref=Bh(Oe,null,Me),ke.return=Oe,ke;case c:return Me=Yx(Me,Oe.mode,ke),Me.return=Oe,Me;case S:var ft=Me._init;return Wt(Oe,ft(Me._payload),ke)}if(Q(Me)||b(Me))return Me=Dc(Me,Oe.mode,ke,null),Me.return=Oe,Me;zg(Oe,Me)}return null}function Lt(Oe,Me,ke,ft){var Mt=Me!==null?Me.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return Mt!==null?null:ge(Oe,Me,""+ke,ft);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:return ke.key===Mt?He(Oe,Me,ke,ft):null;case c:return ke.key===Mt?it(Oe,Me,ke,ft):null;case S:return Mt=ke._init,Lt(Oe,Me,Mt(ke._payload),ft)}if(Q(ke)||b(ke))return Mt!==null?null:_t(Oe,Me,ke,ft,null);zg(Oe,ke)}return null}function On(Oe,Me,ke,ft,Mt){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return Oe=Oe.get(ke)||null,ge(Me,Oe,""+ft,Mt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case l:return Oe=Oe.get(ft.key===null?ke:ft.key)||null,He(Me,Oe,ft,Mt);case c:return Oe=Oe.get(ft.key===null?ke:ft.key)||null,it(Me,Oe,ft,Mt);case S:var tn=ft._init;return On(Oe,Me,ke,tn(ft._payload),Mt)}if(Q(ft)||b(ft))return Oe=Oe.get(ke)||null,_t(Me,Oe,ft,Mt,null);zg(Me,ft)}return null}function Ct(Oe,Me,ke,ft){for(var Mt=null,tn=null,jt=Me,mn=Me=0,Vr=null;jt!==null&&mn<ke.length;mn++){jt.index>mn?(Vr=jt,jt=null):Vr=jt.sibling;var gn=Lt(Oe,jt,ke[mn],ft);if(gn===null){jt===null&&(jt=Vr);break}d&&jt&&gn.alternate===null&&p(Oe,jt),Me=L(gn,Me,mn),tn===null?Mt=gn:tn.sibling=gn,tn=gn,jt=Vr}if(mn===ke.length)return A(Oe,jt),Jn&&Cc(Oe,mn),Mt;if(jt===null){for(;mn<ke.length;mn++)jt=Wt(Oe,ke[mn],ft),jt!==null&&(Me=L(jt,Me,mn),tn===null?Mt=jt:tn.sibling=jt,tn=jt);return Jn&&Cc(Oe,mn),Mt}for(jt=w(Oe,jt);mn<ke.length;mn++)Vr=On(jt,Oe,mn,ke[mn],ft),Vr!==null&&(d&&Vr.alternate!==null&&jt.delete(Vr.key===null?mn:Vr.key),Me=L(Vr,Me,mn),tn===null?Mt=Vr:tn.sibling=Vr,tn=Vr);return d&&jt.forEach(function(gl){return p(Oe,gl)}),Jn&&Cc(Oe,mn),Mt}function ui(Oe,Me,ke,ft){var Mt=b(ke);if(typeof Mt!="function")throw Error(o(150));if(ke=Mt.call(ke),ke==null)throw Error(o(151));for(var tn=Mt=null,jt=Me,mn=Me=0,Vr=null,gn=ke.next();jt!==null&&!gn.done;mn++,gn=ke.next()){jt.index>mn?(Vr=jt,jt=null):Vr=jt.sibling;var gl=Lt(Oe,jt,gn.value,ft);if(gl===null){jt===null&&(jt=Vr);break}d&&jt&&gl.alternate===null&&p(Oe,jt),Me=L(gl,Me,mn),tn===null?Mt=gl:tn.sibling=gl,tn=gl,jt=Vr}if(gn.done)return A(Oe,jt),Jn&&Cc(Oe,mn),Mt;if(jt===null){for(;!gn.done;mn++,gn=ke.next())gn=Wt(Oe,gn.value,ft),gn!==null&&(Me=L(gn,Me,mn),tn===null?Mt=gn:tn.sibling=gn,tn=gn);return Jn&&Cc(Oe,mn),Mt}for(jt=w(Oe,jt);!gn.done;mn++,gn=ke.next())gn=On(jt,Oe,mn,gn.value,ft),gn!==null&&(d&&gn.alternate!==null&&jt.delete(gn.key===null?mn:gn.key),Me=L(gn,Me,mn),tn===null?Mt=gn:tn.sibling=gn,tn=gn);return d&&jt.forEach(function(SG){return p(Oe,SG)}),Jn&&Cc(Oe,mn),Mt}function js(Oe,Me,ke,ft){if(typeof ke=="object"&&ke!==null&&ke.type===u&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case l:e:{for(var Mt=ke.key,tn=Me;tn!==null;){if(tn.key===Mt){if(Mt=ke.type,Mt===u){if(tn.tag===7){A(Oe,tn.sibling),Me=P(tn,ke.props.children),Me.return=Oe,Oe=Me;break e}}else if(tn.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===S&&y2(Mt)===tn.type){A(Oe,tn.sibling),Me=P(tn,ke.props),Me.ref=Bh(Oe,tn,ke),Me.return=Oe,Oe=Me;break e}A(Oe,tn);break}else p(Oe,tn);tn=tn.sibling}ke.type===u?(Me=Dc(ke.props.children,Oe.mode,ft,ke.key),Me.return=Oe,Oe=Me):(ft=v0(ke.type,ke.key,ke.props,null,Oe.mode,ft),ft.ref=Bh(Oe,Me,ke),ft.return=Oe,Oe=ft)}return re(Oe);case c:e:{for(tn=ke.key;Me!==null;){if(Me.key===tn)if(Me.tag===4&&Me.stateNode.containerInfo===ke.containerInfo&&Me.stateNode.implementation===ke.implementation){A(Oe,Me.sibling),Me=P(Me,ke.children||[]),Me.return=Oe,Oe=Me;break e}else{A(Oe,Me);break}else p(Oe,Me);Me=Me.sibling}Me=Yx(ke,Oe.mode,ft),Me.return=Oe,Oe=Me}return re(Oe);case S:return tn=ke._init,js(Oe,Me,tn(ke._payload),ft)}if(Q(ke))return Ct(Oe,Me,ke,ft);if(b(ke))return ui(Oe,Me,ke,ft);zg(Oe,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,Me!==null&&Me.tag===6?(A(Oe,Me.sibling),Me=P(Me,ke),Me.return=Oe,Oe=Me):(A(Oe,Me),Me=Jx(ke,Oe.mode,ft),Me.return=Oe,Oe=Me),re(Oe)):A(Oe,Me)}return js}var lf=_2(!0),x2=_2(!1),Lh={},Gs=rt(Lh),Dh=rt(Lh),cf=rt(Lh);function Qo(d){if(d===Lh)throw Error(o(174));return d}function fx(d,p){dt(cf,p),dt(Dh,d),dt(Gs,Lh),d=V(p),xt(Gs),dt(Gs,d)}function uf(){xt(Gs),xt(Dh),xt(cf)}function S2(d){var p=Qo(cf.current),A=Qo(Gs.current);p=D(A,d.type,p),A!==p&&(dt(Dh,d),dt(Gs,p))}function dx(d){Dh.current===d&&(xt(Gs),xt(Dh))}var Qn=rt(0);function Gg(d){for(var p=d;p!==null;){if(p.tag===13){var A=p.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||Pt(A)||dn(A)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var hx=[];function px(){for(var d=0;d<hx.length;d++){var p=hx[d];Xe?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}hx.length=0}var Hg=a.ReactCurrentDispatcher,Hs=a.ReactCurrentBatchConfig,ff=0,or=null,ai=null,Hr=null,Vg=!1,Oh=!1,Fh=0,X5=0;function li(){throw Error(o(321))}function mx(d,p){if(p===null)return!1;for(var A=0;A<p.length&&A<d.length;A++)if(!fs(d[A],p[A]))return!1;return!0}function gx(d,p,A,w,P,L){if(ff=L,or=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Hg.current=d===null||d.memoizedState===null?$5:Q5,d=A(w,P),Oh){L=0;do{if(Oh=!1,Fh=0,25<=L)throw Error(o(301));L+=1,Hr=ai=null,p.updateQueue=null,Hg.current=Z5,d=A(w,P)}while(Oh)}if(Hg.current=Yg,p=ai!==null&&ai.next!==null,ff=0,Hr=ai=or=null,Vg=!1,p)throw Error(o(300));return d}function vx(){var d=Fh!==0;return Fh=0,d}function Ea(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?or.memoizedState=Hr=d:Hr=Hr.next=d,Hr}function Zo(){if(ai===null){var d=or.alternate;d=d!==null?d.memoizedState:null}else d=ai.next;var p=Hr===null?or.memoizedState:Hr.next;if(p!==null)Hr=p,ai=d;else{if(d===null)throw Error(o(310));ai=d,d={memoizedState:ai.memoizedState,baseState:ai.baseState,baseQueue:ai.baseQueue,queue:ai.queue,next:null},Hr===null?or.memoizedState=Hr=d:Hr=Hr.next=d}return Hr}function Tc(d,p){return typeof p=="function"?p(d):p}function Wg(d){var p=Zo(),A=p.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=d;var w=ai,P=w.baseQueue,L=A.pending;if(L!==null){if(P!==null){var re=P.next;P.next=L.next,L.next=re}w.baseQueue=P=L,A.pending=null}if(P!==null){L=P.next,w=w.baseState;var ge=re=null,He=null,it=L;do{var _t=it.lane;if((ff&_t)===_t)He!==null&&(He=He.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),w=it.hasEagerState?it.eagerState:d(w,it.action);else{var Wt={lane:_t,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};He===null?(ge=He=Wt,re=w):He=He.next=Wt,or.lanes|=_t,hf|=_t}it=it.next}while(it!==null&&it!==L);He===null?re=w:He.next=ge,fs(w,p.memoizedState)||(ms=!0),p.memoizedState=w,p.baseState=re,p.baseQueue=He,A.lastRenderedState=w}if(d=A.interleaved,d!==null){P=d;do L=P.lane,or.lanes|=L,hf|=L,P=P.next;while(P!==d)}else P===null&&(A.lanes=0);return[p.memoizedState,A.dispatch]}function jg(d){var p=Zo(),A=p.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=d;var w=A.dispatch,P=A.pending,L=p.memoizedState;if(P!==null){A.pending=null;var re=P=P.next;do L=d(L,re.action),re=re.next;while(re!==P);fs(L,p.memoizedState)||(ms=!0),p.memoizedState=L,p.baseQueue===null&&(p.baseState=L),A.lastRenderedState=L}return[L,w]}function A2(){}function M2(d,p){var A=or,w=Zo(),P=p(),L=!fs(w.memoizedState,P);if(L&&(w.memoizedState=P,ms=!0),w=w.queue,kh(b2.bind(null,A,w,d),[d]),w.getSnapshot!==p||L||Hr!==null&&Hr.memoizedState.tag&1){if(A.flags|=2048,Uh(9,E2.bind(null,A,w,P,p),void 0,null),wr===null)throw Error(o(349));ff&30||w2(A,p,P)}return P}function w2(d,p,A){d.flags|=16384,d={getSnapshot:p,value:A},p=or.updateQueue,p===null?(p={lastEffect:null,stores:null},or.updateQueue=p,p.stores=[d]):(A=p.stores,A===null?p.stores=[d]:A.push(d))}function E2(d,p,A,w){p.value=A,p.getSnapshot=w,C2(p)&&Vs(d,1,-1)}function b2(d,p,A){return A(function(){C2(p)&&Vs(d,1,-1)})}function C2(d){var p=d.getSnapshot;d=d.value;try{var A=p();return!fs(d,A)}catch{return!0}}function yx(d){var p=Ea();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:d},p.queue=d,d=d.dispatch=K5.bind(null,or,d),[p.memoizedState,d]}function Uh(d,p,A,w){return d={tag:d,create:p,destroy:A,deps:w,next:null},p=or.updateQueue,p===null?(p={lastEffect:null,stores:null},or.updateQueue=p,p.lastEffect=d.next=d):(A=p.lastEffect,A===null?p.lastEffect=d.next=d:(w=A.next,A.next=d,d.next=w,p.lastEffect=d)),d}function T2(){return Zo().memoizedState}function Xg(d,p,A,w){var P=Ea();or.flags|=d,P.memoizedState=Uh(1|p,A,void 0,w===void 0?null:w)}function Jg(d,p,A,w){var P=Zo();w=w===void 0?null:w;var L=void 0;if(ai!==null){var re=ai.memoizedState;if(L=re.destroy,w!==null&&mx(w,re.deps)){P.memoizedState=Uh(p,A,L,w);return}}or.flags|=d,P.memoizedState=Uh(1|p,A,L,w)}function _x(d,p){return Xg(8390656,8,d,p)}function kh(d,p){return Jg(2048,8,d,p)}function R2(d,p){return Jg(4,2,d,p)}function P2(d,p){return Jg(4,4,d,p)}function I2(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function B2(d,p,A){return A=A!=null?A.concat([d]):null,Jg(4,4,I2.bind(null,p,d),A)}function xx(){}function L2(d,p){var A=Zo();p=p===void 0?null:p;var w=A.memoizedState;return w!==null&&p!==null&&mx(p,w[1])?w[0]:(A.memoizedState=[d,p],d)}function D2(d,p){var A=Zo();p=p===void 0?null:p;var w=A.memoizedState;return w!==null&&p!==null&&mx(p,w[1])?w[0]:(d=d(),A.memoizedState=[d,p],d)}function J5(d,p){var A=Yt;Yt=A!==0&&4>A?A:4,d(!0);var w=Hs.transition;Hs.transition={};try{d(!1),p()}finally{Yt=A,Hs.transition=w}}function O2(){return Zo().memoizedState}function Y5(d,p,A){var w=hl(d);A={lane:w,action:A,hasEagerState:!1,eagerState:null,next:null},F2(d)?U2(p,A):(k2(d,p,A),A=Ri(),d=Vs(d,w,A),d!==null&&N2(d,p,w))}function K5(d,p,A){var w=hl(d),P={lane:w,action:A,hasEagerState:!1,eagerState:null,next:null};if(F2(d))U2(p,P);else{k2(d,p,P);var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=p.lastRenderedReducer,L!==null))try{var re=p.lastRenderedState,ge=L(re,A);if(P.hasEagerState=!0,P.eagerState=ge,fs(ge,re))return}catch{}finally{}A=Ri(),d=Vs(d,w,A),d!==null&&N2(d,p,w)}}function F2(d){var p=d.alternate;return d===or||p!==null&&p===or}function U2(d,p){Oh=Vg=!0;var A=d.pending;A===null?p.next=p:(p.next=A.next,A.next=p),d.pending=p}function k2(d,p,A){wr!==null&&d.mode&1&&!(nn&2)?(d=p.interleaved,d===null?(A.next=A,ds===null?ds=[p]:ds.push(p)):(A.next=d.next,d.next=A),p.interleaved=A):(d=p.pending,d===null?A.next=A:(A.next=d.next,d.next=A),p.pending=A)}function N2(d,p,A){if(A&4194240){var w=p.lanes;w&=d.pendingLanes,A|=w,p.lanes=A,Vi(d,A)}}var Yg={readContext:yr,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useInsertionEffect:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useSyncExternalStore:li,useId:li,unstable_isNewReconciler:!1},$5={readContext:yr,useCallback:function(d,p){return Ea().memoizedState=[d,p===void 0?null:p],d},useContext:yr,useEffect:_x,useImperativeHandle:function(d,p,A){return A=A!=null?A.concat([d]):null,Xg(4194308,4,I2.bind(null,p,d),A)},useLayoutEffect:function(d,p){return Xg(4194308,4,d,p)},useInsertionEffect:function(d,p){return Xg(4,2,d,p)},useMemo:function(d,p){var A=Ea();return p=p===void 0?null:p,d=d(),A.memoizedState=[d,p],d},useReducer:function(d,p,A){var w=Ea();return p=A!==void 0?A(p):p,w.memoizedState=w.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},w.queue=d,d=d.dispatch=Y5.bind(null,or,d),[w.memoizedState,d]},useRef:function(d){var p=Ea();return d={current:d},p.memoizedState=d},useState:yx,useDebugValue:xx,useDeferredValue:function(d){var p=yx(d),A=p[0],w=p[1];return _x(function(){var P=Hs.transition;Hs.transition={};try{w(d)}finally{Hs.transition=P}},[d]),A},useTransition:function(){var d=yx(!1),p=d[0];return d=J5.bind(null,d[1]),Ea().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,A){var w=or,P=Ea();if(Jn){if(A===void 0)throw Error(o(407));A=A()}else{if(A=p(),wr===null)throw Error(o(349));ff&30||w2(w,p,A)}P.memoizedState=A;var L={value:A,getSnapshot:p};return P.queue=L,_x(b2.bind(null,w,L,d),[d]),w.flags|=2048,Uh(9,E2.bind(null,w,L,A,p),void 0,null),A},useId:function(){var d=Ea(),p=wr.identifierPrefix;if(Jn){var A=wa,w=Ma;A=(w&~(1<<32-An(w)-1)).toString(32)+A,p=":"+p+"R"+A,A=Fh++,0<A&&(p+="H"+A.toString(32)),p+=":"}else A=X5++,p=":"+p+"r"+A.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},Q5={readContext:yr,useCallback:L2,useContext:yr,useEffect:kh,useImperativeHandle:B2,useInsertionEffect:R2,useLayoutEffect:P2,useMemo:D2,useReducer:Wg,useRef:T2,useState:function(){return Wg(Tc)},useDebugValue:xx,useDeferredValue:function(d){var p=Wg(Tc),A=p[0],w=p[1];return kh(function(){var P=Hs.transition;Hs.transition={};try{w(d)}finally{Hs.transition=P}},[d]),A},useTransition:function(){var d=Wg(Tc)[0],p=Zo().memoizedState;return[d,p]},useMutableSource:A2,useSyncExternalStore:M2,useId:O2,unstable_isNewReconciler:!1},Z5={readContext:yr,useCallback:L2,useContext:yr,useEffect:kh,useImperativeHandle:B2,useInsertionEffect:R2,useLayoutEffect:P2,useMemo:D2,useReducer:jg,useRef:T2,useState:function(){return jg(Tc)},useDebugValue:xx,useDeferredValue:function(d){var p=jg(Tc),A=p[0],w=p[1];return kh(function(){var P=Hs.transition;Hs.transition={};try{w(d)}finally{Hs.transition=P}},[d]),A},useTransition:function(){var d=jg(Tc)[0],p=Zo().memoizedState;return[d,p]},useMutableSource:A2,useSyncExternalStore:M2,useId:O2,unstable_isNewReconciler:!1};function Sx(d,p){try{var A="",w=p;do A+=Ec(w),w=w.return;while(w);var P=A}catch(L){P=`
Error generating stack: `+L.message+`
`+L.stack}return{value:d,source:p,stack:P}}function Ax(d,p){try{console.error(p.value)}catch(A){setTimeout(function(){throw A})}}var q5=typeof WeakMap=="function"?WeakMap:Map;function z2(d,p,A){A=Aa(-1,A),A.tag=3,A.payload={element:null};var w=p.value;return A.callback=function(){u0||(u0=!0,zx=w),Ax(d,p)},A}function G2(d,p,A){A=Aa(-1,A),A.tag=3;var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var P=p.value;A.payload=function(){return w(P)},A.callback=function(){Ax(d,p)}}var L=d.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(A.callback=function(){Ax(d,p),typeof w!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var re=p.stack;this.componentDidCatch(p.value,{componentStack:re!==null?re:""})}),A}function H2(d,p,A){var w=d.pingCache;if(w===null){w=d.pingCache=new q5;var P=new Set;w.set(p,P)}else P=w.get(p),P===void 0&&(P=new Set,w.set(p,P));P.has(A)||(P.add(A),d=hG.bind(null,d,p,A),p.then(d,d))}function V2(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function W2(d,p,A,w,P){return d.mode&1?(d.flags|=65536,d.lanes=P,d):(d===p?d.flags|=65536:(d.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(p=Aa(-1,1),p.tag=2,ul(A,p))),A.lanes|=1),d)}function qo(d){d.flags|=4}function j2(d,p){if(d!==null&&d.child===p.child)return!0;if(p.flags&16)return!1;for(d=p.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Nh,zh,Kg,$g;if(ye)Nh=function(d,p){for(var A=p.child;A!==null;){if(A.tag===5||A.tag===6)X(d,A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},zh=function(){},Kg=function(d,p,A,w,P){if(d=d.memoizedProps,d!==w){var L=p.stateNode,re=Qo(Gs.current);A=ae(L,A,d,w,P,re),(p.updateQueue=A)&&qo(p)}},$g=function(d,p,A,w){A!==w&&qo(p)};else if($){Nh=function(d,p,A,w){for(var P=p.child;P!==null;){if(P.tag===5){var L=P.stateNode;A&&w&&(L=zt(L,P.type,P.memoizedProps,P)),X(d,L)}else if(P.tag===6)L=P.stateNode,A&&w&&(L=Rt(L,P.memoizedProps,P)),X(d,L);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)L=P.child,L!==null&&(L.return=P),Nh(d,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===p)break;for(;P.sibling===null;){if(P.return===null||P.return===p)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var X2=function(d,p,A,w){for(var P=p.child;P!==null;){if(P.tag===5){var L=P.stateNode;A&&w&&(L=zt(L,P.type,P.memoizedProps,P)),gt(d,L)}else if(P.tag===6)L=P.stateNode,A&&w&&(L=Rt(L,P.memoizedProps,P)),gt(d,L);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)L=P.child,L!==null&&(L.return=P),X2(d,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===p)break;for(;P.sibling===null;){if(P.return===null||P.return===p)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};zh=function(d,p){var A=p.stateNode;if(!j2(d,p)){d=A.containerInfo;var w=st(d);X2(w,p,!1,!1),A.pendingChildren=w,qo(p),Et(d,w)}},Kg=function(d,p,A,w,P){var L=d.stateNode,re=d.memoizedProps;if((d=j2(d,p))&&re===w)p.stateNode=L;else{var ge=p.stateNode,He=Qo(Gs.current),it=null;re!==w&&(it=ae(ge,A,re,w,P,He)),d&&it===null?p.stateNode=L:(L=ze(L,it,A,re,w,p,d,ge),ie(L,A,w,P,He)&&qo(p),p.stateNode=L,d?qo(p):Nh(L,p,!1,!1))}},$g=function(d,p,A,w){A!==w?(d=Qo(cf.current),A=Qo(Gs.current),p.stateNode=fe(w,d,A,p),qo(p)):p.stateNode=d.stateNode}}else zh=function(){},Kg=function(){},$g=function(){};function Gh(d,p){if(!Jn)switch(d.tailMode){case"hidden":p=d.tail;for(var A=null;p!==null;)p.alternate!==null&&(A=p),p=p.sibling;A===null?d.tail=null:A.sibling=null;break;case"collapsed":A=d.tail;for(var w=null;A!==null;)A.alternate!==null&&(w=A),A=A.sibling;w===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:w.sibling=null}}function ci(d){var p=d.alternate!==null&&d.alternate.child===d.child,A=0,w=0;if(p)for(var P=d.child;P!==null;)A|=P.lanes|P.childLanes,w|=P.subtreeFlags&14680064,w|=P.flags&14680064,P.return=d,P=P.sibling;else for(P=d.child;P!==null;)A|=P.lanes|P.childLanes,w|=P.subtreeFlags,w|=P.flags,P.return=d,P=P.sibling;return d.subtreeFlags|=w,d.childLanes=A,p}function eG(d,p,A){var w=p.pendingProps;switch(ax(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(p),null;case 1:return on(p.type)&&pn(),ci(p),null;case 3:return w=p.stateNode,uf(),xt(Tt),xt(Jt),px(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(d===null||d.child===null)&&(Ih(p)?qo(p):d===null||d.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,Ao!==null&&(Vx(Ao),Ao=null))),zh(d,p),ci(p),null;case 5:dx(p),A=Qo(cf.current);var P=p.type;if(d!==null&&p.stateNode!=null)Kg(d,p,P,w,A),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!w){if(p.stateNode===null)throw Error(o(166));return ci(p),null}if(d=Qo(Gs.current),Ih(p)){if(!we)throw Error(o(175));d=U(p.stateNode,p.type,p.memoizedProps,A,d,p,!Ph),p.updateQueue=d,d!==null&&qo(p)}else{var L=O(P,w,A,d,p);Nh(L,p,!1,!1),p.stateNode=L,ie(L,P,w,A,d)&&qo(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return ci(p),null;case 6:if(d&&p.stateNode!=null)$g(d,p,d.memoizedProps,w);else{if(typeof w!="string"&&p.stateNode===null)throw Error(o(166));if(d=Qo(cf.current),A=Qo(Gs.current),Ih(p)){if(!we)throw Error(o(176));if(d=p.stateNode,w=p.memoizedProps,(A=I(d,w,p,!Ph))&&(P=hs,P!==null))switch(L=(P.mode&1)!==0,P.tag){case 3:Fe(P.stateNode.containerInfo,d,w,L);break;case 5:je(P.type,P.memoizedProps,P.stateNode,d,w,L)}A&&qo(p)}else p.stateNode=fe(w,d,A,p)}return ci(p),null;case 13:if(xt(Qn),w=p.memoizedState,Jn&&ps!==null&&p.mode&1&&!(p.flags&128)){for(d=ps;d;)d=qt(d);return af(),p.flags|=98560,p}if(w!==null&&w.dehydrated!==null){if(w=Ih(p),d===null){if(!w)throw Error(o(318));if(!we)throw Error(o(344));if(d=p.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));J(d,p)}else af(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return ci(p),null}return Ao!==null&&(Vx(Ao),Ao=null),p.flags&128?(p.lanes=A,p):(w=w!==null,A=!1,d===null?Ih(p):A=d.memoizedState!==null,w&&!A&&(p.child.flags|=8192,p.mode&1&&(d===null||Qn.current&1?Dr===0&&(Dr=3):jx())),p.updateQueue!==null&&(p.flags|=4),ci(p),null);case 4:return uf(),zh(d,p),d===null&&Ee(p.stateNode.containerInfo),ci(p),null;case 10:return Gr(p.type._context),ci(p),null;case 17:return on(p.type)&&pn(),ci(p),null;case 19:if(xt(Qn),P=p.memoizedState,P===null)return ci(p),null;if(w=(p.flags&128)!==0,L=P.rendering,L===null)if(w)Gh(P,!1);else{if(Dr!==0||d!==null&&d.flags&128)for(d=p.child;d!==null;){if(L=Gg(d),L!==null){for(p.flags|=128,Gh(P,!1),d=L.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),p.subtreeFlags=0,d=A,w=p.child;w!==null;)A=w,P=d,A.flags&=14680066,L=A.alternate,L===null?(A.childLanes=0,A.lanes=P,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=L.childLanes,A.lanes=L.lanes,A.child=L.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=L.memoizedProps,A.memoizedState=L.memoizedState,A.updateQueue=L.updateQueue,A.type=L.type,P=L.dependencies,A.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),w=w.sibling;return dt(Qn,Qn.current&1|2),p.child}d=d.sibling}P.tail!==null&&In()>Nx&&(p.flags|=128,w=!0,Gh(P,!1),p.lanes=4194304)}else{if(!w)if(d=Gg(L),d!==null){if(p.flags|=128,w=!0,d=d.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),Gh(P,!0),P.tail===null&&P.tailMode==="hidden"&&!L.alternate&&!Jn)return ci(p),null}else 2*In()-P.renderingStartTime>Nx&&A!==1073741824&&(p.flags|=128,w=!0,Gh(P,!1),p.lanes=4194304);P.isBackwards?(L.sibling=p.child,p.child=L):(d=P.last,d!==null?d.sibling=L:p.child=L,P.last=L)}return P.tail!==null?(p=P.tail,P.rendering=p,P.tail=p.sibling,P.renderingStartTime=In(),p.sibling=null,d=Qn.current,dt(Qn,w?d&1|2:d&1),p):(ci(p),null);case 22:case 23:return Wx(),w=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==w&&(p.flags|=8192),w&&p.mode&1?gs&1073741824&&(ci(p),ye&&p.subtreeFlags&6&&(p.flags|=8192)):ci(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var tG=a.ReactCurrentOwner,ms=!1;function Ti(d,p,A,w){p.child=d===null?x2(p,null,A,w):lf(p,d.child,A,w)}function J2(d,p,A,w,P){A=A.render;var L=p.ref;return vr(p,P),w=gx(d,p,A,w,L,P),A=vx(),d!==null&&!ms?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~P,ba(d,p,P)):(Jn&&A&&ox(p),p.flags|=1,Ti(d,p,w,P),p.child)}function Y2(d,p,A,w,P){if(d===null){var L=A.type;return typeof L=="function"&&!Xx(L)&&L.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(p.tag=15,p.type=L,K2(d,p,L,w,P)):(d=v0(A.type,null,w,p,p.mode,P),d.ref=p.ref,d.return=p,p.child=d)}if(L=d.child,!(d.lanes&P)){var re=L.memoizedProps;if(A=A.compare,A=A!==null?A:wc,A(re,w)&&d.ref===p.ref)return ba(d,p,P)}return p.flags|=1,d=ml(L,w),d.ref=p.ref,d.return=p,p.child=d}function K2(d,p,A,w,P){if(d!==null&&wc(d.memoizedProps,w)&&d.ref===p.ref)if(ms=!1,(d.lanes&P)!==0)d.flags&131072&&(ms=!0);else return p.lanes=d.lanes,ba(d,p,P);return Mx(d,p,A,w,P)}function $2(d,p,A){var w=p.pendingProps,P=w.children,L=d!==null?d.memoizedState:null;if(w.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},dt(df,gs),gs|=A;else if(A&1073741824)p.memoizedState={baseLanes:0,cachePool:null},w=L!==null?L.baseLanes:A,dt(df,gs),gs|=w;else return d=L!==null?L.baseLanes|A:A,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null},p.updateQueue=null,dt(df,gs),gs|=d,null;else L!==null?(w=L.baseLanes|A,p.memoizedState=null):w=A,dt(df,gs),gs|=w;return Ti(d,p,P,A),p.child}function Q2(d,p){var A=p.ref;(d===null&&A!==null||d!==null&&d.ref!==A)&&(p.flags|=512,p.flags|=2097152)}function Mx(d,p,A,w,P){var L=on(A)?sn:Jt.current;return L=Vt(p,L),vr(p,P),A=gx(d,p,A,w,L,P),w=vx(),d!==null&&!ms?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~P,ba(d,p,P)):(Jn&&w&&ox(p),p.flags|=1,Ti(d,p,A,P),p.child)}function Z2(d,p,A,w,P){if(on(A)){var L=!0;en(p)}else L=!1;if(vr(p,P),p.stateNode===null)d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d2(p,A,w),sx(p,A,w,P),w=!0;else if(d===null){var re=p.stateNode,ge=p.memoizedProps;re.props=ge;var He=re.context,it=A.contextType;typeof it=="object"&&it!==null?it=yr(it):(it=on(A)?sn:Jt.current,it=Vt(p,it));var _t=A.getDerivedStateFromProps,Wt=typeof _t=="function"||typeof re.getSnapshotBeforeUpdate=="function";Wt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ge!==w||He!==it)&&h2(p,re,w,it),cl=!1;var Lt=p.memoizedState;re.state=Lt,Fg(p,w,re,P),He=p.memoizedState,ge!==w||Lt!==He||Tt.current||cl?(typeof _t=="function"&&(ix(p,A,_t,w),He=p.memoizedState),(ge=cl||f2(p,A,ge,w,Lt,He,it))?(Wt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(p.flags|=4194308)):(typeof re.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=w,p.memoizedState=He),re.props=w,re.state=He,re.context=it,w=ge):(typeof re.componentDidMount=="function"&&(p.flags|=4194308),w=!1)}else{re=p.stateNode,a2(d,p),ge=p.memoizedProps,it=p.type===p.elementType?ge:bi(p.type,ge),re.props=it,Wt=p.pendingProps,Lt=re.context,He=A.contextType,typeof He=="object"&&He!==null?He=yr(He):(He=on(A)?sn:Jt.current,He=Vt(p,He));var On=A.getDerivedStateFromProps;(_t=typeof On=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ge!==Wt||Lt!==He)&&h2(p,re,w,He),cl=!1,Lt=p.memoizedState,re.state=Lt,Fg(p,w,re,P);var Ct=p.memoizedState;ge!==Wt||Lt!==Ct||Tt.current||cl?(typeof On=="function"&&(ix(p,A,On,w),Ct=p.memoizedState),(it=cl||f2(p,A,it,w,Lt,Ct,He)||!1)?(_t||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(w,Ct,He),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(w,Ct,He)),typeof re.componentDidUpdate=="function"&&(p.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof re.componentDidUpdate!="function"||ge===d.memoizedProps&&Lt===d.memoizedState||(p.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ge===d.memoizedProps&&Lt===d.memoizedState||(p.flags|=1024),p.memoizedProps=w,p.memoizedState=Ct),re.props=w,re.state=Ct,re.context=He,w=it):(typeof re.componentDidUpdate!="function"||ge===d.memoizedProps&&Lt===d.memoizedState||(p.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ge===d.memoizedProps&&Lt===d.memoizedState||(p.flags|=1024),w=!1)}return wx(d,p,A,w,L,P)}function wx(d,p,A,w,P,L){Q2(d,p);var re=(p.flags&128)!==0;if(!w&&!re)return P&&Ot(p,A,!1),ba(d,p,L);w=p.stateNode,tG.current=p;var ge=re&&typeof A.getDerivedStateFromError!="function"?null:w.render();return p.flags|=1,d!==null&&re?(p.child=lf(p,d.child,null,L),p.child=lf(p,null,ge,L)):Ti(d,p,ge,L),p.memoizedState=w.state,P&&Ot(p,A,!0),p.child}function q2(d){var p=d.stateNode;p.pendingContext?It(d,p.pendingContext,p.pendingContext!==p.context):p.context&&It(d,p.context,!1),fx(d,p.containerInfo)}function eR(d,p,A,w,P){return af(),ux(P),p.flags|=256,Ti(d,p,A,w),p.child}var Qg={dehydrated:null,treeContext:null,retryLane:0};function Zg(d){return{baseLanes:d,cachePool:null}}function tR(d,p,A){var w=p.pendingProps,P=Qn.current,L=!1,re=(p.flags&128)!==0,ge;if((ge=re)||(ge=d!==null&&d.memoizedState===null?!1:(P&2)!==0),ge?(L=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(P|=1),dt(Qn,P&1),d===null)return cx(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(p.mode&1?dn(d)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(P=w.children,d=w.fallback,L?(w=p.mode,L=p.child,P={mode:"hidden",children:P},!(w&1)&&L!==null?(L.childLanes=0,L.pendingProps=P):L=y0(P,w,0,null),d=Dc(d,w,A,null),L.return=p,d.return=p,L.sibling=d,p.child=L,p.child.memoizedState=Zg(A),p.memoizedState=Qg,d):Ex(p,P));if(P=d.memoizedState,P!==null){if(ge=P.dehydrated,ge!==null){if(re)return p.flags&256?(p.flags&=-257,qg(d,p,A,Error(o(422)))):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(L=w.fallback,P=p.mode,w=y0({mode:"visible",children:w.children},P,0,null),L=Dc(L,P,A,null),L.flags|=2,w.return=p,L.return=p,w.sibling=L,p.child=w,p.mode&1&&lf(p,d.child,null,A),p.child.memoizedState=Zg(A),p.memoizedState=Qg,L);if(!(p.mode&1))p=qg(d,p,A,null);else if(dn(ge))p=qg(d,p,A,Error(o(419)));else if(w=(A&d.childLanes)!==0,ms||w){if(w=wr,w!==null){switch(A&-A){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}w=L&(w.suspendedLanes|A)?0:L,w!==0&&w!==P.retryLane&&(P.retryLane=w,Vs(d,w,-1))}jx(),p=qg(d,p,A,Error(o(421)))}else Pt(ge)?(p.flags|=128,p.child=d.child,p=pG.bind(null,d),wn(ge,p),p=null):(A=P.treeContext,we&&(ps=$n(ge),hs=p,Jn=!0,Ao=null,Ph=!1,A!==null&&(Ns[zs++]=Ma,Ns[zs++]=wa,Ns[zs++]=bc,Ma=A.id,wa=A.overflow,bc=p)),p=Ex(p,p.pendingProps.children),p.flags|=4096);return p}return L?(w=rR(d,p,w.children,w.fallback,A),L=p.child,P=d.child.memoizedState,L.memoizedState=P===null?Zg(A):{baseLanes:P.baseLanes|A,cachePool:null},L.childLanes=d.childLanes&~A,p.memoizedState=Qg,w):(A=nR(d,p,w.children,A),p.memoizedState=null,A)}return L?(w=rR(d,p,w.children,w.fallback,A),L=p.child,P=d.child.memoizedState,L.memoizedState=P===null?Zg(A):{baseLanes:P.baseLanes|A,cachePool:null},L.childLanes=d.childLanes&~A,p.memoizedState=Qg,w):(A=nR(d,p,w.children,A),p.memoizedState=null,A)}function Ex(d,p){return p=y0({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function nR(d,p,A,w){var P=d.child;return d=P.sibling,A=ml(P,{mode:"visible",children:A}),!(p.mode&1)&&(A.lanes=w),A.return=p,A.sibling=null,d!==null&&(w=p.deletions,w===null?(p.deletions=[d],p.flags|=16):w.push(d)),p.child=A}function rR(d,p,A,w,P){var L=p.mode;d=d.child;var re=d.sibling,ge={mode:"hidden",children:A};return!(L&1)&&p.child!==d?(A=p.child,A.childLanes=0,A.pendingProps=ge,p.deletions=null):(A=ml(d,ge),A.subtreeFlags=d.subtreeFlags&14680064),re!==null?w=ml(re,w):(w=Dc(w,L,P,null),w.flags|=2),w.return=p,A.return=p,A.sibling=w,p.child=A,w}function qg(d,p,A,w){return w!==null&&ux(w),lf(p,d.child,null,A),d=Ex(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function iR(d,p,A){d.lanes|=p;var w=d.alternate;w!==null&&(w.lanes|=p),Ci(d.return,p,A)}function bx(d,p,A,w,P){var L=d.memoizedState;L===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:w,tail:A,tailMode:P}:(L.isBackwards=p,L.rendering=null,L.renderingStartTime=0,L.last=w,L.tail=A,L.tailMode=P)}function sR(d,p,A){var w=p.pendingProps,P=w.revealOrder,L=w.tail;if(Ti(d,p,w.children,A),w=Qn.current,w&2)w=w&1|2,p.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&iR(d,A,p);else if(d.tag===19)iR(d,A,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}w&=1}if(dt(Qn,w),!(p.mode&1))p.memoizedState=null;else switch(P){case"forwards":for(A=p.child,P=null;A!==null;)d=A.alternate,d!==null&&Gg(d)===null&&(P=A),A=A.sibling;A=P,A===null?(P=p.child,p.child=null):(P=A.sibling,A.sibling=null),bx(p,!1,P,A,L);break;case"backwards":for(A=null,P=p.child,p.child=null;P!==null;){if(d=P.alternate,d!==null&&Gg(d)===null){p.child=P;break}d=P.sibling,P.sibling=A,A=P,P=d}bx(p,!0,A,null,L);break;case"together":bx(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function ba(d,p,A){if(d!==null&&(p.dependencies=d.dependencies),hf|=p.lanes,!(A&p.childLanes))return null;if(d!==null&&p.child!==d.child)throw Error(o(153));if(p.child!==null){for(d=p.child,A=ml(d,d.pendingProps),p.child=A,A.return=p;d.sibling!==null;)d=d.sibling,A=A.sibling=ml(d,d.pendingProps),A.return=p;A.sibling=null}return p.child}function nG(d,p,A){switch(p.tag){case 3:q2(p),af();break;case 5:S2(p);break;case 1:on(p.type)&&en(p);break;case 4:fx(p,p.stateNode.containerInfo);break;case 10:Dg(p,p.type._context,p.memoizedProps.value);break;case 13:var w=p.memoizedState;if(w!==null)return w.dehydrated!==null?(dt(Qn,Qn.current&1),p.flags|=128,null):A&p.child.childLanes?tR(d,p,A):(dt(Qn,Qn.current&1),d=ba(d,p,A),d!==null?d.sibling:null);dt(Qn,Qn.current&1);break;case 19:if(w=(A&p.childLanes)!==0,d.flags&128){if(w)return sR(d,p,A);p.flags|=128}var P=p.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),dt(Qn,Qn.current),w)break;return null;case 22:case 23:return p.lanes=0,$2(d,p,A)}return ba(d,p,A)}function rG(d,p){switch(ax(p),p.tag){case 1:return on(p.type)&&pn(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return uf(),xt(Tt),xt(Jt),px(),d=p.flags,d&65536&&!(d&128)?(p.flags=d&-65537|128,p):null;case 5:return dx(p),null;case 13:if(xt(Qn),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(o(340));af()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return xt(Qn),null;case 4:return uf(),null;case 10:return Gr(p.type._context),null;case 22:case 23:return Wx(),null;case 24:return null;default:return null}}var e0=!1,Rc=!1,iG=typeof WeakSet=="function"?WeakSet:Set,ut=null;function t0(d,p){var A=d.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(w){Ji(d,p,w)}else A.current=null}function Cx(d,p,A){try{A()}catch(w){Ji(d,p,w)}}var oR=!1;function sG(d,p){for(G(d.containerInfo),ut=p;ut!==null;)if(d=ut,p=d.child,(d.subtreeFlags&1028)!==0&&p!==null)p.return=d,ut=p;else for(;ut!==null;){d=ut;try{var A=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var w=A.memoizedProps,P=A.memoizedState,L=d.stateNode,re=L.getSnapshotBeforeUpdate(d.elementType===d.type?w:bi(d.type,w),P);L.__reactInternalSnapshotBeforeUpdate=re}break;case 3:ye&&$e(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ge){Ji(d,d.return,ge)}if(p=d.sibling,p!==null){p.return=d.return,ut=p;break}ut=d.return}return A=oR,oR=!1,A}function Pc(d,p,A){var w=p.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var P=w=w.next;do{if((P.tag&d)===d){var L=P.destroy;P.destroy=void 0,L!==void 0&&Cx(p,A,L)}P=P.next}while(P!==w)}}function Hh(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var A=p=p.next;do{if((A.tag&d)===d){var w=A.create;A.destroy=w()}A=A.next}while(A!==p)}}function Tx(d){var p=d.ref;if(p!==null){var A=d.stateNode;switch(d.tag){case 5:d=W(A);break;default:d=A}typeof p=="function"?p(d):p.current=d}}function aR(d,p,A){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(Ac,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(d=p.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var w=d=d.next;do{var P=w,L=P.destroy;P=P.tag,L!==void 0&&(P&2||P&4)&&Cx(p,A,L),w=w.next}while(w!==d)}break;case 1:if(t0(p,A),d=p.stateNode,typeof d.componentWillUnmount=="function")try{d.props=p.memoizedProps,d.state=p.memoizedState,d.componentWillUnmount()}catch(re){Ji(p,A,re)}break;case 5:t0(p,A);break;case 4:ye?hR(d,p,A):$&&$&&(p=p.stateNode.containerInfo,A=st(p),kt(p,A))}}function lR(d,p,A){for(var w=p;;)if(aR(d,w,A),w.child===null||ye&&w.tag===4){if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function cR(d){var p=d.alternate;p!==null&&(d.alternate=null,cR(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&Ye(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function uR(d){return d.tag===5||d.tag===3||d.tag===4}function fR(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||uR(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function dR(d){if(ye){e:{for(var p=d.return;p!==null;){if(uR(p))break e;p=p.return}throw Error(o(160))}var A=p;switch(A.tag){case 5:p=A.stateNode,A.flags&32&&(Ze(p),A.flags&=-33),A=fR(d),Px(d,A,p);break;case 3:case 4:p=A.stateNode.containerInfo,A=fR(d),Rx(d,A,p);break;default:throw Error(o(161))}}}function Rx(d,p,A){var w=d.tag;if(w===5||w===6)d=d.stateNode,p?Ce(A,d,p):Ke(A,d);else if(w!==4&&(d=d.child,d!==null))for(Rx(d,p,A),d=d.sibling;d!==null;)Rx(d,p,A),d=d.sibling}function Px(d,p,A){var w=d.tag;if(w===5||w===6)d=d.stateNode,p?Se(A,d,p):Be(A,d);else if(w!==4&&(d=d.child,d!==null))for(Px(d,p,A),d=d.sibling;d!==null;)Px(d,p,A),d=d.sibling}function hR(d,p,A){for(var w=p,P=!1,L,re;;){if(!P){P=w.return;e:for(;;){if(P===null)throw Error(o(160));switch(L=P.stateNode,P.tag){case 5:re=!1;break e;case 3:L=L.containerInfo,re=!0;break e;case 4:L=L.containerInfo,re=!0;break e}P=P.return}P=!0}if(w.tag===5||w.tag===6)lR(d,w,A),re?Ge(L,w.stateNode):Ie(L,w.stateNode);else if(w.tag===18)re?Le(L,w.stateNode):Pe(L,w.stateNode);else if(w.tag===4){if(w.child!==null){L=w.stateNode.containerInfo,re=!0,w.child.return=w,w=w.child;continue}}else if(aR(d,w,A),w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return,w.tag===4&&(P=!1)}w.sibling.return=w.return,w=w.sibling}}function Ix(d,p){if(ye){switch(p.tag){case 0:case 11:case 14:case 15:Pc(3,p,p.return),Hh(3,p),Pc(5,p,p.return);return;case 1:return;case 5:var A=p.stateNode;if(A!=null){var w=p.memoizedProps;d=d!==null?d.memoizedProps:w;var P=p.type,L=p.updateQueue;p.updateQueue=null,L!==null&&ne(A,L,P,d,w,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));A=p.memoizedProps,We(p.stateNode,d!==null?d.memoizedProps:A,A);return;case 3:we&&d!==null&&d.memoizedState.isDehydrated&&Z(p.stateNode.containerInfo);return;case 12:return;case 13:n0(p);return;case 19:n0(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:Pc(3,p,p.return),Hh(3,p),Pc(5,p,p.return);return;case 12:return;case 13:n0(p);return;case 19:n0(p);return;case 3:we&&d!==null&&d.memoizedState.isDehydrated&&Z(p.stateNode.containerInfo);break;case 22:case 23:return}e:if($){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,kt(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function n0(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var A=d.stateNode;A===null&&(A=d.stateNode=new iG),p.forEach(function(w){var P=mG.bind(null,d,w);A.has(w)||(A.add(w),w.then(P,P))})}}function oG(d,p){for(ut=p;ut!==null;){p=ut;var A=p.deletions;if(A!==null)for(var w=0;w<A.length;w++){var P=A[w];try{var L=d;ye?hR(L,P,p):lR(L,P,p);var re=P.alternate;re!==null&&(re.return=null),P.return=null}catch(Mt){Ji(P,p,Mt)}}if(A=p.child,p.subtreeFlags&12854&&A!==null)A.return=p,ut=A;else for(;ut!==null;){p=ut;try{var ge=p.flags;if(ge&32&&ye&&Ze(p.stateNode),ge&512){var He=p.alternate;if(He!==null){var it=He.ref;it!==null&&(typeof it=="function"?it(null):it.current=null)}}if(ge&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var _t=p.alternate;(_t===null||_t.memoizedState===null)&&(kx=In())}break;case 22:var Wt=p.memoizedState!==null,Lt=p.alternate,On=Lt!==null&&Lt.memoizedState!==null;if(A=p,ye){e:if(w=A,P=Wt,L=null,ye)for(var Ct=w;;){if(Ct.tag===5){if(L===null){L=Ct;var ui=Ct.stateNode;P?tt(ui):pe(Ct.stateNode,Ct.memoizedProps)}}else if(Ct.tag===6){if(L===null){var js=Ct.stateNode;P?se(js):be(js,Ct.memoizedProps)}}else if((Ct.tag!==22&&Ct.tag!==23||Ct.memoizedState===null||Ct===w)&&Ct.child!==null){Ct.child.return=Ct,Ct=Ct.child;continue}if(Ct===w)break;for(;Ct.sibling===null;){if(Ct.return===null||Ct.return===w)break e;L===Ct&&(L=null),Ct=Ct.return}L===Ct&&(L=null),Ct.sibling.return=Ct.return,Ct=Ct.sibling}}if(Wt&&!On&&A.mode&1){ut=A;for(var Oe=A.child;Oe!==null;){for(A=ut=Oe;ut!==null;){w=ut;var Me=w.child;switch(w.tag){case 0:case 11:case 14:case 15:Pc(4,w,w.return);break;case 1:t0(w,w.return);var ke=w.stateNode;if(typeof ke.componentWillUnmount=="function"){var ft=w.return;try{ke.props=w.memoizedProps,ke.state=w.memoizedState,ke.componentWillUnmount()}catch(Mt){Ji(w,ft,Mt)}}break;case 5:t0(w,w.return);break;case 22:if(w.memoizedState!==null){gR(A);continue}}Me!==null?(Me.return=w,ut=Me):gR(A)}Oe=Oe.sibling}}}switch(ge&4102){case 2:dR(p),p.flags&=-3;break;case 6:dR(p),p.flags&=-3,Ix(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,Ix(p.alternate,p);break;case 4:Ix(p.alternate,p)}}catch(Mt){Ji(p,p.return,Mt)}if(A=p.sibling,A!==null){A.return=p.return,ut=A;break}ut=p.return}}}function aG(d,p,A){ut=d,pR(d)}function pR(d,p,A){for(var w=(d.mode&1)!==0;ut!==null;){var P=ut,L=P.child;if(P.tag===22&&w){var re=P.memoizedState!==null||e0;if(!re){var ge=P.alternate,He=ge!==null&&ge.memoizedState!==null||Rc;ge=e0;var it=Rc;if(e0=re,(Rc=He)&&!it)for(ut=P;ut!==null;)re=ut,He=re.child,re.tag===22&&re.memoizedState!==null?vR(P):He!==null?(He.return=re,ut=He):vR(P);for(;L!==null;)ut=L,pR(L),L=L.sibling;ut=P,e0=ge,Rc=it}mR(d)}else P.subtreeFlags&8772&&L!==null?(L.return=P,ut=L):mR(d)}}function mR(d){for(;ut!==null;){var p=ut;if(p.flags&8772){var A=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Rc||Hh(5,p);break;case 1:var w=p.stateNode;if(p.flags&4&&!Rc)if(A===null)w.componentDidMount();else{var P=p.elementType===p.type?A.memoizedProps:bi(p.type,A.memoizedProps);w.componentDidUpdate(P,A.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var L=p.updateQueue;L!==null&&c2(p,L,w);break;case 3:var re=p.updateQueue;if(re!==null){if(A=null,p.child!==null)switch(p.child.tag){case 5:A=W(p.child.stateNode);break;case 1:A=p.child.stateNode}c2(p,re,A)}break;case 5:var ge=p.stateNode;A===null&&p.flags&4&&ve(ge,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(we&&p.memoizedState===null){var He=p.alternate;if(He!==null){var it=He.memoizedState;if(it!==null){var _t=it.dehydrated;_t!==null&&te(_t)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Rc||p.flags&512&&Tx(p)}catch(Wt){Ji(p,p.return,Wt)}}if(p===d){ut=null;break}if(A=p.sibling,A!==null){A.return=p.return,ut=A;break}ut=p.return}}function gR(d){for(;ut!==null;){var p=ut;if(p===d){ut=null;break}var A=p.sibling;if(A!==null){A.return=p.return,ut=A;break}ut=p.return}}function vR(d){for(;ut!==null;){var p=ut;try{switch(p.tag){case 0:case 11:case 15:var A=p.return;try{Hh(4,p)}catch(He){Ji(p,A,He)}break;case 1:var w=p.stateNode;if(typeof w.componentDidMount=="function"){var P=p.return;try{w.componentDidMount()}catch(He){Ji(p,P,He)}}var L=p.return;try{Tx(p)}catch(He){Ji(p,L,He)}break;case 5:var re=p.return;try{Tx(p)}catch(He){Ji(p,re,He)}}}catch(He){Ji(p,p.return,He)}if(p===d){ut=null;break}var ge=p.sibling;if(ge!==null){ge.return=p.return,ut=ge;break}ut=p.return}}var r0=0,i0=1,s0=2,o0=3,a0=4;if(typeof Symbol=="function"&&Symbol.for){var Vh=Symbol.for;r0=Vh("selector.component"),i0=Vh("selector.has_pseudo_class"),s0=Vh("selector.role"),o0=Vh("selector.test_id"),a0=Vh("selector.text")}function Bx(d){var p=_e(d);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(d=xe(d),d===null)throw Error(o(362));return d.stateNode.current}function Lx(d,p){switch(p.$$typeof){case r0:if(d.type===p.value)return!0;break;case i0:e:{p=p.value,d=[d,0];for(var A=0;A<d.length;){var w=d[A++],P=d[A++],L=p[P];if(w.tag!==5||!z(w)){for(;L!=null&&Lx(w,L);)P++,L=p[P];if(P===p.length){p=!0;break e}else for(w=w.child;w!==null;)d.push(w,P),w=w.sibling}}p=!1}return p;case s0:if(d.tag===5&&ce(d.stateNode,p.value))return!0;break;case a0:if((d.tag===5||d.tag===6)&&(d=K(d),d!==null&&0<=d.indexOf(p.value)))return!0;break;case o0:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Dx(d){switch(d.$$typeof){case r0:return"<"+(C(d.value)||"Unknown")+">";case i0:return":has("+(Dx(d)||"")+")";case s0:return'[role="'+d.value+'"]';case a0:return'"'+d.value+'"';case o0:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function yR(d,p){var A=[];d=[d,0];for(var w=0;w<d.length;){var P=d[w++],L=d[w++],re=p[L];if(P.tag!==5||!z(P)){for(;re!=null&&Lx(P,re);)L++,re=p[L];if(L===p.length)A.push(P);else for(P=P.child;P!==null;)d.push(P,L),P=P.sibling}}return A}function Ox(d,p){if(!Te)throw Error(o(363));d=Bx(d),d=yR(d,p),p=[],d=Array.from(d);for(var A=0;A<d.length;){var w=d[A++];if(w.tag===5)z(w)||p.push(w.stateNode);else for(w=w.child;w!==null;)d.push(w),w=w.sibling}return p}var lG=Math.ceil,l0=a.ReactCurrentDispatcher,Fx=a.ReactCurrentOwner,_r=a.ReactCurrentBatchConfig,nn=0,wr=null,Er=null,qr=0,gs=0,df=rt(0),Dr=0,Wh=null,hf=0,c0=0,Ux=0,jh=null,ji=null,kx=0,Nx=1/0;function pf(){Nx=In()+500}var u0=!1,zx=null,fl=null,f0=!1,dl=null,d0=0,Xh=0,Gx=null,h0=-1,p0=0;function Ri(){return nn&6?In():h0!==-1?h0:h0=In()}function hl(d){return d.mode&1?nn&2&&qr!==0?qr&-qr:Mc.transition!==null?(p0===0&&(d=ls,ls<<=1,!(ls&4194240)&&(ls=64),p0=d),p0):(d=Yt,d!==0?d:Ae()):1}function Vs(d,p,A){if(50<Xh)throw Xh=0,Gx=null,Error(o(185));var w=m0(d,p);return w===null?null:(wi(w,p,A),(!(nn&2)||w!==wr)&&(w===wr&&(!(nn&2)&&(c0|=p),Dr===4&&pl(w,qr)),Xi(w,A),p===1&&nn===0&&!(d.mode&1)&&(pf(),$o&&Wi())),w)}function m0(d,p){d.lanes|=p;var A=d.alternate;for(A!==null&&(A.lanes|=p),A=d,d=d.return;d!==null;)d.childLanes|=p,A=d.alternate,A!==null&&(A.childLanes|=p),A=d,d=d.return;return A.tag===3?A.stateNode:null}function Xi(d,p){var A=d.callbackNode;_o(d,p);var w=gr(d,d===wr?qr:0);if(w===0)A!==null&&_n(A),d.callbackNode=null,d.callbackPriority=0;else if(p=w&-w,d.callbackPriority!==p){if(A!=null&&_n(A),p===1)d.tag===0?Rh(xR.bind(null,d)):Th(xR.bind(null,d)),de?Re(function(){nn===0&&Wi()}):Bt(xo,Wi),A=null;else{switch(vt(w)){case 1:A=xo;break;case 4:A=Sc;break;case 16:A=Mr;break;case 536870912:A=bh;break;default:A=Mr}A=RR(A,_R.bind(null,d))}d.callbackPriority=p,d.callbackNode=A}}function _R(d,p){if(h0=-1,p0=0,nn&6)throw Error(o(327));var A=d.callbackNode;if(Lc()&&d.callbackNode!==A)return null;var w=gr(d,d===wr?qr:0);if(w===0)return null;if(w&30||w&d.expiredLanes||p)p=g0(d,w);else{p=w;var P=nn;nn|=2;var L=MR();(wr!==d||qr!==p)&&(pf(),Ic(d,p));do try{fG();break}catch(ge){AR(d,ge)}while(1);rf(),l0.current=L,nn=P,Er!==null?p=0:(wr=null,qr=0,p=Dr)}if(p!==0){if(p===2&&(P=Lr(d),P!==0&&(w=P,p=Hx(d,P))),p===1)throw A=Wh,Ic(d,0),pl(d,w),Xi(d,In()),A;if(p===6)pl(d,w);else{if(P=d.current.alternate,!(w&30)&&!cG(P)&&(p=g0(d,w),p===2&&(L=Lr(d),L!==0&&(w=L,p=Hx(d,L))),p===1))throw A=Wh,Ic(d,0),pl(d,w),Xi(d,In()),A;switch(d.finishedWork=P,d.finishedLanes=w,p){case 0:case 1:throw Error(o(345));case 2:Bc(d,ji);break;case 3:if(pl(d,w),(w&130023424)===w&&(p=kx+500-In(),10<p)){if(gr(d,0)!==0)break;if(P=d.suspendedLanes,(P&w)!==w){Ri(),d.pingedLanes|=d.suspendedLanes&P;break}d.timeoutHandle=ue(Bc.bind(null,d,ji),p);break}Bc(d,ji);break;case 4:if(pl(d,w),(w&4194240)===w)break;for(p=d.eventTimes,P=-1;0<w;){var re=31-An(w);L=1<<re,re=p[re],re>P&&(P=re),w&=~L}if(w=P,w=In()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*lG(w/1960))-w,10<w){d.timeoutHandle=ue(Bc.bind(null,d,ji),w);break}Bc(d,ji);break;case 5:Bc(d,ji);break;default:throw Error(o(329))}}}return Xi(d,In()),d.callbackNode===A?_R.bind(null,d):null}function Hx(d,p){var A=jh;return d.current.memoizedState.isDehydrated&&(Ic(d,p).flags|=256),d=g0(d,p),d!==2&&(p=ji,ji=A,p!==null&&Vx(p)),d}function Vx(d){ji===null?ji=d:ji.push.apply(ji,d)}function cG(d){for(var p=d;;){if(p.flags&16384){var A=p.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var w=0;w<A.length;w++){var P=A[w],L=P.getSnapshot;P=P.value;try{if(!fs(L(),P))return!1}catch{return!1}}}if(A=p.child,p.subtreeFlags&16384&&A!==null)A.return=p,p=A;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function pl(d,p){for(p&=~Ux,p&=~c0,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var A=31-An(p),w=1<<A;d[A]=-1,p&=~w}}function xR(d){if(nn&6)throw Error(o(327));Lc();var p=gr(d,0);if(!(p&1))return Xi(d,In()),null;var A=g0(d,p);if(d.tag!==0&&A===2){var w=Lr(d);w!==0&&(p=w,A=Hx(d,w))}if(A===1)throw A=Wh,Ic(d,0),pl(d,p),Xi(d,In()),A;if(A===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,Bc(d,ji),Xi(d,In()),null}function SR(d){dl!==null&&dl.tag===0&&!(nn&6)&&Lc();var p=nn;nn|=1;var A=_r.transition,w=Yt;try{if(_r.transition=null,Yt=1,d)return d()}finally{Yt=w,_r.transition=A,nn=p,!(nn&6)&&Wi()}}function Wx(){gs=df.current,xt(df)}function Ic(d,p){d.finishedWork=null,d.finishedLanes=0;var A=d.timeoutHandle;if(A!==Ne&&(d.timeoutHandle=Ne,me(A)),Er!==null)for(A=Er.return;A!==null;){var w=A;switch(ax(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&pn();break;case 3:uf(),xt(Tt),xt(Jt),px();break;case 5:dx(w);break;case 4:uf();break;case 13:xt(Qn);break;case 19:xt(Qn);break;case 10:Gr(w.type._context);break;case 22:case 23:Wx()}A=A.return}if(wr=d,Er=d=ml(d.current,null),qr=gs=p,Dr=0,Wh=null,Ux=c0=hf=0,ji=jh=null,ds!==null){for(p=0;p<ds.length;p++)if(A=ds[p],w=A.interleaved,w!==null){A.interleaved=null;var P=w.next,L=A.pending;if(L!==null){var re=L.next;L.next=P,w.next=re}A.pending=w}ds=null}return d}function AR(d,p){do{var A=Er;try{if(rf(),Hg.current=Yg,Vg){for(var w=or.memoizedState;w!==null;){var P=w.queue;P!==null&&(P.pending=null),w=w.next}Vg=!1}if(ff=0,Hr=ai=or=null,Oh=!1,Fh=0,Fx.current=null,A===null||A.return===null){Dr=1,Wh=p,Er=null;break}e:{var L=d,re=A.return,ge=A,He=p;if(p=qr,ge.flags|=32768,He!==null&&typeof He=="object"&&typeof He.then=="function"){var it=He,_t=ge,Wt=_t.tag;if(!(_t.mode&1)&&(Wt===0||Wt===11||Wt===15)){var Lt=_t.alternate;Lt?(_t.updateQueue=Lt.updateQueue,_t.memoizedState=Lt.memoizedState,_t.lanes=Lt.lanes):(_t.updateQueue=null,_t.memoizedState=null)}var On=V2(re);if(On!==null){On.flags&=-257,W2(On,re,ge,L,p),On.mode&1&&H2(L,it,p),p=On,He=it;var Ct=p.updateQueue;if(Ct===null){var ui=new Set;ui.add(He),p.updateQueue=ui}else Ct.add(He);break e}else{if(!(p&1)){H2(L,it,p),jx();break e}He=Error(o(426))}}else if(Jn&&ge.mode&1){var js=V2(re);if(js!==null){!(js.flags&65536)&&(js.flags|=256),W2(js,re,ge,L,p),ux(He);break e}}L=He,Dr!==4&&(Dr=2),jh===null?jh=[L]:jh.push(L),He=Sx(He,ge),ge=re;do{switch(ge.tag){case 3:ge.flags|=65536,p&=-p,ge.lanes|=p;var Oe=z2(ge,He,p);l2(ge,Oe);break e;case 1:L=He;var Me=ge.type,ke=ge.stateNode;if(!(ge.flags&128)&&(typeof Me.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(fl===null||!fl.has(ke)))){ge.flags|=65536,p&=-p,ge.lanes|=p;var ft=G2(ge,L,p);l2(ge,ft);break e}}ge=ge.return}while(ge!==null)}ER(A)}catch(Mt){p=Mt,Er===A&&A!==null&&(Er=A=A.return);continue}break}while(1)}function MR(){var d=l0.current;return l0.current=Yg,d===null?Yg:d}function jx(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),wr===null||!(hf&268435455)&&!(c0&268435455)||pl(wr,qr)}function g0(d,p){var A=nn;nn|=2;var w=MR();wr===d&&qr===p||Ic(d,p);do try{uG();break}catch(P){AR(d,P)}while(1);if(rf(),nn=A,l0.current=w,Er!==null)throw Error(o(261));return wr=null,qr=0,Dr}function uG(){for(;Er!==null;)wR(Er)}function fG(){for(;Er!==null&&!Ln();)wR(Er)}function wR(d){var p=TR(d.alternate,d,gs);d.memoizedProps=d.pendingProps,p===null?ER(d):Er=p,Fx.current=null}function ER(d){var p=d;do{var A=p.alternate;if(d=p.return,p.flags&32768){if(A=rG(A,p),A!==null){A.flags&=32767,Er=A;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Dr=6,Er=null;return}}else if(A=eG(A,p,gs),A!==null){Er=A;return}if(p=p.sibling,p!==null){Er=p;return}Er=p=d}while(p!==null);Dr===0&&(Dr=5)}function Bc(d,p){var A=Yt,w=_r.transition;try{_r.transition=null,Yt=1,dG(d,p,A)}finally{_r.transition=w,Yt=A}return null}function dG(d,p,A){do Lc();while(dl!==null);if(nn&6)throw Error(o(327));var w=d.finishedWork,P=d.finishedLanes;if(w===null)return null;if(d.finishedWork=null,d.finishedLanes=0,w===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var L=w.lanes|w.childLanes;if(cs(d,L),d===wr&&(Er=wr=null,qr=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||f0||(f0=!0,RR(Mr,function(){return Lc(),null})),L=(w.flags&15990)!==0,w.subtreeFlags&15990||L){L=_r.transition,_r.transition=null;var re=Yt;Yt=1;var ge=nn;nn|=4,Fx.current=null,sG(d,w),oG(d,w),H(d.containerInfo),d.current=w,aG(w),Dn(),nn=ge,Yt=re,_r.transition=L}else d.current=w;if(f0&&(f0=!1,dl=d,d0=P),L=d.pendingLanes,L===0&&(fl=null),Ch(w.stateNode),Xi(d,In()),p!==null)for(A=d.onRecoverableError,w=0;w<p.length;w++)A(p[w]);if(u0)throw u0=!1,d=zx,zx=null,d;return d0&1&&d.tag!==0&&Lc(),L=d.pendingLanes,L&1?d===Gx?Xh++:(Xh=0,Gx=d):Xh=0,Wi(),null}function Lc(){if(dl!==null){var d=vt(d0),p=_r.transition,A=Yt;try{if(_r.transition=null,Yt=16>d?16:d,dl===null)var w=!1;else{if(d=dl,dl=null,d0=0,nn&6)throw Error(o(331));var P=nn;for(nn|=4,ut=d.current;ut!==null;){var L=ut,re=L.child;if(ut.flags&16){var ge=L.deletions;if(ge!==null){for(var He=0;He<ge.length;He++){var it=ge[He];for(ut=it;ut!==null;){var _t=ut;switch(_t.tag){case 0:case 11:case 15:Pc(8,_t,L)}var Wt=_t.child;if(Wt!==null)Wt.return=_t,ut=Wt;else for(;ut!==null;){_t=ut;var Lt=_t.sibling,On=_t.return;if(cR(_t),_t===it){ut=null;break}if(Lt!==null){Lt.return=On,ut=Lt;break}ut=On}}}var Ct=L.alternate;if(Ct!==null){var ui=Ct.child;if(ui!==null){Ct.child=null;do{var js=ui.sibling;ui.sibling=null,ui=js}while(ui!==null)}}ut=L}}if(L.subtreeFlags&2064&&re!==null)re.return=L,ut=re;else e:for(;ut!==null;){if(L=ut,L.flags&2048)switch(L.tag){case 0:case 11:case 15:Pc(9,L,L.return)}var Oe=L.sibling;if(Oe!==null){Oe.return=L.return,ut=Oe;break e}ut=L.return}}var Me=d.current;for(ut=Me;ut!==null;){re=ut;var ke=re.child;if(re.subtreeFlags&2064&&ke!==null)ke.return=re,ut=ke;else e:for(re=Me;ut!==null;){if(ge=ut,ge.flags&2048)try{switch(ge.tag){case 0:case 11:case 15:Hh(9,ge)}}catch(Mt){Ji(ge,ge.return,Mt)}if(ge===re){ut=null;break e}var ft=ge.sibling;if(ft!==null){ft.return=ge.return,ut=ft;break e}ut=ge.return}}if(nn=P,Wi(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(Ac,d)}catch{}w=!0}return w}finally{Yt=A,_r.transition=p}}return!1}function bR(d,p,A){p=Sx(A,p),p=z2(d,p,1),ul(d,p),p=Ri(),d=m0(d,1),d!==null&&(wi(d,1,p),Xi(d,p))}function Ji(d,p,A){if(d.tag===3)bR(d,d,A);else for(;p!==null;){if(p.tag===3){bR(p,d,A);break}else if(p.tag===1){var w=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(fl===null||!fl.has(w))){d=Sx(A,d),d=G2(p,d,1),ul(p,d),d=Ri(),p=m0(p,1),p!==null&&(wi(p,1,d),Xi(p,d));break}}p=p.return}}function hG(d,p,A){var w=d.pingCache;w!==null&&w.delete(p),p=Ri(),d.pingedLanes|=d.suspendedLanes&A,wr===d&&(qr&A)===A&&(Dr===4||Dr===3&&(qr&130023424)===qr&&500>In()-kx?Ic(d,0):Ux|=A),Xi(d,p)}function CR(d,p){p===0&&(d.mode&1?(p=Zr,Zr<<=1,!(Zr&130023424)&&(Zr=4194304)):p=1);var A=Ri();d=m0(d,p),d!==null&&(wi(d,p,A),Xi(d,A))}function pG(d){var p=d.memoizedState,A=0;p!==null&&(A=p.retryLane),CR(d,A)}function mG(d,p){var A=0;switch(d.tag){case 13:var w=d.stateNode,P=d.memoizedState;P!==null&&(A=P.retryLane);break;case 19:w=d.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(p),CR(d,A)}var TR;TR=function(d,p,A){if(d!==null)if(d.memoizedProps!==p.pendingProps||Tt.current)ms=!0;else{if(!(d.lanes&A)&&!(p.flags&128))return ms=!1,nG(d,p,A);ms=!!(d.flags&131072)}else ms=!1,Jn&&p.flags&1048576&&p2(p,Ng,p.index);switch(p.lanes=0,p.tag){case 2:var w=p.type;d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps;var P=Vt(p,Jt.current);vr(p,A),P=gx(null,p,w,d,P,A);var L=vx();return p.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,on(w)?(L=!0,en(p)):L=!1,p.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,rx(p),P.updater=Ug,p.stateNode=P,P._reactInternals=p,sx(p,w,d,A),p=wx(null,p,w,!0,L,A)):(p.tag=0,Jn&&L&&ox(p),Ti(null,p,P,A),p=p.child),p;case 16:w=p.elementType;e:{switch(d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps,P=w._init,w=P(w._payload),p.type=w,P=p.tag=vG(w),d=bi(w,d),P){case 0:p=Mx(null,p,w,d,A);break e;case 1:p=Z2(null,p,w,d,A);break e;case 11:p=J2(null,p,w,d,A);break e;case 14:p=Y2(null,p,w,bi(w.type,d),A);break e}throw Error(o(306,w,""))}return p;case 0:return w=p.type,P=p.pendingProps,P=p.elementType===w?P:bi(w,P),Mx(d,p,w,P,A);case 1:return w=p.type,P=p.pendingProps,P=p.elementType===w?P:bi(w,P),Z2(d,p,w,P,A);case 3:e:{if(q2(p),d===null)throw Error(o(387));w=p.pendingProps,L=p.memoizedState,P=L.element,a2(d,p),Fg(p,w,null,A);var re=p.memoizedState;if(w=re.element,we&&L.isDehydrated)if(L={element:w,isDehydrated:!1,cache:re.cache,transitions:re.transitions},p.updateQueue.baseState=L,p.memoizedState=L,p.flags&256){P=Error(o(423)),p=eR(d,p,w,A,P);break e}else if(w!==P){P=Error(o(424)),p=eR(d,p,w,A,P);break e}else for(we&&(ps=En(p.stateNode.containerInfo),hs=p,Jn=!0,Ao=null,Ph=!1),A=x2(p,null,w,A),p.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(af(),w===P){p=ba(d,p,A);break e}Ti(d,p,w,A)}p=p.child}return p;case 5:return S2(p),d===null&&cx(p),w=p.type,P=p.pendingProps,L=d!==null?d.memoizedProps:null,re=P.children,oe(w,P)?re=null:L!==null&&oe(w,L)&&(p.flags|=32),Q2(d,p),Ti(d,p,re,A),p.child;case 6:return d===null&&cx(p),null;case 13:return tR(d,p,A);case 4:return fx(p,p.stateNode.containerInfo),w=p.pendingProps,d===null?p.child=lf(p,null,w,A):Ti(d,p,w,A),p.child;case 11:return w=p.type,P=p.pendingProps,P=p.elementType===w?P:bi(w,P),J2(d,p,w,P,A);case 7:return Ti(d,p,p.pendingProps,A),p.child;case 8:return Ti(d,p,p.pendingProps.children,A),p.child;case 12:return Ti(d,p,p.pendingProps.children,A),p.child;case 10:e:{if(w=p.type._context,P=p.pendingProps,L=p.memoizedProps,re=P.value,Dg(p,w,re),L!==null)if(fs(L.value,re)){if(L.children===P.children&&!Tt.current){p=ba(d,p,A);break e}}else for(L=p.child,L!==null&&(L.return=p);L!==null;){var ge=L.dependencies;if(ge!==null){re=L.child;for(var He=ge.firstContext;He!==null;){if(He.context===w){if(L.tag===1){He=Aa(-1,A&-A),He.tag=2;var it=L.updateQueue;if(it!==null){it=it.shared;var _t=it.pending;_t===null?He.next=He:(He.next=_t.next,_t.next=He),it.pending=He}}L.lanes|=A,He=L.alternate,He!==null&&(He.lanes|=A),Ci(L.return,A,p),ge.lanes|=A;break}He=He.next}}else if(L.tag===10)re=L.type===p.type?null:L.child;else if(L.tag===18){if(re=L.return,re===null)throw Error(o(341));re.lanes|=A,ge=re.alternate,ge!==null&&(ge.lanes|=A),Ci(re,A,p),re=L.sibling}else re=L.child;if(re!==null)re.return=L;else for(re=L;re!==null;){if(re===p){re=null;break}if(L=re.sibling,L!==null){L.return=re.return,re=L;break}re=re.return}L=re}Ti(d,p,P.children,A),p=p.child}return p;case 9:return P=p.type,w=p.pendingProps.children,vr(p,A),P=yr(P),w=w(P),p.flags|=1,Ti(d,p,w,A),p.child;case 14:return w=p.type,P=bi(w,p.pendingProps),P=bi(w.type,P),Y2(d,p,w,P,A);case 15:return K2(d,p,p.type,p.pendingProps,A);case 17:return w=p.type,P=p.pendingProps,P=p.elementType===w?P:bi(w,P),d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,on(w)?(d=!0,en(p)):d=!1,vr(p,A),d2(p,w,P),sx(p,w,P,A),wx(null,p,w,!0,d,A);case 19:return sR(d,p,A);case 22:return $2(d,p,A)}throw Error(o(156,p.tag))};function RR(d,p){return Bt(d,p)}function gG(d,p,A,w){this.tag=d,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(d,p,A,w){return new gG(d,p,A,w)}function Xx(d){return d=d.prototype,!(!d||!d.isReactComponent)}function vG(d){if(typeof d=="function")return Xx(d)?1:0;if(d!=null){if(d=d.$$typeof,d===y)return 11;if(d===x)return 14}return 2}function ml(d,p){var A=d.alternate;return A===null?(A=Ws(d.tag,p,d.key,d.mode),A.elementType=d.elementType,A.type=d.type,A.stateNode=d.stateNode,A.alternate=d,d.alternate=A):(A.pendingProps=p,A.type=d.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=d.flags&14680064,A.childLanes=d.childLanes,A.lanes=d.lanes,A.child=d.child,A.memoizedProps=d.memoizedProps,A.memoizedState=d.memoizedState,A.updateQueue=d.updateQueue,p=d.dependencies,A.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},A.sibling=d.sibling,A.index=d.index,A.ref=d.ref,A}function v0(d,p,A,w,P,L){var re=2;if(w=d,typeof d=="function")Xx(d)&&(re=1);else if(typeof d=="string")re=5;else e:switch(d){case u:return Dc(A.children,P,L,p);case f:re=8,P|=8;break;case h:return d=Ws(12,A,p,P|2),d.elementType=h,d.lanes=L,d;case _:return d=Ws(13,A,p,P),d.elementType=_,d.lanes=L,d;case g:return d=Ws(19,A,p,P),d.elementType=g,d.lanes=L,d;case M:return y0(A,P,L,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:re=10;break e;case v:re=9;break e;case y:re=11;break e;case x:re=14;break e;case S:re=16,w=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return p=Ws(re,A,p,P),p.elementType=d,p.type=w,p.lanes=L,p}function Dc(d,p,A,w){return d=Ws(7,d,w,p),d.lanes=A,d}function y0(d,p,A,w){return d=Ws(22,d,w,p),d.elementType=M,d.lanes=A,d.stateNode={},d}function Jx(d,p,A){return d=Ws(6,d,null,p),d.lanes=A,d}function Yx(d,p,A){return p=Ws(4,d.children!==null?d.children:[],d.key,p),p.lanes=A,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function yG(d,p,A,w,P){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ne,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=w,this.onRecoverableError=P,we&&(this.mutableSourceEagerHydrationData=null)}function PR(d,p,A,w,P,L,re,ge,He){return d=new yG(d,p,A,ge,He),p===1?(p=1,L===!0&&(p|=8)):p=0,L=Ws(3,null,null,p),d.current=L,L.stateNode=d,L.memoizedState={element:w,isDehydrated:A,cache:null,transitions:null},rx(L),d}function IR(d){if(!d)return bt;d=d._reactInternals;e:{if(T(d)!==d||d.tag!==1)throw Error(o(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(on(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(d.tag===1){var A=d.type;if(on(A))return yn(d,A,p)}return p}function BR(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=N(p),d===null?null:d.stateNode}function LR(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var A=d.retryLane;d.retryLane=A!==0&&A<p?A:p}}function Kx(d,p){LR(d,p),(d=d.alternate)&&LR(d,p)}function _G(d){return d=N(d),d===null?null:d.stateNode}function xG(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var p=Ri();Vs(d,134217728,p),Kx(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var p=Ri(),A=hl(d);Vs(d,A,p),Kx(d,A)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var A=Fs(p.pendingLanes);A!==0&&(Vi(p,A|1),Xi(p,In()),!(nn&6)&&(pf(),Wi()))}break;case 13:var w=Ri();SR(function(){return Vs(d,1,w)}),Kx(d,1)}},t.batchedUpdates=function(d,p){var A=nn;nn|=1;try{return d(p)}finally{nn=A,nn===0&&(pf(),$o&&Wi())}},t.createComponentSelector=function(d){return{$$typeof:r0,value:d}},t.createContainer=function(d,p,A,w,P,L,re){return PR(d,p,!1,null,A,w,P,L,re)},t.createHasPseudoClassSelector=function(d){return{$$typeof:i0,value:d}},t.createHydrationContainer=function(d,p,A,w,P,L,re,ge,He){return d=PR(A,w,!0,d,P,L,re,ge,He),d.context=IR(null),A=d.current,w=Ri(),P=hl(A),L=Aa(w,P),L.callback=p??null,ul(A,L),d.current.lanes=P,wi(d,P,w),Xi(d,w),d},t.createPortal=function(d,p,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:d,containerInfo:p,implementation:A}},t.createRoleSelector=function(d){return{$$typeof:s0,value:d}},t.createTestNameSelector=function(d){return{$$typeof:o0,value:d}},t.createTextSelector=function(d){return{$$typeof:a0,value:d}},t.deferredUpdates=function(d){var p=Yt,A=_r.transition;try{return _r.transition=null,Yt=16,d()}finally{Yt=p,_r.transition=A}},t.discreteUpdates=function(d,p,A,w,P){var L=Yt,re=_r.transition;try{return _r.transition=null,Yt=1,d(p,A,w,P)}finally{Yt=L,_r.transition=re,nn===0&&pf()}},t.findAllNodes=Ox,t.findBoundingRects=function(d,p){if(!Te)throw Error(o(363));p=Ox(d,p),d=[];for(var A=0;A<p.length;A++)d.push(Qe(p[A]));for(p=d.length-1;0<p;p--){A=d[p];for(var w=A.x,P=w+A.width,L=A.y,re=L+A.height,ge=p-1;0<=ge;ge--)if(p!==ge){var He=d[ge],it=He.x,_t=it+He.width,Wt=He.y,Lt=Wt+He.height;if(w>=it&&L>=Wt&&P<=_t&&re<=Lt){d.splice(p,1);break}else if(w!==it||A.width!==He.width||Lt<L||Wt>re){if(!(L!==Wt||A.height!==He.height||_t<w||it>P)){it>w&&(He.width+=it-w,He.x=w),_t<P&&(He.width=P-it),d.splice(p,1);break}}else{Wt>L&&(He.height+=Wt-L,He.y=L),Lt<re&&(He.height=re-Wt),d.splice(p,1);break}}}return d},t.findHostInstance=BR,t.findHostInstanceWithNoPortals=function(d){return d=k(d),d=d!==null?Y(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return BR(d)},t.flushControlled=function(d){var p=nn;nn|=1;var A=_r.transition,w=Yt;try{_r.transition=null,Yt=1,d()}finally{Yt=w,_r.transition=A,nn=p,nn===0&&(pf(),Wi())}},t.flushPassiveEffects=Lc,t.flushSync=SR,t.focusWithin=function(d,p){if(!Te)throw Error(o(363));for(d=Bx(d),p=yR(d,p),p=Array.from(p),d=0;d<p.length;){var A=p[d++];if(!z(A)){if(A.tag===5&&Ve(A.stateNode))return!0;for(A=A.child;A!==null;)p.push(A),A=A.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Yt},t.getFindAllNodesFailureDescription=function(d,p){if(!Te)throw Error(o(363));var A=0,w=[];d=[Bx(d),0];for(var P=0;P<d.length;){var L=d[P++],re=d[P++],ge=p[re];if((L.tag!==5||!z(L))&&(Lx(L,ge)&&(w.push(Dx(ge)),re++,re>A&&(A=re)),re<p.length))for(L=L.child;L!==null;)d.push(L,re),L=L.sibling}if(A<p.length){for(d=[];A<p.length;A++)d.push(Dx(p[A]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return W(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:_G,findFiberByHostInstance:d.findFiberByHostInstance||xG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)d=!0;else{try{Ac=p.inject(d),us=p}catch{}d=!!p.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,p,A,w){if(!Te)throw Error(o(363));d=Ox(d,p);var P=De(d,A,w).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(d,p){var A=p._getVersion;A=A(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,A]:d.mutableSourceEagerHydrationData.push(p,A)},t.runWithPriority=function(d,p){var A=Yt;try{return Yt=d,p()}finally{Yt=A}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,p,A,w){var P=p.current,L=Ri(),re=hl(P);return A=IR(A),p.context===null?p.context=A:p.pendingContext=A,p=Aa(L,re),p.payload={element:d},w=w===void 0?null:w,w!==null&&(p.callback=w),ul(P,p),d=Vs(P,re,L),d!==null&&Og(d,P,re),re},t};wk.exports=TJ;var RJ=wk.exports;const PJ=fh(RJ),IJ=n=>typeof n=="object"&&typeof n.then=="function",pu=[];function Ck(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function Tk(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of pu)if(Ck(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=pu.indexOf(i);s!==-1&&pu.splice(s,1)},promise:(IJ(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(pu.push(i),!t)throw i.promise}const Rk=(n,e,t)=>Tk(n,e,!1,t),BJ=(n,e,t)=>void Tk(n,e,!0,t),LJ=n=>{if(n===void 0||n.length===0)pu.splice(0,pu.length);else{const e=pu.find(t=>Ck(n,t.keys,t.equal));e&&e.remove()}},WC={},Pk=n=>void Object.assign(WC,n);function DJ(n,e){function t(u,{args:f=[],attach:h,...m},v){let y=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;_=Kf(g,{type:u,root:v,attach:h,primitive:!0})}else{const g=WC[y];if(!g)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");_=Kf(new g(...f),{type:u,root:v,attach:h,memoizedProps:{args:f}})}return _.__r3f.attach===void 0&&(_ instanceof Xt?_.__r3f.attach="geometry":_ instanceof Ir&&(_.__r3f.attach="material")),y!=="inject"&&rA(_,m),_}function r(u,f){let h=!1;if(f){var m,v;(m=f.__r3f)!=null&&m.attach?nA(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),h=!0),h||(v=u.__r3f)==null||v.objects.push(f),f.__r3f||Kf(f,{}),f.__r3f.parent=u,Dw(f),$f(f)}}function i(u,f,h){let m=!1;if(f){var v,y;if((v=f.__r3f)!=null&&v.attach)nA(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const _=u.children.filter(x=>x!==f),g=_.indexOf(h);u.children=[..._.slice(0,g),f,..._.slice(g)],m=!0}m||(y=u.__r3f)==null||y.objects.push(f),f.__r3f||Kf(f,{}),f.__r3f.parent=u,Dw(f),$f(f)}}function s(u,f,h=!1){u&&[...u].forEach(m=>o(f,m,h))}function o(u,f,h){if(f){var m,v,y;if(f.__r3f&&(f.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(M=>M!==f)),(v=f.__r3f)!=null&&v.attach)xB(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var _;u.remove(f),(_=f.__r3f)!=null&&_.root&&GJ(f.__r3f.root,f)}const x=(y=f.__r3f)==null?void 0:y.primitive,S=h===void 0?f.dispose!==null&&!x:h;if(!x){var g;s((g=f.__r3f)==null?void 0:g.objects,f,S),s(f.children,f,S)}delete f.__r3f,S&&f.dispose&&f.type!=="Scene"&&Bw.unstable_scheduleCallback(Bw.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),$f(u)}}function a(u,f,h,m){var v;const y=(v=u.__r3f)==null?void 0:v.parent;if(!y)return;const _=t(f,h,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(_,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(_,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(y,u),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(y,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=_,g.ref&&(typeof g.ref=="function"?g.ref(_):g.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:PJ({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const h=u.getState().scene;h.__r3f&&(h.__r3f.root=u,r(h,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,h)=>{if(!f||!h)return;const m=u.getState().scene;m.__r3f&&i(m,f,h)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,h,m){var v;if(((v=u==null?void 0:u.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:_=[],children:g,...x}=m,{args:S=[],children:M,...E}=h;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((C,R)=>C!==S[R]))return[!0];const b=Uk(u,x,E,!0);return b.changes.length?[!1,b]:null}},commitUpdate(u,[f,h],m,v,y,_){f?a(u,m,y,_):rA(u,h)},commitMount(u,f,h,m){var v;const y=(v=u.__r3f)!=null?v:{};u.raycast&&y.handlers&&y.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Kf(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:h,parent:m}=(f=u.__r3f)!=null?f:{};h&&m&&xB(m,u,h),u.isObject3D&&(u.visible=!1),$f(u)},unhideInstance(u,f){var h;const{attach:m,parent:v}=(h=u.__r3f)!=null?h:{};m&&v&&nA(v,u,m),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),$f(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():md.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Vn.fun(performance.now)?performance.now:Vn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Vn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Vn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:rA}}var gB,vB;const tA=n=>"colorSpace"in n||"outputColorSpace"in n,Ik=()=>{var n;return(n=WC.ColorManagement)!=null?n:null},Bk=n=>n&&n.isOrthographicCamera,OJ=n=>n&&n.hasOwnProperty("current"),pg=typeof window<"u"&&((gB=window.document)!=null&&gB.createElement||((vB=window.navigator)==null?void 0:vB.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function Lk(n){const e=F.useRef(n);return pg(()=>void(e.current=n),[n]),e}function FJ({set:n}){return pg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class Dk extends F.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Dk.getDerivedStateFromError=()=>({error:!0});const Ok="__default",yB=new Map,UJ=n=>n&&!!n.memoized&&!!n.changes;function Fk(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const fp=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Vn={obj:n=>n===Object(n)&&!Vn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Vn.str(n)||Vn.num(n))return n===e;const s=Vn.obj(n);if(s&&r==="reference")return n===e;const o=Vn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!Vn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(Vn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function kJ(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function NJ(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Kf(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function Lw(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const _B=/-\d+$/;function nA(n,e,t){if(Vn.str(t)){if(_B.test(t)){const s=t.replace(_B,""),{target:o,key:a}=Lw(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Lw(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function xB(n,e,t){var r,i;if(Vn.str(t)){const{target:s,key:o}=Lw(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function Uk(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},h=Object.entries(i),m=[];if(c){const y=Object.keys(l);for(let _=0;_<y.length;_++)i.hasOwnProperty(y[_])||h.unshift([y[_],Ok+"remove"])}h.forEach(([y,_])=>{var g;if((g=n.__r3f)!=null&&g.primitive&&y==="object"||Vn.equ(_,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,_,!0,[]]);let x=[];y.includes("-")&&(x=y.split("-")),m.push([y,_,!1,x]);for(const S in i){const M=i[S];S.startsWith(`${y}-`)&&m.push([S,M,!1,S.split("-")])}});const v={...i};return f.memoizedProps&&f.memoizedProps.args&&(v.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(v.attach=f.memoizedProps.attach),{memoized:v,changes:m}}function rA(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=UJ(e)?e:Uk(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let h=0;h<c.length;h++){let[m,v,y,_]=c[h];if(tA(n)){const M="srgb",E="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?M:E):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?M:E)}let g=n,x=g[m];if(_.length&&(x=_.reduce((S,M)=>S[M],n),!(x&&x.set))){const[S,...M]=_.reverse();g=M.reverse().reduce((E,b)=>E[b],n),m=S}if(v===Ok+"remove")if(g.constructor){let S=yB.get(g.constructor);S||(S=new g.constructor,yB.set(g.constructor,S)),v=S[m]}else v=0;if(y)v?s.handlers[m]=v:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof Su)){if(Array.isArray(v))x.fromArray?x.fromArray(v):x.set(...v);else if(x.copy&&v&&v.constructor&&x.constructor===v.constructor)x.copy(v);else if(v!==void 0){const S=x instanceof lt;!S&&x.setScalar?x.setScalar(v):x instanceof Su&&v instanceof Su?x.mask=v.mask:x.set(v),!Ik()&&!a.linear&&S&&x.convertSRGBToLinear()}}else if(g[m]=v,g[m]instanceof Nn&&g[m].format===Oi&&g[m].type===da){const S=g[m];tA(S)&&tA(a.gl)?S.colorSpace=a.gl.outputColorSpace:S.encoding=a.gl.outputEncoding}$f(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const h=a.internal.interaction.indexOf(n);h>-1&&a.internal.interaction.splice(h,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&Dw(n),n}function $f(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function Dw(n){n.onUpdate==null||n.onUpdate(n)}function kk(n,e){n.manual||(Bk(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function wv(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function zJ(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return md.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return md.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return md.ContinuousEventPriority;default:return md.DefaultEventPriority}}function Nk(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function GJ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Nk(t.capturedMap,e,r,i)})}function HJ(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),f=new Set,h=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const x=fp(m[g]);x&&(x.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(g){const x=fp(g);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var S;x.events.compute==null||x.events.compute(l,x,(S=x.previousRoot)==null?void 0:S.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(g,!0):[]}let y=m.flatMap(v).sort((g,x)=>{const S=fp(g.object),M=fp(x.object);return!S||!M?g.distance-x.distance:M.events.priority-S.events.priority||g.distance-x.distance}).filter(g=>{const x=wv(g);return f.has(x)?!1:(f.add(x),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const g of y){let x=g.object;for(;x;){var _;(_=x.__r3f)!=null&&_.eventCount&&h.push({...g,eventObject:x}),x=x.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())f.has(wv(g.intersection))||h.push(g.intersection);return h}function i(l,c,u,f){const h=n.getState();if(l.length){const m={stopped:!1};for(const v of l){const y=fp(v.object)||h,{raycaster:_,pointer:g,camera:x,internal:S}=y,M=new q(g.x,g.y,0).unproject(x),E=B=>{var k,N;return(k=(N=S.capturedMap.get(B))==null?void 0:N.has(v.eventObject))!=null?k:!1},b=B=>{const k={intersection:v,target:c.target};S.capturedMap.has(B)?S.capturedMap.get(B).set(v.eventObject,k):S.capturedMap.set(B,new Map([[v.eventObject,k]])),c.target.setPointerCapture(B)},C=B=>{const k=S.capturedMap.get(B);k&&Nk(S.capturedMap,v.eventObject,k,B)};let R={};for(let B in c){let k=c[B];typeof k!="function"&&(R[B]=k)}let T={...v,...R,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:M,ray:_.ray,camera:x,stopPropagation(){const B="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!B||B.has(v.eventObject))&&(T.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(k=>k.eventObject===v.eventObject))){const k=l.slice(0,l.indexOf(v));s([...k,v])}},target:{hasPointerCapture:E,setPointerCapture:b,releasePointerCapture:C},currentTarget:{hasPointerCapture:E,setPointerCapture:b,releasePointerCapture:C},nativeEvent:c};if(f(T),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const h=u.eventObject.__r3f,m=h==null?void 0:h.handlers;if(c.hovered.delete(wv(u)),h!=null&&h.eventCount){const v={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:h}=n.getState();h.lastEvent.current=u;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(u,m?t:void 0),g=v?e(u):0;l==="onPointerDown"&&(h.initialClick=[u.offsetX,u.offsetY],h.initialHits=_.map(S=>S.eventObject)),v&&!_.length&&g<=2&&(o(u,h.interaction),f&&f(u)),m&&s(_);function x(S){const M=S.eventObject,E=M.__r3f,b=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(m){if(b.onPointerOver||b.onPointerEnter||b.onPointerOut||b.onPointerLeave){const C=wv(S),R=h.hovered.get(C);R?R.stopped&&S.stopPropagation():(h.hovered.set(C,S),b.onPointerOver==null||b.onPointerOver(S),b.onPointerEnter==null||b.onPointerEnter(S))}b.onPointerMove==null||b.onPointerMove(S)}else{const C=b[l];C?(!v||h.initialHits.includes(M))&&(o(u,h.interaction.filter(R=>!h.initialHits.includes(R))),C(S)):v&&h.initialHits.includes(M)&&o(u,h.interaction.filter(R=>!h.initialHits.includes(R)))}}i(_,u,g,x)}}return{handlePointer:a}}const VJ=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],zk=n=>!!(n!=null&&n.render),jC=F.createContext(null),WJ=(n,e)=>{const t=Mk((a,l)=>{const c=new q,u=new q,f=new q;function h(g=l().camera,x=u,S=l().size){const{width:M,height:E,top:b,left:C}=S,R=M/E;x instanceof q?f.copy(x):f.set(...x);const T=g.getWorldPosition(c).distanceTo(f);if(Bk(g))return{width:M/g.zoom,height:E/g.zoom,top:b,left:C,factor:1,distance:T,aspect:R};{const B=g.fov*Math.PI/180,k=2*Math.tan(B/2)*T,N=k*(M/E);return{width:N,height:k,top:b,left:C,factor:M/N,distance:T,aspect:R}}}let m;const v=g=>a(x=>({performance:{...x.performance,current:g}})),y=new Je;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,x)=>e(g,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new NC,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:g=>a(x=>({...x,events:{...x.events,...g}})),setSize:(g,x,S,M,E)=>{const b=l().camera,C={width:g,height:x,top:M||0,left:E||0,updateStyle:S};a(R=>({size:C,viewport:{...R.viewport,...h(b,u,C)}}))},setDpr:g=>a(x=>{const S=Fk(g);return{viewport:{...x.viewport,dpr:S,initialDpr:x.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,g!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:F.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,x,S)=>{const M=l().internal;return M.priority=M.priority+(x>0?1:0),M.subscribers.push({ref:g,priority:x,store:S}),M.subscribers=M.subscribers.sort((E,b)=>E.priority-b.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(x>0?1:0),E.subscribers=E.subscribers.filter(b=>b.ref!==g))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l!==i||c.dpr!==s){var h;i=l,s=c.dpr,kk(a,l),u.setPixelRatio(c.dpr);const m=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};function jJ(n,e){const t={callback:n};return e.add(t),()=>void e.delete(t)}let Ev,Gk=new Set,XJ=new Set,JJ=new Set;const YJ=n=>jJ(n,Gk);function iA(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function dp(n,e){switch(n){case"before":return iA(Gk,e);case"after":return iA(XJ,e);case"tail":return iA(JJ,e)}}let sA,oA;function aA(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),sA=e.internal.subscribers,Ev=0;Ev<sA.length;Ev++)oA=sA[Ev],oA.ref.current(oA.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function KJ(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,dp("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=aA(l,i))}if(dp("after",l),t===0)return dp("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&dp("before",l),u)aA(l,u,f);else for(const h of n.values())aA(l,h.store.getState());c&&dp("after",l)}return{loop:s,invalidate:o,advance:a}}function XC(){const n=F.useContext(jC);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Fr(n=t=>t,e){return XC()(n,e)}function JC(n,e=0){const t=XC(),r=t.getState().internal.subscribe,i=Lk(n);return pg(()=>r(i,e,t),[e,r,t]),null}function Hk(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,kJ(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message}`))))))}}function Sh(n,e,t,r){const i=Array.isArray(e)?e:[e],s=Rk(Hk(t,r),[n,...i],{equal:Vn.equ});return Array.isArray(e)?s:s[0]}Sh.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return BJ(Hk(t),[n,...r])};Sh.clear=function(n,e){const t=Array.isArray(e)?e:[e];return LJ([n,...t])};const qd=new Map,{invalidate:SB,advance:AB}=KJ(qd),{reconciler:Im,applyProps:qc}=DJ(qd,zJ),kf={objects:"shallow",strict:!1},$J=(n,e)=>{const t=typeof n=="function"?n(e):n;return zk(t)?t:new mC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function QJ(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function ZJ(n){const e=qd.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||WJ(SB,AB),o=t||Im.createContainer(s,md.ConcurrentRoot,null,!1,null,"",i,null);e||qd.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:h,scene:m,events:v,onCreated:y,shadows:_=!1,linear:g=!1,flat:x=!1,legacy:S=!1,orthographic:M=!1,frameloop:E="always",dpr:b=[1,2],performance:C,raycaster:R,camera:T,onPointerMissed:B}=u,k=s.getState(),N=k.gl;k.gl||k.set({gl:N=$J(f,n)});let j=k.raycaster;j||k.set({raycaster:j=new VC});const{params:Y,...Q}=R||{};if(Vn.equ(Q,j,kf)||qc(j,{...Q}),Vn.equ(Y,j.params,kf)||qc(j,{params:{...j.params,...Y}}),!k.camera||k.camera===c&&!Vn.equ(c,T,kf)){c=T;const X=T instanceof sg,ie=X?T:M?new No(0,0,0,0,.1,1e3):new Kn(75,0,.1,1e3);X||(ie.position.z=5,T&&qc(ie,T),!k.camera&&!(T!=null&&T.rotation)&&ie.lookAt(0,0,0)),k.set({camera:ie})}if(!k.scene){let X;m instanceof Em?X=m:(X=new Em,m&&qc(X,m)),k.set({scene:Kf(X)})}if(!k.xr){var W;const X=(oe,fe)=>{const ue=s.getState();ue.frameloop!=="never"&&AB(oe,!0,ue,fe)},ie=()=>{const oe=s.getState();oe.gl.xr.enabled=oe.gl.xr.isPresenting,oe.gl.xr.setAnimationLoop(oe.gl.xr.isPresenting?X:null),oe.gl.xr.isPresenting||SB(oe)},ae={connect(){const oe=s.getState().gl;oe.xr.addEventListener("sessionstart",ie),oe.xr.addEventListener("sessionend",ie)},disconnect(){const oe=s.getState().gl;oe.xr.removeEventListener("sessionstart",ie),oe.xr.removeEventListener("sessionend",ie)}};typeof((W=N.xr)==null?void 0:W.addEventListener)=="function"&&ae.connect(),k.set({xr:ae})}if(N.shadowMap){const X=N.shadowMap.enabled,ie=N.shadowMap.type;if(N.shadowMap.enabled=!!_,Vn.boo(_))N.shadowMap.type=zp;else if(Vn.str(_)){var V;const ae={basic:CF,percentage:X_,soft:zp,variance:Po};N.shadowMap.type=(V=ae[_])!=null?V:zp}else Vn.obj(_)&&Object.assign(N.shadowMap,_);(X!==N.shadowMap.enabled||ie!==N.shadowMap.type)&&(N.shadowMap.needsUpdate=!0)}const D=Ik();D&&("enabled"in D?D.enabled=!S:"legacyMode"in D&&(D.legacyMode=S)),qc(N,{outputEncoding:g?3e3:3001,toneMapping:x?fa:Yb}),k.legacy!==S&&k.set(()=>({legacy:S})),k.linear!==g&&k.set(()=>({linear:g})),k.flat!==x&&k.set(()=>({flat:x})),f&&!Vn.fun(f)&&!zk(f)&&!Vn.equ(f,N,kf)&&qc(N,f),v&&!k.events.handlers&&k.set({events:v(s)});const O=QJ(n,h);return Vn.equ(O,k.size,kf)||k.setSize(O.width,O.height,O.updateStyle,O.top,O.left),b&&k.viewport.dpr!==Fk(b)&&k.setDpr(b),k.frameloop!==E&&k.setFrameloop(E),k.onPointerMissed||k.set({onPointerMissed:B}),C&&!Vn.equ(C,k.performance,kf)&&k.set(X=>({performance:{...X.performance,...C}})),a=y,l=!0,this},render(u){return l||this.configure(),Im.updateContainer(F.createElement(qJ,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){Vk(n)}}}function qJ({store:n,children:e,onCreated:t,rootElement:r}){return pg(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),F.createElement(jC.Provider,{value:n},e)}function Vk(n,e){const t=qd.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Im.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),NJ(i),qd.delete(n),e&&e(n)}catch{}},500)})}}function eY(n,e,t){return F.createElement(tY,{key:e.uuid,children:n,container:e,state:t})}function tY({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=XC(),[a]=F.useState(()=>new VC),[l]=F.useState(()=>new Je),c=F.useCallback((f,h)=>{const m={...f};Object.keys(f).forEach(y=>{(VJ.includes(y)||f[y]!==h[y]&&h[y])&&delete m[y]});let v;if(h&&i){const y=h.camera;v=f.viewport.getCurrentViewport(y,new q,i),y!==f.camera&&kk(y,i)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...h==null?void 0:h.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...v},...s}},[n]),[u]=F.useState(()=>{const f=o.getState();return Mk((m,v)=>({...f,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:m,get:v,setEvents:y=>m(_=>({..._,events:{..._.events,...y}}))}))});return F.useEffect(()=>{const f=o.subscribe(h=>u.setState(m=>c(h,m)));return()=>{f(),u.destroy()}},[]),F.useEffect(()=>{u.setState(f=>c(o.getState(),f))},[c]),F.createElement(F.Fragment,null,Im.createPortal(F.createElement(jC.Provider,{value:u},e),u,null))}Im.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:F.version});function pr(){return pr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pr.apply(this,arguments)}function Ow(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}Ow.debounce=Ow;var nY=Ow;const MB=fh(nY);function rY(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=F.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=F.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=F.useRef(!1);F.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,m,v]=F.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:S,top:M,width:E,height:b,bottom:C,right:R,x:T,y:B}=l.current.element.getBoundingClientRect(),k={left:S,top:M,width:E,height:b,bottom:C,right:R,x:T,y:B};l.current.element instanceof HTMLElement&&i&&(k.height=l.current.element.offsetHeight,k.width=l.current.element.offsetWidth),Object.freeze(k),f.current&&!aY(l.current.lastBounds,k)&&a(l.current.lastBounds=k)};return[x,u?MB(x,u):x,c?MB(x,c):x]},[a,i,c,u]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=x=>{!x||x===l.current.element||(y(),l.current.element=x,l.current.scrollContainers=Wk(x),_())};return sY(v,!!t),iY(m),F.useEffect(()=>{y(),_()},[t,v,m]),F.useEffect(()=>y,[]),[g,o,h]}function iY(n){F.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function sY(n,e){F.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Wk(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Wk(n.parentElement)]}const oY=["x","y","top","bottom","left","right","width","height"],aY=(n,e)=>oY.every(t=>n[t]===e[t]);var lY=Object.defineProperty,cY=Object.defineProperties,uY=Object.getOwnPropertyDescriptors,wB=Object.getOwnPropertySymbols,fY=Object.prototype.hasOwnProperty,dY=Object.prototype.propertyIsEnumerable,EB=(n,e,t)=>e in n?lY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,bB=(n,e)=>{for(var t in e||(e={}))fY.call(e,t)&&EB(n,t,e[t]);if(wB)for(var t of wB(e))dY.call(e,t)&&EB(n,t,e[t]);return n},hY=(n,e)=>cY(n,uY(e));function jk(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=jk(r,e,t);if(i)return i;r=e?null:r.sibling}}function Xk(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const YC=Xk(F.createContext(null));class Jk extends F.Component{render(){return F.createElement(YC.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:CB,ReactCurrentDispatcher:TB}=F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function pY(){const n=F.useContext(YC);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=F.useId();return F.useMemo(()=>{for(const r of[CB==null?void 0:CB.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=jk(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function mY(){var n,e;const t=pY(),[r]=F.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==YC&&!r.has(s)&&r.set(s,(e=TB==null?void 0:TB.current)==null?void 0:e.readContext(Xk(s))),i=i.return}return r}function gY(){const n=mY();return F.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>F.createElement(e,null,F.createElement(t.Provider,hY(bB({},r),{value:n.get(t)}))),e=>F.createElement(Jk,bB({},e))),[n])}const lA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function vY(n){const{handlePointer:e}=HJ(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(lA).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=lA[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=lA[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const yY=F.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=vY,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:h,orthographic:m,frameloop:v,dpr:y,performance:_,raycaster:g,camera:x,scene:S,onPointerMissed:M,onCreated:E,...b},C){F.useMemo(()=>Pk(Sk),[]);const R=gY(),[T,B]=rY({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=F.useRef(null),N=F.useRef(null);F.useImperativeHandle(C,()=>k.current);const j=Lk(M),[Y,Q]=F.useState(!1),[W,V]=F.useState(!1);if(Y)throw Y;if(W)throw W;const D=F.useRef(null);pg(()=>{const H=k.current;B.width>0&&B.height>0&&H&&(D.current||(D.current=ZJ(H)),D.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:h,orthographic:m,frameloop:v,dpr:y,performance:_,raycaster:g,camera:x,scene:S,size:B,onPointerMissed:(...O)=>j.current==null?void 0:j.current(...O),onCreated:O=>{O.events.connect==null||O.events.connect(a?OJ(a)?a.current:a:N.current),l&&O.setEvents({compute:(X,ie)=>{const ae=X[l+"X"],oe=X[l+"Y"];ie.pointer.set(ae/ie.size.width*2-1,-(oe/ie.size.height)*2+1),ie.raycaster.setFromCamera(ie.pointer,ie.camera)}}),E==null||E(O)}}),D.current.render(F.createElement(R,null,F.createElement(Dk,{set:V},F.createElement(F.Suspense,{fallback:F.createElement(FJ,{set:Q})},e)))))}),F.useEffect(()=>{const H=k.current;if(H)return()=>Vk(H)},[]);const G=a?"none":"auto";return F.createElement("div",pr({ref:N,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...i}},b),F.createElement("div",{ref:T,style:{width:"100%",height:"100%"}},F.createElement("canvas",{ref:k,style:{display:"block"}},t)))}),_Y=F.forwardRef(function(e,t){return F.createElement(Jk,null,F.createElement(yY,pr({},e,{ref:t})))}),mg=new q,KC=new q,xY=new q;function SY(n,e,t){const r=mg.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function AY(n,e){const t=mg.setFromMatrixPosition(n.matrixWorld),r=KC.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(xY);return i.angleTo(s)>Math.PI/2}function MY(n,e,t,r){const i=mg.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function wY(n,e){if(e instanceof No)return e.zoom;if(e instanceof Kn){const t=mg.setFromMatrixPosition(n.matrixWorld),r=KC.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function EY(n,e,t){if(e instanceof Kn||e instanceof No){const r=mg.setFromMatrixPosition(n.matrixWorld),i=KC.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const Fw=n=>Math.abs(n)<1e-10?0:n;function Yk(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=Fw(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const bY=(n=>e=>Yk(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),CY=(n=>(e,t)=>Yk(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function TY(n){return n&&typeof n=="object"&&"current"in n}const RB=F.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:f,onOcclude:h,castShadow:m,receiveShadow:v,material:y,geometry:_,zIndexRange:g=[16777271,0],calculatePosition:x=SY,as:S="div",wrapperClass:M,pointerEvents:E="auto",...b},C)=>{const{gl:R,camera:T,scene:B,size:k,raycaster:N,events:j,viewport:Y}=Fr(),[Q]=F.useState(()=>document.createElement(S)),W=F.useRef(),V=F.useRef(null),D=F.useRef(0),G=F.useRef([0,0]),H=F.useRef(null),O=F.useRef(null),X=(a==null?void 0:a.current)||j.connected||R.domElement.parentNode,ie=F.useRef(null),ae=F.useRef(!1),oe=F.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&TY(f[0]),[f]);F.useLayoutEffect(()=>{const Xe=R.domElement;f&&f==="blending"?(Xe.style.zIndex=`${Math.floor(g[0]/2)}`,Xe.style.position="absolute",Xe.style.pointerEvents="none"):(Xe.style.zIndex=null,Xe.style.position=null,Xe.style.pointerEvents=null)},[f]),F.useLayoutEffect(()=>{if(V.current){const Xe=W.current=wF(Q);if(B.updateMatrixWorld(),u)Q.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ye=x(V.current,T,k);Q.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ye[0]}px,${ye[1]}px,0);transform-origin:0 0;`}return X&&(i?X.prepend(Q):X.appendChild(Q)),()=>{X&&X.removeChild(Q),Xe.unmount()}}},[X,u]),F.useLayoutEffect(()=>{M&&(Q.className=M)},[M]);const fe=F.useMemo(()=>u?{position:"absolute",top:0,left:0,width:k.width,height:k.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-k.height/2,left:-k.width/2,width:k.width,height:k.height},...t},[t,s,o,k,u]),ue=F.useMemo(()=>({position:"absolute",pointerEvents:E}),[E]);F.useLayoutEffect(()=>{if(ae.current=!1,u){var Xe;(Xe=W.current)==null||Xe.render(F.createElement("div",{ref:H,style:fe},F.createElement("div",{ref:O,style:ue},F.createElement("div",{ref:C,className:r,style:t,children:n}))))}else{var ye;(ye=W.current)==null||ye.render(F.createElement("div",{ref:C,style:fe,className:r,children:n}))}});const me=F.useRef(!0);JC(Xe=>{if(V.current){T.updateMatrixWorld(),V.current.updateWorldMatrix(!0,!1);const ye=u?G.current:x(V.current,T,k);if(u||Math.abs(D.current-T.zoom)>e||Math.abs(G.current[0]-ye[0])>e||Math.abs(G.current[1]-ye[1])>e){const $=AY(V.current,T);let we=!1;oe&&(Array.isArray(f)?we=f.map(Ye=>Ye.current):f!=="blending"&&(we=[B]));const _e=me.current;if(we){const Ye=MY(V.current,T,N,we);me.current=Ye&&!$}else me.current=!$;_e!==me.current&&(h?h(!me.current):Q.style.display=me.current?"block":"none");const Ee=Math.floor(g[0]/2),Ae=f?oe?[g[0],Ee]:[Ee-1,0]:g;if(Q.style.zIndex=`${EY(V.current,T,Ae)}`,u){const[Ye,de]=[k.width/2,k.height/2],Re=T.projectionMatrix.elements[5]*de,{isOrthographicCamera:Te,top:xe,left:Qe,bottom:K,right:z}=T,ce=bY(T.matrixWorldInverse),Ve=Te?`scale(${Re})translate(${Fw(-(z+Qe)/2)}px,${Fw((xe+K)/2)}px)`:`translateZ(${Re}px)`;let De=V.current.matrixWorld;c&&(De=T.matrixWorldInverse.clone().transpose().copyPosition(De).scale(V.current.scale),De.elements[3]=De.elements[7]=De.elements[11]=0,De.elements[15]=1),Q.style.width=k.width+"px",Q.style.height=k.height+"px",Q.style.perspective=Te?"":`${Re}px`,H.current&&O.current&&(H.current.style.transform=`${Ve}${ce}translate(${Ye}px,${de}px)`,O.current.style.transform=CY(De,1/((l||10)/400)))}else{const Ye=l===void 0?1:wY(V.current,T)*l;Q.style.transform=`translate3d(${ye[0]}px,${ye[1]}px,0) scale(${Ye})`}G.current=ye,D.current=T.zoom}}if(!oe&&ie.current&&!ae.current)if(u){if(H.current){const ye=H.current.children[0];if(ye!=null&&ye.clientWidth&&ye!=null&&ye.clientHeight){const{isOrthographicCamera:$}=T;if($||_)b.scale&&(Array.isArray(b.scale)?b.scale instanceof q?ie.current.scale.copy(b.scale.clone().divideScalar(1)):ie.current.scale.set(1/b.scale[0],1/b.scale[1],1/b.scale[2]):ie.current.scale.setScalar(1/b.scale));else{const we=(l||10)/400,_e=ye.clientWidth*we,Ee=ye.clientHeight*we;ie.current.scale.set(_e,Ee,1)}ae.current=!0}}}else{const ye=Q.children[0];if(ye!=null&&ye.clientWidth&&ye!=null&&ye.clientHeight){const $=1/Y.factor,we=ye.clientWidth*$,_e=ye.clientHeight*$;ie.current.scale.set(we,_e,1),ae.current=!0}ie.current.lookAt(Xe.camera.position)}});const Ne=F.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return F.createElement("group",pr({},b,{ref:V}),f&&!oe&&F.createElement("mesh",{castShadow:m,receiveShadow:v,ref:ie},_||F.createElement("planeGeometry",null),y||F.createElement("shaderMaterial",{side:Di,vertexShader:Ne.vertexShader,fragmentShader:Ne.fragmentShader})))});let $C=vg();const Ht=n=>gg(n,$C);let QC=vg();Ht.write=n=>gg(n,QC);let M1=vg();Ht.onStart=n=>gg(n,M1);let ZC=vg();Ht.onFrame=n=>gg(n,ZC);let qC=vg();Ht.onFinish=n=>gg(n,qC);let Id=[];Ht.setTimeout=(n,e)=>{let t=Ht.now()+e,r=()=>{let s=Id.findIndex(o=>o.cancel==r);~s&&Id.splice(s,1),Ul-=~s?1:0},i={time:t,handler:n,cancel:r};return Id.splice(Kk(t),0,i),Ul+=1,$k(),i};let Kk=n=>~(~Id.findIndex(e=>e.time>n)||~Id.length);Ht.cancel=n=>{M1.delete(n),ZC.delete(n),qC.delete(n),$C.delete(n),QC.delete(n)};Ht.sync=n=>{Uw=!0,Ht.batchedUpdates(n),Uw=!1};Ht.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function r(...i){e=i,Ht.onStart(t)}return r.handler=n,r.cancel=()=>{M1.delete(t),e=null},r};let eT=typeof window<"u"?window.requestAnimationFrame:()=>{};Ht.use=n=>eT=n;Ht.now=typeof performance<"u"?()=>performance.now():Date.now;Ht.batchedUpdates=n=>n();Ht.catch=console.error;Ht.frameLoop="always";Ht.advance=()=>{Ht.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Zk()};let Fl=-1,Ul=0,Uw=!1;function gg(n,e){Uw?(e.delete(n),n(0)):(e.add(n),$k())}function $k(){Fl<0&&(Fl=0,Ht.frameLoop!=="demand"&&eT(Qk))}function RY(){Fl=-1}function Qk(){~Fl&&(eT(Qk),Ht.batchedUpdates(Zk))}function Zk(){let n=Fl;Fl=Ht.now();let e=Kk(Fl);if(e&&(qk(Id.splice(0,e),t=>t.handler()),Ul-=e),!Ul){RY();return}M1.flush(),$C.flush(n?Math.min(64,Fl-n):16.667),ZC.flush(),QC.flush(),qC.flush()}function vg(){let n=new Set,e=n;return{add(t){Ul+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return Ul-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,Ul-=e.size,qk(e,r=>r(t)&&n.add(r)),Ul+=n.size,e=n)}}}function qk(n,e){n.forEach(t=>{try{e(t)}catch(r){Ht.catch(r)}})}function kw(){}const PY=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),at={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Ua(n,e){if(at.arr(n)){if(!at.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}const Mn=(n,e)=>n.forEach(e);function el(n,e,t){if(at.arr(n)){for(let r=0;r<n.length;r++)e.call(t,n[r],`${r}`);return}for(const r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r)}const oo=n=>at.und(n)?[]:at.arr(n)?n:[n];function jp(n,e){if(n.size){const t=Array.from(n);n.clear(),Mn(t,e)}}const Tp=(n,...e)=>jp(n,t=>t(...e)),tT=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let nT,eN,nc=null,tN=!1,rT=kw;const IY=n=>{n.to&&(eN=n.to),n.now&&(Ht.now=n.now),n.colors!==void 0&&(nc=n.colors),n.skipAnimation!=null&&(tN=n.skipAnimation),n.createStringInterpolator&&(nT=n.createStringInterpolator),n.requestAnimationFrame&&Ht.use(n.requestAnimationFrame),n.batchedUpdates&&(Ht.batchedUpdates=n.batchedUpdates),n.willAdvance&&(rT=n.willAdvance),n.frameLoop&&(Ht.frameLoop=n.frameLoop)};var ya=Object.freeze({__proto__:null,get createStringInterpolator(){return nT},get to(){return eN},get colors(){return nc},get skipAnimation(){return tN},get willAdvance(){return rT},assign:IY});const Xp=new Set;let ro=[],cA=[],e_=0;const w1={get idle(){return!Xp.size&&!ro.length},start(n){e_>n.priority?(Xp.add(n),Ht.onStart(BY)):(nN(n),Ht(Nw))},advance:Nw,sort(n){if(e_)Ht.onFrame(()=>w1.sort(n));else{const e=ro.indexOf(n);~e&&(ro.splice(e,1),rN(n))}},clear(){ro=[],Xp.clear()}};function BY(){Xp.forEach(nN),Xp.clear(),Ht(Nw)}function nN(n){ro.includes(n)||rN(n)}function rN(n){ro.splice(LY(ro,e=>e.priority>n.priority),0,n)}function Nw(n){const e=cA;for(let t=0;t<ro.length;t++){const r=ro[t];e_=r.priority,r.idle||(rT(r),r.advance(n),r.idle||e.push(r))}return e_=0,cA=ro,cA.length=0,ro=e,ro.length>0}function LY(n,e){const t=n.findIndex(e);return t<0?n.length:t}const DY=(n,e,t)=>Math.min(Math.max(t,n),e),OY={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Fo="[-+]?\\d*\\.?\\d+",t_=Fo+"%";function E1(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}const FY=new RegExp("rgb"+E1(Fo,Fo,Fo)),UY=new RegExp("rgba"+E1(Fo,Fo,Fo,Fo)),kY=new RegExp("hsl"+E1(Fo,t_,t_)),NY=new RegExp("hsla"+E1(Fo,t_,t_,Fo)),zY=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,GY=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,HY=/^#([0-9a-fA-F]{6})$/,VY=/^#([0-9a-fA-F]{8})$/;function WY(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=HY.exec(n))?parseInt(e[1]+"ff",16)>>>0:nc&&nc[n]!==void 0?nc[n]:(e=FY.exec(n))?(Nf(e[1])<<24|Nf(e[2])<<16|Nf(e[3])<<8|255)>>>0:(e=UY.exec(n))?(Nf(e[1])<<24|Nf(e[2])<<16|Nf(e[3])<<8|BB(e[4]))>>>0:(e=zY.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=VY.exec(n))?parseInt(e[1],16)>>>0:(e=GY.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=kY.exec(n))?(PB(IB(e[1]),bv(e[2]),bv(e[3]))|255)>>>0:(e=NY.exec(n))?(PB(IB(e[1]),bv(e[2]),bv(e[3]))|BB(e[4]))>>>0:null}function uA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function PB(n,e,t){const r=t<.5?t*(1+e):t+e-t*e,i=2*t-r,s=uA(i,r,n+1/3),o=uA(i,r,n),a=uA(i,r,n-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Nf(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function IB(n){return(parseFloat(n)%360+360)%360/360}function BB(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function bv(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function LB(n){let e=WY(n);if(e===null)return n;e=e||0;let t=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${r}, ${i}, ${s})`}const Bm=(n,e,t)=>{if(at.fun(n))return n;if(at.arr(n))return Bm({range:n,output:e,extrapolate:t});if(at.str(n.output[0]))return nT(n);const r=n,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{const u=XY(c,s);return jY(c,s[u],s[u+1],i[u],i[u+1],l,o,a,r.map)}};function jY(n,e,t,r,i,s,o,a,l){let c=l?l(n):n;if(c<e){if(o==="identity")return c;o==="clamp"&&(c=e)}if(c>t){if(a==="identity")return c;a==="clamp"&&(c=t)}return r===i?r:e===t?n<=e?r:i:(e===-1/0?c=-c:t===1/0?c=c-e:c=(c-e)/(t-e),c=s(c),r===-1/0?c=-c:i===1/0?c=c+r:c=c*(i-r)+r,c)}function XY(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}const JY=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const r=t*n,i=e==="end"?Math.floor(r):Math.ceil(r);return DY(0,1,i/n)},n_=1.70158,Cv=n_*1.525,DB=n_+1,OB=2*Math.PI/3,FB=2*Math.PI/4.5,Tv=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,YY={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>DB*n*n*n-n_*n*n,easeOutBack:n=>1+DB*Math.pow(n-1,3)+n_*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((Cv+1)*2*n-Cv)/2:(Math.pow(2*n-2,2)*((Cv+1)*(n*2-2)+Cv)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*OB),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*OB)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*FB))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*FB)/2+1,easeInBounce:n=>1-Tv(1-n),easeOutBounce:Tv,easeInOutBounce:n=>n<.5?(1-Tv(1-2*n))/2:(1+Tv(2*n-1))/2,steps:JY};function zw(){return zw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zw.apply(this,arguments)}const eh=Symbol.for("FluidValue.get"),Gu=Symbol.for("FluidValue.observers"),ra=n=>!!(n&&n[eh]),qs=n=>n&&n[eh]?n[eh]():n,UB=n=>n[Gu]||null;function KY(n,e){n.eventObserved?n.eventObserved(e):n(e)}function r_(n,e){let t=n[Gu];t&&t.forEach(r=>{KY(r,e)})}class $Y{constructor(e){if(this[eh]=void 0,this[Gu]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");QY(this,e)}}const QY=(n,e)=>iN(n,eh,e);function yg(n,e){if(n[eh]){let t=n[Gu];t||iN(n,Gu,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function i_(n,e){let t=n[Gu];if(t&&t.has(e)){const r=t.size-1;r?t.delete(e):n[Gu]=null,n.observerRemoved&&n.observerRemoved(r,e)}}const iN=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),py=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ZY=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,kB=new RegExp(`(${py.source})(%|[a-z]+)`,"i"),qY=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,b1=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,sN=n=>{const[e,t]=eK(n);if(!e||tT())return n;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(t&&t.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(t);return i||n}else{if(t&&b1.test(t))return sN(t);if(t)return t}return n},eK=n=>{const e=b1.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]};let fA;const tK=(n,e,t,r,i)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(r)}, ${i})`,oN=n=>{fA||(fA=nc?new RegExp(`(${Object.keys(nc).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(s=>qs(s).replace(b1,sN).replace(ZY,LB).replace(fA,LB)),t=e.map(s=>s.match(py).map(Number)),i=t[0].map((s,o)=>t.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>Bm(zw({},n,{output:s})));return s=>{var o;const a=!kB.test(e[0])&&((o=e.find(c=>kB.test(c)))==null?void 0:o.replace(py,""));let l=0;return e[0].replace(py,()=>`${i[l++](s)}${a||""}`).replace(qY,tK)}},iT="react-spring: ",aN=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${iT}once requires a function parameter`);return(...r)=>{t||(e(...r),t=!0)}},nK=aN(console.warn);function rK(){nK(`${iT}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const iK=aN(console.warn);function sK(){iK(`${iT}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function C1(n){return at.str(n)&&(n[0]=="#"||/\d/.test(n)||!tT()&&b1.test(n)||n in(nc||{}))}const sT=tT()?F.useEffect:F.useLayoutEffect,oK=()=>{const n=F.useRef(!1);return sT(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function lN(){const n=F.useState()[1],e=oK();return()=>{e.current&&n(Math.random())}}function aK(n,e){const[t]=F.useState(()=>({inputs:e,result:n()})),r=F.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&lK(e,s.inputs)||(s={inputs:e,result:n()}):s=t,F.useEffect(()=>{r.current=s,i==t&&(t.inputs=t.result=void 0)},[s]),s.result}function lK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}const cN=n=>F.useEffect(n,cK),cK=[];function NB(n){const e=F.useRef();return F.useEffect(()=>{e.current=n}),e.current}const Lm=Symbol.for("Animated:node"),uK=n=>!!n&&n[Lm]===n,na=n=>n&&n[Lm],oT=(n,e)=>PY(n,Lm,e),T1=n=>n&&n[Lm]&&n[Lm].getPayload();class uN{constructor(){this.payload=void 0,oT(this,this)}getPayload(){return this.payload||[]}}class Ah extends uN{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,at.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Ah(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return at.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,at.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class th extends Ah{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=Bm({output:[e,e]})}static create(e){return new th(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(at.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=Bm({output:[this.getValue(),e]})),this._value=0,super.reset()}}const s_={dependencies:null};class aT extends uN{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return el(this.source,(r,i)=>{uK(r)?t[i]=r.getValue(e):ra(r)?t[i]=qs(r):e||(t[i]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Mn(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return el(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){s_.dependencies&&ra(e)&&s_.dependencies.add(e);const t=T1(e);t&&Mn(t,r=>this.add(r))}}class lT extends aT{constructor(e){super(e)}static create(e){return new lT(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(fK)),!0)}}function fK(n){return(C1(n)?th:Ah).create(n)}function Gw(n){const e=na(n);return e?e.constructor:at.arr(n)?lT:C1(n)?th:Ah}function o_(){return o_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},o_.apply(this,arguments)}const zB=(n,e)=>{const t=!at.fun(n)||n.prototype&&n.prototype.isReactComponent;return F.forwardRef((r,i)=>{const s=F.useRef(null),o=t&&F.useCallback(v=>{s.current=pK(i,v)},[i]),[a,l]=hK(r,e),c=lN(),u=()=>{const v=s.current;if(t&&!v)return;(v?e.applyAnimatedValues(v,a.getValue(!0)):!1)===!1&&c()},f=new dK(u,l),h=F.useRef();sT(()=>(h.current=f,Mn(l,v=>yg(v,f)),()=>{h.current&&(Mn(h.current.deps,v=>i_(v,h.current)),Ht.cancel(h.current.update))})),F.useEffect(u,[]),cN(()=>()=>{const v=h.current;Mn(v.deps,y=>i_(y,v))});const m=e.getComponentProps(a.getValue());return F.createElement(n,o_({},m,{ref:o}))})};class dK{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&Ht.write(this.update)}}function hK(n,e){const t=new Set;return s_.dependencies=t,n.style&&(n=o_({},n,{style:e.createAnimatedStyle(n.style)})),n=new aT(n),s_.dependencies=null,[n,t]}function pK(n,e){return n&&(at.fun(n)?n(e):n.current=e),e}const GB=Symbol.for("AnimatedComponent"),mK=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=i=>new aT(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:r},s=o=>{const a=HB(o)||"Anonymous";return at.str(o)?o=s[o]||(s[o]=zB(o,i)):o=o[GB]||(o[GB]=zB(o,i)),o.displayName=`Animated(${a})`,o};return el(n,(o,a)=>{at.arr(n)&&(a=HB(o)),s[a]=s(o)}),{animated:s}},HB=n=>at.str(n)?n:n&&at.str(n.displayName)?n.displayName:at.fun(n)&&n.name||null;function Xr(){return Xr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Xr.apply(this,arguments)}function iu(n,...e){return at.fun(n)?n(...e):n}const Jp=(n,e)=>n===!0||!!(e&&n&&(at.fun(n)?n(e):oo(n).includes(e))),fN=(n,e)=>at.obj(n)?e&&n[e]:n,dN=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,gK=n=>n,cT=(n,e=gK)=>{let t=vK;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));const r={};for(const i of t){const s=e(n[i],i);at.und(s)||(r[i]=s)}return r},vK=["config","onProps","onStart","onChange","onPause","onResume","onRest"],yK={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function _K(n){const e={};let t=0;if(el(n,(r,i)=>{yK[i]||(e[i]=r,t++)}),t)return e}function hN(n){const e=_K(n);if(e){const t={to:e};return el(n,(r,i)=>i in e||(t[i]=r)),t}return Xr({},n)}function Dm(n){return n=qs(n),at.arr(n)?n.map(Dm):C1(n)?ya.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function xK(n){for(const e in n)return!0;return!1}function Hw(n){return at.fun(n)||at.arr(n)&&at.obj(n[0])}function SK(n,e){var t;(t=n.ref)==null||t.delete(n),e==null||e.delete(n)}function AK(n,e){if(e&&n.ref!==e){var t;(t=n.ref)==null||t.delete(n),e.add(n),n.ref=e}}const MK={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Vw=Xr({},MK.default,{mass:1,damping:1,easing:YY.linear,clamp:!1});class wK{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Vw)}}function EK(n,e,t){t&&(t=Xr({},t),VB(t,e),e=Xr({},t,e)),VB(n,e),Object.assign(n,e);for(const o in Vw)n[o]==null&&(n[o]=Vw[o]);let{mass:r,frequency:i,damping:s}=n;return at.und(i)||(i<.01&&(i=.01),s<0&&(s=0),n.tension=Math.pow(2*Math.PI/i,2)*r,n.friction=4*Math.PI*s*r/i),n}function VB(n,e){if(!at.und(e.decay))n.duration=void 0;else{const t=!at.und(e.tension)||!at.und(e.friction);(t||!at.und(e.frequency)||!at.und(e.damping)||!at.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}const WB=[];let bK=class{constructor(){this.changed=!1,this.values=WB,this.toValues=null,this.fromValues=WB,this.to=void 0,this.from=void 0,this.config=new wK,this.immediate=!1}};function pN(n,{key:e,props:t,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{var l;let c,u,f=Jp((l=t.cancel)!=null?l:r==null?void 0:r.cancel,e);if(f)v();else{at.und(t.pause)||(i.paused=Jp(t.pause,e));let y=r==null?void 0:r.pause;y!==!0&&(y=i.paused||Jp(y,e)),c=iu(t.delay||0,e),y?(i.resumeQueue.add(m),s.pause()):(s.resume(),m())}function h(){i.resumeQueue.add(m),i.timeouts.delete(u),u.cancel(),c=u.time-Ht.now()}function m(){c>0&&!ya.skipAnimation?(i.delayed=!0,u=Ht.setTimeout(v,c),i.pauseQueue.add(h),i.timeouts.add(u)):v()}function v(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(h),i.timeouts.delete(u),n<=(i.cancelId||0)&&(f=!0);try{s.start(Xr({},t,{callId:n,cancel:f}),o)}catch(y){a(y)}}})}const uT=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?Bd(n.get()):e.every(t=>t.noop)?mN(n.get()):Oo(n.get(),e.every(t=>t.finished)),mN=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),Oo=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),Bd=n=>({value:n,cancelled:!0,finished:!1});function gN(n,e,t,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=t;return!s&&n===a&&!e.reset?l:t.promise=(async()=>{t.asyncId=i,t.asyncTo=n;const c=cT(e,(_,g)=>g==="onRest"?void 0:_);let u,f;const h=new Promise((_,g)=>(u=_,f=g)),m=_=>{const g=i<=(t.cancelId||0)&&Bd(r)||i!==t.asyncId&&Oo(r,!1);if(g)throw _.result=g,f(_),_},v=(_,g)=>{const x=new jB,S=new XB;return(async()=>{if(ya.skipAnimation)throw Om(t),S.result=Oo(r,!1),f(S),S;m(x);const M=at.obj(_)?Xr({},_):Xr({},g,{to:_});M.parentId=i,el(c,(b,C)=>{at.und(M[C])&&(M[C]=b)});const E=await r.start(M);return m(x),t.paused&&await new Promise(b=>{t.resumeQueue.add(b)}),E})()};let y;if(ya.skipAnimation)return Om(t),Oo(r,!1);try{let _;at.arr(n)?_=(async g=>{for(const x of g)await v(x)})(n):_=Promise.resolve(n(v,r.stop.bind(r))),await Promise.all([_.then(u),h]),y=Oo(r.get(),!0,!1)}catch(_){if(_ instanceof jB)y=_.result;else if(_ instanceof XB)y=_.result;else throw _}finally{i==t.asyncId&&(t.asyncId=s,t.asyncTo=s?a:void 0,t.promise=s?l:void 0)}return at.fun(o)&&Ht.batchedUpdates(()=>{o(y,r,r.item)}),y})()}function Om(n,e){jp(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}class jB extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class XB extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const Ww=n=>n instanceof fT;let CK=1;class fT extends $Y{constructor(...e){super(...e),this.id=CK++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=na(this);return e&&e.getValue()}to(...e){return ya.to(this,e)}interpolate(...e){return rK(),ya.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){r_(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||w1.sort(this),r_(this,{type:"priority",parent:this,priority:e})}}const Hu=Symbol.for("SpringPhase"),vN=1,jw=2,Xw=4,dA=n=>(n[Hu]&vN)>0,Ml=n=>(n[Hu]&jw)>0,hp=n=>(n[Hu]&Xw)>0,JB=(n,e)=>e?n[Hu]|=jw|vN:n[Hu]&=~jw,YB=(n,e)=>e?n[Hu]|=Xw:n[Hu]&=~Xw;class TK extends fT{constructor(e,t){if(super(),this.key=void 0,this.animation=new bK,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!at.und(e)||!at.und(t)){const r=at.obj(e)?Xr({},e):Xr({},t,{from:e});at.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(Ml(this)||this._state.asyncTo)||hp(this)}get goal(){return qs(this.animation.to)}get velocity(){const e=na(this);return e instanceof Ah?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return dA(this)}get isAnimating(){return Ml(this)}get isPaused(){return hp(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,r=!1;const i=this.animation;let{config:s,toValues:o}=i;const a=T1(i.to);!a&&ra(i.to)&&(o=oo(qs(i.to))),i.values.forEach((u,f)=>{if(u.done)return;const h=u.constructor==th?1:a?a[f].lastPosition:o[f];let m=i.immediate,v=h;if(!m){if(v=u.lastPosition,s.tension<=0){u.done=!0;return}let y=u.elapsedTime+=e;const _=i.fromValues[f],g=u.v0!=null?u.v0:u.v0=at.arr(s.velocity)?s.velocity[f]:s.velocity;let x;const S=s.precision||(_==h?.005:Math.min(1,Math.abs(h-_)*.001));if(at.und(s.duration))if(s.decay){const M=s.decay===!0?.998:s.decay,E=Math.exp(-(1-M)*y);v=_+g/(1-M)*(1-E),m=Math.abs(u.lastPosition-v)<=S,x=g*E}else{x=u.lastVelocity==null?g:u.lastVelocity;const M=s.restVelocity||S/10,E=s.clamp?0:s.bounce,b=!at.und(E),C=_==h?u.v0>0:_<h;let R,T=!1;const B=1,k=Math.ceil(e/B);for(let N=0;N<k&&(R=Math.abs(x)>M,!(!R&&(m=Math.abs(h-v)<=S,m)));++N){b&&(T=v==h||v>h==C,T&&(x=-x*E,v=h));const j=-s.tension*1e-6*(v-h),Y=-s.friction*.001*x,Q=(j+Y)/s.mass;x=x+Q*B,v=v+x*B}}else{let M=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,y=u.elapsedTime+=e)),M=(s.progress||0)+y/this._memoizedDuration,M=M>1?1:M<0?0:M,u.durationProgress=M),v=_+s.easing(M)*(h-_),x=(v-u.lastPosition)/e,m=M==1}u.lastVelocity=x,Number.isNaN(v)&&(console.warn("Got NaN while animating:",this),m=!0)}a&&!a[f].done&&(m=!1),m?u.done=!0:t=!1,u.setValue(v,s.round)&&(r=!0)});const l=na(this),c=l.getValue();if(t){const u=qs(i.to);(c!==u||r)&&!s.decay?(l.setValue(u),this._onChange(u)):r&&s.decay&&this._onChange(c),this._stop()}else r&&this._onChange(c)}set(e){return Ht.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ml(this)){const{to:e,config:t}=this.animation;Ht.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let r;return at.und(e)?(r=this.queue||[],this.queue=[]):r=[at.obj(e)?e:Xr({},t,{to:e})],Promise.all(r.map(i=>this._update(i))).then(i=>uT(this,i))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Om(this._state,e&&this._lastCallId),Ht.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:r,from:i}=e;r=at.obj(r)?r[t]:r,(r==null||Hw(r))&&(r=void 0),i=at.obj(i)?i[t]:i,i==null&&(i=void 0);const s={to:r,from:i};return dA(this)||(e.reverse&&([r,i]=[i,r]),i=qs(i),at.und(i)?na(this)||this._set(r):this._set(i)),s}_update(e,t){let r=Xr({},e);const{key:i,defaultProps:s}=this;r.default&&Object.assign(s,cT(r,(l,c)=>/^on/.test(c)?fN(l,i):l)),$B(this,r,"onProps"),mp(this,"onProps",r,this);const o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return pN(++this._lastCallId,{key:i,props:r,defaultProps:s,state:a,actions:{pause:()=>{hp(this)||(YB(this,!0),Tp(a.pauseQueue),mp(this,"onPause",Oo(this,pp(this,this.animation.to)),this))},resume:()=>{hp(this)&&(YB(this,!1),Ml(this)&&this._resume(),Tp(a.resumeQueue),mp(this,"onResume",Oo(this,pp(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(l=>{if(r.loop&&l.finished&&!(t&&l.noop)){const c=yN(r);if(c)return this._update(c,!0)}return l})}_merge(e,t,r){if(t.cancel)return this.stop(!0),r(Bd(this));const i=!at.und(e.to),s=!at.und(e.from);if(i||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return r(Bd(this));const{key:o,defaultProps:a,animation:l}=this,{to:c,from:u}=l;let{to:f=c,from:h=u}=e;s&&!i&&(!t.default||at.und(f))&&(f=h),t.reverse&&([f,h]=[h,f]);const m=!Ua(h,u);m&&(l.from=h),h=qs(h);const v=!Ua(f,c);v&&this._focus(f);const y=Hw(t.to),{config:_}=l,{decay:g,velocity:x}=_;(i||s)&&(_.velocity=0),t.config&&!y&&EK(_,iu(t.config,o),t.config!==a.config?iu(a.config,o):void 0);let S=na(this);if(!S||at.und(f))return r(Oo(this,!0));const M=at.und(t.reset)?s&&!t.default:!at.und(h)&&Jp(t.reset,o),E=M?h:this.get(),b=Dm(f),C=at.num(b)||at.arr(b)||C1(b),R=!y&&(!C||Jp(a.immediate||t.immediate,o));if(v){const N=Gw(f);if(N!==S.constructor)if(R)S=this._set(b);else throw Error(`Cannot animate between ${S.constructor.name} and ${N.name}, as the "to" prop suggests`)}const T=S.constructor;let B=ra(f),k=!1;if(!B){const N=M||!dA(this)&&m;(v||N)&&(k=Ua(Dm(E),b),B=!k),(!Ua(l.immediate,R)&&!R||!Ua(_.decay,g)||!Ua(_.velocity,x))&&(B=!0)}if(k&&Ml(this)&&(l.changed&&!M?B=!0:B||this._stop(c)),!y&&((B||ra(c))&&(l.values=S.getPayload(),l.toValues=ra(f)?null:T==th?[1]:oo(b)),l.immediate!=R&&(l.immediate=R,!R&&!M&&this._set(c)),B)){const{onRest:N}=l;Mn(PK,Y=>$B(this,t,Y));const j=Oo(this,pp(this,c));Tp(this._pendingCalls,j),this._pendingCalls.add(r),l.changed&&Ht.batchedUpdates(()=>{l.changed=!M,N==null||N(j,this),M?iu(a.onRest,j):l.onStart==null||l.onStart(j,this)})}M&&this._set(E),y?r(gN(t.to,t,this._state,this)):B?this._start():Ml(this)&&!v?this._pendingCalls.add(r):r(mN(E))}_focus(e){const t=this.animation;e!==t.to&&(UB(this)&&this._detach(),t.to=e,UB(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;ra(t)&&(yg(t,this),Ww(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;ra(e)&&i_(e,this)}_set(e,t=!0){const r=qs(e);if(!at.und(r)){const i=na(this);if(!i||!Ua(r,i.getValue())){const s=Gw(r);!i||i.constructor!=s?oT(this,s.create(r)):i.setValue(r),i&&Ht.batchedUpdates(()=>{this._onChange(r,t)})}}return na(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,mp(this,"onStart",Oo(this,pp(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),iu(this.animation.onChange,e,this)),iu(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;na(this).reset(qs(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),Ml(this)||(JB(this,!0),hp(this)||this._resume())}_resume(){ya.skipAnimation?this.finish():w1.start(this)}_stop(e,t){if(Ml(this)){JB(this,!1);const r=this.animation;Mn(r.values,s=>{s.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),r_(this,{type:"idle",parent:this});const i=t?Bd(this.get()):Oo(this.get(),pp(this,e??r.to));Tp(this._pendingCalls,i),r.changed&&(r.changed=!1,mp(this,"onRest",i,this))}}}function pp(n,e){const t=Dm(e),r=Dm(n.get());return Ua(r,t)}function yN(n,e=n.loop,t=n.to){let r=iu(e);if(r){const i=r!==!0&&hN(r),s=(i||n).reverse,o=!i||i.reset;return Fm(Xr({},n,{loop:e,default:!1,pause:void 0,to:!s||Hw(t)?t:void 0,from:o?n.from:void 0,reset:o},i))}}function Fm(n){const{to:e,from:t}=n=hN(n),r=new Set;return at.obj(e)&&KB(e,r),at.obj(t)&&KB(t,r),n.keys=r.size?Array.from(r):null,n}function RK(n){const e=Fm(n);return at.und(e.default)&&(e.default=cT(e)),e}function KB(n,e){el(n,(t,r)=>t!=null&&e.add(r))}const PK=["onStart","onRest","onChange","onPause","onResume"];function $B(n,e,t){n.animation[t]=e[t]!==dN(e,t)?fN(e[t],n.key):void 0}function mp(n,e,...t){var r,i,s,o;(r=(i=n.animation)[e])==null||r.call(i,...t),(s=(o=n.defaultProps)[e])==null||s.call(o,...t)}const IK=["onStart","onChange","onRest"];let BK=1,LK=class{constructor(e,t){this.id=BK++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(Xr({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,r)=>e[r]=t.get()),e}set(e){for(const t in e){const r=e[t];at.und(r)||this.springs[t].set(r)}}update(e){return e&&this.queue.push(Fm(e)),this}start(e){let{queue:t}=this;return e?t=oo(e).map(Fm):this.queue=[],this._flush?this._flush(this,t):(MN(this,t),Jw(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const r=this.springs;Mn(oo(t),i=>r[i].stop(!!e))}else Om(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(at.und(e))this.start({pause:!0});else{const t=this.springs;Mn(oo(e),r=>t[r].pause())}return this}resume(e){if(at.und(e))this.start({pause:!1});else{const t=this.springs;Mn(oo(e),r=>t[r].resume())}return this}each(e){el(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:r}=this._events,i=this._active.size>0,s=this._changed.size>0;(i&&!this._started||s&&!this._started)&&(this._started=!0,jp(e,([l,c])=>{c.value=this.get(),l(c,this,this._item)}));const o=!i&&this._started,a=s||o&&r.size?this.get():null;s&&t.size&&jp(t,([l,c])=>{c.value=a,l(c,this,this._item)}),o&&(this._started=!1,jp(r,([l,c])=>{c.value=a,l(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Ht.onFrame(this._onFrame)}};function Jw(n,e){return Promise.all(e.map(t=>_N(n,t))).then(t=>uT(n,t))}async function _N(n,e,t){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,c=at.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const u=at.arr(i)||at.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,c&&(c.onRest=void 0)):Mn(IK,y=>{const _=e[y];if(at.fun(_)){const g=n._events[y];e[y]=({finished:x,cancelled:S})=>{const M=g.get(_);M?(x||(M.finished=!1),S&&(M.cancelled=!0)):g.set(_,{value:null,finished:x||!1,cancelled:S||!1})},c&&(c[y]=e[y])}});const f=n._state;e.pause===!f.paused?(f.paused=e.pause,Tp(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const h=(r||Object.keys(n.springs)).map(y=>n.springs[y].start(e)),m=e.cancel===!0||dN(e,"cancel")===!0;(u||m&&f.asyncId)&&h.push(pN(++n._lastAsyncId,{props:e,state:f,actions:{pause:kw,resume:kw,start(y,_){m?(Om(f,n._lastAsyncId),_(Bd(n))):(y.onRest=a,_(gN(u,y,f,n)))}}})),f.paused&&await new Promise(y=>{f.resumeQueue.add(y)});const v=uT(n,await Promise.all(h));if(o&&v.finished&&!(t&&v.noop)){const y=yN(e,o,i);if(y)return MN(n,[y]),_N(n,y,!0)}return l&&Ht.batchedUpdates(()=>l(v,n,n.item)),v}function QB(n,e){const t=Xr({},n.springs);return e&&Mn(oo(e),r=>{at.und(r.keys)&&(r=Fm(r)),at.obj(r.to)||(r=Xr({},r,{to:void 0})),AN(t,r,i=>SN(i))}),xN(n,t),t}function xN(n,e){el(e,(t,r)=>{n.springs[r]||(n.springs[r]=t,yg(t,n))})}function SN(n,e){const t=new TK;return t.key=n,e&&yg(t,e),t}function AN(n,e,t){e.keys&&Mn(e.keys,r=>{(n[r]||(n[r]=t(r)))._prepareNode(e)})}function MN(n,e){Mn(e,t=>{AN(n.springs,t,r=>SN(r,n))})}function DK(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}const OK=["children"],R1=n=>{let{children:e}=n,t=DK(n,OK);const r=F.useContext(a_),i=t.pause||!!r.pause,s=t.immediate||!!r.immediate;t=aK(()=>({pause:i,immediate:s}),[i,s]);const{Provider:o}=a_;return F.createElement(o,{value:t},e)},a_=FK(R1,{});R1.Provider=a_.Provider;R1.Consumer=a_.Consumer;function FK(n,e){return Object.assign(n,F.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}const UK=()=>{const n=[],e=function(i){sK();const s=[];return Mn(n,(o,a)=>{if(at.und(i))s.push(o.start());else{const l=t(i,o,a);l&&s.push(o.start(l))}}),s};e.current=n,e.add=function(r){n.includes(r)||n.push(r)},e.delete=function(r){const i=n.indexOf(r);~i&&n.splice(i,1)},e.pause=function(){return Mn(n,r=>r.pause(...arguments)),this},e.resume=function(){return Mn(n,r=>r.resume(...arguments)),this},e.set=function(r){Mn(n,i=>i.set(r))},e.start=function(r){const i=[];return Mn(n,(s,o)=>{if(at.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return Mn(n,r=>r.stop(...arguments)),this},e.update=function(r){return Mn(n,(i,s)=>i.update(this._getProps(r,i,s))),this};const t=function(i,s,o){return at.fun(i)?i(o,s):i};return e._getProps=t,e};function kK(n,e,t){const r=at.fun(e)&&e;r&&!t&&(t=[]);const i=F.useMemo(()=>r||arguments.length==3?UK():void 0,[]),s=F.useRef(0),o=lN(),a=F.useMemo(()=>({ctrls:[],queue:[],flush(g,x){const S=QB(g,x);return s.current>0&&!a.queue.length&&!Object.keys(S).some(E=>!g.springs[E])?Jw(g,x):new Promise(E=>{xN(g,S),a.queue.push(()=>{E(Jw(g,x))}),o()})}}),[]),l=F.useRef([...a.ctrls]),c=[],u=NB(n)||0;F.useMemo(()=>{Mn(l.current.slice(n,u),g=>{SK(g,i),g.stop(!0)}),l.current.length=n,f(u,n)},[n]),F.useMemo(()=>{f(0,Math.min(u,n))},t);function f(g,x){for(let S=g;S<x;S++){const M=l.current[S]||(l.current[S]=new LK(null,a.flush)),E=r?r(S,M):e[S];E&&(c[S]=RK(E))}}const h=l.current.map((g,x)=>QB(g,c[x])),m=F.useContext(R1),v=NB(m),y=m!==v&&xK(m);sT(()=>{s.current++,a.ctrls=l.current;const{queue:g}=a;g.length&&(a.queue=[],Mn(g,x=>x())),Mn(l.current,(x,S)=>{i==null||i.add(x),y&&x.start({default:m});const M=c[S];M&&(AK(x,M.ref),x.ref?x.queue.push(M):x.start(M))})}),cN(()=>()=>{Mn(a.ctrls,g=>g.stop(!0))});const _=h.map(g=>Xr({},g));return i?[_,i]:_}function NK(n,e){const t=at.fun(n),[[r],i]=kK(1,t?n:[n],t?e||[]:e);return t||arguments.length==2?[r,i]:r}let ZB;(function(n){n.MOUNT="mount",n.ENTER="enter",n.UPDATE="update",n.LEAVE="leave"})(ZB||(ZB={}));class zK extends fT{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=Bm(...t);const r=this._get(),i=Gw(r);oT(this,i.create(r))}advance(e){const t=this._get(),r=this.get();Ua(t,r)||(na(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&qB(this._active)&&hA(this)}_get(){const e=at.arr(this.source)?this.source.map(qs):oo(qs(this.source));return this.calc(...e)}_start(){this.idle&&!qB(this._active)&&(this.idle=!1,Mn(T1(this),e=>{e.done=!1}),ya.skipAnimation?(Ht.batchedUpdates(()=>this.advance()),hA(this)):w1.start(this))}_attach(){let e=1;Mn(oo(this.source),t=>{ra(t)&&yg(t,this),Ww(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Mn(oo(this.source),e=>{ra(e)&&i_(e,this)}),this._active.clear(),hA(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=oo(this.source).reduce((t,r)=>Math.max(t,(Ww(r)?r.priority:0)+1),0))}}function GK(n){return n.idle!==!1}function qB(n){return!n.size||Array.from(n).every(GK)}function hA(n){n.idle||(n.idle=!0,Mn(T1(n),e=>{e.done=!0}),r_(n,{type:"idle",parent:n}))}ya.assign({createStringInterpolator:oN,to:(n,e)=>new zK(n,e)});const HK=["primitive"].concat(Object.keys(Sk).filter(n=>/^[A-Z]/.test(n)).map(n=>n[0].toLowerCase()+n.slice(1)));ya.assign({createStringInterpolator:oN,colors:OY,frameLoop:"demand"});YJ(()=>{Ht.advance()});const VK=mK(HK,{applyAnimatedValues:qc}),WK=VK.animated;function jK(n,e,t){return Math.max(e,Math.min(n,t))}const Xn={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function eL(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function tL(n,e,t,r=.15){return r===0?jK(n,e,t):n<e?-eL(e-n,t-e,r)+e:n>t?+eL(n-t,t-e,r)+t:n}function XK(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[tL(e,s,o,r),tL(t,a,l,i)]}function JK(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function YK(n){var e=JK(n,"string");return typeof e=="symbol"?e:String(e)}function Cr(n,e,t){return e=YK(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function nr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(t),!0).forEach(function(r){Cr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const wN={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function rL(n){return n?n[0].toUpperCase()+n.slice(1):""}const KK=["enter","leave"];function $K(n=!1,e){return n&&!KK.includes(e)}function QK(n,e="",t=!1){const r=wN[n],i=r&&r[e]||e;return"on"+rL(n)+rL(i)+($K(t,i)?"Capture":"")}const ZK=["gotpointercapture","lostpointercapture"];function qK(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=ZK.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function e$(n,e=""){const t=wN[n],r=t&&t[e]||e;return n+r}function P1(n){return"touches"in n}function EN(n){return P1(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function t$(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function n$(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function bN(n){return P1(n)?n$(n)[0]:n}function Yw(n,e){try{const t=e.clientX-n.clientX,r=e.clientY-n.clientY,i=(e.clientX+n.clientX)/2,s=(e.clientY+n.clientY)/2,o=Math.hypot(t,r);return{angle:-(Math.atan2(t,r)*180)/Math.PI,distance:o,origin:[i,s]}}catch{}return null}function r$(n){return t$(n).map(e=>e.identifier)}function iL(n,e){const[t,r]=Array.from(n.touches).filter(i=>e.includes(i.identifier));return Yw(t,r)}function pA(n){const e=bN(n);return P1(n)?e.identifier:e.pointerId}function nh(n){const e=bN(n);return[e.clientX,e.clientY]}const sL=40,oL=800;function CN(n){let{deltaX:e,deltaY:t,deltaMode:r}=n;return r===1?(e*=sL,t*=sL):r===2&&(e*=oL,t*=oL),[e,t]}function i$(n){var e,t;const{scrollX:r,scrollY:i,scrollLeft:s,scrollTop:o}=n.currentTarget;return[(e=r??s)!==null&&e!==void 0?e:0,(t=i??o)!==null&&t!==void 0?t:0]}function s$(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function l_(n,...e){return typeof n=="function"?n(...e):n}function o$(){}function a$(...n){return n.length===0?o$:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function aL(n,e){return Object.assign({},e,n||{})}const l$=32;class TN{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?l_(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,s$(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const b=t._delta.map(Math.abs);Xn.addTo(t._distance,b)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:u,values:f}=t;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&f[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&f[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=u[0]!==!1||u[1]!==!1,!t.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[b,C]=f;h[0]=u[0]!==!1?b-u[0]:0,h[1]=u[1]!==!1?C-u[1]:0}else h[0]=u[0]!==!1?o-u[0]:0,h[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(h);const m=t.offset,v=t._active&&!t._blocked||t.active;v&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=l_(r.bounds,t)),this.setup&&this.setup()),t.movement=h,this.computeOffset()));const[y,_]=t.offset,[[g,x],[S,M]]=t._bounds;t.overflow=[y<g?-1:y>x?1:0,_<S?-1:_>M?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const E=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=XK(t._bounds,t.offset,E),t.delta=Xn.sub(t.offset,m),this.computeMovement(),v&&(!t.last||s>l$)){t.delta=Xn.sub(t.offset,m);const b=t.delta.map(Math.abs);Xn.addTo(t.distance,b),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[b[0]/s,b[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(nr(nr(nr({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function c$([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class _g extends TN{constructor(...e){super(...e),Cr(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Xn.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Xn.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[EN(e)]:r.axisThreshold;t.axis=c$(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const u$=n=>n,lL=.15,RN={enabled(n=!0){return n},eventOptions(n,e,t){return nr(nr({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[lL,lL];case!1:return[0,0];default:return Xn.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return Xn.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||u$},threshold(n){return Xn.toVector(n,0)}},f$=0,Qu=nr(nr({},RN),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=f$){return n},bounds(n={}){if(typeof n=="function")return s=>Qu.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),cL={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class d$ extends _g{constructor(...e){super(...e),Cr(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=Qu.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=pA(e),r._pointerActive=!0,this.computeValues(nh(e)),this.computeInitial(),t.preventScrollAxis&&EN(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=pA(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=nh(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Xn.sub(s,t._values),this.computeValues(s)),Xn.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=pA(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,u]=t._movement,[f,h]=r.swipe.velocity,[m,v]=r.swipe.distance,y=r.swipe.duration;if(t.elapsedTime<y){const _=Math.abs(a/t.timeDelta),g=Math.abs(l/t.timeDelta);_>f&&Math.abs(c)>m&&(t.swipe[0]=Math.sign(a)),g>h&&Math.abs(u)>v&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,h$(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=cL[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Xn.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in cL&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function h$(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const xg=typeof window<"u"&&window.document&&window.document.createElement;function p$(){return xg&&"ontouchstart"in window}function uL(){return p$()||xg&&window.navigator.maxTouchPoints>1}function m$(){return xg&&"onpointerdown"in window}function g$(){return xg&&"exitPointerLock"in window.document}function v$(){try{return"constructor"in GestureEvent}catch{return!1}}const no={isBrowser:xg,gesture:v$(),touch:uL(),touchscreen:uL(),pointer:m$(),pointerLock:g$()},y$=250,_$=180,x$=.5,S$=50,A$=250,M$=10,fL={mouse:0,touch:0,pen:8},w$=nr(nr({},Qu),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&no.pointerLock,no.touch&&t?"touch":this.pointerLock?"mouse":no.pointer&&!i?"pointer":no.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?y$:void 0,!(!no.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=Xn.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=x$,distance:e=S$,duration:t=A$}={}){return{velocity:this.transform(Xn.toVector(n)),distance:this.transform(Xn.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return _$;case!1:return 0;default:return n}},axisThreshold(n){return n?nr(nr({},fL),n):fL},keyboardDisplacement(n=M$){return n}});function PN(n){const[e,t]=n.overflow,[r,i]=n._delta,[s,o]=n._direction;(e<0&&r>0&&s<0||e>0&&r<0&&s>0)&&(n._movement[0]=n._movementBound[0]),(t<0&&i>0&&o<0||t>0&&i<0&&o>0)&&(n._movement[1]=n._movementBound[1])}const E$=30,b$=100;class C$ extends TN{constructor(...e){super(...e),Cr(this,"ingKey","pinching"),Cr(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}computeOffset(){const{type:e,movement:t,lastOffset:r}=this.state;e==="wheel"?this.state.offset=Xn.add(t,r):this.state.offset=[(1+t[0])*r[0],t[1]+r[1]]}computeMovement(){const{offset:e,lastOffset:t}=this.state;this.state.movement=[e[0]/t[0],e[1]-t[1]]}axisIntent(){const e=this.state,[t,r]=e._movement;if(!e.axis){const i=Math.abs(t)*E$-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}restrictToAxis(e){this.config.lockDirection&&(this.state.axis==="scale"?e[1]=0:this.state.axis==="angle"&&(e[0]=0))}cancel(){const e=this.state;e.canceled||setTimeout(()=>{e.canceled=!0,e._active=!1,this.compute(),this.emit()},0)}touchStart(e){this.ctrl.setEventIds(e);const t=this.state,r=this.ctrl.touchIds;if(t._active&&t._touchIds.every(s=>r.has(s))||r.size<2)return;this.start(e),t._touchIds=Array.from(r).slice(0,2);const i=iL(e,t._touchIds);i&&this.pinchStart(e,i)}pointerStart(e){if(e.buttons!=null&&e.buttons%2!==1)return;this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);const t=this.state,r=t._pointerEvents,i=this.ctrl.pointerIds;if(t._active&&Array.from(r.keys()).every(o=>i.has(o))||(r.size<2&&r.set(e.pointerId,e),t._pointerEvents.size<2))return;this.start(e);const s=Yw(...Array.from(r.values()));s&&this.pinchStart(e,s)}pinchStart(e,t){const r=this.state;r.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}touchMove(e){if(!this.state._active)return;const t=iL(e,this.state._touchIds);t&&this.pinchMove(e,t)}pointerMove(e){const t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),!this.state._active)return;const r=Yw(...Array.from(t.values()));r&&this.pinchMove(e,r)}pinchMove(e,t){const r=this.state,i=r._values[1],s=t.angle-i;let o=0;Math.abs(s)>270&&(o+=Math.sign(s)),this.computeValues([t.distance,t.angle-360*o]),r.origin=t.origin,r.turns=o,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(e),this.emit()}touchEnd(e){this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some(t=>!this.ctrl.touchIds.has(t))&&(this.state._active=!1,this.compute(e),this.emit())}pointerEnd(e){const t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch{}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}gestureStart(e){e.cancelable&&e.preventDefault();const t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}gestureMove(e){if(e.cancelable&&e.preventDefault(),!this.state._active)return;const t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];const r=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=Xn.sub(t._movement,r),this.compute(e),this.emit()}gestureEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}wheel(e){const t=this.config.modifierKey;t&&!e[t]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(e){this.start(e),this.wheelChange(e)}wheelChange(e){"uv"in e||e.cancelable&&e.preventDefault();const r=this.state;r._delta=[-CN(e)[1]/b$*r.offset[0],0],Xn.addTo(r._movement,r._delta),PN(r),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){const t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this)),e("lostPointerCapture","",this[t+"End"].bind(this))),this.config.pinchOnWheel&&e("wheel","",this.wheel.bind(this),{passive:!1})}}const T$=nr(nr({},RN),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!no.touch&&no.gesture)return"gesture";if(no.touch&&r)return"touch";if(no.touchscreen){if(no.pointer)return"pointer";if(no.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=aL(l_(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=aL(l_(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",Xn.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});class R$ extends _g{constructor(...e){super(...e),Cr(this,"ingKey","moving")}move(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(e){this.start(e),this.computeValues(nh(e)),this.compute(e),this.computeInitial(),this.emit()}moveChange(e){if(!this.state._active)return;const t=nh(e),r=this.state;r._delta=Xn.sub(t,r._values),Xn.addTo(r._movement,r._delta),this.computeValues(t),this.compute(e),this.emit()}moveEnd(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}bind(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}const P$=nr(nr({},Qu),{},{mouseOnly:(n=!0)=>n});class I$ extends _g{constructor(...e){super(...e),Cr(this,"ingKey","scrolling")}scroll(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(e){e.cancelable&&e.preventDefault();const t=this.state,r=i$(e);t._delta=Xn.sub(r,t._values),Xn.addTo(t._movement,t._delta),this.computeValues(r),this.compute(e),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("scroll","",this.scroll.bind(this))}}const B$=Qu;class L$ extends _g{constructor(...e){super(...e),Cr(this,"ingKey","wheeling")}wheel(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(e){const t=this.state;t._delta=CN(e),Xn.addTo(t._movement,t._delta),PN(t),this.compute(e),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(e){e("wheel","",this.wheel.bind(this))}}const D$=Qu;class O$ extends _g{constructor(...e){super(...e),Cr(this,"ingKey","hovering")}enter(e){this.config.mouseOnly&&e.pointerType!=="mouse"||(this.start(e),this.computeValues(nh(e)),this.compute(e),this.emit())}leave(e){if(this.config.mouseOnly&&e.pointerType!=="mouse")return;const t=this.state;if(!t._active)return;t._active=!1;const r=nh(e);t._movement=t._delta=Xn.sub(r,t._values),this.computeValues(r),this.compute(e),t.delta=t.movement,this.emit()}bind(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}const F$=nr(nr({},Qu),{},{mouseOnly:(n=!0)=>n}),dT=new Map,Kw=new Map;function U$(n){dT.set(n.key,n.engine),Kw.set(n.key,n.resolver)}const k$={key:"drag",engine:d$,resolver:w$},N$={key:"hover",engine:O$,resolver:F$},z$={key:"move",engine:R$,resolver:P$},G$={key:"pinch",engine:C$,resolver:T$},H$={key:"scroll",engine:I$,resolver:B$},V$={key:"wheel",engine:L$,resolver:D$};function W$(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function j$(n,e){if(n==null)return{};var t=W$(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const X$={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=no.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},J$=["target","eventOptions","window","enabled","transform"];function my(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=my(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function Y$(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=j$(r,J$);if(t.shared=my({target:i,eventOptions:s,window:o,enabled:a,transform:l},X$),e){const u=Kw.get(e);t[e]=my(nr({shared:t.shared},c),u)}else for(const u in c){const f=Kw.get(u);f&&(t[u]=my(nr({shared:t.shared},c[u]),f))}return t}class IN{constructor(e,t){Cr(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=e$(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=nr(nr({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class K${constructor(){Cr(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class $${constructor(e){Cr(this,"gestures",new Set),Cr(this,"_targetEventStore",new IN(this)),Cr(this,"gestureEventStores",{}),Cr(this,"gestureTimeoutStores",{}),Cr(this,"handlers",{}),Cr(this,"config",{}),Cr(this,"pointerIds",new Set),Cr(this,"touchIds",new Set),Cr(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Q$(this,e)}setEventIds(e){if(P1(e))return this.touchIds=new Set(r$(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=Y$(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=dL(r,a.eventOptions,!!i);if(a.enabled){const c=dT.get(o);new c(this,e,o).bind(l)}}const s=dL(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](nr(nr({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=a$(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=qK(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function zf(n,e){n.gestures.add(e),n.gestureEventStores[e]=new IN(n,e),n.gestureTimeoutStores[e]=new K$}function Q$(n,e){e.drag&&zf(n,"drag"),e.wheel&&zf(n,"wheel"),e.scroll&&zf(n,"scroll"),e.move&&zf(n,"move"),e.pinch&&zf(n,"pinch"),e.hover&&zf(n,"hover")}const dL=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(c=o.passive)!==null&&c!==void 0?c:e.passive;let h=a?r:QK(r,i,u);t&&f&&(h+="Passive"),n[h]=n[h]||[],n[h].push(s)},Z$=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function q$(n){const e={},t={},r=new Set;for(let i in n)Z$.test(i)?(r.add(RegExp.lastMatch),t[i]=n[i]):e[i]=n[i];return[t,e,r]}function Gf(n,e,t,r,i,s){if(!n.has(t)||!dT.has(r))return;const o=t+"Start",a=t+"End",l=c=>{let u;return c.first&&o in e&&e[o](c),t in e&&(u=e[t](c)),c.last&&a in e&&e[a](c),u};i[r]=l,s[r]=s[r]||{}}function eQ(n,e){const[t,r,i]=q$(n),s={};return Gf(i,t,"onDrag","drag",s,e),Gf(i,t,"onWheel","wheel",s,e),Gf(i,t,"onScroll","scroll",s,e),Gf(i,t,"onPinch","pinch",s,e),Gf(i,t,"onMove","move",s,e),Gf(i,t,"onHover","hover",s,e),{handlers:s,config:e,nativeHandlers:r}}function tQ(n,e={},t,r){const i=rn.useMemo(()=>new $$(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),rn.useEffect(i.effect.bind(i)),rn.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function nQ(n){return n.forEach(U$),function(t,r){const{handlers:i,nativeHandlers:s,config:o}=eQ(t,r||{});return tQ(i,o,void 0,s)}}function rQ(n,e){return nQ([k$,G$,H$,V$,z$,N$])(n,e||{})}function iQ({enabled:n=!0,snap:e,global:t,domElement:r,cursor:i=!0,children:s,speed:o=1,rotation:a=[0,0,0],zoom:l=1,polar:c=[0,Math.PI/2],azimuth:u=[-1/0,1/0],config:f={mass:1,tension:170,friction:26}}){const h=Fr(b=>b.events),m=Fr(b=>b.gl),v=r||h.connected||m.domElement,{size:y}=Fr(),_=F.useMemo(()=>[a[0]+c[0],a[0]+c[1]],[a[0],c[0],c[1]]),g=F.useMemo(()=>[a[1]+u[0],a[1]+u[1]],[a[1],u[0],u[1]]),x=F.useMemo(()=>[fd.clamp(a[0],..._),fd.clamp(a[1],...g),a[2]],[a[0],a[1],a[2],_,g]),[S,M]=NK(()=>({scale:1,rotation:x,config:f}));F.useEffect(()=>void M.start({scale:1,rotation:x,config:f}),[x]),F.useEffect(()=>{if(t&&i&&n)return v.style.cursor="grab",m.domElement.style.cursor="",()=>{v.style.cursor="default",m.domElement.style.cursor="default"}},[t,i,v,n]);const E=rQ({onHover:({last:b})=>{i&&!t&&n&&(v.style.cursor=b?"auto":"grab")},onDrag:({down:b,delta:[C,R],memo:[T,B]=S.rotation.animation.to||x})=>{if(!n)return[R,C];i&&(v.style.cursor=b?"grabbing":"grab"),C=fd.clamp(B+C/y.width*Math.PI*o,...g),R=fd.clamp(T+R/y.height*Math.PI*o,..._);const k=e&&!b&&typeof e!="boolean"?e:f;return M.start({scale:b&&R>_[1]/2?l:1,rotation:e&&!b?x:[R,C,0],config:N=>N==="scale"?{...k,friction:k.friction*3}:k}),[R,C]}},{target:t?v:void 0});return F.createElement(WK.group,pr({},E==null?void 0:E(),S),s)}function hL(n,e){if(e===uU)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Qy||e===rC){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===Qy)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var io=Uint8Array,kl=Uint16Array,$w=Uint32Array,BN=new io([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),LN=new io([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sQ=new io([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DN=function(n,e){for(var t=new kl(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new $w(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},ON=DN(BN,2),FN=ON[0],oQ=ON[1];FN[28]=258,oQ[258]=28;var aQ=DN(LN,0),lQ=aQ[0],Qw=new kl(32768);for(var Wn=0;Wn<32768;++Wn){var wl=(Wn&43690)>>>1|(Wn&21845)<<1;wl=(wl&52428)>>>2|(wl&13107)<<2,wl=(wl&61680)>>>4|(wl&3855)<<4,Qw[Wn]=((wl&65280)>>>8|(wl&255)<<8)>>>1}var Yp=function(n,e,t){for(var r=n.length,i=0,s=new kl(e);i<r;++i)++s[n[i]-1];var o=new kl(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new kl(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],f=o[n[i]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)a[Qw[f]>>>l]=c}else for(a=new kl(r),i=0;i<r;++i)n[i]&&(a[i]=Qw[o[n[i]-1]++]>>>15-n[i]);return a},Sg=new io(288);for(var Wn=0;Wn<144;++Wn)Sg[Wn]=8;for(var Wn=144;Wn<256;++Wn)Sg[Wn]=9;for(var Wn=256;Wn<280;++Wn)Sg[Wn]=7;for(var Wn=280;Wn<288;++Wn)Sg[Wn]=8;var UN=new io(32);for(var Wn=0;Wn<32;++Wn)UN[Wn]=5;var cQ=Yp(Sg,9,1),uQ=Yp(UN,5,1),mA=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Co=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},gA=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},fQ=function(n){return(n/8|0)+(n&7&&1)},dQ=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof kl?kl:n instanceof $w?$w:io)(t-e);return r.set(n.subarray(e,t)),r},hQ=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new io(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new io(r*3));var o=function(fe){var ue=e.length;if(fe>ue){var me=new io(Math.max(ue*2,fe));me.set(e),e=me}},a=t.f||0,l=t.p||0,c=t.b||0,u=t.l,f=t.d,h=t.m,m=t.n,v=r*8;do{if(!u){t.f=a=Co(n,l,1);var y=Co(n,l+1,3);if(l+=3,y)if(y==1)u=cQ,f=uQ,h=9,m=5;else if(y==2){var S=Co(n,l,31)+257,M=Co(n,l+10,15)+4,E=S+Co(n,l+5,31)+1;l+=14;for(var b=new io(E),C=new io(19),R=0;R<M;++R)C[sQ[R]]=Co(n,l+R*3,7);l+=M*3;for(var T=mA(C),B=(1<<T)-1,k=Yp(C,T,1),R=0;R<E;){var N=k[Co(n,l,B)];l+=N&15;var _=N>>>4;if(_<16)b[R++]=_;else{var j=0,Y=0;for(_==16?(Y=3+Co(n,l,3),l+=2,j=b[R-1]):_==17?(Y=3+Co(n,l,7),l+=3):_==18&&(Y=11+Co(n,l,127),l+=7);Y--;)b[R++]=j}}var Q=b.subarray(0,S),W=b.subarray(S);h=mA(Q),m=mA(W),u=Yp(Q,h,1),f=Yp(W,m,1)}else throw"invalid block type";else{var _=fQ(l)+4,g=n[_-4]|n[_-3]<<8,x=_+g;if(x>r){if(s)throw"unexpected EOF";break}i&&o(c+g),e.set(n.subarray(_,x),c),t.b=c+=g,t.p=l=x*8;continue}if(l>v){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var V=(1<<h)-1,D=(1<<m)-1,G=l;;G=l){var j=u[gA(n,l)&V],H=j>>>4;if(l+=j&15,l>v){if(s)throw"unexpected EOF";break}if(!j)throw"invalid length/literal";if(H<256)e[c++]=H;else if(H==256){G=l,u=null;break}else{var O=H-254;if(H>264){var R=H-257,X=BN[R];O=Co(n,l,(1<<X)-1)+FN[R],l+=X}var ie=f[gA(n,l)&D],ae=ie>>>4;if(!ie)throw"invalid distance";l+=ie&15;var W=lQ[ae];if(ae>3){var X=LN[ae];W+=gA(n,l)&(1<<X)-1,l+=X}if(l>v){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var oe=c+O;c<oe;c+=4)e[c]=e[c-W],e[c+1]=e[c+1-W],e[c+2]=e[c+2-W],e[c+3]=e[c+3-W];c=oe}}t.l=u,t.p=G,t.b=c,u&&(a=1,t.m=h,t.d=f,t.n=m)}while(!a);return c==e.length?e:dQ(e,0,c)},pQ=new io(0),mQ=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Rv(n,e){return hQ((mQ(n),n.subarray(2,-4)),e)}var gQ=typeof TextDecoder<"u"&&new TextDecoder,vQ=0;try{gQ.decode(pQ,{stream:!0}),vQ=1}catch{}const yQ=n=>n&&n.isCubeTexture;class _Q extends dr{constructor(e,t){var r,i;const s=yQ(e),a=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),u=3*Math.max(c,16*7),f=4*c,h=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=h.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(mh.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,y={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},_=new ug(1,16),g=new Xo({uniforms:y,fragmentShader:v,vertexShader:m,side:Di});super(_,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var xQ=Object.defineProperty,SQ=(n,e,t)=>e in n?xQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Nt=(n,e,t)=>(SQ(n,typeof e!="symbol"?e+"":e,t),t);const pL=(n,e)=>(n%e+e)%e;let AQ=class extends xa{constructor(e,t){super(),Nt(this,"object"),Nt(this,"domElement"),Nt(this,"enabled",!0),Nt(this,"target",new q),Nt(this,"minDistance",0),Nt(this,"maxDistance",1/0),Nt(this,"minZoom",0),Nt(this,"maxZoom",1/0),Nt(this,"minPolarAngle",0),Nt(this,"maxPolarAngle",Math.PI),Nt(this,"minAzimuthAngle",-1/0),Nt(this,"maxAzimuthAngle",1/0),Nt(this,"enableDamping",!1),Nt(this,"dampingFactor",.05),Nt(this,"enableZoom",!0),Nt(this,"zoomSpeed",1),Nt(this,"enableRotate",!0),Nt(this,"rotateSpeed",1),Nt(this,"enablePan",!0),Nt(this,"panSpeed",1),Nt(this,"screenSpacePanning",!0),Nt(this,"keyPanSpeed",7),Nt(this,"autoRotate",!1),Nt(this,"autoRotateSpeed",2),Nt(this,"reverseOrbit",!1),Nt(this,"reverseHorizontalOrbit",!1),Nt(this,"reverseVerticalOrbit",!1),Nt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Nt(this,"mouseButtons",{LEFT:$c.ROTATE,MIDDLE:$c.DOLLY,RIGHT:$c.PAN}),Nt(this,"touches",{ONE:Qc.ROTATE,TWO:Qc.DOLLY_PAN}),Nt(this,"target0"),Nt(this,"position0"),Nt(this,"zoom0"),Nt(this,"_domElementKeyEvents",null),Nt(this,"getPolarAngle"),Nt(this,"getAzimuthalAngle"),Nt(this,"setPolarAngle"),Nt(this,"setAzimuthalAngle"),Nt(this,"getDistance"),Nt(this,"listenToKeyEvents"),Nt(this,"stopListenToKeyEvents"),Nt(this,"saveState"),Nt(this,"reset"),Nt(this,"update"),Nt(this,"connect"),Nt(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=ne=>{let Se=pL(ne,2*Math.PI),Ce=u.phi;Ce<0&&(Ce+=2*Math.PI),Se<0&&(Se+=2*Math.PI);let Ie=Math.abs(Se-Ce);2*Math.PI-Ie<Ie&&(Se<Ce?Se+=2*Math.PI:Ce+=2*Math.PI),f.phi=Se-Ce,r.update()},this.setAzimuthalAngle=ne=>{let Se=pL(ne,2*Math.PI),Ce=u.theta;Ce<0&&(Ce+=2*Math.PI),Se<0&&(Se+=2*Math.PI);let Ie=Math.abs(Se-Ce);2*Math.PI-Ie<Ie&&(Se<Ce?Se+=2*Math.PI:Ce+=2*Math.PI),f.theta=Se-Ce,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ne=>{ne.addEventListener("keydown",z),this._domElementKeyEvents=ne},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",z),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const ne=new q,Se=new q(0,1,0),Ce=new Yr().setFromUnitVectors(e.up,Se),Ie=Ce.clone().invert(),Ge=new q,Ze=new Yr,tt=2*Math.PI;return function(){const pe=r.object.position;Ce.setFromUnitVectors(e.up,Se),Ie.copy(Ce).invert(),ne.copy(pe).sub(r.target),ne.applyQuaternion(Ce),u.setFromVector3(ne),r.autoRotate&&l===a.NONE&&N(B()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let be=r.minAzimuthAngle,$e=r.maxAzimuthAngle;return isFinite(be)&&isFinite($e)&&(be<-Math.PI?be+=tt:be>Math.PI&&(be-=tt),$e<-Math.PI?$e+=tt:$e>Math.PI&&($e-=tt),be<=$e?u.theta=Math.max(be,Math.min($e,u.theta)):u.theta=u.theta>(be+$e)/2?Math.max(be,u.theta):Math.min($e,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=h,u.radius=Math.max(r.minDistance,Math.min(r.maxDistance,u.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),ne.setFromSpherical(u),ne.applyQuaternion(Ie),pe.copy(r.target).add(ne),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0)),h=1,v||Ge.distanceToSquared(r.object.position)>c||8*(1-Ze.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ge.copy(r.object.position),Ze.copy(r.object.quaternion),v=!1,!0):!1}})(),this.connect=ne=>{ne===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=ne,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",De),r.domElement.addEventListener("pointerdown",Ye),r.domElement.addEventListener("pointercancel",Te),r.domElement.addEventListener("wheel",K)},this.dispose=()=>{var ne,Se,Ce,Ie,Ge,Ze;(ne=r.domElement)==null||ne.removeEventListener("contextmenu",De),(Se=r.domElement)==null||Se.removeEventListener("pointerdown",Ye),(Ce=r.domElement)==null||Ce.removeEventListener("pointercancel",Te),(Ie=r.domElement)==null||Ie.removeEventListener("wheel",K),(Ge=r.domElement)==null||Ge.ownerDocument.removeEventListener("pointermove",de),(Ze=r.domElement)==null||Ze.ownerDocument.removeEventListener("pointerup",Re),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",z)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new Iw,f=new Iw;let h=1;const m=new q;let v=!1;const y=new Je,_=new Je,g=new Je,x=new Je,S=new Je,M=new Je,E=new Je,b=new Je,C=new Je,R=[],T={};function B(){return 2*Math.PI/60/60*r.autoRotateSpeed}function k(){return Math.pow(.95,r.zoomSpeed)}function N(ne){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ne:f.theta-=ne}function j(ne){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ne:f.phi-=ne}const Y=(()=>{const ne=new q;return function(Ce,Ie){ne.setFromMatrixColumn(Ie,0),ne.multiplyScalar(-Ce),m.add(ne)}})(),Q=(()=>{const ne=new q;return function(Ce,Ie){r.screenSpacePanning===!0?ne.setFromMatrixColumn(Ie,1):(ne.setFromMatrixColumn(Ie,0),ne.crossVectors(r.object.up,ne)),ne.multiplyScalar(Ce),m.add(ne)}})(),W=(()=>{const ne=new q;return function(Ce,Ie){const Ge=r.domElement;if(Ge&&r.object instanceof Kn&&r.object.isPerspectiveCamera){const Ze=r.object.position;ne.copy(Ze).sub(r.target);let tt=ne.length();tt*=Math.tan(r.object.fov/2*Math.PI/180),Y(2*Ce*tt/Ge.clientHeight,r.object.matrix),Q(2*Ie*tt/Ge.clientHeight,r.object.matrix)}else Ge&&r.object instanceof No&&r.object.isOrthographicCamera?(Y(Ce*(r.object.right-r.object.left)/r.object.zoom/Ge.clientWidth,r.object.matrix),Q(Ie*(r.object.top-r.object.bottom)/r.object.zoom/Ge.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function V(ne){r.object instanceof Kn&&r.object.isPerspectiveCamera?h/=ne:r.object instanceof No&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*ne)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function D(ne){r.object instanceof Kn&&r.object.isPerspectiveCamera?h*=ne:r.object instanceof No&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/ne)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function G(ne){y.set(ne.clientX,ne.clientY)}function H(ne){E.set(ne.clientX,ne.clientY)}function O(ne){x.set(ne.clientX,ne.clientY)}function X(ne){_.set(ne.clientX,ne.clientY),g.subVectors(_,y).multiplyScalar(r.rotateSpeed);const Se=r.domElement;Se&&(N(2*Math.PI*g.x/Se.clientHeight),j(2*Math.PI*g.y/Se.clientHeight)),y.copy(_),r.update()}function ie(ne){b.set(ne.clientX,ne.clientY),C.subVectors(b,E),C.y>0?V(k()):C.y<0&&D(k()),E.copy(b),r.update()}function ae(ne){S.set(ne.clientX,ne.clientY),M.subVectors(S,x).multiplyScalar(r.panSpeed),W(M.x,M.y),x.copy(S),r.update()}function oe(ne){ne.deltaY<0?D(k()):ne.deltaY>0&&V(k()),r.update()}function fe(ne){let Se=!1;switch(ne.code){case r.keys.UP:W(0,r.keyPanSpeed),Se=!0;break;case r.keys.BOTTOM:W(0,-r.keyPanSpeed),Se=!0;break;case r.keys.LEFT:W(r.keyPanSpeed,0),Se=!0;break;case r.keys.RIGHT:W(-r.keyPanSpeed,0),Se=!0;break}Se&&(ne.preventDefault(),r.update())}function ue(){if(R.length==1)y.set(R[0].pageX,R[0].pageY);else{const ne=.5*(R[0].pageX+R[1].pageX),Se=.5*(R[0].pageY+R[1].pageY);y.set(ne,Se)}}function me(){if(R.length==1)x.set(R[0].pageX,R[0].pageY);else{const ne=.5*(R[0].pageX+R[1].pageX),Se=.5*(R[0].pageY+R[1].pageY);x.set(ne,Se)}}function Ne(){const ne=R[0].pageX-R[1].pageX,Se=R[0].pageY-R[1].pageY,Ce=Math.sqrt(ne*ne+Se*Se);E.set(0,Ce)}function Xe(){r.enableZoom&&Ne(),r.enablePan&&me()}function ye(){r.enableZoom&&Ne(),r.enableRotate&&ue()}function $(ne){if(R.length==1)_.set(ne.pageX,ne.pageY);else{const Ce=ve(ne),Ie=.5*(ne.pageX+Ce.x),Ge=.5*(ne.pageY+Ce.y);_.set(Ie,Ge)}g.subVectors(_,y).multiplyScalar(r.rotateSpeed);const Se=r.domElement;Se&&(N(2*Math.PI*g.x/Se.clientHeight),j(2*Math.PI*g.y/Se.clientHeight)),y.copy(_)}function we(ne){if(R.length==1)S.set(ne.pageX,ne.pageY);else{const Se=ve(ne),Ce=.5*(ne.pageX+Se.x),Ie=.5*(ne.pageY+Se.y);S.set(Ce,Ie)}M.subVectors(S,x).multiplyScalar(r.panSpeed),W(M.x,M.y),x.copy(S)}function _e(ne){const Se=ve(ne),Ce=ne.pageX-Se.x,Ie=ne.pageY-Se.y,Ge=Math.sqrt(Ce*Ce+Ie*Ie);b.set(0,Ge),C.set(0,Math.pow(b.y/E.y,r.zoomSpeed)),V(C.y),E.copy(b)}function Ee(ne){r.enableZoom&&_e(ne),r.enablePan&&we(ne)}function Ae(ne){r.enableZoom&&_e(ne),r.enableRotate&&$(ne)}function Ye(ne){var Se,Ce;r.enabled!==!1&&(R.length===0&&((Se=r.domElement)==null||Se.ownerDocument.addEventListener("pointermove",de),(Ce=r.domElement)==null||Ce.ownerDocument.addEventListener("pointerup",Re)),Be(ne),ne.pointerType==="touch"?ce(ne):xe(ne))}function de(ne){r.enabled!==!1&&(ne.pointerType==="touch"?Ve(ne):Qe(ne))}function Re(ne){var Se,Ce,Ie;Ke(ne),R.length===0&&((Se=r.domElement)==null||Se.releasePointerCapture(ne.pointerId),(Ce=r.domElement)==null||Ce.ownerDocument.removeEventListener("pointermove",de),(Ie=r.domElement)==null||Ie.ownerDocument.removeEventListener("pointerup",Re)),r.dispatchEvent(o),l=a.NONE}function Te(ne){Ke(ne)}function xe(ne){let Se;switch(ne.button){case 0:Se=r.mouseButtons.LEFT;break;case 1:Se=r.mouseButtons.MIDDLE;break;case 2:Se=r.mouseButtons.RIGHT;break;default:Se=-1}switch(Se){case $c.DOLLY:if(r.enableZoom===!1)return;H(ne),l=a.DOLLY;break;case $c.ROTATE:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(r.enablePan===!1)return;O(ne),l=a.PAN}else{if(r.enableRotate===!1)return;G(ne),l=a.ROTATE}break;case $c.PAN:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(r.enableRotate===!1)return;G(ne),l=a.ROTATE}else{if(r.enablePan===!1)return;O(ne),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Qe(ne){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;X(ne);break;case a.DOLLY:if(r.enableZoom===!1)return;ie(ne);break;case a.PAN:if(r.enablePan===!1)return;ae(ne);break}}function K(ne){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ne.preventDefault(),r.dispatchEvent(s),oe(ne),r.dispatchEvent(o))}function z(ne){r.enabled===!1||r.enablePan===!1||fe(ne)}function ce(ne){switch(We(ne),R.length){case 1:switch(r.touches.ONE){case Qc.ROTATE:if(r.enableRotate===!1)return;ue(),l=a.TOUCH_ROTATE;break;case Qc.PAN:if(r.enablePan===!1)return;me(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Qc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Xe(),l=a.TOUCH_DOLLY_PAN;break;case Qc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ye(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ve(ne){switch(We(ne),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;$(ne),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;we(ne),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ee(ne),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ae(ne),r.update();break;default:l=a.NONE}}function De(ne){r.enabled!==!1&&ne.preventDefault()}function Be(ne){R.push(ne)}function Ke(ne){delete T[ne.pointerId];for(let Se=0;Se<R.length;Se++)if(R[Se].pointerId==ne.pointerId){R.splice(Se,1);return}}function We(ne){let Se=T[ne.pointerId];Se===void 0&&(Se=new Je,T[ne.pointerId]=Se),Se.set(ne.pageX,ne.pageY)}function ve(ne){const Se=ne.pointerId===R[0].pointerId?R[1]:R[0];return T[Se.pointerId]}t!==void 0&&this.connect(t),this.update()}};class hT extends Mi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new CQ(t)}),this.register(function(t){return new OQ(t)}),this.register(function(t){return new FQ(t)}),this.register(function(t){return new UQ(t)}),this.register(function(t){return new RQ(t)}),this.register(function(t){return new PQ(t)}),this.register(function(t){return new IQ(t)}),this.register(function(t){return new BQ(t)}),this.register(function(t){return new bQ(t)}),this.register(function(t){return new LQ(t)}),this.register(function(t){return new TQ(t)}),this.register(function(t){return new DQ(t)}),this.register(function(t){return new wQ(t)}),this.register(function(t){return new kQ(t)}),this.register(function(t){return new NQ(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=pa.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Rs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(pa.decodeText(new Uint8Array(e.slice(0,4)))===kN){try{o[ln.KHR_BINARY_GLTF]=new zQ(e)}catch(u){i&&i(u);return}s=JSON.parse(o[ln.KHR_BINARY_GLTF].content)}else s=JSON.parse(pa.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new qQ(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case ln.KHR_MATERIALS_UNLIT:o[u]=new EQ;break;case ln.KHR_DRACO_MESH_COMPRESSION:o[u]=new GQ(s,this.dracoLoader);break;case ln.KHR_TEXTURE_TRANSFORM:o[u]=new HQ;break;case ln.KHR_MESH_QUANTIZATION:o[u]=new VQ;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function MQ(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const ln={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class wQ{constructor(e){this.parser=e,this.name=ln.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new lt(16777215);l.color!==void 0&&u.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new FC(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new OC(u),c.distance=f;break;case"spot":c=new DC(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Il(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class EQ{constructor(){this.name=ln.KHR_MATERIALS_UNLIT}getMaterialType(){return es}extendParams(e,t,r){const i=[];e.color=new lt(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class bQ{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class CQ{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Sa}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Je(a,a)}return Promise.all(s)}}class TQ{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Sa}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class RQ{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Sa}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new lt(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class PQ{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Sa}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class IQ{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Sa}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new lt(a[0],a[1],a[2]),Promise.all(s)}}class BQ{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Sa}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class LQ{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Sa}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new lt(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class DQ{constructor(e){this.parser=e,this.name=ln.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Sa}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class OQ{constructor(e){this.parser=e,this.name=ln.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class FQ{constructor(e){this.parser=e,this.name=ln.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class UQ{constructor(e){this.parser=e,this.name=ln.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class kQ{constructor(e){this.name=ln.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,h=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,h,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(m),u,f,h,i.mode,i.filter),m})})}else return null}}class NQ{constructor(e){this.name=ln.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==$s.TRIANGLES&&c.mode!==$s.TRIANGLE_STRIP&&c.mode!==$s.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],h=c[0].count,m=[];for(const v of f){const y=new Ut,_=new q,g=new Yr,x=new q(1,1,1),S=new yC(v.geometry,v.material,h);for(let M=0;M<h;M++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,M),l.SCALE&&x.fromBufferAttribute(l.SCALE,M),S.setMatrixAt(M,y.compose(_,g,x));for(const M in l)M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&v.geometry.setAttribute(M,l[M]);fn.prototype.copy.call(S,v),this.parser.assignFinalMaterial(S),m.push(S)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const kN="glTF",gp=12,mL={JSON:1313821514,BIN:5130562};class zQ{constructor(e){this.name=ln.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,gp);if(this.header={magic:pa.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==kN)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-gp,i=new DataView(e,gp);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===mL.JSON){const l=new Uint8Array(e,gp+s,o);this.content=pa.decodeText(l)}else if(a===mL.BIN){const l=gp+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GQ{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ln.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=Zw[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=Zw[u]||u.toLowerCase();if(o[u]!==void 0){const h=r.accessors[e.attributes[u]],m=Ld[h.componentType];c[f]=m.name,l[f]=h.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f){i.decodeDracoFile(u,function(h){for(const m in h.attributes){const v=h.attributes[m],y=l[m];y!==void 0&&(v.normalized=y)}f(h)},a,c)})})}}class HQ{constructor(){this.name=ln.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class VQ{constructor(){this.name=ln.KHR_MESH_QUANTIZATION}}class NN extends xh{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,f=(r-t)/u,h=f*f,m=h*f,v=e*c,y=v-c,_=-2*m+3*h,g=m-h,x=1-_,S=g-h+f;for(let M=0;M!==a;M++){const E=o[y+M+a],b=o[y+M+l]*u,C=o[v+M+a],R=o[v+M]*u;s[M]=x*E+S*b+_*C+g*R}return s}}const WQ=new Yr;class jQ extends NN{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return WQ.fromArray(s).normalize().toArray(s),s}}const $s={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ld={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},gL={9728:cr,9729:bn,9984:xm,9985:Y_,9986:Td,9987:va},vL={33071:ri,33648:Xd,10497:lc},vA={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Zw={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...mh.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},El={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},XQ={CUBICSPLINE:void 0,LINEAR:Uu,STEP:Jd},yA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function JQ(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new hg({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Vo})),n.DefaultMaterial}function Wc(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Il(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function YQ(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const h=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(h)}if(i){const h=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(h)}if(s){const h=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],h=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}function KQ(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function $Q(n){let e;const t=n.extensions&&n.extensions[ln.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+_A(t.attributes):e=n.indices+":"+_A(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+_A(n.targets[r]);return e}function _A(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function qw(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function QQ(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const ZQ=new Ut;class qQ{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new MQ,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new uk(this.options.manager):this.textureLoader=new gk(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Rs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Wc(s,a,i),Il(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[ln.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(pa.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=vA[i.type],a=Ld[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new vn(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=vA[i.type],c=Ld[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,h=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let y,_;if(m&&m!==f){const g=Math.floor(h/m),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let S=t.cache.get(x);S||(y=new c(a,g*m,i.count*m/u),S=new ag(y,m/u),t.cache.add(x,S)),_=new cc(S,l,h%m/u,v)}else a===null?y=new c(i.count*l):y=new c(a,h,i.count*l),_=new vn(y,l,v);if(i.sparse!==void 0){const g=vA.SCALAR,x=Ld[i.sparse.indices.componentType],S=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,E=new x(o[1],S,i.sparse.count*g),b=new c(o[2],M,i.sparse.count*l);a!==null&&(_=new vn(_.array.slice(),_.itemSize,_.normalized));for(let C=0,R=E.length;C<R;C++){const T=E[C];if(_.setX(T,b[C*l]),l>=2&&_.setY(T,b[C*l+1]),l>=3&&_.setZ(T,b[C*l+2]),l>=4&&_.setW(T,b[C*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const h=(s.samplers||{})[o.sampler]||{};return u.magFilter=gL[h.magFilter]||bn,u.minFilter=gL[h.minFilter]||va,u.wrapS=vL[h.wrapS]||lc,u.wrapT=vL[h.wrapT]||lc,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const h=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(h,m){let v=h;t.isImageBitmapLoader===!0&&(v=function(y){const _=new Nn(y);_.needsUpdate=!0,h(_)}),t.load(pa.resolveURL(f,s.path),v,void 0,m)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||QQ(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[ln.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[ln.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[ln.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new s1,Ir.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Ai,Ir.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return hg}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[ln.KHR_MATERIALS_UNLIT]){const f=i[ln.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new lt(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Di);const u=s.alphaMode||yA.OPAQUE;if(u===yA.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===yA.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==es&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Je(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==es&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==es&&(a.emissive=new lt().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==es&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Il(f,s),t.associations.set(f,{materials:e}),s.extensions&&Wc(i,f,s),f})}createUniqueName(e){const t=un.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[ln.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return yL(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=$Q(c),f=i[u];if(f)o.push(f.promise);else{let h;c.extensions&&c.extensions[ln.KHR_DRACO_MESH_COMPRESSION]?h=s(c):h=yL(new Xt,c,t),i[u]={primitive:c,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?JQ(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let m=0,v=u.length;m<v;m++){const y=u[m],_=o[m];let g;const x=c[m];if(_.mode===$s.TRIANGLES||_.mode===$s.TRIANGLE_STRIP||_.mode===$s.TRIANGLE_FAN||_.mode===void 0)g=s.isSkinnedMesh===!0?new vC(y,x):new dr(y,x),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),_.mode===$s.TRIANGLE_STRIP?g.geometry=hL(g.geometry,rC):_.mode===$s.TRIANGLE_FAN&&(g.geometry=hL(g.geometry,Qy));else if(_.mode===$s.LINES)g=new Jo(y,x);else if(_.mode===$s.LINE_STRIP)g=new qa(y,x);else if(_.mode===$s.LINE_LOOP)g=new _C(y,x);else if(_.mode===$s.POINTS)g=new xC(y,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(g.geometry.morphAttributes).length>0&&KQ(g,s),g.name=t.createUniqueName(s.name||"mesh_"+e),Il(g,s),_.extensions&&Wc(i,g,_),t.assignFinalMaterial(g),f.push(g)}for(let m=0,v=f.length;m<v;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&Wc(i,f[0],s),f[0];const h=new Xa;s.extensions&&Wc(i,h,s),t.associations.set(h,{meshes:e});for(let m=0,v=f.length;m<v;m++)h.add(f[m]);return h})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Kn(fd.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new No(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Il(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const h=new Ut;s!==null&&h.fromArray(s.array,c*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new lg(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,f=r.channels.length;u<f;u++){const h=r.channels[u],m=r.samplers[h.sampler],v=h.target,y=v.node,_=r.parameters!==void 0?r.parameters[m.input]:m.input,g=r.parameters!==void 0?r.parameters[m.output]:m.output;v.node!==void 0&&(s.push(this.getDependency("node",y)),o.push(this.getDependency("accessor",_)),a.push(this.getDependency("accessor",g)),l.push(m),c.push(v))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const f=u[0],h=u[1],m=u[2],v=u[3],y=u[4],_=[];for(let g=0,x=f.length;g<x;g++){const S=f[g],M=h[g],E=m[g],b=v[g],C=y[g];if(S===void 0)continue;S.updateMatrix();let R;switch(El[C.path]){case El.weights:R=$d;break;case El.rotation:R=uc;break;case El.position:case El.scale:default:R=Qd;break}const T=S.name?S.name:S.uuid,B=b.interpolation!==void 0?XQ[b.interpolation]:Uu,k=[];El[C.path]===El.weights?S.traverse(function(j){j.morphTargetInfluences&&k.push(j.name?j.name:j.uuid)}):k.push(T);let N=E.array;if(E.normalized){const j=qw(N.constructor),Y=new Float32Array(N.length);for(let Q=0,W=N.length;Q<W;Q++)Y[Q]=N[Q]*j;N=Y}for(let j=0,Y=k.length;j<Y;j++){const Q=new R(k[j]+"."+El[C.path],M.array,N,B);b.interpolation==="CUBICSPLINE"&&(Q.createInterpolant=function(V){const D=this instanceof uc?jQ:NN;return new D(this.times,this.values,this.getValueSize()/3,V)},Q.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push(Q)}}return new Zd(i,void 0,_)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],h=c[2];h!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(h,ZQ)});for(let m=0,v=f.length;m<v;m++)u.add(f[m]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new i1:c.length>1?u=new Xa:c.length===1?u=c[0]:u=new fn,u!==c[0])for(let f=0,h=c.length;f<h;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),Il(u,s),s.extensions&&Wc(r,u,s),s.matrix!==void 0){const f=new Ut;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new Xa;r.name&&(s.name=i.createUniqueName(r.name)),Il(s,r),r.extensions&&Wc(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[h,m]of i.associations)(h instanceof Ir||h instanceof Nn)&&f.set(h,m);return u.traverse(h=>{const m=i.associations.get(h);m!=null&&f.set(h,m)}),f};return i.associations=c(s),s})}}function eZ(n,e,t){const r=e.attributes,i=new vo;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new q(l[0],l[1],l[2]),new q(c[0],c[1],c[2])),a.normalized){const u=qw(Ld[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new q,l=new q;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const h=t.json.accessors[f.POSITION],m=h.min,v=h.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),h.normalized){const y=qw(Ld[h.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Ls;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function yL(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=Zw[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Il(n,e),eZ(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?YQ(n,e.targets,t):n})}class tZ extends BC{constructor(e){super(e),this.type=Fi}parse(e){const a=function(S,M){switch(S){case 1:console.error("THREE.RGBELoader Read Error: "+(M||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(M||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(M||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(M||""))}return-1},f=`
`,h=function(S,M,E){M=M||1024;let C=S.pos,R=-1,T=0,B="",k=String.fromCharCode.apply(null,new Uint16Array(S.subarray(C,C+128)));for(;0>(R=k.indexOf(f))&&T<M&&C<S.byteLength;)B+=k,T+=k.length,C+=128,k+=String.fromCharCode.apply(null,new Uint16Array(S.subarray(C,C+128)));return-1<R?(E!==!1&&(S.pos+=T+R+1),B+k.slice(0,R)):!1},m=function(S){const M=/^#\?(\S+)/,E=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,b=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,C=/^\s*FORMAT=(\S+)\s*$/,R=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,T={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let B,k;if(S.pos>=S.byteLength||!(B=h(S)))return a(1,"no header found");if(!(k=B.match(M)))return a(3,"bad initial token");for(T.valid|=1,T.programtype=k[1],T.string+=B+`
`;B=h(S),B!==!1;){if(T.string+=B+`
`,B.charAt(0)==="#"){T.comments+=B+`
`;continue}if((k=B.match(E))&&(T.gamma=parseFloat(k[1])),(k=B.match(b))&&(T.exposure=parseFloat(k[1])),(k=B.match(C))&&(T.valid|=2,T.format=k[1]),(k=B.match(R))&&(T.valid|=4,T.height=parseInt(k[1],10),T.width=parseInt(k[2],10)),T.valid&2&&T.valid&4)break}return T.valid&2?T.valid&4?T:a(3,"missing image size specifier"):a(3,"missing format specifier")},v=function(S,M,E){const b=M;if(b<8||b>32767||S[0]!==2||S[1]!==2||S[2]&128)return new Uint8Array(S);if(b!==(S[2]<<8|S[3]))return a(3,"wrong scanline width");const C=new Uint8Array(4*M*E);if(!C.length)return a(4,"unable to allocate buffer space");let R=0,T=0;const B=4*b,k=new Uint8Array(4),N=new Uint8Array(B);let j=E;for(;j>0&&T<S.byteLength;){if(T+4>S.byteLength)return a(1);if(k[0]=S[T++],k[1]=S[T++],k[2]=S[T++],k[3]=S[T++],k[0]!=2||k[1]!=2||(k[2]<<8|k[3])!=b)return a(3,"bad rgbe scanline format");let Y=0,Q;for(;Y<B&&T<S.byteLength;){Q=S[T++];const V=Q>128;if(V&&(Q-=128),Q===0||Y+Q>B)return a(3,"bad scanline data");if(V){const D=S[T++];for(let G=0;G<Q;G++)N[Y++]=D}else N.set(S.subarray(T,T+Q),Y),Y+=Q,T+=Q}const W=b;for(let V=0;V<W;V++){let D=0;C[R]=N[V+D],D+=b,C[R+1]=N[V+D],D+=b,C[R+2]=N[V+D],D+=b,C[R+3]=N[V+D],R+=4}j--}return C},y=function(S,M,E,b){const C=S[M+3],R=Math.pow(2,C-128)/255;E[b+0]=S[M+0]*R,E[b+1]=S[M+1]*R,E[b+2]=S[M+2]*R,E[b+3]=1},_=function(S,M,E,b){const C=S[M+3],R=Math.pow(2,C-128)/255;E[b+0]=du.toHalfFloat(Math.min(S[M+0]*R,65504)),E[b+1]=du.toHalfFloat(Math.min(S[M+1]*R,65504)),E[b+2]=du.toHalfFloat(Math.min(S[M+2]*R,65504)),E[b+3]=du.toHalfFloat(1)},g=new Uint8Array(e);g.pos=0;const x=m(g);if(x!==-1){const S=x.width,M=x.height,E=v(g.subarray(g.pos),S,M);if(E!==-1){let b,C,R;switch(this.type){case vi:R=E.length/4;const T=new Float32Array(R*4);for(let k=0;k<R;k++)y(E,k*4,T,k*4);b=T,C=vi;break;case Fi:R=E.length/4;const B=new Uint16Array(R*4);for(let k=0;k<R;k++)_(E,k*4,B,k*4);b=B,C=Fi;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:S,height:M,data:b,header:x.string,gamma:x.gamma,exposure:x.exposure,type:C}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case vi:case Fi:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=bn,o.magFilter=bn,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const vp="colorSpace"in new Nn;class nZ extends BC{constructor(e){super(e),this.type=Fi}parse(e){const T=Math.pow(2.7182818,2.2);function B(U,I){for(var J=0,ee=0;ee<65536;++ee)(ee==0||U[ee>>3]&1<<(ee&7))&&(I[J++]=ee);for(var Z=J-1;J<65536;)I[J++]=0;return Z}function k(U){for(var I=0;I<16384;I++)U[I]={},U[I].len=0,U[I].lit=0,U[I].p=null}const N={l:0,c:0,lc:0};function j(U,I,J,ee,Z){for(;J<U;)I=I<<8|Ie(ee,Z),J+=8;J-=U,N.l=I>>J&(1<<U)-1,N.c=I,N.lc=J}const Y=new Array(59);function Q(U){for(var I=0;I<=58;++I)Y[I]=0;for(var I=0;I<65537;++I)Y[U[I]]+=1;for(var J=0,I=58;I>0;--I){var ee=J+Y[I]>>1;Y[I]=J,J=ee}for(var I=0;I<65537;++I){var Z=U[I];Z>0&&(U[I]=Z|Y[Z]++<<6)}}function W(U,I,J,ee,Z,te,Pe){for(var Le=J,Ue=0,Fe=0;Z<=te;Z++){if(Le.value-J.value>ee)return!1;j(6,Ue,Fe,U,Le);var je=N.l;if(Ue=N.c,Fe=N.lc,Pe[Z]=je,je==63){if(Le.value-J.value>ee)throw"Something wrong with hufUnpackEncTable";j(8,Ue,Fe,U,Le);var he=N.l+6;if(Ue=N.c,Fe=N.lc,Z+he>te+1)throw"Something wrong with hufUnpackEncTable";for(;he--;)Pe[Z++]=0;Z--}else if(je>=59){var he=je-59+2;if(Z+he>te+1)throw"Something wrong with hufUnpackEncTable";for(;he--;)Pe[Z++]=0;Z--}}Q(Pe)}function V(U){return U&63}function D(U){return U>>6}function G(U,I,J,ee){for(;I<=J;I++){var Z=D(U[I]),te=V(U[I]);if(Z>>te)throw"Invalid table entry";if(te>14){var Pe=ee[Z>>te-14];if(Pe.len)throw"Invalid table entry";if(Pe.lit++,Pe.p){var Le=Pe.p;Pe.p=new Array(Pe.lit);for(var Ue=0;Ue<Pe.lit-1;++Ue)Pe.p[Ue]=Le[Ue]}else Pe.p=new Array(1);Pe.p[Pe.lit-1]=I}else if(te)for(var Fe=0,Ue=1<<14-te;Ue>0;Ue--){var Pe=ee[(Z<<14-te)+Fe];if(Pe.len||Pe.p)throw"Invalid table entry";Pe.len=te,Pe.lit=I,Fe++}}return!0}const H={c:0,lc:0};function O(U,I,J,ee){U=U<<8|Ie(J,ee),I+=8,H.c=U,H.lc=I}const X={c:0,lc:0};function ie(U,I,J,ee,Z,te,Pe,Le,Ue,Fe){if(U==I){ee<8&&(O(J,ee,Z,Pe),J=H.c,ee=H.lc),ee-=8;var je=J>>ee,je=new Uint8Array([je])[0];if(Ue.value+je>Fe)return!1;for(var he=Le[Ue.value-1];je-- >0;)Le[Ue.value++]=he}else if(Ue.value<Fe)Le[Ue.value++]=U;else return!1;X.c=J,X.lc=ee}function ae(U){return U&65535}function oe(U){var I=ae(U);return I>32767?I-65536:I}const fe={a:0,b:0};function ue(U,I){var J=oe(U),ee=oe(I),Z=ee,te=J+(Z&1)+(Z>>1),Pe=te,Le=te-Z;fe.a=Pe,fe.b=Le}function me(U,I){var J=ae(U),ee=ae(I),Z=J-(ee>>1)&65535,te=ee+Z-32768&65535;fe.a=te,fe.b=Z}function Ne(U,I,J,ee,Z,te,Pe){for(var Le=Pe<16384,Ue=J>Z?Z:J,Fe=1,je;Fe<=Ue;)Fe<<=1;for(Fe>>=1,je=Fe,Fe>>=1;Fe>=1;){for(var he=0,ot=he+te*(Z-je),nt=te*Fe,qe=te*je,ht=ee*Fe,At=ee*je,mt,rt,xt,dt;he<=ot;he+=qe){for(var bt=he,Jt=he+ee*(J-je);bt<=Jt;bt+=At){var Tt=bt+ht,sn=bt+nt,Vt=sn+ht;Le?(ue(U[bt+I],U[sn+I]),mt=fe.a,xt=fe.b,ue(U[Tt+I],U[Vt+I]),rt=fe.a,dt=fe.b,ue(mt,rt),U[bt+I]=fe.a,U[Tt+I]=fe.b,ue(xt,dt),U[sn+I]=fe.a,U[Vt+I]=fe.b):(me(U[bt+I],U[sn+I]),mt=fe.a,xt=fe.b,me(U[Tt+I],U[Vt+I]),rt=fe.a,dt=fe.b,me(mt,rt),U[bt+I]=fe.a,U[Tt+I]=fe.b,me(xt,dt),U[sn+I]=fe.a,U[Vt+I]=fe.b)}if(J&Fe){var sn=bt+nt;Le?ue(U[bt+I],U[sn+I]):me(U[bt+I],U[sn+I]),mt=fe.a,U[sn+I]=fe.b,U[bt+I]=mt}}if(Z&Fe)for(var bt=he,Jt=he+ee*(J-je);bt<=Jt;bt+=At){var Tt=bt+ht;Le?ue(U[bt+I],U[Tt+I]):me(U[bt+I],U[Tt+I]),mt=fe.a,U[Tt+I]=fe.b,U[bt+I]=mt}je=Fe,Fe>>=1}return he}function Xe(U,I,J,ee,Z,te,Pe,Le,Ue,Fe){for(var je=0,he=0,ot=Le,nt=Math.trunc(Z.value+(te+7)/8);Z.value<nt;)for(O(je,he,J,Z),je=H.c,he=H.lc;he>=14;){var qe=je>>he-14&16383,ht=I[qe];if(ht.len)he-=ht.len,ie(ht.lit,Pe,je,he,J,ee,Z,Ue,Fe,ot),je=X.c,he=X.lc;else{if(!ht.p)throw"hufDecode issues";var At;for(At=0;At<ht.lit;At++){for(var mt=V(U[ht.p[At]]);he<mt&&Z.value<nt;)O(je,he,J,Z),je=H.c,he=H.lc;if(he>=mt&&D(U[ht.p[At]])==(je>>he-mt&(1<<mt)-1)){he-=mt,ie(ht.p[At],Pe,je,he,J,ee,Z,Ue,Fe,ot),je=X.c,he=X.lc;break}}if(At==ht.lit)throw"hufDecode issues"}}var rt=8-te&7;for(je>>=rt,he-=rt;he>0;){var ht=I[je<<14-he&16383];if(ht.len)he-=ht.len,ie(ht.lit,Pe,je,he,J,ee,Z,Ue,Fe,ot),je=X.c,he=X.lc;else throw"hufDecode issues"}return!0}function ye(U,I,J,ee,Z,te){var Pe={value:0},Le=J.value,Ue=Ce(I,J),Fe=Ce(I,J);J.value+=4;var je=Ce(I,J);if(J.value+=4,Ue<0||Ue>=65537||Fe<0||Fe>=65537)throw"Something wrong with HUF_ENCSIZE";var he=new Array(65537),ot=new Array(16384);k(ot);var nt=ee-(J.value-Le);if(W(U,I,J,nt,Ue,Fe,he),je>8*(ee-(J.value-Le)))throw"Something wrong with hufUncompress";G(he,Ue,Fe,ot),Xe(he,ot,U,I,J,je,Fe,te,Z,Pe)}function $(U,I,J){for(var ee=0;ee<J;++ee)I[ee]=U[I[ee]]}function we(U){for(var I=1;I<U.length;I++){var J=U[I-1]+U[I]-128;U[I]=J}}function _e(U,I){for(var J=0,ee=Math.floor((U.length+1)/2),Z=0,te=U.length-1;!(Z>te||(I[Z++]=U[J++],Z>te));)I[Z++]=U[ee++]}function Ee(U){for(var I=U.byteLength,J=new Array,ee=0,Z=new DataView(U);I>0;){var te=Z.getInt8(ee++);if(te<0){var Pe=-te;I-=Pe+1;for(var Le=0;Le<Pe;Le++)J.push(Z.getUint8(ee++))}else{var Pe=te;I-=2;for(var Ue=Z.getUint8(ee++),Le=0;Le<Pe+1;Le++)J.push(Ue)}}return J}function Ae(U,I,J,ee,Z,te){var Tt=new DataView(te.buffer),Pe=J[U.idx[0]].width,Le=J[U.idx[0]].height,Ue=3,Fe=Math.floor(Pe/8),je=Math.ceil(Pe/8),he=Math.ceil(Le/8),ot=Pe-(je-1)*8,nt=Le-(he-1)*8,qe={value:0},ht=new Array(Ue),At=new Array(Ue),mt=new Array(Ue),rt=new Array(Ue),xt=new Array(Ue);for(let It=0;It<Ue;++It)xt[It]=I[U.idx[It]],ht[It]=It<1?0:ht[It-1]+je*he,At[It]=new Float32Array(64),mt[It]=new Uint16Array(64),rt[It]=new Uint16Array(je*64);for(let It=0;It<he;++It){var dt=8;It==he-1&&(dt=nt);var bt=8;for(let en=0;en<je;++en){en==je-1&&(bt=ot);for(let Ot=0;Ot<Ue;++Ot)mt[Ot].fill(0),mt[Ot][0]=Z[ht[Ot]++],Ye(qe,ee,mt[Ot]),de(mt[Ot],At[Ot]),Re(At[Ot]);Te(At);for(let Ot=0;Ot<Ue;++Ot)xe(At[Ot],rt[Ot],en*64)}let yn=0;for(let en=0;en<Ue;++en){const Ot=J[U.idx[en]].type;for(let An=8*It;An<8*It+dt;++An){yn=xt[en][An];for(let Br=0;Br<Fe;++Br){const Gn=Br*64+(An&7)*8;Tt.setUint16(yn+0*2*Ot,rt[en][Gn+0],!0),Tt.setUint16(yn+1*2*Ot,rt[en][Gn+1],!0),Tt.setUint16(yn+2*2*Ot,rt[en][Gn+2],!0),Tt.setUint16(yn+3*2*Ot,rt[en][Gn+3],!0),Tt.setUint16(yn+4*2*Ot,rt[en][Gn+4],!0),Tt.setUint16(yn+5*2*Ot,rt[en][Gn+5],!0),Tt.setUint16(yn+6*2*Ot,rt[en][Gn+6],!0),Tt.setUint16(yn+7*2*Ot,rt[en][Gn+7],!0),yn+=8*2*Ot}}if(Fe!=je)for(let An=8*It;An<8*It+dt;++An){const Br=xt[en][An]+8*Fe*2*Ot,Gn=Fe*64+(An&7)*8;for(let Qr=0;Qr<bt;++Qr)Tt.setUint16(Br+Qr*2*Ot,rt[en][Gn+Qr],!0)}}}for(var Jt=new Uint16Array(Pe),Tt=new DataView(te.buffer),sn=0;sn<Ue;++sn){J[U.idx[sn]].decoded=!0;var Vt=J[U.idx[sn]].type;if(J[sn].type==2)for(var on=0;on<Le;++on){const It=xt[sn][on];for(var pn=0;pn<Pe;++pn)Jt[pn]=Tt.getUint16(It+pn*2*Vt,!0);for(var pn=0;pn<Pe;++pn)Tt.setFloat32(It+pn*2*Vt,pe(Jt[pn]),!0)}}}function Ye(U,I,J){for(var ee,Z=1;Z<64;)ee=I[U.value],ee==65280?Z=64:ee>>8==255?Z+=ee&255:(J[Z]=ee,Z++),U.value++}function de(U,I){I[0]=pe(U[0]),I[1]=pe(U[1]),I[2]=pe(U[5]),I[3]=pe(U[6]),I[4]=pe(U[14]),I[5]=pe(U[15]),I[6]=pe(U[27]),I[7]=pe(U[28]),I[8]=pe(U[2]),I[9]=pe(U[4]),I[10]=pe(U[7]),I[11]=pe(U[13]),I[12]=pe(U[16]),I[13]=pe(U[26]),I[14]=pe(U[29]),I[15]=pe(U[42]),I[16]=pe(U[3]),I[17]=pe(U[8]),I[18]=pe(U[12]),I[19]=pe(U[17]),I[20]=pe(U[25]),I[21]=pe(U[30]),I[22]=pe(U[41]),I[23]=pe(U[43]),I[24]=pe(U[9]),I[25]=pe(U[11]),I[26]=pe(U[18]),I[27]=pe(U[24]),I[28]=pe(U[31]),I[29]=pe(U[40]),I[30]=pe(U[44]),I[31]=pe(U[53]),I[32]=pe(U[10]),I[33]=pe(U[19]),I[34]=pe(U[23]),I[35]=pe(U[32]),I[36]=pe(U[39]),I[37]=pe(U[45]),I[38]=pe(U[52]),I[39]=pe(U[54]),I[40]=pe(U[20]),I[41]=pe(U[22]),I[42]=pe(U[33]),I[43]=pe(U[38]),I[44]=pe(U[46]),I[45]=pe(U[51]),I[46]=pe(U[55]),I[47]=pe(U[60]),I[48]=pe(U[21]),I[49]=pe(U[34]),I[50]=pe(U[37]),I[51]=pe(U[47]),I[52]=pe(U[50]),I[53]=pe(U[56]),I[54]=pe(U[59]),I[55]=pe(U[61]),I[56]=pe(U[35]),I[57]=pe(U[36]),I[58]=pe(U[48]),I[59]=pe(U[49]),I[60]=pe(U[57]),I[61]=pe(U[58]),I[62]=pe(U[62]),I[63]=pe(U[63])}function Re(U){const I=.5*Math.cos(.7853975),J=.5*Math.cos(3.14159/16),ee=.5*Math.cos(3.14159/8),Z=.5*Math.cos(3*3.14159/16),te=.5*Math.cos(5*3.14159/16),Pe=.5*Math.cos(3*3.14159/8),Le=.5*Math.cos(7*3.14159/16);for(var Ue=new Array(4),Fe=new Array(4),je=new Array(4),he=new Array(4),ot=0;ot<8;++ot){var nt=ot*8;Ue[0]=ee*U[nt+2],Ue[1]=Pe*U[nt+2],Ue[2]=ee*U[nt+6],Ue[3]=Pe*U[nt+6],Fe[0]=J*U[nt+1]+Z*U[nt+3]+te*U[nt+5]+Le*U[nt+7],Fe[1]=Z*U[nt+1]-Le*U[nt+3]-J*U[nt+5]-te*U[nt+7],Fe[2]=te*U[nt+1]-J*U[nt+3]+Le*U[nt+5]+Z*U[nt+7],Fe[3]=Le*U[nt+1]-te*U[nt+3]+Z*U[nt+5]-J*U[nt+7],je[0]=I*(U[nt+0]+U[nt+4]),je[3]=I*(U[nt+0]-U[nt+4]),je[1]=Ue[0]+Ue[3],je[2]=Ue[1]-Ue[2],he[0]=je[0]+je[1],he[1]=je[3]+je[2],he[2]=je[3]-je[2],he[3]=je[0]-je[1],U[nt+0]=he[0]+Fe[0],U[nt+1]=he[1]+Fe[1],U[nt+2]=he[2]+Fe[2],U[nt+3]=he[3]+Fe[3],U[nt+4]=he[3]-Fe[3],U[nt+5]=he[2]-Fe[2],U[nt+6]=he[1]-Fe[1],U[nt+7]=he[0]-Fe[0]}for(var qe=0;qe<8;++qe)Ue[0]=ee*U[16+qe],Ue[1]=Pe*U[16+qe],Ue[2]=ee*U[48+qe],Ue[3]=Pe*U[48+qe],Fe[0]=J*U[8+qe]+Z*U[24+qe]+te*U[40+qe]+Le*U[56+qe],Fe[1]=Z*U[8+qe]-Le*U[24+qe]-J*U[40+qe]-te*U[56+qe],Fe[2]=te*U[8+qe]-J*U[24+qe]+Le*U[40+qe]+Z*U[56+qe],Fe[3]=Le*U[8+qe]-te*U[24+qe]+Z*U[40+qe]-J*U[56+qe],je[0]=I*(U[qe]+U[32+qe]),je[3]=I*(U[qe]-U[32+qe]),je[1]=Ue[0]+Ue[3],je[2]=Ue[1]-Ue[2],he[0]=je[0]+je[1],he[1]=je[3]+je[2],he[2]=je[3]-je[2],he[3]=je[0]-je[1],U[0+qe]=he[0]+Fe[0],U[8+qe]=he[1]+Fe[1],U[16+qe]=he[2]+Fe[2],U[24+qe]=he[3]+Fe[3],U[32+qe]=he[3]-Fe[3],U[40+qe]=he[2]-Fe[2],U[48+qe]=he[1]-Fe[1],U[56+qe]=he[0]-Fe[0]}function Te(U){for(var I=0;I<64;++I){var J=U[0][I],ee=U[1][I],Z=U[2][I];U[0][I]=J+1.5747*Z,U[1][I]=J-.1873*ee-.4682*Z,U[2][I]=J+1.8556*ee}}function xe(U,I,J){for(var ee=0;ee<64;++ee)I[J+ee]=du.toHalfFloat(Qe(U[ee]))}function Qe(U){return U<=1?Math.sign(U)*Math.pow(Math.abs(U),2.2):Math.sign(U)*Math.pow(T,Math.abs(U)-1)}function K(U){return new DataView(U.array.buffer,U.offset.value,U.size)}function z(U){var I=U.viewer.buffer.slice(U.offset.value,U.offset.value+U.size),J=new Uint8Array(Ee(I)),ee=new Uint8Array(J.length);return we(J),_e(J,ee),new DataView(ee.buffer)}function ce(U){var I=U.array.slice(U.offset.value,U.offset.value+U.size),J=Rv(I),ee=new Uint8Array(J.length);return we(J),_e(J,ee),new DataView(ee.buffer)}function Ve(U){for(var I=U.viewer,J={value:U.offset.value},ee=new Uint16Array(U.width*U.scanlineBlockSize*(U.channels*U.type)),Z=new Uint8Array(8192),te=0,Pe=new Array(U.channels),Le=0;Le<U.channels;Le++)Pe[Le]={},Pe[Le].start=te,Pe[Le].end=Pe[Le].start,Pe[Le].nx=U.width,Pe[Le].ny=U.lines,Pe[Le].size=U.type,te+=Pe[Le].nx*Pe[Le].ny*Pe[Le].size;var Ue=be(I,J),Fe=be(I,J);if(Fe>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Ue<=Fe)for(var Le=0;Le<Fe-Ue+1;Le++)Z[Le+Ue]=Ge(I,J);var je=new Uint16Array(65536),he=B(Z,je),ot=Ce(I,J);ye(U.array,I,J,ot,ee,te);for(var Le=0;Le<U.channels;++Le)for(var nt=Pe[Le],qe=0;qe<Pe[Le].size;++qe)Ne(ee,nt.start+qe,nt.nx,nt.size,nt.ny,nt.nx*nt.size,he);$(je,ee,te);for(var ht=0,At=new Uint8Array(ee.buffer.byteLength),mt=0;mt<U.lines;mt++)for(var rt=0;rt<U.channels;rt++){var nt=Pe[rt],xt=nt.nx*nt.size,dt=new Uint8Array(ee.buffer,nt.end*2,xt*2);At.set(dt,ht),ht+=xt*2,nt.end+=xt}return new DataView(At.buffer)}function De(U){var I=U.array.slice(U.offset.value,U.offset.value+U.size),J=Rv(I);const ee=U.lines*U.channels*U.width,Z=U.type==1?new Uint16Array(ee):new Uint32Array(ee);let te=0,Pe=0;const Le=new Array(4);for(let Ue=0;Ue<U.lines;Ue++)for(let Fe=0;Fe<U.channels;Fe++){let je=0;switch(U.type){case 1:Le[0]=te,Le[1]=Le[0]+U.width,te=Le[1]+U.width;for(let he=0;he<U.width;++he){const ot=J[Le[0]++]<<8|J[Le[1]++];je+=ot,Z[Pe]=je,Pe++}break;case 2:Le[0]=te,Le[1]=Le[0]+U.width,Le[2]=Le[1]+U.width,te=Le[2]+U.width;for(let he=0;he<U.width;++he){const ot=J[Le[0]++]<<24|J[Le[1]++]<<16|J[Le[2]++]<<8;je+=ot,Z[Pe]=je,Pe++}break}}return new DataView(Z.buffer)}function Be(U){var I=U.viewer,J={value:U.offset.value},ee=new Uint8Array(U.width*U.lines*(U.channels*U.type*2)),Z={version:Ze(I,J),unknownUncompressedSize:Ze(I,J),unknownCompressedSize:Ze(I,J),acCompressedSize:Ze(I,J),dcCompressedSize:Ze(I,J),rleCompressedSize:Ze(I,J),rleUncompressedSize:Ze(I,J),rleRawSize:Ze(I,J),totalAcUncompressedCount:Ze(I,J),totalDcUncompressedCount:Ze(I,J),acCompression:Ze(I,J)};if(Z.version<2)throw"EXRLoader.parse: "+qt.compression+" version "+Z.version+" is unsupported";for(var te=new Array,Pe=be(I,J)-2;Pe>0;){var Le=Ke(I.buffer,J),Ue=Ge(I,J),Fe=Ue>>2&3,je=(Ue>>4)-1,he=new Int8Array([je])[0],ot=Ge(I,J);te.push({name:Le,index:he,type:ot,compression:Fe}),Pe-=Le.length+3}for(var nt=qt.channels,qe=new Array(U.channels),ht=0;ht<U.channels;++ht){var At=qe[ht]={},mt=nt[ht];At.name=mt.name,At.compression=0,At.decoded=!1,At.type=mt.pixelType,At.pLinear=mt.pLinear,At.width=U.width,At.height=U.lines}for(var rt={idx:new Array(3)},xt=0;xt<U.channels;++xt)for(var At=qe[xt],ht=0;ht<te.length;++ht){var dt=te[ht];At.name==dt.name&&(At.compression=dt.compression,dt.index>=0&&(rt.idx[dt.index]=xt),At.offset=xt)}if(Z.acCompressedSize>0)switch(Z.acCompression){case 0:var Tt=new Uint16Array(Z.totalAcUncompressedCount);ye(U.array,I,J,Z.acCompressedSize,Tt,Z.totalAcUncompressedCount);break;case 1:var bt=U.array.slice(J.value,J.value+Z.totalAcUncompressedCount),Jt=Rv(bt),Tt=new Uint16Array(Jt.buffer);J.value+=Z.totalAcUncompressedCount;break}if(Z.dcCompressedSize>0){var sn={array:U.array,offset:J,size:Z.dcCompressedSize},Vt=new Uint16Array(ce(sn).buffer);J.value+=Z.dcCompressedSize}if(Z.rleRawSize>0){var bt=U.array.slice(J.value,J.value+Z.rleCompressedSize),Jt=Rv(bt),on=Ee(Jt.buffer);J.value+=Z.rleCompressedSize}for(var pn=0,It=new Array(qe.length),ht=0;ht<It.length;++ht)It[ht]=new Array;for(var yn=0;yn<U.lines;++yn)for(var en=0;en<qe.length;++en)It[en].push(pn),pn+=qe[en].width*U.type*2;Ae(rt,It,qe,Tt,Vt,ee);for(var ht=0;ht<qe.length;++ht){var At=qe[ht];if(!At.decoded)switch(At.compression){case 2:for(var Ot=0,An=0,yn=0;yn<U.lines;++yn){for(var Br=It[ht][Ot],Gn=0;Gn<At.width;++Gn){for(var Qr=0;Qr<2*At.type;++Qr)ee[Br++]=on[An+Qr*At.width*At.height];An++}Ot++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(ee.buffer)}function Ke(U,I){for(var J=new Uint8Array(U),ee=0;J[I.value+ee]!=0;)ee+=1;var Z=new TextDecoder().decode(J.slice(I.value,I.value+ee));return I.value=I.value+ee+1,Z}function We(U,I,J){var ee=new TextDecoder().decode(new Uint8Array(U).slice(I.value,I.value+J));return I.value=I.value+J,ee}function ve(U,I){var J=Se(U,I),ee=Ce(U,I);return[J,ee]}function ne(U,I){var J=Ce(U,I),ee=Ce(U,I);return[J,ee]}function Se(U,I){var J=U.getInt32(I.value,!0);return I.value=I.value+4,J}function Ce(U,I){var J=U.getUint32(I.value,!0);return I.value=I.value+4,J}function Ie(U,I){var J=U[I.value];return I.value=I.value+1,J}function Ge(U,I){var J=U.getUint8(I.value);return I.value=I.value+1,J}const Ze=function(U,I){let J;return"getBigInt64"in DataView.prototype?J=Number(U.getBigInt64(I.value,!0)):J=U.getUint32(I.value+4,!0)+Number(U.getUint32(I.value,!0)<<32),I.value+=8,J};function tt(U,I){var J=U.getFloat32(I.value,!0);return I.value+=4,J}function se(U,I){return du.toHalfFloat(tt(U,I))}function pe(U){var I=(U&31744)>>10,J=U&1023;return(U>>15?-1:1)*(I?I===31?J?NaN:1/0:Math.pow(2,I-15)*(1+J/1024):6103515625e-14*(J/1024))}function be(U,I){var J=U.getUint16(I.value,!0);return I.value+=2,J}function $e(U,I){return pe(be(U,I))}function ze(U,I,J,ee){for(var Z=J.value,te=[];J.value<Z+ee-1;){var Pe=Ke(I,J),Le=Se(U,J),Ue=Ge(U,J);J.value+=3;var Fe=Se(U,J),je=Se(U,J);te.push({name:Pe,pixelType:Le,pLinear:Ue,xSampling:Fe,ySampling:je})}return J.value+=1,te}function st(U,I){var J=tt(U,I),ee=tt(U,I),Z=tt(U,I),te=tt(U,I),Pe=tt(U,I),Le=tt(U,I),Ue=tt(U,I),Fe=tt(U,I);return{redX:J,redY:ee,greenX:Z,greenY:te,blueX:Pe,blueY:Le,whiteX:Ue,whiteY:Fe}}function gt(U,I){var J=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],ee=Ge(U,I);return J[ee]}function Et(U,I){var J=Ce(U,I),ee=Ce(U,I),Z=Ce(U,I),te=Ce(U,I);return{xMin:J,yMin:ee,xMax:Z,yMax:te}}function kt(U,I){var J=["INCREASING_Y"],ee=Ge(U,I);return J[ee]}function zt(U,I){var J=tt(U,I),ee=tt(U,I);return[J,ee]}function Rt(U,I){var J=tt(U,I),ee=tt(U,I),Z=tt(U,I);return[J,ee,Z]}function Ft(U,I,J,ee,Z){if(ee==="string"||ee==="stringvector"||ee==="iccProfile")return We(I,J,Z);if(ee==="chlist")return ze(U,I,J,Z);if(ee==="chromaticities")return st(U,J);if(ee==="compression")return gt(U,J);if(ee==="box2i")return Et(U,J);if(ee==="lineOrder")return kt(U,J);if(ee==="float")return tt(U,J);if(ee==="v2f")return zt(U,J);if(ee==="v3f")return Rt(U,J);if(ee==="int")return Se(U,J);if(ee==="rational")return ve(U,J);if(ee==="timecode")return ne(U,J);if(ee==="preview")return J.value+=Z,"skipped";J.value+=Z}function Rn(U,I,J){const ee={};if(U.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";ee.version=U.getUint8(4);const Z=U.getUint8(5);ee.spec={singleTile:!!(Z&2),longName:!!(Z&4),deepFormat:!!(Z&8),multiPart:!!(Z&16)},J.value=8;for(var te=!0;te;){var Pe=Ke(I,J);if(Pe==0)te=!1;else{var Le=Ke(I,J),Ue=Ce(U,J),Fe=Ft(U,I,J,Le,Ue);Fe===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Le}'.`):ee[Pe]=Fe}}if(Z!=0)throw console.error("EXRHeader:",ee),"THREE.EXRLoader: provided file is currently unsupported.";return ee}function Pn(U,I,J,ee,Z){const te={size:0,viewer:I,array:J,offset:ee,width:U.dataWindow.xMax-U.dataWindow.xMin+1,height:U.dataWindow.yMax-U.dataWindow.yMin+1,channels:U.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:U.channels[0].pixelType,uncompress:null,getter:null,format:null,[vp?"colorSpace":"encoding"]:null};switch(U.compression){case"NO_COMPRESSION":te.lines=1,te.uncompress=K;break;case"RLE_COMPRESSION":te.lines=1,te.uncompress=z;break;case"ZIPS_COMPRESSION":te.lines=1,te.uncompress=ce;break;case"ZIP_COMPRESSION":te.lines=16,te.uncompress=ce;break;case"PIZ_COMPRESSION":te.lines=32,te.uncompress=Ve;break;case"PXR24_COMPRESSION":te.lines=16,te.uncompress=De;break;case"DWAA_COMPRESSION":te.lines=32,te.uncompress=Be;break;case"DWAB_COMPRESSION":te.lines=256,te.uncompress=Be;break;default:throw"EXRLoader.parse: "+U.compression+" is unsupported"}if(te.scanlineBlockSize=te.lines,te.type==1)switch(Z){case vi:te.getter=$e,te.inputSize=2;break;case Fi:te.getter=be,te.inputSize=2;break}else if(te.type==2)switch(Z){case vi:te.getter=tt,te.inputSize=4;break;case Fi:te.getter=se,te.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+te.type+" for "+U.compression+".";te.blockCount=(U.dataWindow.yMax+1)/te.scanlineBlockSize;for(var Pe=0;Pe<te.blockCount;Pe++)Ze(I,ee);te.outputChannels=te.channels==3?4:te.channels;const Le=te.width*te.height*te.outputChannels;switch(Z){case vi:te.byteArray=new Float32Array(Le),te.channels<te.outputChannels&&te.byteArray.fill(1,0,Le);break;case Fi:te.byteArray=new Uint16Array(Le),te.channels<te.outputChannels&&te.byteArray.fill(15360,0,Le);break;default:console.error("THREE.EXRLoader: unsupported type: ",Z);break}return te.bytesPerLine=te.width*te.inputSize*te.channels,te.outputChannels==4?te.format=Oi:te.format=Zb,vp?te.colorSpace="srgb-linear":te.encoding=3e3,te}const Pt=new DataView(e),dn=new Uint8Array(e),wn={value:0},qt=Rn(Pt,e,wn),pt=Pn(qt,Pt,dn,wn,this.type),En={value:0},$n={R:0,G:1,B:2,A:3,Y:0};for(let U=0;U<pt.height/pt.scanlineBlockSize;U++){const I=Ce(Pt,wn);pt.size=Ce(Pt,wn),pt.lines=I+pt.scanlineBlockSize>pt.height?pt.height-I:pt.scanlineBlockSize;const ee=pt.size<pt.lines*pt.bytesPerLine?pt.uncompress(pt):K(pt);wn.value+=pt.size;for(let Z=0;Z<pt.scanlineBlockSize;Z++){const te=Z+U*pt.scanlineBlockSize;if(te>=pt.height)break;for(let Pe=0;Pe<pt.channels;Pe++){const Le=$n[qt.channels[Pe].name];for(let Ue=0;Ue<pt.width;Ue++){En.value=(Z*(pt.channels*pt.width)+Pe*pt.width+Ue)*pt.inputSize;const Fe=(pt.height-1-te)*(pt.width*pt.outputChannels)+Ue*pt.outputChannels+Le;pt.byteArray[Fe]=pt.getter(ee,En)}}}}return{header:qt,width:pt.width,height:pt.height,data:pt.byteArray,format:pt.format,[vp?"colorSpace":"encoding"]:pt[vp?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){vp?o.colorSpace=a.colorSpace:o.encoding=a.encoding,o.minFilter=bn,o.magFilter=bn,o.generateMipmaps=!1,o.flipY=!1,t&&t(o,a)}return super.load(e,s,r,i)}}const xA=new WeakMap;class rZ extends Mi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Rs(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(xA.has(e)){const l=xA.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),xA.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Xt;e.index&&t.setIndex(new vn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new vn(o,a))}return t}_loadLibrary(e,t){const r=new Rs(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=iZ.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function iZ(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,h=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(f,h,m,c),y=v.attributes.map(_=>_.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{f.destroy(m),f.destroy(h)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let h,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)h=new o.Mesh,m=a.DecodeBufferToMesh(l,h);else if(v===o.POINT_CLOUD)h=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const _ in u){const g=self[f[_]];let x,S;if(c.useUniqueIDs)S=u[_],x=a.GetAttributeByUniqueId(h,S);else{if(S=a.GetAttributeId(h,o[u[_]]),S===-1)continue;x=a.GetAttribute(h,S)}y.attributes.push(i(o,a,h,_,g,x))}return v===o.TRIANGULAR_MESH&&(y.index=r(o,a,h)),o.destroy(h),y}function r(o,a,l){const u=l.num_faces()*3,f=u*4,h=o._malloc(f);a.GetTrianglesUInt32Array(l,f,h);const m=new Uint32Array(o.HEAPF32.buffer,h,u).slice();return o._free(h),{array:m,itemSize:1}}function i(o,a,l,c,u,f){const h=f.num_components(),v=l.num_points()*h,y=v*u.BYTES_PER_ELEMENT,_=s(o,u),g=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,f,_,y,g);const x=new u(o.HEAPF32.buffer,g,v).slice();return o._free(g),{name:c,array:x,itemSize:h}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Pv;const SA=()=>{if(Pv)return Pv;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const h=new Uint8Array(f.length);for(let v=0;v<f.length;++v){const y=f.charCodeAt(v);h[v]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let v=0;v<f.length;++v)h[m++]=h[v]<60?r[h[v]]:(h[v]-60)*64+h[++v];return h.buffer.slice(0,m)}function l(f,h,m,v,y,_){const g=s.exports.sbrk,x=m+3&-4,S=g(x*v),M=g(y.length),E=new Uint8Array(s.exports.memory.buffer);E.set(y,M);const b=f(S,m,v,M,y.length);if(b===0&&_&&_(S,x,v),h.set(E.subarray(S,S+m*v)),g(S-g(0)),b!==0)throw new Error(`Malformed buffer data: ${b}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Pv={ready:o,supported:!0,decodeVertexBuffer(f,h,m,v,y){l(s.exports.meshopt_decodeVertexBuffer,f,h,m,v,s.exports[c[y]])},decodeIndexBuffer(f,h,m,v){l(s.exports.meshopt_decodeIndexBuffer,f,h,m,v)},decodeIndexSequence(f,h,m,v){l(s.exports.meshopt_decodeIndexSequence,f,h,m,v)},decodeGltfBuffer(f,h,m,v,y,_){l(s.exports[u[y]],f,h,m,v,s.exports[c[_]])}},Pv};function sZ(){var n=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!n[o])try{l=l.map(function(h){return h&&h.isWorkerModule&&(e(h,function(m){if(m instanceof Error)throw m}),h=n[h.id].value),h}),c=r("<"+a+">.init",c),u&&(u=r("<"+a+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:f,getTransferables:u},s(f)}catch(h){h&&h.noLog||console.error(h),s(h)}}function t(i,s){var o,a=i.id,l=i.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=n[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(f){return s(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){s(f)}function u(f){try{var h=n[a].getTransferables&&n[a].getTransferables(f);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),s(f,h)}catch(m){console.error(m),s(m)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&t(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function oZ(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(t).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var zN=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return zN=function(){return n},n},aZ=0,lZ=0,AA=!1,Kp=Object.create(null),$p=Object.create(null),eE=Object.create(null);function Ag(n){if((!n||typeof n.init!="function")&&!AA)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId;if(!zN())return oZ(n);i==null&&(i="#default");var s="workerModule"+ ++aZ,o=n.name||s,a=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(AA=!0,c=Ag({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+gy(c)+`
)}`}),AA=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!a){a=_L(i,"registerModule",l.workerModuleData);var f=function(){a=null,$p[i].delete(f)};($p[i]||($p[i]=new Set)).add(f)}return a.then(function(h){var m=h.isCallable;if(m)return _L(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:gy(t),getTransferables:r&&gy(r)},l}function cZ(n){$p[n]&&$p[n].forEach(function(e){e()}),Kp[n]&&(Kp[n].terminate(),delete Kp[n])}function gy(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function uZ(n){var e=Kp[n];if(!e){var t=gy(sZ);e=Kp[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=eE[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete eE[s],o(i)}}return e}function _L(n,e,t){return new Promise(function(r,i){var s=++lZ;eE[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},uZ(n).postMessage({messageId:s,action:e,data:t})})}function GN(){var n=function(e){function t(G,H,O,X,ie,ae,oe,fe){var ue=1-oe;fe.x=ue*ue*G+2*ue*oe*O+oe*oe*ie,fe.y=ue*ue*H+2*ue*oe*X+oe*oe*ae}function r(G,H,O,X,ie,ae,oe,fe,ue,me){var Ne=1-ue;me.x=Ne*Ne*Ne*G+3*Ne*Ne*ue*O+3*Ne*ue*ue*ie+ue*ue*ue*oe,me.y=Ne*Ne*Ne*H+3*Ne*Ne*ue*X+3*Ne*ue*ue*ae+ue*ue*ue*fe}function i(G,H){for(var O=/([MLQCZ])([^MLQCZ]*)/g,X,ie,ae,oe,fe;X=O.exec(G);){var ue=X[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(me){return parseFloat(me)});switch(X[1]){case"M":oe=ie=ue[0],fe=ae=ue[1];break;case"L":(ue[0]!==oe||ue[1]!==fe)&&H("L",oe,fe,oe=ue[0],fe=ue[1]);break;case"Q":{H("Q",oe,fe,oe=ue[2],fe=ue[3],ue[0],ue[1]);break}case"C":{H("C",oe,fe,oe=ue[4],fe=ue[5],ue[0],ue[1],ue[2],ue[3]);break}case"Z":(oe!==ie||fe!==ae)&&H("L",oe,fe,ie,ae);break}}}function s(G,H,O){O===void 0&&(O=16);var X={x:0,y:0};i(G,function(ie,ae,oe,fe,ue,me,Ne,Xe,ye){switch(ie){case"L":H(ae,oe,fe,ue);break;case"Q":{for(var $=ae,we=oe,_e=1;_e<O;_e++)t(ae,oe,me,Ne,fe,ue,_e/(O-1),X),H($,we,X.x,X.y),$=X.x,we=X.y;break}case"C":{for(var Ee=ae,Ae=oe,Ye=1;Ye<O;Ye++)r(ae,oe,me,Ne,Xe,ye,fe,ue,Ye/(O-1),X),H(Ee,Ae,X.x,X.y),Ee=X.x,Ae=X.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(G,H){var O=G.getContext?G.getContext("webgl",c):G,X=l.get(O);if(!X){let Ee=function(xe){var Qe=ae[xe];if(!Qe&&(Qe=ae[xe]=O.getExtension(xe),!Qe))throw new Error(xe+" not supported");return Qe},Ae=function(xe,Qe){var K=O.createShader(Qe);return O.shaderSource(K,xe),O.compileShader(K),K},Ye=function(xe,Qe,K,z){if(!oe[xe]){var ce={},Ve={},De=O.createProgram();O.attachShader(De,Ae(Qe,O.VERTEX_SHADER)),O.attachShader(De,Ae(K,O.FRAGMENT_SHADER)),O.linkProgram(De),oe[xe]={program:De,transaction:function(Ke){O.useProgram(De),Ke({setUniform:function(ve,ne){for(var Se=[],Ce=arguments.length-2;Ce-- >0;)Se[Ce]=arguments[Ce+2];var Ie=Ve[ne]||(Ve[ne]=O.getUniformLocation(De,ne));O["uniform"+ve].apply(O,[Ie].concat(Se))},setAttribute:function(ve,ne,Se,Ce,Ie){var Ge=ce[ve];Ge||(Ge=ce[ve]={buf:O.createBuffer(),loc:O.getAttribLocation(De,ve),data:null}),O.bindBuffer(O.ARRAY_BUFFER,Ge.buf),O.vertexAttribPointer(Ge.loc,ne,O.FLOAT,!1,0,0),O.enableVertexAttribArray(Ge.loc),ie?O.vertexAttribDivisor(Ge.loc,Ce):Ee("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Ge.loc,Ce),Ie!==Ge.data&&(O.bufferData(O.ARRAY_BUFFER,Ie,Se),Ge.data=Ie)}})}}}oe[xe].transaction(z)},de=function(xe,Qe){ue++;try{O.activeTexture(O.TEXTURE0+ue);var K=fe[xe];K||(K=fe[xe]=O.createTexture(),O.bindTexture(O.TEXTURE_2D,K),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,O.NEAREST)),O.bindTexture(O.TEXTURE_2D,K),Qe(K,ue)}finally{ue--}},Re=function(xe,Qe,K){var z=O.createFramebuffer();me.push(z),O.bindFramebuffer(O.FRAMEBUFFER,z),O.activeTexture(O.TEXTURE0+Qe),O.bindTexture(O.TEXTURE_2D,xe),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,xe,0);try{K(z)}finally{O.deleteFramebuffer(z),O.bindFramebuffer(O.FRAMEBUFFER,me[--me.length-1]||null)}},Te=function(){ae={},oe={},fe={},ue=-1,me.length=0};var Ne=Ee,Xe=Ae,ye=Ye,$=de,we=Re,_e=Te,ie=typeof WebGL2RenderingContext<"u"&&O instanceof WebGL2RenderingContext,ae={},oe={},fe={},ue=-1,me=[];O.canvas.addEventListener("webglcontextlost",function(xe){Te(),xe.preventDefault()},!1),l.set(O,X={gl:O,isWebGL2:ie,getExtension:Ee,withProgram:Ye,withTexture:de,withTextureFramebuffer:Re,handleContextLoss:Te})}H(X)}function f(G,H,O,X,ie,ae,oe,fe){oe===void 0&&(oe=15),fe===void 0&&(fe=null),u(G,function(ue){var me=ue.gl,Ne=ue.withProgram,Xe=ue.withTexture;Xe("copy",function(ye,$){me.texImage2D(me.TEXTURE_2D,0,me.RGBA,ie,ae,0,me.RGBA,me.UNSIGNED_BYTE,H),Ne("copy",o,a,function(we){var _e=we.setUniform,Ee=we.setAttribute;Ee("aUV",2,me.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),_e("1i","image",$),me.bindFramebuffer(me.FRAMEBUFFER,fe||null),me.disable(me.BLEND),me.colorMask(oe&8,oe&4,oe&2,oe&1),me.viewport(O,X,ie,ae),me.scissor(O,X,ie,ae),me.drawArrays(me.TRIANGLES,0,3)})})})}function h(G,H,O){var X=G.width,ie=G.height;u(G,function(ae){var oe=ae.gl,fe=new Uint8Array(X*ie*4);oe.readPixels(0,0,X,ie,oe.RGBA,oe.UNSIGNED_BYTE,fe),G.width=H,G.height=O,f(oe,fe,0,0,X,ie)})}var m=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:h});function v(G,H,O,X,ie,ae){ae===void 0&&(ae=1);var oe=new Uint8Array(G*H),fe=X[2]-X[0],ue=X[3]-X[1],me=[];s(O,function(Ee,Ae,Ye,de){me.push({x1:Ee,y1:Ae,x2:Ye,y2:de,minX:Math.min(Ee,Ye),minY:Math.min(Ae,de),maxX:Math.max(Ee,Ye),maxY:Math.max(Ae,de)})}),me.sort(function(Ee,Ae){return Ee.maxX-Ae.maxX});for(var Ne=0;Ne<G;Ne++)for(var Xe=0;Xe<H;Xe++){var ye=we(X[0]+fe*(Ne+.5)/G,X[1]+ue*(Xe+.5)/H),$=Math.pow(1-Math.abs(ye)/ie,ae)/2;ye<0&&($=1-$),$=Math.max(0,Math.min(255,Math.round($*255))),oe[Xe*G+Ne]=$}return oe;function we(Ee,Ae){for(var Ye=1/0,de=1/0,Re=me.length;Re--;){var Te=me[Re];if(Te.maxX+de<=Ee)break;if(Ee+de>Te.minX&&Ae-de<Te.maxY&&Ae+de>Te.minY){var xe=g(Ee,Ae,Te.x1,Te.y1,Te.x2,Te.y2);xe<Ye&&(Ye=xe,de=Math.sqrt(Ye))}}return _e(Ee,Ae)&&(de=-de),de}function _e(Ee,Ae){for(var Ye=0,de=me.length;de--;){var Re=me[de];if(Re.maxX<=Ee)break;var Te=Re.y1>Ae!=Re.y2>Ae&&Ee<(Re.x2-Re.x1)*(Ae-Re.y1)/(Re.y2-Re.y1)+Re.x1;Te&&(Ye+=Re.y1<Re.y2?1:-1)}return Ye!==0}}function y(G,H,O,X,ie,ae,oe,fe,ue,me){ae===void 0&&(ae=1),fe===void 0&&(fe=0),ue===void 0&&(ue=0),me===void 0&&(me=0),_(G,H,O,X,ie,ae,oe,null,fe,ue,me)}function _(G,H,O,X,ie,ae,oe,fe,ue,me,Ne){ae===void 0&&(ae=1),ue===void 0&&(ue=0),me===void 0&&(me=0),Ne===void 0&&(Ne=0);for(var Xe=v(G,H,O,X,ie,ae),ye=new Uint8Array(Xe.length*4),$=0;$<Xe.length;$++)ye[$*4+Ne]=Xe[$];f(oe,ye,ue,me,G,H,1<<3-Ne,fe)}function g(G,H,O,X,ie,ae){var oe=ie-O,fe=ae-X,ue=oe*oe+fe*fe,me=ue?Math.max(0,Math.min(1,((G-O)*oe+(H-X)*fe)/ue)):0,Ne=G-(O+me*oe),Xe=H-(X+me*fe);return Ne*Ne+Xe*Xe}var x=Object.freeze({__proto__:null,generate:v,generateIntoCanvas:y,generateIntoFramebuffer:_}),S="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",M="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",b=new Float32Array([0,0,2,0,0,2]),C=null,R=!1,T={},B=new WeakMap;function k(G){if(!R&&!Q(G))throw new Error("WebGL generation not supported")}function N(G,H,O,X,ie,ae,oe){if(ae===void 0&&(ae=1),oe===void 0&&(oe=null),!oe&&(oe=C,!oe)){var fe=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!fe)throw new Error("OffscreenCanvas or DOM canvas not supported");oe=C=fe.getContext("webgl",{depth:!1})}k(oe);var ue=new Uint8Array(G*H*4);u(oe,function(ye){var $=ye.gl,we=ye.withTexture,_e=ye.withTextureFramebuffer;we("readable",function(Ee,Ae){$.texImage2D($.TEXTURE_2D,0,$.RGBA,G,H,0,$.RGBA,$.UNSIGNED_BYTE,null),_e(Ee,Ae,function(Ye){Y(G,H,O,X,ie,ae,$,Ye,0,0,0),$.readPixels(0,0,G,H,$.RGBA,$.UNSIGNED_BYTE,ue)})})});for(var me=new Uint8Array(G*H),Ne=0,Xe=0;Ne<ue.length;Ne+=4)me[Xe++]=ue[Ne];return me}function j(G,H,O,X,ie,ae,oe,fe,ue,me){ae===void 0&&(ae=1),fe===void 0&&(fe=0),ue===void 0&&(ue=0),me===void 0&&(me=0),Y(G,H,O,X,ie,ae,oe,null,fe,ue,me)}function Y(G,H,O,X,ie,ae,oe,fe,ue,me,Ne){ae===void 0&&(ae=1),ue===void 0&&(ue=0),me===void 0&&(me=0),Ne===void 0&&(Ne=0),k(oe);var Xe=[];s(O,function(ye,$,we,_e){Xe.push(ye,$,we,_e)}),Xe=new Float32Array(Xe),u(oe,function(ye){var $=ye.gl,we=ye.isWebGL2,_e=ye.getExtension,Ee=ye.withProgram,Ae=ye.withTexture,Ye=ye.withTextureFramebuffer,de=ye.handleContextLoss;if(Ae("rawDistances",function(Re,Te){(G!==Re._lastWidth||H!==Re._lastHeight)&&$.texImage2D($.TEXTURE_2D,0,$.RGBA,Re._lastWidth=G,Re._lastHeight=H,0,$.RGBA,$.UNSIGNED_BYTE,null),Ee("main",S,M,function(xe){var Qe=xe.setAttribute,K=xe.setUniform,z=!we&&_e("ANGLE_instanced_arrays"),ce=!we&&_e("EXT_blend_minmax");Qe("aUV",2,$.STATIC_DRAW,0,b),Qe("aLineSegment",4,$.DYNAMIC_DRAW,1,Xe),K.apply(void 0,["4f","uGlyphBounds"].concat(X)),K("1f","uMaxDistance",ie),K("1f","uExponent",ae),Ye(Re,Te,function(Ve){$.enable($.BLEND),$.colorMask(!0,!0,!0,!0),$.viewport(0,0,G,H),$.scissor(0,0,G,H),$.blendFunc($.ONE,$.ONE),$.blendEquationSeparate($.FUNC_ADD,we?$.MAX:ce.MAX_EXT),$.clear($.COLOR_BUFFER_BIT),we?$.drawArraysInstanced($.TRIANGLES,0,3,Xe.length/4):z.drawArraysInstancedANGLE($.TRIANGLES,0,3,Xe.length/4)})}),Ee("post",o,E,function(xe){xe.setAttribute("aUV",2,$.STATIC_DRAW,0,b),xe.setUniform("1i","tex",Te),$.bindFramebuffer($.FRAMEBUFFER,fe),$.disable($.BLEND),$.colorMask(Ne===0,Ne===1,Ne===2,Ne===3),$.viewport(ue,me,G,H),$.scissor(ue,me,G,H),$.drawArrays($.TRIANGLES,0,3)})}),$.isContextLost())throw de(),new Error("webgl context lost")})}function Q(G){var H=!G||G===C?T:G.canvas||G,O=B.get(H);if(O===void 0){R=!0;var X=null;try{var ie=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ae=N(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,G);O=ae&&ie.length===ae.length&&ae.every(function(oe,fe){return oe===ie[fe]}),O||(X="bad trial run results",console.info(ie,ae))}catch(oe){O=!1,X=oe.message}X&&console.warn("WebGL SDF generation not supported:",X),R=!1,B.set(H,O)}return O}var W=Object.freeze({__proto__:null,generate:N,generateIntoCanvas:j,generateIntoFramebuffer:Y,isSupported:Q});function V(G,H,O,X,ie,ae){ie===void 0&&(ie=Math.max(X[2]-X[0],X[3]-X[1])/2),ae===void 0&&(ae=1);try{return N.apply(W,arguments)}catch(oe){return console.info("WebGL SDF generation failed, falling back to JS",oe),v.apply(x,arguments)}}function D(G,H,O,X,ie,ae,oe,fe,ue,me){ie===void 0&&(ie=Math.max(X[2]-X[0],X[3]-X[1])/2),ae===void 0&&(ae=1),fe===void 0&&(fe=0),ue===void 0&&(ue=0),me===void 0&&(me=0);try{return j.apply(W,arguments)}catch(Ne){return console.info("WebGL SDF generation failed, falling back to JS",Ne),y.apply(x,arguments)}}return e.forEachPathCommand=i,e.generate=V,e.generateIntoCanvas=D,e.javascript=x,e.pathToLineSegments=s,e.webgl=W,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function fZ(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(de,Re){r[de]=1<<Re+1,i[r[de]]=de}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,u=null;function f(){if(!u){u=new Map;var de=function(Te){if(t.hasOwnProperty(Te)){var xe=0;t[Te].split(",").forEach(function(Qe){var K=Qe.split("+"),z=K[0],ce=K[1];z=parseInt(z,36),ce=ce?parseInt(ce,36):0,u.set(xe+=z,r[Te]);for(var Ve=0;Ve<ce;Ve++)u.set(++xe,r[Te])})}};for(var Re in t)de(Re)}}function h(de){return f(),u.get(de.codePointAt(0))||r.L}function m(de){return i[h(de)]}var v={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function y(de,Re){var Te=36,xe=0,Qe=new Map,K=Re&&new Map,z;return de.split(",").forEach(function ce(Ve){if(Ve.indexOf("+")!==-1)for(var De=+Ve;De--;)ce(z);else{z=Ve;var Be=Ve.split(">"),Ke=Be[0],We=Be[1];Ke=String.fromCodePoint(xe+=parseInt(Ke,Te)),We=String.fromCodePoint(xe+=parseInt(We,Te)),Qe.set(Ke,We),Re&&K.set(We,Ke)}}),{map:Qe,reverseMap:K}}var _,g,x;function S(){if(!_){var de=y(v.pairs,!0),Re=de.map,Te=de.reverseMap;_=Re,g=Te,x=y(v.canonical,!1).map}}function M(de){return S(),_.get(de)||null}function E(de){return S(),g.get(de)||null}function b(de){return S(),x.get(de)||null}var C=r.L,R=r.R,T=r.EN,B=r.ES,k=r.ET,N=r.AN,j=r.CS,Y=r.B,Q=r.S,W=r.ON,V=r.BN,D=r.NSM,G=r.AL,H=r.LRO,O=r.RLO,X=r.LRE,ie=r.RLE,ae=r.PDF,oe=r.LRI,fe=r.RLI,ue=r.FSI,me=r.PDI;function Ne(de,Re){for(var Te=125,xe=new Uint32Array(de.length),Qe=0;Qe<de.length;Qe++)xe[Qe]=h(de[Qe]);var K=new Map;function z(Gr,Ci){var vr=xe[Gr];xe[Gr]=Ci,K.set(vr,K.get(vr)-1),vr&a&&K.set(a,K.get(a)-1),K.set(Ci,(K.get(Ci)||0)+1),Ci&a&&K.set(a,(K.get(a)||0)+1)}for(var ce=new Uint8Array(de.length),Ve=new Map,De=[],Be=null,Ke=0;Ke<de.length;Ke++)Be||De.push(Be={start:Ke,end:de.length-1,level:Re==="rtl"?1:Re==="ltr"?0:rf(Ke,!1)}),xe[Ke]&Y&&(Be.end=Ke,Be=null);for(var We=ie|X|O|H|s|me|ae|Y,ve=function(Gr){return Gr+(Gr&1?1:2)},ne=function(Gr){return Gr+(Gr&1?2:1)},Se=0;Se<De.length;Se++){Be=De[Se];var Ce=[{_level:Be.level,_override:0,_isolate:0}],Ie=void 0,Ge=0,Ze=0,tt=0;K.clear();for(var se=Be.start;se<=Be.end;se++){var pe=xe[se];if(Ie=Ce[Ce.length-1],K.set(pe,(K.get(pe)||0)+1),pe&a&&K.set(a,(K.get(a)||0)+1),pe&We)if(pe&(ie|X)){ce[se]=Ie._level;var be=(pe===ie?ne:ve)(Ie._level);be<=Te&&!Ge&&!Ze?Ce.push({_level:be,_override:0,_isolate:0}):Ge||Ze++}else if(pe&(O|H)){ce[se]=Ie._level;var $e=(pe===O?ne:ve)(Ie._level);$e<=Te&&!Ge&&!Ze?Ce.push({_level:$e,_override:pe&O?R:C,_isolate:0}):Ge||Ze++}else if(pe&s){pe&ue&&(pe=rf(se+1,!0)===1?fe:oe),ce[se]=Ie._level,Ie._override&&z(se,Ie._override);var ze=(pe===fe?ne:ve)(Ie._level);ze<=Te&&Ge===0&&Ze===0?(tt++,Ce.push({_level:ze,_override:0,_isolate:1,_isolInitIndex:se})):Ge++}else if(pe&me){if(Ge>0)Ge--;else if(tt>0){for(Ze=0;!Ce[Ce.length-1]._isolate;)Ce.pop();var st=Ce[Ce.length-1]._isolInitIndex;st!=null&&(Ve.set(st,se),Ve.set(se,st)),Ce.pop(),tt--}Ie=Ce[Ce.length-1],ce[se]=Ie._level,Ie._override&&z(se,Ie._override)}else pe&ae?(Ge===0&&(Ze>0?Ze--:!Ie._isolate&&Ce.length>1&&(Ce.pop(),Ie=Ce[Ce.length-1])),ce[se]=Ie._level):pe&Y&&(ce[se]=Be.level);else ce[se]=Ie._level,Ie._override&&pe!==V&&z(se,Ie._override)}for(var gt=[],Et=null,kt=Be.start;kt<=Be.end;kt++){var zt=xe[kt];if(!(zt&l)){var Rt=ce[kt],Ft=zt&s,Rn=zt===me;Et&&Rt===Et._level?(Et._end=kt,Et._endsWithIsolInit=Ft):gt.push(Et={_start:kt,_end:kt,_level:Rt,_startsWithPDI:Rn,_endsWithIsolInit:Ft})}}for(var Pn=[],Pt=0;Pt<gt.length;Pt++){var dn=gt[Pt];if(!dn._startsWithPDI||dn._startsWithPDI&&!Ve.has(dn._start)){for(var wn=[Et=dn],qt=void 0;Et&&Et._endsWithIsolInit&&(qt=Ve.get(Et._end))!=null;)for(var pt=Pt+1;pt<gt.length;pt++)if(gt[pt]._start===qt){wn.push(Et=gt[pt]);break}for(var En=[],$n=0;$n<wn.length;$n++)for(var U=wn[$n],I=U._start;I<=U._end;I++)En.push(I);for(var J=ce[En[0]],ee=Be.level,Z=En[0]-1;Z>=0;Z--)if(!(xe[Z]&l)){ee=ce[Z];break}var te=En[En.length-1],Pe=ce[te],Le=Be.level;if(!(xe[te]&s)){for(var Ue=te+1;Ue<=Be.end;Ue++)if(!(xe[Ue]&l)){Le=ce[Ue];break}}Pn.push({_seqIndices:En,_sosType:Math.max(ee,J)%2?R:C,_eosType:Math.max(Le,Pe)%2?R:C})}}for(var Fe=0;Fe<Pn.length;Fe++){var je=Pn[Fe],he=je._seqIndices,ot=je._sosType,nt=je._eosType,qe=ce[he[0]]&1?R:C;if(K.get(D))for(var ht=0;ht<he.length;ht++){var At=he[ht];if(xe[At]&D){for(var mt=ot,rt=ht-1;rt>=0;rt--)if(!(xe[he[rt]]&l)){mt=xe[he[rt]];break}z(At,mt&(s|me)?W:mt)}}if(K.get(T))for(var xt=0;xt<he.length;xt++){var dt=he[xt];if(xe[dt]&T)for(var bt=xt-1;bt>=-1;bt--){var Jt=bt===-1?ot:xe[he[bt]];if(Jt&o){Jt===G&&z(dt,N);break}}}if(K.get(G))for(var Tt=0;Tt<he.length;Tt++){var sn=he[Tt];xe[sn]&G&&z(sn,R)}if(K.get(B)||K.get(j))for(var Vt=1;Vt<he.length-1;Vt++){var on=he[Vt];if(xe[on]&(B|j)){for(var pn=0,It=0,yn=Vt-1;yn>=0&&(pn=xe[he[yn]],!!(pn&l));yn--);for(var en=Vt+1;en<he.length&&(It=xe[he[en]],!!(It&l));en++);pn===It&&(xe[on]===B?pn===T:pn&(T|N))&&z(on,pn)}}if(K.get(T))for(var Ot=0;Ot<he.length;Ot++){var An=he[Ot];if(xe[An]&T){for(var Br=Ot-1;Br>=0&&xe[he[Br]]&(k|l);Br--)z(he[Br],T);for(Ot++;Ot<he.length&&xe[he[Ot]]&(k|l|T);Ot++)xe[he[Ot]]!==T&&z(he[Ot],T)}}if(K.get(k)||K.get(B)||K.get(j))for(var Gn=0;Gn<he.length;Gn++){var Qr=he[Gn];if(xe[Qr]&(k|B|j)){z(Qr,W);for(var ls=Gn-1;ls>=0&&xe[he[ls]]&l;ls--)z(he[ls],W);for(var Zr=Gn+1;Zr<he.length&&xe[he[Zr]]&l;Zr++)z(he[Zr],W)}}if(K.get(T))for(var Fs=0,gr=ot;Fs<he.length;Fs++){var Us=he[Fs],_o=xe[Us];_o&T?gr===C&&z(Us,C):_o&o&&(gr=_o)}if(K.get(a)){var Lr=R|T|N,Hi=Lr|C,wi=[];{for(var cs=[],Vi=0;Vi<he.length;Vi++)if(xe[he[Vi]]&a){var Yt=de[he[Vi]],vt=void 0;if(M(Yt)!==null)if(cs.length<63)cs.push({char:Yt,seqIndex:Vi});else break;else if((vt=E(Yt))!==null)for(var Bt=cs.length-1;Bt>=0;Bt--){var _n=cs[Bt].char;if(_n===vt||_n===E(b(Yt))||M(b(_n))===Yt){wi.push([cs[Bt].seqIndex,Vi]),cs.length=Bt;break}}}wi.sort(function(Gr,Ci){return Gr[0]-Ci[0]})}for(var Ln=0;Ln<wi.length;Ln++){for(var Dn=wi[Ln],In=Dn[0],xo=Dn[1],Sc=!1,Mr=0,bh=In+1;bh<xo;bh++){var Ac=he[bh];if(xe[Ac]&Hi){Sc=!0;var us=xe[Ac]&Lr?R:C;if(us===qe){Mr=us;break}}}if(Sc&&!Mr){Mr=ot;for(var Ch=In-1;Ch>=0;Ch--){var Lg=he[Ch];if(xe[Lg]&Hi){var fs=xe[Lg]&Lr?R:C;fs!==qe?Mr=fs:Mr=qe;break}}}if(Mr){if(xe[he[In]]=xe[he[xo]]=Mr,Mr!==qe){for(var Ei=In+1;Ei<he.length;Ei++)if(!(xe[he[Ei]]&l)){h(de[he[Ei]])&D&&(xe[he[Ei]]=Mr);break}}if(Mr!==qe){for(var $o=xo+1;$o<he.length;$o++)if(!(xe[he[$o]]&l)){h(de[he[$o]])&D&&(xe[he[$o]]=Mr);break}}}}for(var ks=0;ks<he.length;ks++)if(xe[he[ks]]&a){for(var Th=ks,Rh=ks,Wi=ot,Mc=ks-1;Mc>=0;Mc--)if(xe[he[Mc]]&l)Th=Mc;else{Wi=xe[he[Mc]]&Lr?R:C;break}for(var wc=nt,Ec=ks+1;Ec<he.length;Ec++)if(xe[he[Ec]]&(a|l))Rh=Ec;else{wc=xe[he[Ec]]&Lr?R:C;break}for(var bi=Th;bi<=Rh;bi++)xe[he[bi]]=Wi===wc?Wi:qe;ks=Rh}}}for(var zr=Be.start;zr<=Be.end;zr++){var nf=ce[zr],So=xe[zr];if(nf&1?So&(C|T|N)&&ce[zr]++:So&R?ce[zr]++:So&(N|T)&&(ce[zr]+=2),So&l&&(ce[zr]=zr===0?Be.level:ce[zr-1]),zr===Be.end||h(de[zr])&(Q|Y))for(var ll=zr;ll>=0&&h(de[ll])&c;ll--)ce[ll]=Be.level}}return{levels:ce,paragraphs:De};function rf(Gr,Ci){for(var vr=Gr;vr<de.length;vr++){var yr=xe[vr];if(yr&(R|G))return 1;if(yr&(Y|C)||Ci&&yr===me)return 0;if(yr&s){var ds=Dg(vr);vr=ds===-1?de.length:ds}}return 0}function Dg(Gr){for(var Ci=1,vr=Gr+1;vr<de.length;vr++){var yr=xe[vr];if(yr&Y)break;if(yr&me){if(--Ci===0)return vr}else yr&s&&Ci++}return-1}}var Xe="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ye;function $(){if(!ye){var de=y(Xe,!0),Re=de.map,Te=de.reverseMap;Te.forEach(function(xe,Qe){Re.set(Qe,xe)}),ye=Re}}function we(de){return $(),ye.get(de)||null}function _e(de,Re,Te,xe){var Qe=de.length;Te=Math.max(0,Te==null?0:+Te),xe=Math.min(Qe-1,xe==null?Qe-1:+xe);for(var K=new Map,z=Te;z<=xe;z++)if(Re[z]&1){var ce=we(de[z]);ce!==null&&K.set(z,ce)}return K}function Ee(de,Re,Te,xe){var Qe=de.length;Te=Math.max(0,Te==null?0:+Te),xe=Math.min(Qe-1,xe==null?Qe-1:+xe);var K=[];return Re.paragraphs.forEach(function(z){var ce=Math.max(Te,z.start),Ve=Math.min(xe,z.end);if(ce<Ve){for(var De=Re.levels.slice(ce,Ve+1),Be=Ve;Be>=ce&&h(de[Be])&c;Be--)De[Be]=z.level;for(var Ke=z.level,We=1/0,ve=0;ve<De.length;ve++){var ne=De[ve];ne>Ke&&(Ke=ne),ne<We&&(We=ne|1)}for(var Se=Ke;Se>=We;Se--)for(var Ce=0;Ce<De.length;Ce++)if(De[Ce]>=Se){for(var Ie=Ce;Ce+1<De.length&&De[Ce+1]>=Se;)Ce++;Ce>Ie&&K.push([Ie+ce,Ce+ce])}}}),K}function Ae(de,Re,Te,xe){var Qe=Ye(de,Re,Te,xe),K=[].concat(de);return Qe.forEach(function(z,ce){K[ce]=(Re.levels[z]&1?we(de[z]):null)||de[z]}),K.join("")}function Ye(de,Re,Te,xe){for(var Qe=Ee(de,Re,Te,xe),K=[],z=0;z<de.length;z++)K[z]=z;return Qe.forEach(function(ce){for(var Ve=ce[0],De=ce[1],Be=K.slice(Ve,De+1),Ke=Be.length;Ke--;)K[De-Ke]=Be[Ke]}),K}return e.closingToOpeningBracket=E,e.getBidiCharType=h,e.getBidiCharTypeName=m,e.getCanonicalBracket=b,e.getEmbeddingLevels=Ne,e.getMirroredCharacter=we,e.getMirroredCharactersMap=_e,e.getReorderSegments=Ee,e.getReorderedIndices=Ye,e.getReorderedString=Ae,e.openingToClosingBracket=M,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const HN=/\bvoid\s+main\s*\(\s*\)\s*{/g;function tE(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let s=Kt[i];return s?tE(s):r}return n.replace(e,t)}const ei=[];for(let n=0;n<256;n++)ei[n]=(n<16?"0":"")+n.toString(16);function dZ(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ei[n&255]+ei[n>>8&255]+ei[n>>16&255]+ei[n>>24&255]+"-"+ei[e&255]+ei[e>>8&255]+"-"+ei[e>>16&15|64]+ei[e>>24&255]+"-"+ei[t&63|128]+ei[t>>8&255]+"-"+ei[t>>16&255]+ei[t>>24&255]+ei[r&255]+ei[r>>8&255]+ei[r>>16&255]+ei[r>>24&255]).toUpperCase()}const jc=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},hZ=Date.now(),xL=new WeakMap,SL=new Map;let pZ=1e10;function nE(n,e){const t=yZ(e);let r=xL.get(n);if(r||xL.set(n,r=Object.create(null)),r[t])return new r[t];const i=`_onBeforeCompile${t}`,s=function(c,u){n.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let h=SL[f];if(!h){const m=mZ(this,c,e,t);h=SL[f]=m}c.vertexShader=h.vertexShader,c.fragmentShader=h.fragmentShader,jc(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-hZ}}),this[i]&&this[i](c)},o=function(){return a(e.chained?n:n.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:n}),Object.defineProperty(u,"id",{value:pZ++}),u.uuid=dZ(),u.uniforms=jc({},c.uniforms,e.uniforms),u.defines=jc({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=jc({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(jc(this.extensions,c.extensions),jc(this.defines,c.defines),jc(this.uniforms,dC.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=nE(n.isDerivedMaterial?n.getDepthMaterial():new e1({depthPacking:sC}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=nE(n.isDerivedMaterial?n.getDistanceMaterial():new t1,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),n.dispose.call(this)}}};return r[t]=o,new o}function mZ(n,{vertexShader:e,fragmentShader:t},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:h,customRewriter:m,timeUniform:v}=r;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",f=f||"",(l||m)&&(e=tE(e)),(h||m)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=tE(t)),m){let y=m({vertexShader:e,fragmentShader:t});e=y.vertexShader,t=y.fragmentShader}if(h){let y=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,_=>(y.push(_),"")),f=`${h}
${y.join(`
`)}
${f}`}if(v){const y=`
uniform float ${v};
`;s=y+s,c=y+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(y,_,g,x)=>/\battribute\s+vec[23]\s+$/.test(x.substr(0,g))?_:`troika_${_}_${i}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=AL(e,i,s,o,a),t=AL(t,i,c,u,f),{vertexShader:e,fragmentShader:t}}function AL(n,e,t,r,i){return(r||i||t)&&(n=n.replace(HN,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function gZ(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let vZ=0;const ML=new Map;function yZ(n){const e=JSON.stringify(n,gZ);let t=ML.get(e);return t==null&&ML.set(e,t=++vZ),t}function _Z(n,e,t){const{defaultFontURL:r}=t,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c(x,S){function M(){const E=b=>{console.error(`Failure loading font ${x}${x===r?"":"; trying fallback"}`,b),x!==r&&(x=r,M())};try{const b=new XMLHttpRequest;b.open("get",x,!0),b.responseType="arraybuffer",b.onload=function(){if(b.status>=400)E(new Error(b.statusText));else if(b.status>0)try{const C=n(b.response);S(C)}catch(C){E(C)}},b.onerror=E,b.send()}catch(b){E(b)}}M()}function u(x,S){x||(x=r);let M=i[x];M?M.pending?M.pending.push(S):S(M):(i[x]={pending:[S]},c(x,E=>{let b=i[x].pending;i[x]=E,b.forEach(C=>C(E))}))}function f({text:x="",font:S=r,sdfGlyphSize:M=64,fontSize:E=1,letterSpacing:b=0,lineHeight:C="normal",maxWidth:R=s,direction:T,textAlign:B="left",textIndent:k=0,whiteSpace:N="normal",overflowWrap:j="normal",anchorX:Y=0,anchorY:Q=0,includeCaretPositions:W=!1,chunkedBoundsSize:V=8192,colorRanges:D=null},G,H=!1){const O=y(),X={fontLoad:0,typesetting:0};x.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),x=x.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),E=+E,b=+b,R=+R,C=C||"normal",k=+k,u(S,ie=>{const ae=isFinite(R);let oe=null,fe=null,ue=null,me=null,Ne=null,Xe=null,ye=null,$=0,we=0,_e=N!=="nowrap";const{ascender:Ee,descender:Ae,unitsPerEm:Ye,lineGap:de,capHeight:Re,xHeight:Te}=ie;X.fontLoad=y()-O;const xe=y(),Qe=E/Ye;C==="normal"&&(C=(Ee-Ae+de)/Ye),C=C*E;const K=(C-(Ee-Ae)*Qe)/2,z=-(Ee*Qe+K),ce=Math.min(C,(Ee-Ae)*Qe),Ve=(Ee+Ae)/2*Qe-ce/2;let De=k,Be=new _;const Ke=[Be];ie.forEachGlyph(x,E,b,(ne,Se,Ce)=>{const Ie=x.charAt(Ce),Ge=ne.advanceWidth*Qe,Ze=Be.count;let tt;if("isEmpty"in ne||(ne.isWhitespace=!!Ie&&new RegExp(a).test(Ie),ne.canBreakAfter=!!Ie&&l.test(Ie),ne.isEmpty=ne.xMin===ne.xMax||ne.yMin===ne.yMax||o.test(Ie)),!ne.isWhitespace&&!ne.isEmpty&&we++,_e&&ae&&!ne.isWhitespace&&Se+Ge+De>R&&Ze){if(Be.glyphAt(Ze-1).glyphObj.canBreakAfter)tt=new _,De=-Se;else for(let pe=Ze;pe--;)if(pe===0&&j==="break-word"){tt=new _,De=-Se;break}else if(Be.glyphAt(pe).glyphObj.canBreakAfter){tt=Be.splitAt(pe+1);const be=tt.glyphAt(0).x;De-=be;for(let $e=tt.count;$e--;)tt.glyphAt($e).x-=be;break}tt&&(Be.isSoftWrapped=!0,Be=tt,Ke.push(Be),$=R)}let se=Be.glyphAt(Be.count);se.glyphObj=ne,se.x=Se+De,se.width=Ge,se.charIndex=Ce,Ie===`
`&&(Be=new _,Ke.push(Be),De=-(Se+Ge+b*E)+k)}),Ke.forEach(ne=>{for(let Se=ne.count;Se--;){let{glyphObj:Ce,x:Ie,width:Ge}=ne.glyphAt(Se);if(!Ce.isWhitespace){ne.width=Ie+Ge,ne.width>$&&($=ne.width);return}}});let We=0,ve=0;if(Y&&(typeof Y=="number"?We=-Y:typeof Y=="string"&&(We=-$*(Y==="left"?0:Y==="center"?.5:Y==="right"?1:m(Y)))),Q){if(typeof Q=="number")ve=-Q;else if(typeof Q=="string"){let ne=Ke.length*C;ve=Q==="top"?0:Q==="top-baseline"?-z:Q==="top-cap"?-z-Re*Qe:Q==="top-ex"?-z-Te*Qe:Q==="middle"?ne/2:Q==="bottom"?ne:Q==="bottom-baseline"?ne-K+Ae*Qe:m(Q)*ne}}if(!H){const ne=e.getEmbeddingLevels(x,T);oe=new Uint16Array(we),fe=new Float32Array(we*2),ue={},Xe=[s,s,-s,-s],ye=[];let Se=z;W&&(Ne=new Float32Array(x.length*3)),D&&(me=new Uint8Array(we*3));let Ce=0,Ie=-1,Ge=-1,Ze,tt;if(Ke.forEach((se,pe)=>{let{count:be,width:$e}=se;if(be>0){let ze=0;for(let Rt=be;Rt--&&se.glyphAt(Rt).glyphObj.isWhitespace;)ze++;let st=0,gt=0;if(B==="center")st=($-$e)/2;else if(B==="right")st=$-$e;else if(B==="justify"&&se.isSoftWrapped){let Rt=0;for(let Ft=be-ze;Ft--;)se.glyphAt(Ft).glyphObj.isWhitespace&&Rt++;gt=($-$e)/Rt}if(gt||st){let Rt=0;for(let Ft=0;Ft<be;Ft++){let Rn=se.glyphAt(Ft);const Pn=Rn.glyphObj;Rn.x+=st+Rt,gt!==0&&Pn.isWhitespace&&Ft<be-ze&&(Rt+=gt,Rn.width+=gt)}}const Et=e.getReorderSegments(x,ne,se.glyphAt(0).charIndex,se.glyphAt(se.count-1).charIndex);for(let Rt=0;Rt<Et.length;Rt++){const[Ft,Rn]=Et[Rt];let Pn=1/0,Pt=-1/0;for(let dn=0;dn<be;dn++)if(se.glyphAt(dn).charIndex>=Ft){let wn=dn,qt=dn;for(;qt<be;qt++){let pt=se.glyphAt(qt);if(pt.charIndex>Rn)break;qt<be-ze&&(Pn=Math.min(Pn,pt.x),Pt=Math.max(Pt,pt.x+pt.width))}for(let pt=wn;pt<qt;pt++){const En=se.glyphAt(pt);En.x=Pt-(En.x+En.width-Pn)}break}}let kt;const zt=Rt=>kt=Rt;for(let Rt=0;Rt<be;Rt++){let Ft=se.glyphAt(Rt);kt=Ft.glyphObj;const Rn=kt.index,Pn=ne.levels[Ft.charIndex]&1;if(Pn){const Pt=e.getMirroredCharacter(x[Ft.charIndex]);Pt&&ie.forEachGlyph(Pt,0,0,zt)}if(W){const{charIndex:Pt}=Ft,dn=Ft.x+We,wn=Ft.x+Ft.width+We;Ne[Pt*3]=Pn?wn:dn,Ne[Pt*3+1]=Pn?dn:wn,Ne[Pt*3+2]=Se+Ve+ve;const qt=Pt-Ie;qt>1&&v(Ne,Ie,qt),Ie=Pt}if(D){const{charIndex:Pt}=Ft;for(;Pt>Ge;)Ge++,D.hasOwnProperty(Ge)&&(tt=D[Ge])}if(!kt.isWhitespace&&!kt.isEmpty){const Pt=Ce++;ue[Rn]||(ue[Rn]={path:kt.path,pathBounds:[kt.xMin,kt.yMin,kt.xMax,kt.yMax]});const dn=Ft.x+We,wn=Se+ve;fe[Pt*2]=dn,fe[Pt*2+1]=wn;const qt=dn+kt.xMin*Qe,pt=wn+kt.yMin*Qe,En=dn+kt.xMax*Qe,$n=wn+kt.yMax*Qe;qt<Xe[0]&&(Xe[0]=qt),pt<Xe[1]&&(Xe[1]=pt),En>Xe[2]&&(Xe[2]=En),$n>Xe[3]&&(Xe[3]=$n),Pt%V===0&&(Ze={start:Pt,end:Pt,rect:[s,s,-s,-s]},ye.push(Ze)),Ze.end++;const U=Ze.rect;if(qt<U[0]&&(U[0]=qt),pt<U[1]&&(U[1]=pt),En>U[2]&&(U[2]=En),$n>U[3]&&(U[3]=$n),oe[Pt]=Rn,D){const I=Pt*3;me[I]=tt>>16&255,me[I+1]=tt>>8&255,me[I+2]=tt&255}}}}Se-=C}),Ne){const se=x.length-Ie;se>1&&v(Ne,Ie,se)}}X.typesetting=y()-xe,G({glyphIds:oe,glyphPositions:fe,glyphData:ue,caretPositions:Ne,caretHeight:ce,glyphColors:me,chunkedBounds:ye,fontSize:E,unitsPerEm:Ye,ascender:Ee*Qe,descender:Ae*Qe,capHeight:Re*Qe,xHeight:Te*Qe,lineHeight:C,topBaseline:z,blockBounds:[We,ve-Ke.length*C,We+$,ve],visibleBounds:Xe,timings:X})})}function h(x,S){f(x,M=>{const[E,b,C,R]=M.blockBounds;S({width:C-E,height:R-b})},{metricsOnly:!0})}function m(x){let S=x.match(/^([\d.]+)%$/),M=S?parseFloat(S[1]):NaN;return isNaN(M)?0:M/100}function v(x,S,M){const E=x[S*3],b=x[S*3+1],C=x[S*3+2],R=(b-E)/M;for(let T=0;T<M;T++){const B=(S+T)*3;x[B]=E+R*T,x[B+1]=E+R*(T+1),x[B+2]=C}}function y(){return(self.performance||Date).now()}function _(){this.data=[]}const g=["glyphObj","x","width","charIndex"];return _.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/g.length)},glyphAt(x){let S=_.flyweight;return S.data=this.data,S.index=x,S},splitAt(x){let S=new _;return S.data=this.data.splice(x*g.length),S}},_.flyweight=g.reduce((x,S,M,E)=>(Object.defineProperty(x,S,{get(){return this.data[this.index*g.length+M]},set(b){this.data[this.index*g.length+M]=b}}),x),{data:null,index:0}),{typeset:f,measure:h,loadFont:u}}const Mu=()=>(self.performance||Date).now(),I1=GN();let wL;function xZ(n,e,t,r,i,s,o,a,l,c,u=!0){return u?AZ(n,e,t,r,i,s,o,a,l,c).then(null,f=>(wL||(console.warn("WebGL SDF generation failed, falling back to JS",f),wL=!0),bL(n,e,t,r,i,s,o,a,l,c))):bL(n,e,t,r,i,s,o,a,l,c)}const vy=[],SZ=5;let rE=0;function VN(){const n=Mu();for(;vy.length&&Mu()-n<SZ;)vy.shift()();rE=vy.length?setTimeout(VN,0):0}const AZ=(...n)=>new Promise((e,t)=>{vy.push(()=>{const r=Mu();try{I1.webgl.generateIntoCanvas(...n),e({timing:Mu()-r})}catch(i){t(i)}}),rE||(rE=setTimeout(VN,0))}),MZ=4,wZ=2e3,EL={};let EZ=0;function bL(n,e,t,r,i,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+EZ++%MZ;let f=EL[u];return f||(f=EL[u]={workerModule:Ag({name:u,workerId:u,dependencies:[GN,Mu],init(h,m){const v=h().javascript.generate;return function(...y){const _=m();return{textureData:v(...y),timing:m()-_}}},getTransferables(h){return[h.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(n,e,t,r,i,s).then(({textureData:h,timing:m})=>{const v=Mu(),y=new Uint8Array(h.length*4);for(let _=0;_<h.length;_++)y[_*4+c]=h[_];return I1.webglUtils.renderImageData(o,y,a,l,n,e,1<<3-c),m+=Mu()-v,--f.requests===0&&(f.idleTimer=setTimeout(()=>{cZ(u)},wZ)),{timing:m}})}function bZ(n){n._warm||(I1.webgl.isSupported(n),n._warm=!0)}const CZ=I1.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function TZ(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var f=s.readUint(o,a);a+=4,c.push(e._readFont(o,f))}return c}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:i,_offset:a},f={},h=0;h<l;h++){var m=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var v=o.readUint(i,s);s+=4;var y=o.readUint(i,s);s+=4,f[m]={offset:v,length:y}}for(h=0;h<c.length;h++){var _=c[h];f[_]&&(u[_.trim()]=e[_.trim()].parse(i,f[_].offset,f[_].length,u))}return u},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),c=o+12,u=0;u<l;u++){var f=a.readASCII(i,c,4);c+=4,a.readUint(i,c),c+=4;var h=a.readUint(i,c);if(c+=4,a.readUint(i,c),c+=4,f==s)return h}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var c=i[s++]<<8|i[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var c=e._bin,u={},f=s;c.readFixed(i,s),s+=4;var h=c.readUshort(i,s);s+=2;var m=c.readUshort(i,s);s+=2;var v=c.readUshort(i,s);return s+=2,u.scriptList=e._lctf.readScriptList(i,f+h),u.featureList=e._lctf.readFeatureList(i,f+m),u.lookupList=e._lctf.readLookupList(i,f+v,l),u},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var h=a.readUshort(i,s);s+=2;var m=e._lctf.readLookupTable(i,l+h,o);c.push(m)}return c},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(i,s),s+=2,c.flag=a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;for(var f=c.ltype,h=0;h<u;h++){var m=a.readUshort(i,s);s+=2;var v=o(i,f,l+m,c);c.tabs.push(v)}return c},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var c=o.readUshort(i,s);s+=2;var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++)a.push(c+f),a.push(c+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var h=o.readUshort(i,s);for(s+=2,f=0;f<h;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var h=o.readUshort(i,s);s+=2;var m=e._lctf.readFeatureTable(i,a+h);m.tag=f.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var h=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+h)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,a+c);var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var h=o.readASCII(i,s,4);s+=4;var m=o.readUshort(i,s);s+=2,l[h.trim()]=e._lctf.readLangSysTable(i,a+m)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(i,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var h=[];for(u=0;u<f.length-1;u++)h.push(e.CFF.readDict(i,s+f[u],s+f[u+1]));s+=f[f.length-1];var m=h[0],v=[];s=e.CFF.readIndex(i,s,v);var y=[];for(u=0;u<v.length-1;u++)y.push(a.readASCII(i,s+v[u],v[u+1]-v[u]));if(s+=v[v.length-1],e.CFF.readSubrs(i,s,m),m.CharStrings){s=m.CharStrings,v=[],s=e.CFF.readIndex(i,s,v);var _=[];for(u=0;u<v.length-1;u++)_.push(a.readBytes(i,s+v[u],v[u+1]-v[u]));m.CharStrings=_}if(m.ROS){s=m.FDArray;var g=[];for(s=e.CFF.readIndex(i,s,g),m.FDArray=[],u=0;u<g.length-1;u++){var x=e.CFF.readDict(i,s+g[u],s+g[u+1]);e.CFF._readFDict(i,x,y),m.FDArray.push(x)}s+=g[g.length-1],s=m.FDSelect,m.FDSelect=[];var S=i[s];if(s++,S!=3)throw S;var M=a.readUshort(i,s);for(s+=2,u=0;u<M+1;u++)m.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(i,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(i,m.charset,m.CharStrings.length)),e.CFF._readFDict(i,m,y),m},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var u=0;u<c;u++)a.push(i[s+u]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var u=0;u<o;u++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var h=0;for(c==1?(h=i[s],s++):(h=a.readUshort(i,s),s+=2),u=0;u<=h;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(i[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(i,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(i,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var u=1,f=null,h=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(h=a.readShort(i,s+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(h=l-139,u=1),247<=l&&l<=250&&(h=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(h=256*-(l-251)-c-108,u=2),l==255&&(h=a.readInt(i,s+1)/65535,u=5),o.val=h??"o"+f,o.size=u},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var h=1,m=null,v=null;u<=20&&(m=u,h=1),u==12&&(m=100*u+f,h=2),u!=19&&u!=20||(m=u,h=2),21<=u&&u<=27&&(m=u,h=1),u==28&&(v=l.readShort(i,s+1),h=3),29<=u&&u<=31&&(m=u,h=1),32<=u&&u<=246&&(v=u-139,h=1),247<=u&&u<=250&&(v=256*(u-247)+f+108,h=2),251<=u&&u<=254&&(v=256*-(u-251)-f-108,h=2),u==255&&(v=l.readInt(i,s+1)/65535,h=5),c.push(v??"o"+m),s+=h}return c},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var h=1,m=null,v=null;if(u==28&&(v=a.readShort(i,s+1),h=3),u==29&&(v=a.readInt(i,s+1),h=5),32<=u&&u<=246&&(v=u-139,h=1),247<=u&&u<=250&&(v=256*(u-247)+f+108,h=2),251<=u&&u<=254&&(v=256*-(u-251)-f-108,h=2),u==255)throw v=a.readInt(i,s+1)/65535,h=5,"unknown number";if(u==30){var y=[];for(h=1;;){var _=i[s+h];h++;var g=_>>4,x=15&_;if(g!=15&&y.push(g),x!=15&&y.push(x),x==15)break}for(var S="",M=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<y.length;E++)S+=M[y[E]];v=parseFloat(S)}u<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],h=1,u==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],h=2)),m!=null?(l[m]=c.length==1?c[0]:c,c=[]):c.push(v),s+=h}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var h=a.readUshort(i,s);s+=2;var m=a.readUshort(i,s);s+=2;var v=a.readUint(i,s);s+=4;var y="p"+h+"e"+m,_=u.indexOf(v);if(_==-1){var g;_=l.tables.length,u.push(v);var x=a.readUshort(i,v);x==0?g=e.cmap.parse0(i,v):x==4?g=e.cmap.parse4(i,v):x==6?g=e.cmap.parse6(i,v):x==12?g=e.cmap.parse12(i,v):console.debug("unknown format: "+x,h,m,v),l.tables.push(g)}if(l[y]!=null)throw"multiple tables for one platform+encoding";l[y]=_}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(i[s+c]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2;var f=u/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var h=0;h<f;h++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,f=o.readUint(i,u+0),h=o.readUint(i,u+4),m=o.readUint(i,u+8);a.groups.push([f,h,m])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;c.instructions=o.readBytes(a,l,f),l+=f;var h=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<h;u++){var m=a[l];if(l++,c.flags.push(m),(8&m)!=0){var v=a[l];l++;for(var y=0;y<v;y++)c.flags.push(m),u++}}for(c.xs=[],u=0;u<h;u++){var _=(2&c.flags[u])!=0,g=(16&c.flags[u])!=0;_?(c.xs.push(g?a[l]:-a[l]),l++):g?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<h;u++)_=(4&c.flags[u])!=0,g=(32&c.flags[u])!=0,_?(c.ys.push(g?a[l]:-a[l]),l++):g?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var x=0,S=0;for(u=0;u<h;u++)x+=c.xs[u],S+=c.ys[u],c.xs[u]=x,c.ys[u]=S}else{var M;c.parts=[];do{M=o.readUshort(a,l),l+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(E),E.glyphIndex=o.readUshort(a,l),l+=2,1&M){var b=o.readShort(a,l);l+=2;var C=o.readShort(a,l);l+=2}else b=o.readInt8(a,l),l++,C=o.readInt8(a,l),l++;2&M?(E.m.tx=b,E.m.ty=C):(E.p1=b,E.p2=C),8&M?(E.m.a=E.m.d=o.readF2dot14(a,l),l+=2):64&M?(E.m.a=o.readF2dot14(a,l),l+=2,E.m.d=o.readF2dot14(a,l),l+=2):128&M&&(E.m.a=o.readF2dot14(a,l),l+=2,E.m.b=o.readF2dot14(a,l),l+=2,E.m.c=o.readF2dot14(a,l),l+=2,E.m.d=o.readF2dot14(a,l),l+=2)}while(32&M);if(256&M){var R=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<R;u++)c.instr.push(a[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(s==1&&u.fmt==1){var h=l.readUshort(i,o);o+=2;var m=e._lctf.numOfOnes(h);h!=0&&(u.pos=e.GPOS.readValueRecord(i,o,h))}else if(s==2&&u.fmt>=1&&u.fmt<=2){h=l.readUshort(i,o),o+=2;var v=l.readUshort(i,o);o+=2,m=e._lctf.numOfOnes(h);var y=e._lctf.numOfOnes(v);if(u.fmt==1){u.pairsets=[];var _=l.readUshort(i,o);o+=2;for(var g=0;g<_;g++){var x=c+l.readUshort(i,o);o+=2;var S=l.readUshort(i,x);x+=2;for(var M=[],E=0;E<S;E++){var b=l.readUshort(i,x);x+=2,h!=0&&(N=e.GPOS.readValueRecord(i,x,h),x+=2*m),v!=0&&(j=e.GPOS.readValueRecord(i,x,v),x+=2*y),M.push({gid2:b,val1:N,val2:j})}u.pairsets.push(M)}}if(u.fmt==2){var C=l.readUshort(i,o);o+=2;var R=l.readUshort(i,o);o+=2;var T=l.readUshort(i,o);o+=2;var B=l.readUshort(i,o);for(o+=2,u.classDef1=e._lctf.readClassDef(i,c+C),u.classDef2=e._lctf.readClassDef(i,c+R),u.matrix=[],g=0;g<T;g++){var k=[];for(E=0;E<B;E++){var N=null,j=null;h!=0&&(N=e.GPOS.readValueRecord(i,o,h),o+=2*m),v!=0&&(j=e.GPOS.readValueRecord(i,o,v),o+=2*y),k.push({val1:N,val2:j})}u.matrix.push(k)}}}else{if(s==9&&u.fmt==1){var Y=l.readUshort(i,o);o+=2;var Q=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=Y;else if(a.ltype!=Y)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,c+Q)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,o),o+=2;else if(u.fmt==2){var h=l.readUshort(i,o);o+=2,u.newg=l.readUshorts(i,o,h),o+=2*u.newg.length}}else if(s==4){u.vals=[],h=l.readUshort(i,o),o+=2;for(var m=0;m<h;m++){var v=l.readUshort(i,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+v))}}else if(s==5&&u.fmt==2){if(u.fmt==2){var y=l.readUshort(i,o);o+=2,u.cDef=e._lctf.readClassDef(i,c+y),u.scset=[];var _=l.readUshort(i,o);for(o+=2,m=0;m<_;m++){var g=l.readUshort(i,o);o+=2,u.scset.push(g==0?null:e.GSUB.readSubClassSet(i,c+g))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(m=0;m<3;m++){h=l.readUshort(i,o),o+=2;for(var x=[],S=0;S<h;S++)x.push(e._lctf.readCoverage(i,c+l.readUshort(i,o+2*S)));o+=2*h,m==0&&(u.backCvg=x),m==1&&(u.inptCvg=x),m==2&&(u.ahedCvg=x)}h=l.readUshort(i,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,o,h)}}else{if(s==7&&u.fmt==1){var M=l.readUshort(i,o);o+=2;var E=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=M;else if(a.ltype!=M)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,c+E)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],c=o(i,s);s+=2;for(var u=0;u<c;u++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),c=o(i,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(i,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(i,s,u),s+=2*a[l[c]].length}return u=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,h=0;h<a.maxp.numGlyphs;h++)h<a.hhea.numberOfHMetrics&&(u=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,o,a);var u=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},h=0;h<u;h++){s+=2,o=l.readUshort(i,s),s+=2;var m=l.readUshort(i,s);s+=2;var v=m>>>8;if((v&=15)!=0)throw"unknown kern table format: "+v;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(i,s),s+=4;var h=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var m=h>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,u)}return u},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,s);s+=2;var h=a.readUshort(i,s);s+=2;var m=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var v=o.rval[o.rval.length-1];v.glyph2.push(h),v.vals.push(m),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(u==0)for(var h=0;h<f;h++)c.push(l.readUshort(i,s+(h<<1))<<1);if(u==1)for(h=0;h<f;h++)c.push(l.readUint(i,s+(h<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},c=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=s+=2,m=0;m<c;m++){var v=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var g=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var S=a.readUshort(i,s);s+=2;var M,E=f[g],b=h+12*c+S;if(v==0)M=a.readUnicode(i,b,x/2);else if(v==3&&y==0)M=a.readUnicode(i,b,x/2);else if(y==0)M=a.readASCII(i,b,x);else if(y==1)M=a.readUnicode(i,b,x/2);else if(y==3)M=a.readUnicode(i,b,x/2);else{if(v!=1)throw"unknown encoding "+y+", platformID: "+v;M=a.readASCII(i,b,x),console.debug("reading unknown MAC encoding "+y+" as ASCII")}var C="p"+v+","+_.toString(16);l[C]==null&&(l[C]={}),l[C][E!==void 0?E:g]=M,l[C]._lang=_}for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==1033)return l[R];for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==0)return l[R];for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==3084)return l[R];for(var R in l)if(l[R].postScriptName!=null)return l[R];for(var R in l){u=R;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=s;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,u,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,f=c==l?a:c+1,h=1&i.flags[c],m=1&i.flags[u],v=1&i.flags[f],y=i.xs[c],_=i.ys[c];if(c==a)if(h){if(!m){e.U.P.moveTo(s,y,_);continue}e.U.P.moveTo(s,i.xs[u],i.ys[u])}else m?e.U.P.moveTo(s,i.xs[u],i.ys[u]):e.U.P.moveTo(s,(i.xs[u]+y)/2,(i.ys[u]+_)/2);h?m&&e.U.P.lineTo(s,y,_):v?e.U.P.qcurveTo(s,y,_,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,y,_,(y+i.xs[f])/2,(_+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},c=i.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var h=l.crds[f],m=l.crds[f+1];o.crds.push(h*u.a+m*u.b+u.tx),o.crds.push(h*u.c+m*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var a=!1;if(i.GPOS)for(var l=i.GPOS,c=l.lookupList,u=l.featureList,f=[],h=0;h<u.length;h++){var m=u[h];if(m.tag=="kern"){a=!0;for(var v=0;v<m.tab.length;v++)if(!f[m.tab[v]]){f[m.tab[v]]=!0;for(var y=c[m.tab[v]],_=0;_<y.tabs.length;_++)if(y.tabs[_]!=null){var g,x=y.tabs[_];if((!x.coverage||(g=e._lctf.coverageIndex(x.coverage,s))!=-1)&&y.ltype!=1){if(y.ltype==2){var S=null;if(x.fmt==1){var M=x.pairsets[g];for(h=0;h<M.length;h++)M[h].gid2==o&&(S=M[h])}else if(x.fmt==2){var E=e.U._getGlyphClass(s,x.classDef1),b=e.U._getGlyphClass(o,x.classDef2);S=x.matrix[E][b]}if(S){var C=0;return S.val1&&S.val1[2]&&(C+=S.val1[2]),S.val2&&S.val2[0]&&(C+=S.val2[0]),C}}}}}}}if(i.kern&&!a){var R=i.kern.glyph1.indexOf(s);if(R!=-1){var T=i.kern.rval[R].glyph2.indexOf(o);if(T!=-1)return i.kern.rval[R].vals[T]}}return 0},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,f=o.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[u];else if(o.ltype==4)for(var h=f.vals[u],m=0;m<h.length;m++){var v=h[m],y=v.chain.length;if(!(y>l)){for(var _=!0,g=0,x=0;x<y;x++){for(;i[s+g+(1+x)]==-1;)g++;v.chain[x]!=i[s+g+(1+x)]&&(_=!1)}if(_){for(i[s]=v.nglyph,x=0;x<y+g;x++)i[s+x+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var S=e._lctf.getInterval(f.cDef,i[s]),M=f.cDef[S+2],E=f.scset[M],b=0;b<E.length;b++){var C=E[b],R=C.input;if(!(R.length>l)){for(_=!0,x=0;x<R.length;x++){var T=e._lctf.getInterval(f.cDef,i[s+1+x]);if(S==-1&&f.cDef[T+2]!=R[x]){_=!1;break}}if(_){var B=C.substLookupRecords;for(m=0;m<B.length;m+=2)B[m],B[m+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var k=f.lookupRec;for(b=0;b<k.length;b+=2){S=k[b];var N=a[k[b+1]];e.U._applySubs(i,s+S,N,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var f=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,h=e.U.glyphToPath(i,u),m=0;m<h.crds.length;m+=2)a.crds.push(h.crds[m]+l),a.crds.push(h.crds[m+1]);for(o&&a.cmds.push(o),m=0;m<h.cmds.length;m++)a.cmds.push(h.cmds[m]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(i,u,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,c,u){i.cmds.push("C"),i.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var c=s.stack,u=s.nStems,f=s.haveWidth,h=s.width,m=s.open,v=0,y=s.x,_=s.y,g=0,x=0,S=0,M=0,E=0,b=0,C=0,R=0,T=0,B=0,k={val:0,size:0};v<i.length;){e.CFF.getCharString(i,v,k);var N=k.val;if(v+=k.size,N=="o1"||N=="o18")c.length%2!=0&&!f&&(h=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(N=="o3"||N=="o23")c.length%2!=0&&!f&&(h=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(N=="o4")c.length>1&&!f&&(h=c.shift()+a.nominalWidthX,f=!0),m&&e.U.P.closePath(l),_+=c.pop(),e.U.P.moveTo(l,y,_),m=!0;else if(N=="o5")for(;c.length>0;)y+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,y,_);else if(N=="o6"||N=="o7")for(var j=c.length,Y=N=="o6",Q=0;Q<j;Q++){var W=c.shift();Y?y+=W:_+=W,Y=!Y,e.U.P.lineTo(l,y,_)}else if(N=="o8"||N=="o24"){j=c.length;for(var V=0;V+6<=j;)g=y+c.shift(),x=_+c.shift(),S=g+c.shift(),M=x+c.shift(),y=S+c.shift(),_=M+c.shift(),e.U.P.curveTo(l,g,x,S,M,y,_),V+=6;N=="o24"&&(y+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,y,_))}else{if(N=="o11")break;if(N=="o1234"||N=="o1235"||N=="o1236"||N=="o1237")N=="o1234"&&(x=_,S=(g=y+c.shift())+c.shift(),B=M=x+c.shift(),b=M,R=_,y=(C=(E=(T=S+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,g,x,S,M,T,B),e.U.P.curveTo(l,E,b,C,R,y,_)),N=="o1235"&&(g=y+c.shift(),x=_+c.shift(),S=g+c.shift(),M=x+c.shift(),T=S+c.shift(),B=M+c.shift(),E=T+c.shift(),b=B+c.shift(),C=E+c.shift(),R=b+c.shift(),y=C+c.shift(),_=R+c.shift(),c.shift(),e.U.P.curveTo(l,g,x,S,M,T,B),e.U.P.curveTo(l,E,b,C,R,y,_)),N=="o1236"&&(g=y+c.shift(),x=_+c.shift(),S=g+c.shift(),B=M=x+c.shift(),b=M,C=(E=(T=S+c.shift())+c.shift())+c.shift(),R=b+c.shift(),y=C+c.shift(),e.U.P.curveTo(l,g,x,S,M,T,B),e.U.P.curveTo(l,E,b,C,R,y,_)),N=="o1237"&&(g=y+c.shift(),x=_+c.shift(),S=g+c.shift(),M=x+c.shift(),T=S+c.shift(),B=M+c.shift(),E=T+c.shift(),b=B+c.shift(),C=E+c.shift(),R=b+c.shift(),Math.abs(C-y)>Math.abs(R-_)?y=C+c.shift():_=R+c.shift(),e.U.P.curveTo(l,g,x,S,M,T,B),e.U.P.curveTo(l,E,b,C,R,y,_));else if(N=="o14"){if(c.length>0&&!f&&(h=c.shift()+o.nominalWidthX,f=!0),c.length==4){var D=c.shift(),G=c.shift(),H=c.shift(),O=c.shift(),X=e.CFF.glyphBySE(o,H),ie=e.CFF.glyphBySE(o,O);e.U._drawCFF(o.CharStrings[X],s,o,a,l),s.x=D,s.y=G,e.U._drawCFF(o.CharStrings[ie],s,o,a,l)}m&&(e.U.P.closePath(l),m=!1)}else if(N=="o19"||N=="o20")c.length%2!=0&&!f&&(h=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,v+=u+7>>3;else if(N=="o21")c.length>2&&!f&&(h=c.shift()+a.nominalWidthX,f=!0),_+=c.pop(),y+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,y,_),m=!0;else if(N=="o22")c.length>1&&!f&&(h=c.shift()+a.nominalWidthX,f=!0),y+=c.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,y,_),m=!0;else if(N=="o25"){for(;c.length>6;)y+=c.shift(),_+=c.shift(),e.U.P.lineTo(l,y,_);g=y+c.shift(),x=_+c.shift(),S=g+c.shift(),M=x+c.shift(),y=S+c.shift(),_=M+c.shift(),e.U.P.curveTo(l,g,x,S,M,y,_)}else if(N=="o26")for(c.length%2&&(y+=c.shift());c.length>0;)g=y,x=_+c.shift(),y=S=g+c.shift(),_=(M=x+c.shift())+c.shift(),e.U.P.curveTo(l,g,x,S,M,y,_);else if(N=="o27")for(c.length%2&&(_+=c.shift());c.length>0;)x=_,S=(g=y+c.shift())+c.shift(),M=x+c.shift(),y=S+c.shift(),_=M,e.U.P.curveTo(l,g,x,S,M,y,_);else if(N=="o10"||N=="o29"){var ae=N=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var oe=c.pop(),fe=ae.Subrs[oe+ae.Bias];s.x=y,s.y=_,s.nStems=u,s.haveWidth=f,s.width=h,s.open=m,e.U._drawCFF(fe,s,o,a,l),y=s.x,_=s.y,u=s.nStems,f=s.haveWidth,h=s.width,m=s.open}}else if(N=="o30"||N=="o31"){var ue=c.length,me=(V=0,N=="o31");for(V+=ue-(j=-3&ue);V<j;)me?(x=_,S=(g=y+c.shift())+c.shift(),_=(M=x+c.shift())+c.shift(),j-V==5?(y=S+c.shift(),V++):y=S,me=!1):(g=y,x=_+c.shift(),S=g+c.shift(),M=x+c.shift(),y=S+c.shift(),j-V==5?(_=M+c.shift(),V++):_=M,me=!0),e.U.P.curveTo(l,g,x,S,M,y,_),V+=4}else{if((N+"").charAt(0)=="o")throw console.debug("Unknown operation: "+N,i),N;c.push(N)}}}s.x=y,s.y=_,s.nStems=u,s.haveWidth=f,s.width=h,s.open=m};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function RZ(){return function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(N,j){for(var Y=new t(31),Q=0;Q<31;++Q)Y[Q]=j+=1<<N[Q-1];var W=new r(Y[30]);for(Q=1;Q<30;++Q)for(var V=Y[Q];V<Y[Q+1];++V)W[V]=V-Y[Q]<<5|Q;return[Y,W]},l=a(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=a(s,0)[0],h=new t(32768),m=0;m<32768;++m){var v=(43690&m)>>>1|(21845&m)<<1;v=(61680&(v=(52428&v)>>>2|(13107&v)<<2))>>>4|(3855&v)<<4,h[m]=((65280&v)>>>8|(255&v)<<8)>>>1}var y=function(N,j,Y){for(var Q=N.length,W=0,V=new t(j);W<Q;++W)++V[N[W]-1];var D,G=new t(j);for(W=0;W<j;++W)G[W]=G[W-1]+V[W-1]<<1;if(Y){D=new t(1<<j);var H=15-j;for(W=0;W<Q;++W)if(N[W])for(var O=W<<4|N[W],X=j-N[W],ie=G[N[W]-1]++<<X,ae=ie|(1<<X)-1;ie<=ae;++ie)D[h[ie]>>>H]=O}else for(D=new t(Q),W=0;W<Q;++W)N[W]&&(D[W]=h[G[N[W]-1]++]>>>15-N[W]);return D},_=new e(288);for(m=0;m<144;++m)_[m]=8;for(m=144;m<256;++m)_[m]=9;for(m=256;m<280;++m)_[m]=7;for(m=280;m<288;++m)_[m]=8;var g=new e(32);for(m=0;m<32;++m)g[m]=5;var x=y(_,9,1),S=y(g,5,1),M=function(N){for(var j=N[0],Y=1;Y<N.length;++Y)N[Y]>j&&(j=N[Y]);return j},E=function(N,j,Y){var Q=j/8|0;return(N[Q]|N[Q+1]<<8)>>(7&j)&Y},b=function(N,j){var Y=j/8|0;return(N[Y]|N[Y+1]<<8|N[Y+2]<<16)>>(7&j)},C=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],R=function(N,j,Y){var Q=new Error(j||C[N]);if(Q.code=N,Error.captureStackTrace&&Error.captureStackTrace(Q,R),!Y)throw Q;return Q},T=function(N,j,Y){var Q=N.length;if(!Q||Y&&!Y.l&&Q<5)return j||new e(0);var W=!j||Y,V=!Y||Y.i;Y||(Y={}),j||(j=new e(3*Q));var D,G=function(Ie){var Ge=j.length;if(Ie>Ge){var Ze=new e(Math.max(2*Ge,Ie));Ze.set(j),j=Ze}},H=Y.f||0,O=Y.p||0,X=Y.b||0,ie=Y.l,ae=Y.d,oe=Y.m,fe=Y.n,ue=8*Q;do{if(!ie){Y.f=H=E(N,O,1);var me=E(N,O+1,3);if(O+=3,!me){var Ne=N[(Te=((D=O)/8|0)+(7&D&&1)+4)-4]|N[Te-3]<<8,Xe=Te+Ne;if(Xe>Q){V&&R(0);break}W&&G(X+Ne),j.set(N.subarray(Te,Xe),X),Y.b=X+=Ne,Y.p=O=8*Xe;continue}if(me==1)ie=x,ae=S,oe=9,fe=5;else if(me==2){var ye=E(N,O,31)+257,$=E(N,O+10,15)+4,we=ye+E(N,O+5,31)+1;O+=14;for(var _e=new e(we),Ee=new e(19),Ae=0;Ae<$;++Ae)Ee[o[Ae]]=E(N,O+3*Ae,7);O+=3*$;var Ye=M(Ee),de=(1<<Ye)-1,Re=y(Ee,Ye,1);for(Ae=0;Ae<we;){var Te,xe=Re[E(N,O,de)];if(O+=15&xe,(Te=xe>>>4)<16)_e[Ae++]=Te;else{var Qe=0,K=0;for(Te==16?(K=3+E(N,O,3),O+=2,Qe=_e[Ae-1]):Te==17?(K=3+E(N,O,7),O+=3):Te==18&&(K=11+E(N,O,127),O+=7);K--;)_e[Ae++]=Qe}}var z=_e.subarray(0,ye),ce=_e.subarray(ye);oe=M(z),fe=M(ce),ie=y(z,oe,1),ae=y(ce,fe,1)}else R(1);if(O>ue){V&&R(0);break}}W&&G(X+131072);for(var Ve=(1<<oe)-1,De=(1<<fe)-1,Be=O;;Be=O){var Ke=(Qe=ie[b(N,O)&Ve])>>>4;if((O+=15&Qe)>ue){V&&R(0);break}if(Qe||R(2),Ke<256)j[X++]=Ke;else{if(Ke==256){Be=O,ie=null;break}var We=Ke-254;if(Ke>264){var ve=i[Ae=Ke-257];We=E(N,O,(1<<ve)-1)+c[Ae],O+=ve}var ne=ae[b(N,O)&De],Se=ne>>>4;if(ne||R(3),O+=15&ne,ce=f[Se],Se>3&&(ve=s[Se],ce+=b(N,O)&(1<<ve)-1,O+=ve),O>ue){V&&R(0);break}W&&G(X+131072);for(var Ce=X+We;X<Ce;X+=4)j[X]=j[X-ce],j[X+1]=j[X+1-ce],j[X+2]=j[X+2-ce],j[X+3]=j[X+3-ce];X=Ce}}Y.l=ie,Y.p=Be,Y.b=X,ie&&(H=1,Y.m=oe,Y.d=ae,Y.n=fe)}while(!H);return X==j.length?j:function(Ie,Ge,Ze){(Ge==null||Ge<0)&&(Ge=0),(Ze==null||Ze>Ie.length)&&(Ze=Ie.length);var tt=new(Ie instanceof t?t:Ie instanceof r?r:e)(Ze-Ge);return tt.set(Ie.subarray(Ge,Ze)),tt}(j,0,X)},B=new e(0),k=typeof TextDecoder<"u"&&new TextDecoder;try{k.decode(B,{stream:!0})}catch{}return n.convert_streams=function(N){var j=new DataView(N),Y=0;function Q(){var ye=j.getUint16(Y);return Y+=2,ye}function W(){var ye=j.getUint32(Y);return Y+=4,ye}function V(ye){Ne.setUint16(Xe,ye),Xe+=2}function D(ye){Ne.setUint32(Xe,ye),Xe+=4}for(var G={signature:W(),flavor:W(),length:W(),numTables:Q(),reserved:Q(),totalSfntSize:W(),majorVersion:Q(),minorVersion:Q(),metaOffset:W(),metaLength:W(),metaOrigLength:W(),privOffset:W(),privLength:W()},H=0;Math.pow(2,H)<=G.numTables;)H++;H--;for(var O=16*Math.pow(2,H),X=16*G.numTables-O,ie=12,ae=[],oe=0;oe<G.numTables;oe++)ae.push({tag:W(),offset:W(),compLength:W(),origLength:W(),origChecksum:W()}),ie+=16;var fe,ue=new Uint8Array(12+16*ae.length+ae.reduce(function(ye,$){return ye+$.origLength+4},0)),me=ue.buffer,Ne=new DataView(me),Xe=0;return D(G.flavor),V(G.numTables),V(O),V(H),V(X),ae.forEach(function(ye){D(ye.tag),D(ye.origChecksum),D(ie),D(ye.origLength),ye.outOffset=ie,(ie+=ye.origLength)%4!=0&&(ie+=4-ie%4)}),ae.forEach(function(ye){var $,we=N.slice(ye.offset,ye.offset+ye.compLength);if(ye.compLength!=ye.origLength){var _e=new Uint8Array(ye.origLength);$=new Uint8Array(we,2),T($,_e)}else _e=new Uint8Array(we);ue.set(_e,ye.outOffset);var Ee=0;(ie=ye.outOffset+ye.origLength)%4!=0&&(Ee=4-ie%4),ue.set(new Uint8Array(Ee).buffer,ye.outOffset+ye.origLength),fe=ie+Ee}),me.slice(0,fe)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function PZ(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,c=32;let u;function f(E){if(!u){const b={R:s,L:i,D:o,C:l,U:c,T:a};u=new Map;for(let C in r){let R=0;r[C].split(",").forEach(T=>{let[B,k]=T.split("+");B=parseInt(B,36),k=k?parseInt(k,36):0,u.set(R+=B,b[C]);for(let N=k;N--;)u.set(++R,b[C])})}}return u.get(E)||c}const h=1,m=2,v=3,y=4,_=[null,"isol","init","fina","medi"];function g(E){const b=new Uint8Array(E.length);let C=c,R=h,T=-1;for(let B=0;B<E.length;B++){const k=E.codePointAt(B);let N=f(k)|0,j=h;N&a||(C&(i|o|l)?N&(s|o|l)?(j=v,(R===h||R===v)&&b[T]++):N&(i|c)&&(R===m||R===y)&&b[T]--:C&(s|c)&&(R===m||R===y)&&b[T]--,R=b[B]=j,C=N,T=B,k>65535&&B++)}return b}function x(E,b){const C=[];for(let T=0;T<b.length;T++){const B=b.codePointAt(T);B>65535&&T++,C.push(n.U.codeToGlyph(E,B))}const R=E.GSUB;if(R){const{lookupList:T,featureList:B}=R;let k;const N=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,j=[];B.forEach(Y=>{if(N.test(Y.tag))for(let Q=0;Q<Y.tab.length;Q++){if(j[Y.tab[Q]])continue;j[Y.tab[Q]]=!0;const W=T[Y.tab[Q]],V=/^(isol|init|fina|medi)$/.test(Y.tag);V&&!k&&(k=g(b));for(let D=0;D<C.length;D++)(!k||!V||_[k[D]]===Y.tag)&&n.U._applySubs(C,D,W,T)}})}return C}function S(...E){for(let b=0;b<E.length;b++)if(typeof E[b]=="number")return E[b]}function M(E){const b=Object.create(null),C=E["OS/2"],R=E.hhea,T=E.head.unitsPerEm,B=S(C&&C.sTypoAscender,R&&R.ascender,T),k={unitsPerEm:T,ascender:B,descender:S(C&&C.sTypoDescender,R&&R.descender,0),capHeight:S(C&&C.sCapHeight,B),xHeight:S(C&&C.sxHeight,B),lineGap:S(C&&C.sTypoLineGap,R&&R.lineGap),forEachGlyph(N,j,Y,Q){let W=0;const V=1/k.unitsPerEm*j,D=x(E,N);let G=0,H=-1;return D.forEach((O,X)=>{if(O!==-1){let ie=b[O];if(!ie){const{cmds:ae,crds:oe}=n.U.glyphToPath(E,O);let fe="",ue=0;for(let $=0,we=ae.length;$<we;$++){const _e=t[ae[$]];fe+=ae[$];for(let Ee=1;Ee<=_e;Ee++)fe+=(Ee>1?",":"")+oe[ue++]}let me,Ne,Xe,ye;if(oe.length){me=Ne=1/0,Xe=ye=-1/0;for(let $=0,we=oe.length;$<we;$+=2){let _e=oe[$],Ee=oe[$+1];_e<me&&(me=_e),Ee<Ne&&(Ne=Ee),_e>Xe&&(Xe=_e),Ee>ye&&(ye=Ee)}}else me=Xe=Ne=ye=0;ie=b[O]={index:O,advanceWidth:E.hmtx.aWidth[O],xMin:me,yMin:Ne,xMax:Xe,yMax:ye,path:fe,pathCommandCount:ae.length}}H!==-1&&(W+=n.U.getPairAdjustment(E,H,O)*V),Q.call(null,ie,W,G),ie.advanceWidth&&(W+=ie.advanceWidth*V),Y&&(W+=Y*j),H=O}G+=N.codePointAt(G)>65535?2:1}),W}};return k}return function(b){const C=new Uint8Array(b,0,4),R=n._bin.readASCII(C,0,4);if(R==="wOFF")b=e(b);else if(R==="wOF2")throw new Error("woff2 fonts not supported");return M(n.parse(b)[0])}}const IZ=Ag({name:"Typr Font Parser",dependencies:[TZ,RZ,PZ],init(n,e,t){const r=n(),i=e();return t(r,i)}}),gd={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},BZ=new lt;function Hf(){return(self.performance||Date).now()}const CL=Object.create(null);function WN(n,e){n=OZ({},n);const t=Hf();if(n.font=FZ(n.font||gd.defaultFontURL),n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||gd.sdfGlyphSize,n.colorRanges!=null){let f={};for(let h in n.colorRanges)if(n.colorRanges.hasOwnProperty(h)){let m=n.colorRanges[h];typeof m!="number"&&(m=BZ.set(m).getHex()),f[h]=m}n.colorRanges=f}Object.freeze(n);const{textureWidth:r,sdfExponent:i}=gd,{sdfGlyphSize:s}=n,o=r/s*4;let a=CL[s];if(!a){const f=document.createElement("canvas");f.width=r,f.height=s*256/o,a=CL[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:f,sdfTexture:new Nn(f,void 0,void 0,void 0,bn,bn),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,LZ(a)}const{sdfTexture:l,sdfCanvas:c}=a;let u=a.glyphsByFont.get(n.font);u||a.glyphsByFont.set(n.font,u=new Map),kZ(n).then(f=>{const{glyphIds:h,glyphPositions:m,fontSize:v,unitsPerEm:y,timings:_}=f,g=[],x=new Float32Array(h.length*4),S=v/y;let M=0,E=0;const b=Hf();h.forEach((k,N)=>{let j=u.get(k);if(!j){const{path:V,pathBounds:D}=f.glyphData[k],G=Math.max(D[2]-D[0],D[3]-D[1])/s*(gd.sdfMargin*s+.5),H=a.glyphCount++,O=[D[0]-G,D[1]-G,D[2]+G,D[3]+G];u.set(k,j={path:V,atlasIndex:H,sdfViewBox:O}),g.push(j)}const{sdfViewBox:Y}=j,Q=m[E++],W=m[E++];x[M++]=Q+Y[0]*S,x[M++]=W+Y[1]*S,x[M++]=Q+Y[2]*S,x[M++]=W+Y[3]*S,h[N]=j.atlasIndex}),_.quads=(_.quads||0)+(Hf()-b);const C=Hf();_.sdf={};const R=c.height,T=Math.ceil(a.glyphCount/o),B=Math.pow(2,Math.ceil(Math.log2(T*s)));B>R&&(console.info(`Increasing SDF texture size ${R}->${B}`),CZ(c,r,B),l.dispose()),Promise.all(g.map(k=>jN(k,a,n.gpuAccelerateSDF).then(({timing:N})=>{_.sdf[k.atlasIndex]=N}))).then(()=>{g.length&&!a.contextLost&&(XN(a),l.needsUpdate=!0),_.sdfTotal=Hf()-C,_.total=Hf()-t,e(Object.freeze({parameters:n,sdfTexture:l,sdfGlyphSize:s,sdfExponent:i,glyphBounds:x,glyphAtlasIndices:h,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{a.contextLost||bZ(c)})}function jN({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=gd,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4),f=u%(a/r)*r,h=Math.floor(u/(a/r))*r,m=e%4;return xZ(r,r,n,t,c,l,i,f,h,m,o)}function LZ(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const r=[];n.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(jN(s,n,!0))})}),Promise.all(r).then(()=>{XN(n),n.sdfTexture.needsUpdate=!0})})}function DZ({font:n,characters:e,sdfGlyphSize:t},r){let i=Array.isArray(e)?e.join(`
`):""+e;WN({font:n,sdfGlyphSize:t,text:i},r)}function OZ(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let Iv;function FZ(n){return Iv||(Iv=typeof document>"u"?{}:document.createElement("a")),Iv.href=n,Iv.href}function XN(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:r,height:i}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),t.image={width:r,height:i,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const UZ=Ag({name:"Typesetter",dependencies:[gd,IZ,_Z,fZ],init(n,e,t,r){const{defaultFontURL:i}=n;return t(e,r(),{defaultFontURL:i})}}),kZ=Ag({name:"Typesetter",dependencies:[UZ],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[n.glyphPositions.buffer,n.glyphIds.buffer];return n.caretPositions&&e.push(n.caretPositions.buffer),n.glyphColors&&e.push(n.glyphColors.buffer),e}}),TL={};function NZ(n){let e=TL[n];if(!e){const t=new vc(1,1,n,n),r=t.clone(),i=t.attributes,s=r.attributes,o=new Xt,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new St([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...t.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=TL[n]=o}return e}const zZ="aTroikaGlyphBounds",RL="aTroikaGlyphIndex",GZ="aTroikaGlyphColor";class HZ extends UC{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ls,this.boundingBox=new vo}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===yi?t/2:0,e===Di?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=NZ(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=t.attributes[r].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,i,s){MA(this,zZ,e,4),MA(this,RL,t,1),MA(this,GZ,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:i,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=i/2,f=i*2,h=Math.abs(t),m=e[0]/h,v=e[2]/h,y=s((m+u)/f)!==s((v+u)/f)?-h:o(l(m)*h,l(v)*h),_=s((m-u)/f)!==s((v-u)/f)?h:a(l(m)*h,l(v)*h),g=s((m+i)/f)!==s((v+i)/f)?h*2:a(h-c(m)*h,h-c(v)*h);r.min.set(y,e[1],t<0?-g:0),r.max.set(_,e[3],t<0?0:g)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(RL).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){t=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}}function MA(n,e,t,r){const i=n.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(n.setAttribute(e,new ku(t,r)),delete n._maxInstanceCount,n.dispose()):i&&n.deleteAttribute(e)}const VZ=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,WZ=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,jZ=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,XZ=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function JZ(n){const e=nE(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Je},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Sn(0,0,0,0)},uTroikaClipRect:{value:new Sn(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Je},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new lt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Qt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VZ,vertexTransform:WZ,fragmentDefs:jZ,fragmentColorTransform:XZ,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(HN,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const pT=new es({color:16777215,side:Di,transparent:!0}),PL=8421504,IL=new Ut,Bv=new q,wA=new q,yp=[],YZ=new q,EA="+x+y";function BL(n){return Array.isArray(n)?n[0]:n}let JN=()=>{const n=new dr(new vc(1,1),pT);return JN=()=>n,n},YN=()=>{const n=new dr(new vc(1,1,32,1),pT);return YN=()=>n,n};const KZ={type:"syncstart"},$Z={type:"synccomplete"},KN=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],QZ=KN.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let $N=class extends dr{constructor(){const e=new HZ;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=PL,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=EA,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(KZ),WN({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent($Z),e&&e()})))}onBeforeRender(e,t,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=Vo}onAfterRender(e,t,r,i,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=pT.clone());if((!e||e.baseMaterial!==t)&&(e=this._derivedMaterial=JZ(t),t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return BL(this.material).getDepthMaterial()}get customDistanceMaterial(){return BL(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let c=0,u=0,f=0,h,m,v,y=0,_=0;if(t){let{outlineWidth:x,outlineOffsetX:S,outlineOffsetY:M,outlineBlur:E,outlineOpacity:b}=this;c=this._parsePercent(x)||0,u=Math.max(0,this._parsePercent(E)||0),h=b,y=this._parsePercent(S)||0,_=this._parsePercent(M)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(v=this.strokeColor,r.uTroikaStrokeColor.value.set(v??PL),m=this.strokeOpacity,m==null&&(m=1)),h=this.fillOpacity;r.uTroikaDistanceOffset.value=c,r.uTroikaPositionOffset.value.set(y,_),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=m,r.uTroikaFillOpacity.value=h??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let g=this.clipRect;if(g&&Array.isArray(g)&&g.length===4)r.uTroikaClipRect.value.fromArray(g);else{const x=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-x,l[1]-x,l[2]+x,l[3]+x)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new lt;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||EA;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==EA&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,f,h]=l;Bv.set(0,0,0)[u]=c==="-"?1:-1,wA.set(0,0,0)[h]=f==="-"?-1:1,IL.lookAt(YZ,Bv.cross(wA),wA),a.setFromMatrix4(IL)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new Je){t.copy(e);const r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new Je){return Bv.copy(e),this.localPositionToTextCoords(this.worldToLocal(Bv),t)}raycast(e,t){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?YN():JN(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let f=s[0]+c.getX(u)*(s[2]-s[0]);const h=s[1]+c.getY(u)*(s[3]-s[1]);let m=0;i&&(m=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(u,f,h,m)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,yp.length=0,o.raycast(e,yp);for(let u=0;u<yp.length;u++)yp[u].object=this,t.push(yp[u])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,QZ.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};KN.forEach(n=>{const e="_private_"+n;Object.defineProperty($N.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});const LL=F.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},c)=>{const u=Fr(({invalidate:v})=>v),[f]=F.useState(()=>new $N),[h,m]=F.useMemo(()=>{const v=[];let y="";return F.Children.forEach(s,_=>{typeof _=="string"||typeof _=="number"?y+=_:v.push(_)}),[v,y]},[s]);return Rk(()=>new Promise(v=>DZ({font:r,characters:o},v)),["troika-text",r,o]),F.useLayoutEffect(()=>void f.sync(()=>{u(),a&&a(f)})),F.useEffect(()=>()=>f.dispose(),[f]),F.createElement("primitive",pr({object:f,ref:c,font:r,text:m,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:n},l),h)});let Lv=null;function QN(n,e,t){return r=>{t&&t(r),n&&(Lv||(Lv=new rZ),Lv.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(Lv)),e&&r.setMeshoptDecoder(typeof SA=="function"?SA():SA)}}function mr(n,e=!0,t=!0,r){return Sh(hT,n,QN(e,t,r))}mr.preload=(n,e=!0,t=!0,r)=>Sh.preload(hT,n,QN(e,t,r));mr.clear=n=>Sh.clear(hT,n);const ZZ=F.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const f=Fr(b=>b.invalidate),h=Fr(b=>b.camera),m=Fr(b=>b.gl),v=Fr(b=>b.events),y=Fr(b=>b.setEvents),_=Fr(b=>b.set),g=Fr(b=>b.get),x=Fr(b=>b.performance),S=e||h,M=r||v.connected||m.domElement,E=F.useMemo(()=>new AQ(S),[S]);return JC(()=>{E.enabled&&E.update()},-1),F.useEffect(()=>(s&&E.connect(s===!0?M:s),E.connect(M),()=>void E.dispose()),[s,M,t,E,f]),F.useEffect(()=>{const b=T=>{f(),t&&x.regress(),o&&o(T)},C=T=>{a&&a(T)},R=T=>{l&&l(T)};return E.addEventListener("change",b),E.addEventListener("start",C),E.addEventListener("end",R),()=>{E.removeEventListener("start",C),E.removeEventListener("end",R),E.removeEventListener("change",b)}},[o,a,l,E,f,y]),F.useEffect(()=>{if(n){const b=g().controls;return _({controls:E}),()=>_({controls:b})}},[n,E]),F.createElement("primitive",pr({ref:u,object:E,enableDamping:i},c))}),bA={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},qZ="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",DL=n=>Array.isArray(n);function ZN({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}={}){var s,o,a;let l=null,c=!1,u;if(t){if(!(t in bA))throw new Error("Preset must be one of: "+Object.keys(bA).join(", "));n=bA[t],e=qZ}if(c=DL(n),u=DL(n)?"cube":n.startsWith("data:application/exr")?"exr":n.startsWith("data:application/hdr")?"hdr":(s=n.split(".").pop())==null||(o=s.split("?"))==null||(a=o.shift())==null?void 0:a.toLowerCase(),l=c?ck:u==="hdr"?tZ:u==="exr"?nZ:null,!l)throw new Error("useEnvironment: Unrecognized file extension: "+n);const f=Sh(l,c?[n]:n,y=>{y.setPath==null||y.setPath(e),i&&i(y)}),h=c?f[0]:f;h.mapping=c?ga:jd;const m=3001,v=3e3;return"colorSpace"in h?h.colorSpace=r??c?"srgb":"srgb-linear":h.encoding=r??c?m:v,h}const eq=n=>n.current&&n.current.isScene,tq=n=>eq(n)?n.current:n;function mT(n,e,t,r,i=0){const s=tq(e||t),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return n!=="only"&&(s.environment=r),n&&(s.background=r),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{n!=="only"&&(s.environment=a),n&&(s.background=o),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function gT({scene:n,background:e=!1,blur:t,map:r}){const i=Fr(s=>s.scene);return F.useLayoutEffect(()=>{if(r)return mT(e,n,i,r,t)},[i,n,r,e,t]),null}function qN({background:n=!1,scene:e,blur:t,...r}){const i=ZN(r),s=Fr(o=>o.scene);return F.useLayoutEffect(()=>mT(n,e,s,i,t),[i,n,e,s,t]),null}function nq({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:c,path:u,preset:f=void 0,extensions:h}){const m=Fr(S=>S.gl),v=Fr(S=>S.scene),y=F.useRef(null),[_]=F.useState(()=>new Em),g=F.useMemo(()=>{const S=new hC(r);return S.texture.type=Fi,S},[r]);F.useLayoutEffect(()=>(i===1&&y.current.update(m,_),mT(o,l,v,g.texture,a)),[n,_,g.texture,l,v,o,i,m]);let x=1;return JC(()=>{(i===1/0||x<i)&&(y.current.update(m,_),x++)}),F.createElement(F.Fragment,null,eY(F.createElement(F.Fragment,null,n,F.createElement("cubeCamera",{ref:y,args:[e,t,g]}),c||f?F.createElement(qN,{background:!0,files:c,preset:f,path:u,extensions:h}):s?F.createElement(gT,{background:!0,map:s,extensions:h}):null),_))}function rq(n){var e,t,r,i;const s=ZN(n),o=n.map||s;F.useMemo(()=>Pk({GroundProjectedEnvImpl:_Q}),[]);const a=F.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,c=(t=n.ground)==null?void 0:t.radius,u=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return F.createElement(F.Fragment,null,F.createElement(gT,pr({},n,{map:o})),F.createElement("groundProjectedEnvImpl",{args:a,scale:u,height:l,radius:c}))}function iq(n){return n.ground?F.createElement(rq,n):n.map?F.createElement(gT,n):n.children?F.createElement(nq,n):F.createElement(qN,n)}function Zu(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sr(n){"@babel/helpers - typeof";return sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sr(n)}function sq(n,e){if(sr(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(sr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function e4(n){var e=sq(n,"string");return sr(e)==="symbol"?e:String(e)}function OL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,e4(r.key),r)}}function qu(n,e,t){return e&&OL(n.prototype,e),t&&OL(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function iE(n,e){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iE(n,e)}function vT(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&iE(n,e)}function c_(n){return c_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c_(n)}function oq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sE(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function aq(n,e){if(e&&(sr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sE(n)}function yT(n){var e=oq();return function(){var r=c_(n),i;if(e){var s=c_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return aq(this,i)}}var t4={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(t4);var lq=t4.exports;const zn=fh(lq);var n4={exports:{}},Tn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $r=typeof Symbol=="function"&&Symbol.for,_T=$r?Symbol.for("react.element"):60103,xT=$r?Symbol.for("react.portal"):60106,B1=$r?Symbol.for("react.fragment"):60107,L1=$r?Symbol.for("react.strict_mode"):60108,D1=$r?Symbol.for("react.profiler"):60114,O1=$r?Symbol.for("react.provider"):60109,F1=$r?Symbol.for("react.context"):60110,ST=$r?Symbol.for("react.async_mode"):60111,U1=$r?Symbol.for("react.concurrent_mode"):60111,k1=$r?Symbol.for("react.forward_ref"):60112,N1=$r?Symbol.for("react.suspense"):60113,cq=$r?Symbol.for("react.suspense_list"):60120,z1=$r?Symbol.for("react.memo"):60115,G1=$r?Symbol.for("react.lazy"):60116,uq=$r?Symbol.for("react.block"):60121,fq=$r?Symbol.for("react.fundamental"):60117,dq=$r?Symbol.for("react.responder"):60118,hq=$r?Symbol.for("react.scope"):60119;function Ds(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case _T:switch(n=n.type,n){case ST:case U1:case B1:case D1:case L1:case N1:return n;default:switch(n=n&&n.$$typeof,n){case F1:case k1:case G1:case z1:case O1:return n;default:return e}}case xT:return e}}}function r4(n){return Ds(n)===U1}Tn.AsyncMode=ST;Tn.ConcurrentMode=U1;Tn.ContextConsumer=F1;Tn.ContextProvider=O1;Tn.Element=_T;Tn.ForwardRef=k1;Tn.Fragment=B1;Tn.Lazy=G1;Tn.Memo=z1;Tn.Portal=xT;Tn.Profiler=D1;Tn.StrictMode=L1;Tn.Suspense=N1;Tn.isAsyncMode=function(n){return r4(n)||Ds(n)===ST};Tn.isConcurrentMode=r4;Tn.isContextConsumer=function(n){return Ds(n)===F1};Tn.isContextProvider=function(n){return Ds(n)===O1};Tn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===_T};Tn.isForwardRef=function(n){return Ds(n)===k1};Tn.isFragment=function(n){return Ds(n)===B1};Tn.isLazy=function(n){return Ds(n)===G1};Tn.isMemo=function(n){return Ds(n)===z1};Tn.isPortal=function(n){return Ds(n)===xT};Tn.isProfiler=function(n){return Ds(n)===D1};Tn.isStrictMode=function(n){return Ds(n)===L1};Tn.isSuspense=function(n){return Ds(n)===N1};Tn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===B1||n===U1||n===D1||n===L1||n===N1||n===cq||typeof n=="object"&&n!==null&&(n.$$typeof===G1||n.$$typeof===z1||n.$$typeof===O1||n.$$typeof===F1||n.$$typeof===k1||n.$$typeof===fq||n.$$typeof===dq||n.$$typeof===hq||n.$$typeof===uq)};Tn.typeOf=Ds;n4.exports=Tn;var i4=n4.exports;function oE(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return rn.Children.forEach(n,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?t=t.concat(oE(r)):i4.isFragment(r)&&r.props?t=t.concat(oE(r.props.children,e)):t.push(r))}),t}var aE={},pq=function(e){};function mq(n,e){}function gq(n,e){}function vq(){aE={}}function s4(n,e,t){!e&&!aE[t]&&(n(!1,t),aE[t]=!0)}function Mg(n,e){s4(mq,n,e)}function yq(n,e){s4(gq,n,e)}Mg.preMessage=pq;Mg.resetWarned=vq;Mg.noteOnce=yq;function xn(n,e,t){return e=e4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(t),!0).forEach(function(r){xn(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function AT(n,e,t){var r=F.useRef({});return(!("value"in r.current)||t(r.current.condition,e))&&(r.current.value=n(),r.current.condition=e),r.current.value}function MT(n,e){typeof n=="function"?n(e):sr(n)==="object"&&n&&"current"in n&&(n.current=e)}function wg(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e.filter(function(i){return i});return r.length<=1?r[0]:function(i){e.forEach(function(s){MT(s,i)})}}function o4(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return AT(function(){return wg.apply(void 0,e)},e,function(r,i){return r.length!==i.length||r.every(function(s,o){return s!==i[o]})})}function Eg(n){var e,t,r=i4.isMemo(n)?n.type.type:n.type;return!(typeof r=="function"&&!((e=r.prototype)!==null&&e!==void 0&&e.render)||typeof n=="function"&&!((t=n.prototype)!==null&&t!==void 0&&t.render))}function u_(n){return n instanceof HTMLElement||n instanceof SVGElement}function lE(n){return u_(n)?n:n instanceof rn.Component?MF.findDOMNode(n):null}var a4=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,s){return i[0]===t?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];t.call(r,o[1],o[0])}},e}()}(),cE=typeof window<"u"&&typeof document<"u"&&window.document===document,f_=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),_q=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(f_):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),xq=2;function Sq(n,e){var t=!1,r=!1,i=0;function s(){t&&(t=!1,n()),r&&a()}function o(){_q(s)}function a(){var l=Date.now();if(t){if(l-i<xq)return;r=!0}else t=!0,r=!1,setTimeout(o,e);i=l}return a}var Aq=20,Mq=["top","right","bottom","left","width","height","size","weight"],wq=typeof MutationObserver<"u",Eq=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Sq(this.refresh.bind(this),Aq)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!cE||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),wq?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!cE||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=Mq.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),l4=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},rh=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||f_},c4=H1(0,0,0,0);function d_(n){return parseFloat(n)||0}function UL(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var s=n["border-"+i+"-width"];return r+d_(s)},0)}function bq(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var s=i[r],o=n["padding-"+s];t[s]=d_(o)}return t}function Cq(n){var e=n.getBBox();return H1(0,0,e.width,e.height)}function Tq(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return c4;var r=rh(n).getComputedStyle(n),i=bq(r),s=i.left+i.right,o=i.top+i.bottom,a=d_(r.width),l=d_(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=UL(r,"left","right")+s),Math.round(l+o)!==t&&(l-=UL(r,"top","bottom")+o)),!Pq(n)){var c=Math.round(a+s)-e,u=Math.round(l+o)-t;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return H1(i.left,i.top,a,l)}var Rq=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof rh(n).SVGGraphicsElement}:function(n){return n instanceof rh(n).SVGElement&&typeof n.getBBox=="function"}}();function Pq(n){return n===rh(n).document.documentElement}function Iq(n){return cE?Rq(n)?Cq(n):Tq(n):c4}function Bq(n){var e=n.x,t=n.y,r=n.width,i=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return l4(o,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),o}function H1(n,e,t,r){return{x:n,y:e,width:t,height:r}}var Lq=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=H1(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=Iq(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),Dq=function(){function n(e,t){var r=Bq(t);l4(this,{target:e,contentRect:r})}return n}(),Oq=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new a4,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof rh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Lq(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof rh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new Dq(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),u4=typeof WeakMap<"u"?new WeakMap:new a4,f4=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Eq.getInstance(),r=new Oq(e,t,this);u4.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){f4.prototype[n]=function(){var e;return(e=u4.get(this))[n].apply(e,arguments)}});var Fq=function(){return typeof f_.ResizeObserver<"u"?f_.ResizeObserver:f4}(),Nl=new Map;function Uq(n){n.forEach(function(e){var t,r=e.target;(t=Nl.get(r))===null||t===void 0||t.forEach(function(i){return i(r)})})}var d4=new Fq(Uq);function kq(n,e){Nl.has(n)||(Nl.set(n,new Set),d4.observe(n)),Nl.get(n).add(e)}function Nq(n,e){Nl.has(n)&&(Nl.get(n).delete(e),Nl.get(n).size||(d4.unobserve(n),Nl.delete(n)))}var zq=function(n){vT(t,n);var e=yT(t);function t(){return Zu(this,t),e.apply(this,arguments)}return qu(t,[{key:"render",value:function(){return this.props.children}}]),t}(F.Component),uE=F.createContext(null);function Gq(n){var e=n.children,t=n.onBatchResize,r=F.useRef(0),i=F.useRef([]),s=F.useContext(uE),o=F.useCallback(function(a,l,c){r.current+=1;var u=r.current;i.current.push({size:a,element:l,data:c}),Promise.resolve().then(function(){u===r.current&&(t==null||t(i.current),i.current=[])}),s==null||s(a,l,c)},[t,s]);return F.createElement(uE.Provider,{value:o},e)}function Hq(n,e){var t=n.children,r=n.disabled,i=F.useRef(null),s=F.useRef(null),o=F.useContext(uE),a=typeof t=="function",l=a?t(i):t,c=F.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!a&&F.isValidElement(l)&&Eg(l),f=u?l.ref:null,h=F.useMemo(function(){return wg(f,i)},[f,i]),m=function(){return lE(i.current)||lE(s.current)};F.useImperativeHandle(e,function(){return m()});var v=F.useRef(n);v.current=n;var y=F.useCallback(function(_){var g=v.current,x=g.onResize,S=g.data,M=_.getBoundingClientRect(),E=M.width,b=M.height,C=_.offsetWidth,R=_.offsetHeight,T=Math.floor(E),B=Math.floor(b);if(c.current.width!==T||c.current.height!==B||c.current.offsetWidth!==C||c.current.offsetHeight!==R){var k={width:T,height:B,offsetWidth:C,offsetHeight:R};c.current=k;var N=C===Math.round(E)?E:C,j=R===Math.round(b)?b:R,Y=wt(wt({},k),{},{offsetWidth:N,offsetHeight:j});o==null||o(Y,_,S),x&&Promise.resolve().then(function(){x(Y,_)})}},[]);return F.useEffect(function(){var _=m();return _&&!r&&kq(_,y),function(){return Nq(_,y)}},[i.current,r]),F.createElement(zq,{ref:s},u?F.cloneElement(l,{ref:h}):l)}var Vq=F.forwardRef(Hq),Wq="rc-observer-key";function jq(n,e){var t=n.children,r=typeof t=="function"?[t]:oE(t);return r.map(function(i,s){var o=(i==null?void 0:i.key)||"".concat(Wq,"-").concat(s);return F.createElement(Vq,pr({},n,{key:o,ref:s===0?e:void 0}),i)})}var wT=F.forwardRef(jq);wT.Collection=Gq;function Xq(n,e){var t=wt({},n);return Array.isArray(e)&&e.forEach(function(r){delete t[r]}),t}function fE(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Jq(n){if(Array.isArray(n))return fE(n)}function h4(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ET(n,e){if(n){if(typeof n=="string")return fE(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fE(n,e)}}function Yq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function po(n){return Jq(n)||h4(n)||ET(n)||Yq()}var p4=function(e){return+setTimeout(e,16)},m4=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(p4=function(e){return window.requestAnimationFrame(e)},m4=function(e){return window.cancelAnimationFrame(e)});var kL=0,bT=new Map;function g4(n){bT.delete(n)}var tl=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;kL+=1;var r=kL;function i(s){if(s===0)g4(r),e();else{var o=p4(function(){i(s-1)});bT.set(r,o)}}return i(t),r};tl.cancel=function(n){var e=bT.get(n);return g4(e),m4(e)};function CT(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function Kq(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Vu(n,e){if(n==null)return{};var t=Kq(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function $q(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(s,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(s);if(Mg(!l,"Warning: There may be circular references"),l)return!1;if(s===o)return!0;if(t&&a>1)return!1;r.add(s);var c=a+1;if(Array.isArray(s)){if(!Array.isArray(o)||s.length!==o.length)return!1;for(var u=0;u<s.length;u++)if(!i(s[u],o[u],c))return!1;return!0}if(s&&o&&sr(s)==="object"&&sr(o)==="object"){var f=Object.keys(s);return f.length!==Object.keys(o).length?!1:f.every(function(h){return i(s[h],o[h],c)})}return!1}return i(n,e)}var NL="%",Qq=function(){function n(e){Zu(this,n),xn(this,"instanceId",void 0),xn(this,"cache",new Map),this.instanceId=e}return qu(n,[{key:"get",value:function(t){return this.cache.get(t.join(NL))||null}},{key:"update",value:function(t,r){var i=t.join(NL),s=this.cache.get(i),o=r(s);o===null?this.cache.delete(i):this.cache.set(i,o)}}]),n}(),dE="data-token-hash",wu="data-css-hash",vd="__cssinjs_instance__";function Zq(){var n=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(wu,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(i){i[vd]=i[vd]||n,i[vd]===n&&document.head.insertBefore(i,t)});var r={};Array.from(document.querySelectorAll("style[".concat(wu,"]"))).forEach(function(i){var s=i.getAttribute(wu);if(r[s]){if(i[vd]===n){var o;(o=i.parentNode)===null||o===void 0||o.removeChild(i)}}else r[s]=!0})}return new Qq(n)}var qq=F.createContext({hashPriority:"low",cache:Zq(),defaultCache:!0});const TT=qq;function Ni(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function eee(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var zL="data-rc-order",GL="data-rc-priority",tee="rc-util-key",hE=new Map;function v4(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):tee}function V1(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function nee(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function y4(n){return Array.from((hE.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function _4(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ni())return null;var t=e.csp,r=e.prepend,i=e.priority,s=i===void 0?0:i,o=nee(r),a=o==="prependQueue",l=document.createElement("style");l.setAttribute(zL,o),a&&s&&l.setAttribute(GL,"".concat(s)),t!=null&&t.nonce&&(l.nonce=t==null?void 0:t.nonce),l.innerHTML=n;var c=V1(e),u=c.firstChild;if(r){if(a){var f=y4(c).filter(function(h){if(!["prepend","prependQueue"].includes(h.getAttribute(zL)))return!1;var m=Number(h.getAttribute(GL)||0);return s>=m});if(f.length)return c.insertBefore(l,f[f.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function x4(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=V1(e);return y4(t).find(function(r){return r.getAttribute(v4(e))===n})}function h_(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=x4(n,e);if(t){var r=V1(e);r.removeChild(t)}}function ree(n,e){var t=hE.get(n);if(!t||!eee(document,t)){var r=_4("",e),i=r.parentNode;hE.set(n,i),n.removeChild(r)}}function ih(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=V1(t);ree(r,t);var i=x4(e,t);if(i){var s,o;if((s=t.csp)!==null&&s!==void 0&&s.nonce&&i.nonce!==((o=t.csp)===null||o===void 0?void 0:o.nonce)){var a;i.nonce=(a=t.csp)===null||a===void 0?void 0:a.nonce}return i.innerHTML!==n&&(i.innerHTML=n),i}var l=_4(n,t);return l.setAttribute(v4(t),e),l}function S4(n){if(Array.isArray(n))return n}function iee(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function A4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(n,e){return S4(n)||iee(n,e)||ET(n,e)||A4()}function see(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var RT=function(){function n(){Zu(this,n),xn(this,"cache",void 0),xn(this,"keys",void 0),xn(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return qu(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var r,i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o={map:this.cache};return t.forEach(function(a){if(!o)o=void 0;else{var l,c;o=(l=o)===null||l===void 0||(c=l.map)===null||c===void 0?void 0:c.get(a)}}),(r=o)!==null&&r!==void 0&&r.value&&s&&(o.value[1]=this.cacheCallTimes++),(i=o)===null||i===void 0?void 0:i.value}},{key:"get",value:function(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,r){var i=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var s=this.keys.reduce(function(c,u){var f=Dt(c,2),h=f[1];return i.internalGet(u)[1]<h?[u,i.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),o=Dt(s,1),a=o[0];this.delete(a)}this.keys.push(t)}var l=this.cache;t.forEach(function(c,u){if(u===t.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var f=l.get(c);f?f.map||(f.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(t,r){var i=t.get(r[0]);if(r.length===1){var s;return i.map?t.set(r[0],{map:i.map}):t.delete(r[0]),(s=i.value)===null||s===void 0?void 0:s[0]}var o=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&t.delete(r[0]),o}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(r){return!see(r,t)}),this.deleteByPath(this.cache,t)}}]),n}();xn(RT,"MAX_CACHE_SIZE",20);xn(RT,"MAX_CACHE_OFFSET",5);var HL=0,M4=function(){function n(e){Zu(this,n),xn(this,"derivatives",void 0),xn(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=HL,e.length===0&&(e.length>0,void 0),HL+=1}return qu(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(r,i){return i(t,r)},void 0)}}]),n}(),CA=new RT;function Um(n){var e=Array.isArray(n)?n:[n];return CA.has(e)||CA.set(e,new M4(e)),CA.get(e)}var VL=new WeakMap;function p_(n){var e=VL.get(n)||"";return e||(Object.keys(n).forEach(function(t){var r=n[t];e+=t,r instanceof M4?e+=r.id:r&&sr(r)==="object"?e+=p_(r):e+=r}),VL.set(n,e)),e}function oee(n,e){return CT("".concat(e,"_").concat(p_(n)))}var Qp="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),w4="_bAmBoO_";function aee(n,e,t){if(Ni()){var r,i;ih(n,Qp);var s=document.createElement("div");s.style.position="fixed",s.style.left="0",s.style.top="0",e==null||e(s),document.body.appendChild(s);var o=t?t(s):(r=getComputedStyle(s).content)===null||r===void 0?void 0:r.includes(w4);return(i=s.parentNode)===null||i===void 0||i.removeChild(s),h_(Qp),o}return!1}var TA=void 0;function lee(){return TA===void 0&&(TA=aee("@layer ".concat(Qp," { .").concat(Qp,' { content: "').concat(w4,'"!important; } }'),function(n){n.className=Qp})),TA}var WL=Ni()?F.useLayoutEffect:F.useEffect,Li=function(e,t){var r=F.useRef(!0);WL(function(){return e(r.current)},t),WL(function(){return r.current=!1,function(){r.current=!0}},[])},jL=function(e,t){Li(function(r){if(!r)return e()},t)},cee=wt({},P_),XL=cee.useInsertionEffect,uee=function(e,t,r){F.useMemo(e,r),Li(function(){return t(!0)},r)},fee=XL?function(n,e,t){return XL(function(){return n(),e()},t)}:uee;const dee=fee;var hee=wt({},P_),pee=hee.useInsertionEffect,mee=function(e){var t=[],r=!1;function i(s){r||t.push(s)}return F.useEffect(function(){return r=!1,function(){r=!0,t.length&&t.forEach(function(s){return s()})}},e),i},gee=function(){return function(e){e()}},vee=typeof pee<"u"?mee:gee;const yee=vee;function E4(n,e,t,r,i){var s=F.useContext(TT),o=s.cache,a=[n].concat(po(e)),l=a.join("_"),c=yee([l]),u=function(v){o.update(a,function(y){var _=y||[],g=Dt(_,2),x=g[0],S=x===void 0?0:x,M=g[1],E=M,b=E||t(),C=[S,b];return v?v(C):C})};F.useMemo(function(){u()},[l]);var f=o.get(a),h=f[1];return dee(function(){i==null||i(h)},function(m){return u(function(v){var y=Dt(v,2),_=y[0],g=y[1];return m&&_===0&&(i==null||i(h)),[_+1,g]}),function(){o.update(a,function(v){var y=v||[],_=Dt(y,2),g=_[0],x=g===void 0?0:g,S=_[1],M=x-1;return M===0?(c(function(){return r==null?void 0:r(S,!1)}),null):[x-1,S]})}},[l]),h}var _ee={},xee="css",su=new Map;function See(n){su.set(n,(su.get(n)||0)+1)}function Aee(n,e){if(typeof document<"u"){var t=document.querySelectorAll("style[".concat(dE,'="').concat(n,'"]'));t.forEach(function(r){if(r[vd]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var Mee=0;function wee(n,e){su.set(n,(su.get(n)||0)-1);var t=Array.from(su.keys()),r=t.filter(function(i){var s=su.get(i)||0;return s<=0});t.length-r.length>Mee&&r.forEach(function(i){Aee(i,e),su.delete(i)})}var b4=function(e,t,r,i){var s=r.getDerivativeToken(e),o=wt(wt({},s),t);return i&&(o=i(o)),o};function Eee(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=F.useContext(TT),i=r.cache.instanceId,s=t.salt,o=s===void 0?"":s,a=t.override,l=a===void 0?_ee:a,c=t.formatToken,u=t.getComputedToken,f=F.useMemo(function(){return Object.assign.apply(Object,[{}].concat(po(e)))},[e]),h=F.useMemo(function(){return p_(f)},[f]),m=F.useMemo(function(){return p_(l)},[l]),v=E4("token",[o,n.id,h,m],function(){var y=u?u(f,l,n):b4(f,l,n,c),_=oee(y,o);y._tokenKey=_,See(_);var g="".concat(xee,"-").concat(CT(_));return y._hashId=g,[y,g]},function(y){wee(y[0]._tokenKey,i)});return v}var bee={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},C4="comm",T4="rule",R4="decl",Cee="@import",Tee="@keyframes",Ree="@layer",Pee=Math.abs,PT=String.fromCharCode;function P4(n){return n.trim()}function yy(n,e,t){return n.replace(e,t)}function Iee(n,e){return n.indexOf(e)}function km(n,e){return n.charCodeAt(e)|0}function Nm(n,e,t){return n.slice(e,t)}function za(n){return n.length}function Bee(n){return n.length}function Dv(n,e){return e.push(n),n}var W1=1,sh=1,I4=0,mo=0,Rr=0,Mh="";function IT(n,e,t,r,i,s,o,a){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:W1,column:sh,length:o,return:"",siblings:a}}function Lee(){return Rr}function Dee(){return Rr=mo>0?km(Mh,--mo):0,sh--,Rr===10&&(sh=1,W1--),Rr}function zo(){return Rr=mo<I4?km(Mh,mo++):0,sh++,Rr===10&&(sh=1,W1++),Rr}function Eu(){return km(Mh,mo)}function _y(){return mo}function j1(n,e){return Nm(Mh,n,e)}function pE(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Oee(n){return W1=sh=1,I4=za(Mh=n),mo=0,[]}function Fee(n){return Mh="",n}function RA(n){return P4(j1(mo-1,mE(n===91?n+2:n===40?n+1:n)))}function Uee(n){for(;(Rr=Eu())&&Rr<33;)zo();return pE(n)>2||pE(Rr)>3?"":" "}function kee(n,e){for(;--e&&zo()&&!(Rr<48||Rr>102||Rr>57&&Rr<65||Rr>70&&Rr<97););return j1(n,_y()+(e<6&&Eu()==32&&zo()==32))}function mE(n){for(;zo();)switch(Rr){case n:return mo;case 34:case 39:n!==34&&n!==39&&mE(Rr);break;case 40:n===41&&mE(n);break;case 92:zo();break}return mo}function Nee(n,e){for(;zo()&&n+Rr!==47+10;)if(n+Rr===42+42&&Eu()===47)break;return"/*"+j1(e,mo-1)+"*"+PT(n===47?n:zo())}function zee(n){for(;!pE(Eu());)zo();return j1(n,mo)}function Gee(n){return Fee(xy("",null,null,null,[""],n=Oee(n),0,[0],n))}function xy(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,f=o,h=0,m=0,v=0,y=1,_=1,g=1,x=0,S="",M=i,E=s,b=r,C=S;_;)switch(v=x,x=zo()){case 40:if(v!=108&&km(C,f-1)==58){Iee(C+=yy(RA(x),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:C+=RA(x);break;case 9:case 10:case 13:case 32:C+=Uee(v);break;case 92:C+=kee(_y()-1,7);continue;case 47:switch(Eu()){case 42:case 47:Dv(Hee(Nee(zo(),_y()),e,t,l),l);break;default:C+="/"}break;case 123*y:a[c++]=za(C)*g;case 125*y:case 59:case 0:switch(x){case 0:case 125:_=0;case 59+u:g==-1&&(C=yy(C,/\f/g,"")),m>0&&za(C)-f&&Dv(m>32?YL(C+";",r,t,f-1,l):YL(yy(C," ","")+";",r,t,f-2,l),l);break;case 59:C+=";";default:if(Dv(b=JL(C,e,t,c,u,i,a,S,M=[],E=[],f,s),s),x===123)if(u===0)xy(C,e,b,b,M,s,f,a,E);else switch(h===99&&km(C,3)===110?100:h){case 100:case 108:case 109:case 115:xy(n,b,b,r&&Dv(JL(n,b,b,0,0,i,a,S,i,M=[],f,E),E),i,E,f,a,r?M:E);break;default:xy(C,b,b,b,[""],E,0,a,E)}}c=u=m=0,y=g=1,S=C="",f=o;break;case 58:f=1+za(C),m=v;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&Dee()==125)continue}switch(C+=PT(x),x*y){case 38:g=u>0?1:(C+="\f",-1);break;case 44:a[c++]=(za(C)-1)*g,g=1;break;case 64:Eu()===45&&(C+=RA(zo())),h=Eu(),u=f=za(S=C+=zee(_y())),x++;break;case 45:v===45&&za(C)==2&&(y=0)}}return s}function JL(n,e,t,r,i,s,o,a,l,c,u,f){for(var h=i-1,m=i===0?s:[""],v=Bee(m),y=0,_=0,g=0;y<r;++y)for(var x=0,S=Nm(n,h+1,h=Pee(_=o[y])),M=n;x<v;++x)(M=P4(_>0?m[x]+" "+S:yy(S,/&\f/g,m[x])))&&(l[g++]=M);return IT(n,e,t,i===0?T4:a,l,c,u,f)}function Hee(n,e,t,r){return IT(n,e,t,C4,PT(Lee()),Nm(n,2,-2),0,r)}function YL(n,e,t,r,i){return IT(n,e,t,R4,Nm(n,0,r),Nm(n,r+1,-1),r,i)}function gE(n,e){for(var t="",r=0;r<n.length;r++)t+=e(n[r],r,n,e)||"";return t}function Vee(n,e,t,r){switch(n.type){case Ree:if(n.children.length)break;case Cee:case R4:return n.return=n.return||n.value;case C4:return"";case Tee:return n.return=n.value+"{"+gE(n.children,r)+"}";case T4:if(!za(n.value=n.props.join(",")))return""}return za(t=gE(n.children,r))?n.return=n.value+"{"+t+"}":""}var KL="data-ant-cssinjs-cache-path",B4="_FILE_STYLE__",bu,L4=!0;function Wee(){if(!bu&&(bu={},Ni())){var n=document.createElement("div");n.className=KL,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var s=i.split(":"),o=Dt(s,2),a=o[0],l=o[1];bu[a]=l});var t=document.querySelector("style[".concat(KL,"]"));if(t){var r;L4=!1,(r=t.parentNode)===null||r===void 0||r.removeChild(t)}document.body.removeChild(n)}}function jee(n){return Wee(),!!bu[n]}function Xee(n){var e=bu[n],t=null;if(e&&Ni())if(L4)t=B4;else{var r=document.querySelector("style[".concat(wu,'="').concat(bu[n],'"]'));r?t=r.innerHTML:delete bu[n]}return[t,e]}var $L=Ni(),Jee="_skip_check_",D4="_multi_value_";function QL(n){var e=gE(Gee(n),Vee);return e.replace(/\{%%%\:[^;];}/g,";")}function Yee(n){return sr(n)==="object"&&n&&(Jee in n||D4 in n)}function Kee(n,e,t){if(!e)return n;var r=".".concat(e),i=t==="low"?":where(".concat(r,")"):r,s=n.split(",").map(function(o){var a,l=o.trim().split(/\s+/),c=l[0]||"",u=((a=c.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return c="".concat(u).concat(i).concat(c.slice(u.length)),[c].concat(po(l.slice(1))).join(" ")});return s.join(",")}var $ee=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,s=r.injectHash,o=r.parentSelectors,a=t.hashId,l=t.layer;t.path;var c=t.hashPriority,u=t.transformers,f=u===void 0?[]:u;t.linters;var h="",m={};function v(S){var M=S.getName(a);if(!m[M]){var E=n(S.style,t,{root:!1,parentSelectors:o}),b=Dt(E,1),C=b[0];m[M]="@keyframes ".concat(S.getName(a)).concat(C)}}function y(S){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return S.forEach(function(E){Array.isArray(E)?y(E,M):E&&M.push(E)}),M}var _=y(Array.isArray(e)?e:[e]);if(_.forEach(function(S){var M=typeof S=="string"&&!i?{}:S;if(typeof M=="string")h+="".concat(M,`
`);else if(M._keyframe)v(M);else{var E=f.reduce(function(b,C){var R;return(C==null||(R=C.visit)===null||R===void 0?void 0:R.call(C,b))||b},M);Object.keys(E).forEach(function(b){var C=E[b];if(sr(C)==="object"&&C&&(b!=="animationName"||!C._keyframe)&&!Yee(C)){var R=!1,T=b.trim(),B=!1;(i||s)&&a?T.startsWith("@")?R=!0:T=Kee(b,a,c):i&&!a&&(T==="&"||T==="")&&(T="",B=!0);var k=n(C,t,{root:B,injectHash:R,parentSelectors:[].concat(po(o),[T])}),N=Dt(k,2),j=N[0],Y=N[1];m=wt(wt({},m),Y),h+="".concat(T).concat(j)}else{let D=function(G,H){var O=G.replace(/[A-Z]/g,function(ie){return"-".concat(ie.toLowerCase())}),X=H;!bee[G]&&typeof X=="number"&&X!==0&&(X="".concat(X,"px")),G==="animationName"&&H!==null&&H!==void 0&&H._keyframe&&(v(H),X=H.getName(a)),h+="".concat(O,":").concat(X,";")};var V=D,Q,W=(Q=C==null?void 0:C.value)!==null&&Q!==void 0?Q:C;sr(C)==="object"&&C!==null&&C!==void 0&&C[D4]&&Array.isArray(W)?W.forEach(function(G){D(b,G)}):D(b,W)}})}}),!i)h="{".concat(h,"}");else if(l&&lee()){var g=l.split(","),x=g[g.length-1].trim();h="@layer ".concat(x," {").concat(h,"}"),g.length>1&&(h="@layer ".concat(l,"{%%%:%}").concat(h))}return[h,m]};function Qee(n,e){return CT("".concat(n.join("%")).concat(e))}function Zee(){return null}function vE(n,e){var t=n.token,r=n.path,i=n.hashId,s=n.layer,o=n.nonce,a=n.clientOnly,l=n.order,c=l===void 0?0:l,u=F.useContext(TT),f=u.autoClear;u.mock;var h=u.defaultCache,m=u.hashPriority,v=u.container,y=u.ssrInline,_=u.transformers,g=u.linters,x=u.cache,S=t._tokenKey,M=[S].concat(po(r)),E=$L,b=E4("style",M,function(){var k=M.join("|");if(jee(k)){var N=Xee(k),j=Dt(N,2),Y=j[0],Q=j[1];if(Y)return[Y,S,Q,{},a,c]}var W=e(),V=$ee(W,{hashId:i,hashPriority:m,layer:s,path:r.join("-"),transformers:_,linters:g}),D=Dt(V,2),G=D[0],H=D[1],O=QL(G),X=Qee(M,O);return[O,S,X,H,a,c]},function(k,N){var j=Dt(k,3),Y=j[2];(N||f)&&$L&&h_(Y,{mark:wu})},function(k){var N=Dt(k,4),j=N[0];N[1];var Y=N[2],Q=N[3];if(E&&j!==B4){var W={mark:wu,prepend:"queue",attachTo:v,priority:c},V=typeof o=="function"?o():o;V&&(W.csp={nonce:V});var D=ih(j,Y,W);D[vd]=x.instanceId,D.setAttribute(dE,S),Object.keys(Q).forEach(function(G){ih(QL(Q[G]),"_effect-".concat(G),W)})}}),C=Dt(b,3),R=C[0],T=C[1],B=C[2];return function(k){var N;if(!y||E||!h)N=F.createElement(Zee,null);else{var j;N=F.createElement("style",pr({},(j={},xn(j,dE,T),xn(j,wu,B),j),{dangerouslySetInnerHTML:{__html:R}}))}return F.createElement(F.Fragment,null,N,k)}}var yo=function(){function n(e,t){Zu(this,n),xn(this,"name",void 0),xn(this,"style",void 0),xn(this,"_keyframe",!0),this.name=e,this.style=t}return qu(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function Vf(n){return n.notSplit=!0,n}Vf(["borderTop","borderBottom"]),Vf(["borderTop"]),Vf(["borderBottom"]),Vf(["borderLeft","borderRight"]),Vf(["borderLeft"]),Vf(["borderRight"]);var qee=F.createContext({});const BT=qee;function ete(n){return S4(n)||h4(n)||ET(n)||A4()}function yE(n,e){for(var t=n,r=0;r<e.length;r+=1){if(t==null)return;t=t[e[r]]}return t}function O4(n,e,t,r){if(!e.length)return t;var i=ete(e),s=i[0],o=i.slice(1),a;return!n&&typeof s=="number"?a=[]:Array.isArray(n)?a=po(n):a=wt({},n),r&&t===void 0&&o.length===1?delete a[s][o[0]]:a[s]=O4(a[s],o,t,r),a}function PA(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&t===void 0&&!yE(n,e.slice(0,-1))?n:O4(n,e,t,r)}function tte(n){return sr(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function ZL(n){return Array.isArray(n)?[]:{}}var nte=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function rte(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=ZL(e[0]);return e.forEach(function(i){function s(o,a){var l=new Set(a),c=yE(i,o),u=Array.isArray(c);if(u||tte(c)){if(!l.has(c)){l.add(c);var f=yE(r,o);u?r=PA(r,o,[]):(!f||sr(f)!=="object")&&(r=PA(r,o,ZL(c))),nte(c).forEach(function(h){s([].concat(po(o),[h]),l)})}}else r=PA(r,o,c)}s([])}),r}const ite=F.createContext(void 0),ste={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};var ote={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const ate={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},F4=ate,lte={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},ote),timePickerLocale:Object.assign({},F4)},qL=lte,_s="${label} is not a valid ${type}",cte={locale:"en",Pagination:ste,DatePicker:qL,TimePicker:F4,Calendar:qL,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:_s,method:_s,array:_s,object:_s,number:_s,date:_s,boolean:_s,integer:_s,float:_s,regexp:_s,email:_s,url:_s,hex:_s},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}},X1=cte;Object.assign({},X1.Modal);let Sy=[];const e3=()=>Sy.reduce((n,e)=>Object.assign(Object.assign({},n),e),X1.Modal);function ute(n){if(n){const e=Object.assign({},n);return Sy.push(e),e3(),()=>{Sy=Sy.filter(t=>t!==e),e3()}}Object.assign({},X1.Modal)}const fte=F.createContext(void 0),U4=fte,dte="internalMark",hte=n=>{const{locale:e={},children:t,_ANT_MARK__:r}=n;F.useEffect(()=>ute(e&&e.Modal),[e]);const i=F.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return F.createElement(U4.Provider,{value:i},t)},pte=hte,m_=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],mte="5.8.5";function si(n,e){gte(n)&&(n="100%");var t=vte(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function Ov(n){return Math.min(1,Math.max(0,n))}function gte(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function vte(n){return typeof n=="string"&&n.indexOf("%")!==-1}function k4(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Fv(n){return n<=1?"".concat(Number(n)*100,"%"):n}function mu(n){return n.length===1?"0"+n:String(n)}function yte(n,e,t){return{r:si(n,255)*255,g:si(e,255)*255,b:si(t,255)*255}}function t3(n,e,t){n=si(n,255),e=si(e,255),t=si(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s=0,o=0,a=(r+i)/2;if(r===i)o=0,s=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function IA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function _te(n,e,t){var r,i,s;if(n=si(n,360),e=si(e,100),t=si(t,100),e===0)i=t,s=t,r=t;else{var o=t<.5?t*(1+e):t+e-t*e,a=2*t-o;r=IA(a,o,n+1/3),i=IA(a,o,n),s=IA(a,o,n-1/3)}return{r:r*255,g:i*255,b:s*255}}function _E(n,e,t){n=si(n,255),e=si(e,255),t=si(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s=0,o=r,a=r-i,l=r===0?0:a/r;if(r===i)s=0;else{switch(r){case n:s=(e-t)/a+(e<t?6:0);break;case e:s=(t-n)/a+2;break;case t:s=(n-e)/a+4;break}s/=6}return{h:s,s:l,v:o}}function xte(n,e,t){n=si(n,360)*6,e=si(e,100),t=si(t,100);var r=Math.floor(n),i=n-r,s=t*(1-e),o=t*(1-i*e),a=t*(1-(1-i)*e),l=r%6,c=[t,o,s,s,a,t][l],u=[a,t,t,o,s,s][l],f=[s,s,a,t,t,o][l];return{r:c*255,g:u*255,b:f*255}}function xE(n,e,t,r){var i=[mu(Math.round(n).toString(16)),mu(Math.round(e).toString(16)),mu(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Ste(n,e,t,r,i){var s=[mu(Math.round(n).toString(16)),mu(Math.round(e).toString(16)),mu(Math.round(t).toString(16)),mu(Ate(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Ate(n){return Math.round(parseFloat(n)*255).toString(16)}function n3(n){return xs(n)/255}function xs(n){return parseInt(n,16)}function Mte(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var SE={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Qf(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,s=null,o=!1,a=!1;return typeof n=="string"&&(n=bte(n)),typeof n=="object"&&(Da(n.r)&&Da(n.g)&&Da(n.b)?(e=yte(n.r,n.g,n.b),o=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Da(n.h)&&Da(n.s)&&Da(n.v)?(r=Fv(n.s),i=Fv(n.v),e=xte(n.h,r,i),o=!0,a="hsv"):Da(n.h)&&Da(n.s)&&Da(n.l)&&(r=Fv(n.s),s=Fv(n.l),e=_te(n.h,r,s),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=k4(t),{ok:o,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var wte="[-\\+]?\\d+%?",Ete="[-\\+]?\\d*\\.\\d+%?",zl="(?:".concat(Ete,")|(?:").concat(wte,")"),BA="[\\s|\\(]+(".concat(zl,")[,|\\s]+(").concat(zl,")[,|\\s]+(").concat(zl,")\\s*\\)?"),LA="[\\s|\\(]+(".concat(zl,")[,|\\s]+(").concat(zl,")[,|\\s]+(").concat(zl,")[,|\\s]+(").concat(zl,")\\s*\\)?"),To={CSS_UNIT:new RegExp(zl),rgb:new RegExp("rgb"+BA),rgba:new RegExp("rgba"+LA),hsl:new RegExp("hsl"+BA),hsla:new RegExp("hsla"+LA),hsv:new RegExp("hsv"+BA),hsva:new RegExp("hsva"+LA),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function bte(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(SE[n])n=SE[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=To.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=To.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=To.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=To.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=To.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=To.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=To.hex8.exec(n),t?{r:xs(t[1]),g:xs(t[2]),b:xs(t[3]),a:n3(t[4]),format:e?"name":"hex8"}:(t=To.hex6.exec(n),t?{r:xs(t[1]),g:xs(t[2]),b:xs(t[3]),format:e?"name":"hex"}:(t=To.hex4.exec(n),t?{r:xs(t[1]+t[1]),g:xs(t[2]+t[2]),b:xs(t[3]+t[3]),a:n3(t[4]+t[4]),format:e?"name":"hex8"}:(t=To.hex3.exec(n),t?{r:xs(t[1]+t[1]),g:xs(t[2]+t[2]),b:xs(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Da(n){return!!To.CSS_UNIT.exec(String(n))}var Ui=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var r;if(e instanceof n)return e;typeof e=="number"&&(e=Mte(e)),this.originalInput=e;var i=Qf(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=t.format)!==null&&r!==void 0?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,r,i,s=e.r/255,o=e.g/255,a=e.b/255;return s<=.03928?t=s/12.92:t=Math.pow((s+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*r+.0722*i},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=k4(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=_E(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=_E(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=t3(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=t3(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),xE(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),Ste(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(si(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(si(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+xE(this.r,this.g,this.b,!1),t=0,r=Object.entries(SE);t<r.length;t++){var i=r[t],s=i[0],o=i[1];if(e===o)return s}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,s=!t&&i&&(e.startsWith("hex")||e==="name");return s?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Ov(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Ov(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Ov(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Ov(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),s=t/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return new n(o)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var r=this.toHsl(),i=360/t,s=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(new n(r));return s},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,s=t.v,o=[],a=1/e;e--;)o.push(new n({h:r,s:i,v:s})),s=(s+a)%1;return o},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],s=360/e,o=1;o<e;o++)i.push(new n({h:(r+o*s)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),Uv=2,r3=.16,Cte=.05,Tte=.05,Rte=.15,N4=5,z4=4,Pte=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function i3(n){var e=n.r,t=n.g,r=n.b,i=_E(e,t,r);return{h:i.h*360,s:i.s,v:i.v}}function kv(n){var e=n.r,t=n.g,r=n.b;return"#".concat(xE(e,t,r,!1))}function Ite(n,e,t){var r=t/100,i={r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b};return i}function s3(n,e,t){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-Uv*e:Math.round(n.h)+Uv*e:r=t?Math.round(n.h)+Uv*e:Math.round(n.h)-Uv*e,r<0?r+=360:r>=360&&(r-=360),r}function o3(n,e,t){if(n.h===0&&n.s===0)return n.s;var r;return t?r=n.s-r3*e:e===z4?r=n.s+r3:r=n.s+Cte*e,r>1&&(r=1),t&&e===N4&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function a3(n,e,t){var r;return t?r=n.v+Tte*e:r=n.v-Rte*e,r>1&&(r=1),Number(r.toFixed(2))}function nl(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=Qf(n),i=N4;i>0;i-=1){var s=i3(r),o=kv(Qf({h:s3(s,i,!0),s:o3(s,i,!0),v:a3(s,i,!0)}));t.push(o)}t.push(kv(r));for(var a=1;a<=z4;a+=1){var l=i3(r),c=kv(Qf({h:s3(l,a),s:o3(l,a),v:a3(l,a)}));t.push(c)}return e.theme==="dark"?Pte.map(function(u){var f=u.index,h=u.opacity,m=kv(Ite(Qf(e.backgroundColor||"#141414"),Qf(t[f]),h*100));return m}):t}var DA={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ay={},OA={};Object.keys(DA).forEach(function(n){Ay[n]=nl(DA[n]),Ay[n].primary=Ay[n][5],OA[n]=nl(DA[n],{theme:"dark",backgroundColor:"#141414"}),OA[n].primary=OA[n][5]});var Bte=Ay.blue;const Lte=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},G4=Lte;function Dte(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const LT={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Ote=Object.assign(Object.assign({},LT),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),bg=Ote;function H4(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:s,colorError:o,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:u}=n,f=t(l),h=t(i),m=t(s),v=t(o),y=t(a),_=r(c,u),g=n.colorLink||n.colorInfo,x=t(g);return Object.assign(Object.assign({},_),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:v[1],colorErrorBgHover:v[2],colorErrorBorder:v[3],colorErrorBorderHover:v[4],colorErrorHover:v[5],colorError:v[6],colorErrorActive:v[7],colorErrorTextHover:v[8],colorErrorText:v[9],colorErrorTextActive:v[10],colorWarningBg:m[1],colorWarningBgHover:m[2],colorWarningBorder:m[3],colorWarningBorderHover:m[4],colorWarningHover:m[4],colorWarning:m[6],colorWarningActive:m[7],colorWarningTextHover:m[8],colorWarningText:m[9],colorWarningTextActive:m[10],colorInfoBg:y[1],colorInfoBgHover:y[2],colorInfoBorder:y[3],colorInfoBorderHover:y[4],colorInfoHover:y[4],colorInfo:y[6],colorInfoActive:y[7],colorInfoTextHover:y[8],colorInfoText:y[9],colorInfoTextActive:y[10],colorLinkHover:x[4],colorLink:x[6],colorLinkActive:x[7],colorBgMask:new Ui("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const Fte=n=>{let e=n,t=n,r=n,i=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?r=1:n>=6&&(r=2),n>4&&n<8?i=4:n>=8&&(i=6),{borderRadius:n>16?16:n,borderRadiusXS:r,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:i}},Ute=Fte;function kte(n){const{motionUnit:e,motionBase:t,borderRadius:r,lineWidth:i}=n;return Object.assign({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:i+1},Ute(r))}const Oa=(n,e)=>new Ui(n).setAlpha(e).toRgbString(),_p=(n,e)=>new Ui(n).darken(e).toHexString(),Nte=n=>{const e=nl(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},zte=(n,e)=>{const t=n||"#fff",r=e||"#000";return{colorBgBase:t,colorTextBase:r,colorText:Oa(r,.88),colorTextSecondary:Oa(r,.65),colorTextTertiary:Oa(r,.45),colorTextQuaternary:Oa(r,.25),colorFill:Oa(r,.15),colorFillSecondary:Oa(r,.06),colorFillTertiary:Oa(r,.04),colorFillQuaternary:Oa(r,.02),colorBgLayout:_p(t,4),colorBgContainer:_p(t,0),colorBgElevated:_p(t,0),colorBgSpotlight:Oa(r,.85),colorBorder:_p(t,15),colorBorderSecondary:_p(t,6)}};function Gte(n){const e=new Array(10).fill(null).map((t,r)=>{const i=r-1,s=n*Math.pow(2.71828,i/5),o=r>1?Math.floor(s):Math.ceil(s);return Math.floor(o/2)*2});return e[1]=n,e.map(t=>{const r=t+8;return{size:t,lineHeight:r/t}})}const Hte=n=>{const e=Gte(n),t=e.map(i=>i.size),r=e.map(i=>i.lineHeight);return{fontSizeSM:t[0],fontSize:t[1],fontSizeLG:t[2],fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}},V4=Hte;function Cg(n){const e=Object.keys(LT).map(t=>{const r=nl(n[t]);return new Array(10).fill(1).reduce((i,s,o)=>(i[`${t}-${o+1}`]=r[o],i[`${t}${o+1}`]=r[o],i),{})}).reduce((t,r)=>(t=Object.assign(Object.assign({},t),r),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),e),H4(n,{generateColorPalettes:Nte,generateNeutralColorPalettes:zte})),V4(n.fontSize)),Dte(n)),G4(n)),kte(n))}const W4=Um(Cg),g_={token:bg,hashed:!0},j4=rn.createContext(g_);function FA(n){return n>=0&&n<=255}function Nv(n,e){const{r:t,g:r,b:i,a:s}=new Ui(n).toRgb();if(s<1)return n;const{r:o,g:a,b:l}=new Ui(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((t-o*(1-c))/c),f=Math.round((r-a*(1-c))/c),h=Math.round((i-l*(1-c))/c);if(FA(u)&&FA(f)&&FA(h))return new Ui({r:u,g:f,b:h,a:Math.round(c*100)/100}).toRgbString()}return new Ui({r:t,g:r,b:i,a:1}).toRgbString()}var Vte=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function DT(n){const{override:e}=n,t=Vte(n,["override"]),r=Object.assign({},e);Object.keys(bg).forEach(h=>{delete r[h]});const i=Object.assign(Object.assign({},t),r),s=480,o=576,a=768,l=992,c=1200,u=1600;if(i.motion===!1){const h="0s";i.motionDurationFast=h,i.motionDurationMid=h,i.motionDurationSlow=h}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:Nv(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:Nv(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:Nv(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*4,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:Nv(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:s,screenXSMin:s,screenXSMax:o-1,screenSM:o,screenSMMin:o,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Ui("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Ui("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Ui("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var l3=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const X4=(n,e,t)=>{const r=t.getDerivativeToken(n),{override:i}=e,s=l3(e,["override"]);let o=Object.assign(Object.assign({},r),{override:i});return o=DT(o),s&&Object.entries(s).forEach(a=>{let[l,c]=a;const{theme:u}=c,f=l3(c,["theme"]);let h=f;u&&(h=X4(Object.assign(Object.assign({},o),f),{override:f},u)),o[l]=h}),o};function ef(){const{token:n,hashed:e,theme:t,components:r}=rn.useContext(j4),i=`${mte}-${e||""}`,s=t||W4,[o,a]=Eee(s,[bg,n],{salt:i,override:Object.assign({override:n},r),getComputedToken:X4,formatToken:DT});return[s,o,e?a:""]}function ia(n){var e=F.useRef();e.current=n;var t=F.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(s))},[]);return t}function Dd(n){var e=F.useRef(!1),t=F.useState(n),r=Dt(t,2),i=r[0],s=r[1];F.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function o(a,l){l&&e.current||s(a)}return[i,o]}function UA(n){return n!==void 0}function Wte(n,e){var t=e||{},r=t.defaultValue,i=t.value,s=t.onChange,o=t.postState,a=Dd(function(){return UA(i)?i:UA(r)?typeof r=="function"?r():r:typeof n=="function"?n():n}),l=Dt(a,2),c=l[0],u=l[1],f=i!==void 0?i:c,h=o?o(f):f,m=ia(s),v=Dd([f]),y=Dt(v,2),_=y[0],g=y[1];jL(function(){var S=_[0];c!==S&&m(c,S)},[_]),jL(function(){UA(i)||u(i)},[i]);var x=ia(function(S,M){u(S,M),g([f],M)});return[h,x]}const J4="anticon",jte=(n,e)=>e||(n?`ant-${n}`:"ant"),Os=F.createContext({getPrefixCls:jte,iconPrefixCls:J4}),Xte=(n,e,t,r,i)=>{const s=n/2,o=0,a=s,l=t*1/Math.sqrt(2),c=s-t*(1-1/Math.sqrt(2)),u=s-e*(1/Math.sqrt(2)),f=t*(Math.sqrt(2)-1)+e*(1/Math.sqrt(2)),h=2*s-u,m=f,v=2*s-l,y=c,_=2*s-o,g=a,x=s*Math.sqrt(2)+t*(Math.sqrt(2)-2),S=t*(Math.sqrt(2)-1);return{pointerEvents:"none",width:n,height:n,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:n,height:n/2,background:r,clipPath:{_multi_value_:!0,value:[`polygon(${S}px 100%, 50% ${S}px, ${2*s-S}px 100%, ${S}px 100%)`,`path('M ${o} ${a} A ${t} ${t} 0 0 0 ${l} ${c} L ${u} ${f} A ${e} ${e} 0 0 1 ${h} ${m} L ${v} ${y} A ${t} ${t} 0 0 0 ${_} ${g} Z')`]},content:'""'},"&::after":{content:'""',position:"absolute",width:x,height:x,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${e}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:i,zIndex:0,background:"transparent"}}},Y4=n=>({boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:n.fontFamily}),Jte=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Yte=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active,\n  &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),Kte=(n,e)=>{const{fontFamily:t,fontSize:r}=n,i=`[class^="${e}"], [class*=" ${e}"]`;return{[i]:{fontFamily:t,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[i]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},$te=n=>({outline:`${n.lineWidthFocus}px solid ${n.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),Qte=n=>({"&:focus-visible":Object.assign({},$te(n))}),K4=typeof CSSINJS_STATISTIC<"u";let AE=!0;function rl(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!K4)return Object.assign.apply(Object,[{}].concat(e));AE=!1;const r={};return e.forEach(i=>{Object.keys(i).forEach(o=>{Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:()=>i[o]})})}),AE=!0,r}const c3={};function Zte(){}function qte(n){let e,t=n,r=Zte;return K4&&(e=new Set,t=new Proxy(n,{get(i,s){return AE&&e.add(s),i[s]}}),r=(i,s)=>{var o;c3[i]={global:Array.from(e),component:Object.assign(Object.assign({},(o=c3[i])===null||o===void 0?void 0:o.component),s)}}),{token:t,keys:e,flush:r}}const ene=(n,e)=>{const[t,r]=ef();return vE({theme:t,token:r,hashId:"",path:["ant-design-icons",n],nonce:()=>e==null?void 0:e.nonce},()=>[{[`.${n}`]:Object.assign(Object.assign({},Jte()),{[`.${n} .${n}-icon`]:{display:"block"}})}])},$4=ene;function wh(n,e,t,r){const i=Array.isArray(n)?n:[n,n],[s]=i,o=i.join("-");return a=>{const[l,c,u]=ef(),{getPrefixCls:f,iconPrefixCls:h,csp:m}=F.useContext(Os),v=f(),y={theme:l,token:c,hashId:u,nonce:()=>m==null?void 0:m.nonce,clientOnly:r==null?void 0:r.clientOnly,order:-999};return vE(Object.assign(Object.assign({},y),{clientOnly:!1,path:["Shared",v]}),()=>[{"&":Yte(c)}]),$4(h),[vE(Object.assign(Object.assign({},y),{path:[o,a,h]}),()=>{const{token:_,flush:g}=qte(c),x=Object.assign({},c[s]);if(r!=null&&r.deprecatedTokens){const{deprecatedTokens:R}=r;R.forEach(T=>{let[B,k]=T;var N;(x!=null&&x[B]||x!=null&&x[k])&&((N=x[k])!==null&&N!==void 0||(x[k]=x==null?void 0:x[B]))})}const S=typeof t=="function"?t(rl(_,x??{})):t,M=Object.assign(Object.assign({},S),x),E=`.${a}`,b=rl(_,{componentCls:E,prefixCls:a,iconCls:`.${h}`,antCls:`.${v}`},M),C=e(b,{hashId:u,prefixCls:a,rootPrefixCls:v,iconPrefixCls:h,overrideComponentToken:x});return g(s,M),[(r==null?void 0:r.resetStyle)===!1?null:Kte(c,a),C]}),u]}}function tne(n,e){return m_.reduce((t,r)=>{const i=n[`${r}1`],s=n[`${r}3`],o=n[`${r}6`],a=n[`${r}7`];return Object.assign(Object.assign({},t),e(r,{lightColor:i,lightBorderColor:s,darkColor:o,textColor:a}))},{})}const nne=`-ant-${Date.now()}-${Math.random()}`;function rne(n,e){const t={},r=(o,a)=>{let l=o.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},i=(o,a)=>{const l=new Ui(o),c=nl(l.toRgbString());t[`${a}-color`]=r(l),t[`${a}-color-disabled`]=c[1],t[`${a}-color-hover`]=c[4],t[`${a}-color-active`]=c[6],t[`${a}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),t[`${a}-color-deprecated-bg`]=c[0],t[`${a}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const o=new Ui(e.primaryColor),a=nl(o.toRgbString());a.forEach((c,u)=>{t[`primary-${u+1}`]=c}),t["primary-color-deprecated-l-35"]=r(o,c=>c.lighten(35)),t["primary-color-deprecated-l-20"]=r(o,c=>c.lighten(20)),t["primary-color-deprecated-t-20"]=r(o,c=>c.tint(20)),t["primary-color-deprecated-t-50"]=r(o,c=>c.tint(50)),t["primary-color-deprecated-f-12"]=r(o,c=>c.setAlpha(c.getAlpha()*.12));const l=new Ui(a[0]);t["primary-color-active-deprecated-f-30"]=r(l,c=>c.setAlpha(c.getAlpha()*.3)),t["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(o=>`--${n}-${o}: ${t[o]};`).join(`
`)}
  }
  `.trim()}function ine(n,e){const t=rne(n,e);Ni()&&ih(t,`${nne}-dynamic-theme`)}const ME=F.createContext(!1),sne=n=>{let{children:e,disabled:t}=n;const r=F.useContext(ME);return F.createElement(ME.Provider,{value:t??r},e)},Q4=ME,wE=F.createContext(void 0),one=n=>{let{children:e,size:t}=n;const r=F.useContext(wE);return F.createElement(wE.Provider,{value:t||r},e)},J1=wE;function ane(){const n=F.useContext(Q4),e=F.useContext(J1);return{componentDisabled:n,componentSize:e}}function lne(n,e){const t=n||{},r=t.inherit===!1||!e?g_:e;return AT(()=>{if(!n)return e;const i=Object.assign({},r.components);return Object.keys(n.components||{}).forEach(s=>{i[s]=Object.assign(Object.assign({},i[s]),n.components[s])}),Object.assign(Object.assign(Object.assign({},r),t),{token:Object.assign(Object.assign({},r.token),t.token),components:i})},[t,r],(i,s)=>i.some((o,a)=>{const l=s[a];return!$q(o,l,!0)}))}var cne=["children"],Z4=F.createContext({});function une(n){var e=n.children,t=Vu(n,cne);return F.createElement(Z4.Provider,{value:t},e)}var fne=function(n){vT(t,n);var e=yT(t);function t(){return Zu(this,t),e.apply(this,arguments)}return qu(t,[{key:"render",value:function(){return this.props.children}}]),t}(F.Component),eu="none",zv="appear",Gv="enter",Hv="leave",u3="none",Bo="prepare",yd="start",_d="active",OT="end",q4="prepared";function f3(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit".concat(n)]="webkit".concat(e),t["Moz".concat(n)]="moz".concat(e),t["ms".concat(n)]="MS".concat(e),t["O".concat(n)]="o".concat(e.toLowerCase()),t}function dne(n,e){var t={animationend:f3("Animation","AnimationEnd"),transitionend:f3("Transition","TransitionEnd")};return n&&("AnimationEvent"in e||delete t.animationend.animation,"TransitionEvent"in e||delete t.transitionend.transition),t}var hne=dne(Ni(),typeof window<"u"?window:{}),ez={};if(Ni()){var pne=document.createElement("div");ez=pne.style}var Vv={};function tz(n){if(Vv[n])return Vv[n];var e=hne[n];if(e)for(var t=Object.keys(e),r=t.length,i=0;i<r;i+=1){var s=t[i];if(Object.prototype.hasOwnProperty.call(e,s)&&s in ez)return Vv[n]=e[s],Vv[n]}return""}var nz=tz("animationend"),rz=tz("transitionend"),iz=!!(nz&&rz),d3=nz||"animationend",h3=rz||"transitionend";function p3(n,e){if(!n)return null;if(sr(n)==="object"){var t=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return n[t]}return"".concat(n,"-").concat(e)}const mne=function(n){var e=F.useRef(),t=F.useRef(n);t.current=n;var r=F.useCallback(function(o){t.current(o)},[]);function i(o){o&&(o.removeEventListener(h3,r),o.removeEventListener(d3,r))}function s(o){e.current&&e.current!==o&&i(e.current),o&&o!==e.current&&(o.addEventListener(h3,r),o.addEventListener(d3,r),e.current=o)}return F.useEffect(function(){return function(){i(e.current)}},[]),[s,i]};var sz=Ni()?F.useLayoutEffect:F.useEffect;const gne=function(){var n=F.useRef(null);function e(){tl.cancel(n.current)}function t(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var s=tl(function(){i<=1?r({isCanceled:function(){return s!==n.current}}):t(r,i-1)});n.current=s}return F.useEffect(function(){return function(){e()}},[]),[t,e]};var vne=[Bo,yd,_d,OT],yne=[Bo,q4],oz=!1,_ne=!0;function az(n){return n===_d||n===OT}const xne=function(n,e,t){var r=Dd(u3),i=Dt(r,2),s=i[0],o=i[1],a=gne(),l=Dt(a,2),c=l[0],u=l[1];function f(){o(Bo,!0)}var h=e?yne:vne;return sz(function(){if(s!==u3&&s!==OT){var m=h.indexOf(s),v=h[m+1],y=t(s);y===oz?o(v,!0):v&&c(function(_){function g(){_.isCanceled()||o(v,!0)}y===!0?g():Promise.resolve(y).then(g)})}},[n,s]),F.useEffect(function(){return function(){u()}},[]),[f,s]};function Sne(n,e,t,r){var i=r.motionEnter,s=i===void 0?!0:i,o=r.motionAppear,a=o===void 0?!0:o,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,f=r.motionLeaveImmediately,h=r.onAppearPrepare,m=r.onEnterPrepare,v=r.onLeavePrepare,y=r.onAppearStart,_=r.onEnterStart,g=r.onLeaveStart,x=r.onAppearActive,S=r.onEnterActive,M=r.onLeaveActive,E=r.onAppearEnd,b=r.onEnterEnd,C=r.onLeaveEnd,R=r.onVisibleChanged,T=Dd(),B=Dt(T,2),k=B[0],N=B[1],j=Dd(eu),Y=Dt(j,2),Q=Y[0],W=Y[1],V=Dd(null),D=Dt(V,2),G=D[0],H=D[1],O=F.useRef(!1),X=F.useRef(null);function ie(){return t()}var ae=F.useRef(!1);function oe(){W(eu,!0),H(null,!0)}function fe(Re){var Te=ie();if(!(Re&&!Re.deadline&&Re.target!==Te)){var xe=ae.current,Qe;Q===zv&&xe?Qe=E==null?void 0:E(Te,Re):Q===Gv&&xe?Qe=b==null?void 0:b(Te,Re):Q===Hv&&xe&&(Qe=C==null?void 0:C(Te,Re)),Q!==eu&&xe&&Qe!==!1&&oe()}}var ue=mne(fe),me=Dt(ue,1),Ne=me[0],Xe=function(Te){var xe,Qe,K;switch(Te){case zv:return xe={},xn(xe,Bo,h),xn(xe,yd,y),xn(xe,_d,x),xe;case Gv:return Qe={},xn(Qe,Bo,m),xn(Qe,yd,_),xn(Qe,_d,S),Qe;case Hv:return K={},xn(K,Bo,v),xn(K,yd,g),xn(K,_d,M),K;default:return{}}},ye=F.useMemo(function(){return Xe(Q)},[Q]),$=xne(Q,!n,function(Re){if(Re===Bo){var Te=ye[Bo];return Te?Te(ie()):oz}if(Ee in ye){var xe;H(((xe=ye[Ee])===null||xe===void 0?void 0:xe.call(ye,ie(),null))||null)}return Ee===_d&&(Ne(ie()),u>0&&(clearTimeout(X.current),X.current=setTimeout(function(){fe({deadline:!0})},u))),Ee===q4&&oe(),_ne}),we=Dt($,2),_e=we[0],Ee=we[1],Ae=az(Ee);ae.current=Ae,sz(function(){N(e);var Re=O.current;O.current=!0;var Te;!Re&&e&&a&&(Te=zv),Re&&e&&s&&(Te=Gv),(Re&&!e&&c||!Re&&f&&!e&&c)&&(Te=Hv);var xe=Xe(Te);Te&&(n||xe[Bo])?(W(Te),_e()):W(eu)},[e]),F.useEffect(function(){(Q===zv&&!a||Q===Gv&&!s||Q===Hv&&!c)&&W(eu)},[a,s,c]),F.useEffect(function(){return function(){O.current=!1,clearTimeout(X.current)}},[]);var Ye=F.useRef(!1);F.useEffect(function(){k&&(Ye.current=!0),k!==void 0&&Q===eu&&((Ye.current||k)&&(R==null||R(k)),Ye.current=!0)},[k,Q]);var de=G;return ye[Bo]&&Ee===yd&&(de=wt({transition:"none"},de)),[Q,Ee,de,k??e]}function Ane(n){var e=n;sr(n)==="object"&&(e=n.transitionSupport);function t(i,s){return!!(i.motionName&&e&&s!==!1)}var r=F.forwardRef(function(i,s){var o=i.visible,a=o===void 0?!0:o,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,f=i.children,h=i.motionName,m=i.leavedClassName,v=i.eventProps,y=F.useContext(Z4),_=y.motion,g=t(i,_),x=F.useRef(),S=F.useRef();function M(){try{return x.current instanceof HTMLElement?x.current:lE(S.current)}catch{return null}}var E=Sne(g,a,M,i),b=Dt(E,4),C=b[0],R=b[1],T=b[2],B=b[3],k=F.useRef(B);B&&(k.current=!0);var N=F.useCallback(function(H){x.current=H,MT(s,H)},[s]),j,Y=wt(wt({},v),{},{visible:a});if(!f)j=null;else if(C===eu)B?j=f(wt({},Y),N):!c&&k.current&&m?j=f(wt(wt({},Y),{},{className:m}),N):u||!c&&!m?j=f(wt(wt({},Y),{},{style:{display:"none"}}),N):j=null;else{var Q,W;R===Bo?W="prepare":az(R)?W="active":R===yd&&(W="start");var V=p3(h,"".concat(C,"-").concat(W));j=f(wt(wt({},Y),{},{className:zn(p3(h,C),(Q={},xn(Q,V,V&&W),xn(Q,h,typeof h=="string"),Q)),style:T}),N)}if(F.isValidElement(j)&&Eg(j)){var D=j,G=D.ref;G||(j=F.cloneElement(j,{ref:N}))}return F.createElement(fne,{ref:S},j)});return r.displayName="CSSMotion",r}const Tg=Ane(iz);var EE="add",bE="keep",CE="remove",kA="removed";function Mne(n){var e;return n&&sr(n)==="object"&&"key"in n?e=n:e={key:n},wt(wt({},e),{},{key:String(e.key)})}function TE(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return n.map(Mne)}function wne(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=[],r=0,i=e.length,s=TE(n),o=TE(e);s.forEach(function(c){for(var u=!1,f=r;f<i;f+=1){var h=o[f];if(h.key===c.key){r<f&&(t=t.concat(o.slice(r,f).map(function(m){return wt(wt({},m),{},{status:EE})})),r=f),t.push(wt(wt({},h),{},{status:bE})),r+=1,u=!0;break}}u||t.push(wt(wt({},c),{},{status:CE}))}),r<i&&(t=t.concat(o.slice(r).map(function(c){return wt(wt({},c),{},{status:EE})})));var a={};t.forEach(function(c){var u=c.key;a[u]=(a[u]||0)+1});var l=Object.keys(a).filter(function(c){return a[c]>1});return l.forEach(function(c){t=t.filter(function(u){var f=u.key,h=u.status;return f!==c||h!==CE}),t.forEach(function(u){u.key===c&&(u.status=bE)})}),t}var Ene=["component","children","onVisibleChanged","onAllRemoved"],bne=["status"],Cne=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Tne(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Tg,t=function(r){vT(s,r);var i=yT(s);function s(){var o;Zu(this,s);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return o=i.call.apply(i,[this].concat(l)),xn(sE(o),"state",{keyEntities:[]}),xn(sE(o),"removeKey",function(u){var f=o.state.keyEntities,h=f.map(function(m){return m.key!==u?m:wt(wt({},m),{},{status:kA})});return o.setState({keyEntities:h}),h.filter(function(m){var v=m.status;return v!==kA}).length}),o}return qu(s,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,c=this.props,u=c.component,f=c.children,h=c.onVisibleChanged,m=c.onAllRemoved,v=Vu(c,Ene),y=u||F.Fragment,_={};return Cne.forEach(function(g){_[g]=v[g],delete v[g]}),delete v.keys,F.createElement(y,v,l.map(function(g){var x=g.status,S=Vu(g,bne),M=x===EE||x===bE;return F.createElement(e,pr({},_,{key:S.key,visible:M,eventProps:S,onVisibleChanged:function(b){if(h==null||h(b,{key:S.key}),!b){var C=a.removeKey(S.key);C===0&&m&&m()}}}),f)}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.keys,u=l.keyEntities,f=TE(c),h=wne(u,f);return{keyEntities:h.filter(function(m){var v=u.find(function(y){var _=y.key;return m.key===_});return!(v&&v.status===kA&&m.status===CE)})}}}]),s}(F.Component);return xn(t,"defaultProps",{component:"div"}),t}Tne(iz);function Rne(n){const{children:e}=n,[,t]=ef(),{motion:r}=t,i=F.useRef(!1);return i.current=i.current||r===!1,i.current?F.createElement(une,{motion:r},e):e}var Pne=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Ine=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"],Bne="ant";let lz;function Lne(){return lz||Bne}function Dne(n){return Object.keys(n).some(e=>e.endsWith("Color"))}const One=n=>{let{prefixCls:e,iconPrefixCls:t,theme:r}=n;e!==void 0&&(lz=e),r&&Dne(r)&&ine(Lne(),r)},Fne=n=>{const{children:e,csp:t,autoInsertSpaceInButton:r,alert:i,anchor:s,form:o,locale:a,componentSize:l,direction:c,space:u,virtual:f,dropdownMatchSelectWidth:h,popupMatchSelectWidth:m,popupOverflow:v,legacyLocale:y,parentContext:_,iconPrefixCls:g,theme:x,componentDisabled:S,segmented:M,statistic:E,spin:b,calendar:C,carousel:R,cascader:T,collapse:B,typography:k,checkbox:N,descriptions:j,divider:Y,drawer:Q,skeleton:W,steps:V,image:D,layout:G,list:H,mentions:O,modal:X,progress:ie,result:ae,slider:oe,breadcrumb:fe,menu:ue,pagination:me,input:Ne,empty:Xe,badge:ye,radio:$,rate:we,switch:_e,transfer:Ee,avatar:Ae,message:Ye,tag:de,table:Re,card:Te,tabs:xe,timeline:Qe,timePicker:K,upload:z,notification:ce,tree:Ve,colorPicker:De,datePicker:Be,wave:Ke}=n,We=F.useCallback((ze,st)=>{const{prefixCls:gt}=n;if(st)return st;const Et=gt||_.getPrefixCls("");return ze?`${Et}-${ze}`:Et},[_.getPrefixCls,n.prefixCls]),ve=g||_.iconPrefixCls||J4,ne=ve!==_.iconPrefixCls,Se=t||_.csp,Ce=$4(ve,Se),Ie=lne(x,_.theme),Ge={csp:Se,autoInsertSpaceInButton:r,alert:i,anchor:s,locale:a||y,direction:c,space:u,virtual:f,popupMatchSelectWidth:m??h,popupOverflow:v,getPrefixCls:We,iconPrefixCls:ve,theme:Ie,segmented:M,statistic:E,spin:b,calendar:C,carousel:R,cascader:T,collapse:B,typography:k,checkbox:N,descriptions:j,divider:Y,drawer:Q,skeleton:W,steps:V,image:D,input:Ne,layout:G,list:H,mentions:O,modal:X,progress:ie,result:ae,slider:oe,breadcrumb:fe,menu:ue,pagination:me,empty:Xe,badge:ye,radio:$,rate:we,switch:_e,transfer:Ee,avatar:Ae,message:Ye,tag:de,table:Re,card:Te,tabs:xe,timeline:Qe,timePicker:K,upload:z,notification:ce,tree:Ve,colorPicker:De,datePicker:Be,wave:Ke},Ze=Object.assign({},_);Object.keys(Ge).forEach(ze=>{Ge[ze]!==void 0&&(Ze[ze]=Ge[ze])}),Ine.forEach(ze=>{const st=n[ze];st&&(Ze[ze]=st)});const tt=AT(()=>Ze,Ze,(ze,st)=>{const gt=Object.keys(ze),Et=Object.keys(st);return gt.length!==Et.length||gt.some(kt=>ze[kt]!==st[kt])}),se=F.useMemo(()=>({prefixCls:ve,csp:Se}),[ve,Se]);let pe=ne?Ce(e):e;const be=F.useMemo(()=>{var ze,st,gt,Et;return rte(((ze=X1.Form)===null||ze===void 0?void 0:ze.defaultValidateMessages)||{},((gt=(st=tt.locale)===null||st===void 0?void 0:st.Form)===null||gt===void 0?void 0:gt.defaultValidateMessages)||{},((Et=tt.form)===null||Et===void 0?void 0:Et.validateMessages)||{},(o==null?void 0:o.validateMessages)||{})},[tt,o==null?void 0:o.validateMessages]);Object.keys(be).length>0&&(pe=F.createElement(ite.Provider,{value:be},e)),a&&(pe=F.createElement(pte,{locale:a,_ANT_MARK__:dte},pe)),(ve||Se)&&(pe=F.createElement(BT.Provider,{value:se},pe)),l&&(pe=F.createElement(one,{size:l},pe)),pe=F.createElement(Rne,null,pe);const $e=F.useMemo(()=>{const ze=Ie||{},{algorithm:st,token:gt,components:Et}=ze,kt=Pne(ze,["algorithm","token","components"]),zt=st&&(!Array.isArray(st)||st.length>0)?Um(st):W4,Rt={};return Object.entries(Et||{}).forEach(Ft=>{let[Rn,Pn]=Ft;const Pt=Object.assign({},Pn);"algorithm"in Pt&&(Pt.algorithm===!0?Pt.theme=zt:(Array.isArray(Pt.algorithm)||typeof Pt.algorithm=="function")&&(Pt.theme=Um(Pt.algorithm)),delete Pt.algorithm),Rt[Rn]=Pt}),Object.assign(Object.assign({},kt),{theme:zt,token:Object.assign(Object.assign({},bg),gt),components:Rt})},[Ie]);return x&&(pe=F.createElement(j4.Provider,{value:$e},pe)),S!==void 0&&(pe=F.createElement(sne,{disabled:S},pe)),F.createElement(Os.Provider,{value:tt},pe)},Rg=n=>{const e=F.useContext(Os),t=F.useContext(U4);return F.createElement(Fne,Object.assign({parentContext:e,legacyLocale:t},n))};Rg.ConfigContext=Os;Rg.SizeContext=J1;Rg.config=One;Rg.useConfig=ane;Object.defineProperty(Rg,"SizeContext",{get:()=>J1});var Une=1/0,kne="[object Symbol]",Nne=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zne=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Y1="\\ud800-\\udfff",cz="\\u0300-\\u036f\\ufe20-\\ufe23",uz="\\u20d0-\\u20f0",fz="\\u2700-\\u27bf",dz="a-z\\xdf-\\xf6\\xf8-\\xff",Gne="\\xac\\xb1\\xd7\\xf7",Hne="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vne="\\u2000-\\u206f",Wne=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hz="A-Z\\xc0-\\xd6\\xd8-\\xde",pz="\\ufe0e\\ufe0f",mz=Gne+Hne+Vne+Wne,FT="[']",jne="["+Y1+"]",m3="["+mz+"]",v_="["+cz+uz+"]",gz="\\d+",Xne="["+fz+"]",vz="["+dz+"]",yz="[^"+Y1+mz+gz+fz+dz+hz+"]",RE="\\ud83c[\\udffb-\\udfff]",Jne="(?:"+v_+"|"+RE+")",_z="[^"+Y1+"]",UT="(?:\\ud83c[\\udde6-\\uddff]){2}",kT="[\\ud800-\\udbff][\\udc00-\\udfff]",Zf="["+hz+"]",xz="\\u200d",g3="(?:"+vz+"|"+yz+")",Yne="(?:"+Zf+"|"+yz+")",v3="(?:"+FT+"(?:d|ll|m|re|s|t|ve))?",y3="(?:"+FT+"(?:D|LL|M|RE|S|T|VE))?",Sz=Jne+"?",Az="["+pz+"]?",Kne="(?:"+xz+"(?:"+[_z,UT,kT].join("|")+")"+Az+Sz+")*",Mz=Az+Sz+Kne,$ne="(?:"+[Xne,UT,kT].join("|")+")"+Mz,Qne="(?:"+[_z+v_+"?",v_,UT,kT,jne].join("|")+")",Zne=RegExp(FT,"g"),qne=RegExp(v_,"g"),ere=RegExp(RE+"(?="+RE+")|"+Qne+Mz,"g"),tre=RegExp([Zf+"?"+vz+"+"+v3+"(?="+[m3,Zf,"$"].join("|")+")",Yne+"+"+y3+"(?="+[m3,Zf+g3,"$"].join("|")+")",Zf+"?"+g3+"+"+v3,Zf+"+"+y3,gz,$ne].join("|"),"g"),nre=RegExp("["+xz+Y1+cz+uz+pz+"]"),rre=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ire={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},sre=typeof _0=="object"&&_0&&_0.Object===Object&&_0,ore=typeof self=="object"&&self&&self.Object===Object&&self,are=sre||ore||Function("return this")();function lre(n,e,t,r){var i=-1,s=n?n.length:0;for(r&&s&&(t=n[++i]);++i<s;)t=e(t,n[i],i,n);return t}function cre(n){return n.split("")}function ure(n){return n.match(Nne)||[]}function fre(n){return function(e){return n==null?void 0:n[e]}}var dre=fre(ire);function wz(n){return nre.test(n)}function hre(n){return rre.test(n)}function pre(n){return wz(n)?mre(n):cre(n)}function mre(n){return n.match(ere)||[]}function gre(n){return n.match(tre)||[]}var vre=Object.prototype,yre=vre.toString,_3=are.Symbol,x3=_3?_3.prototype:void 0,S3=x3?x3.toString:void 0;function _re(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}function xre(n){if(typeof n=="string")return n;if(Ere(n))return S3?S3.call(n):"";var e=n+"";return e=="0"&&1/n==-Une?"-0":e}function Sre(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:_re(n,e,t)}function Are(n){return function(e){e=K1(e);var t=wz(e)?pre(e):void 0,r=t?t[0]:e.charAt(0),i=t?Sre(t,1).join(""):e.slice(1);return r[n]()+i}}function Mre(n){return function(e){return lre(Pre(Tre(e).replace(Zne,"")),n,"")}}function wre(n){return!!n&&typeof n=="object"}function Ere(n){return typeof n=="symbol"||wre(n)&&yre.call(n)==kne}function K1(n){return n==null?"":xre(n)}var bre=Mre(function(n,e,t){return e=e.toLowerCase(),n+(t?Cre(e):e)});function Cre(n){return Rre(K1(n).toLowerCase())}function Tre(n){return n=K1(n),n&&n.replace(zne,dre).replace(qne,"")}var Rre=Are("toUpperCase");function Pre(n,e,t){return n=K1(n),e=t?void 0:e,e===void 0?hre(n)?gre(n):ure(n):n.match(e)||[]}var Ire=bre;const Bre=fh(Ire);function Ez(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function Lre(n){return Ez(n)instanceof ShadowRoot}function y_(n){return Lre(n)?Ez(n):null}function Dre(n,e){Mg(n,"[@ant-design/icons] ".concat(e))}function A3(n){return sr(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(sr(n.icon)==="object"||typeof n.icon=="function")}function M3(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var r=n[t];switch(t){case"class":e.className=r,delete e.class;break;default:delete e[t],e[Bre(t)]=r}return e},{})}function PE(n,e,t){return t?rn.createElement(n.tag,wt(wt({key:e},M3(n.attrs)),t),(n.children||[]).map(function(r,i){return PE(r,"".concat(e,"-").concat(n.tag,"-").concat(i))})):rn.createElement(n.tag,wt({key:e},M3(n.attrs)),(n.children||[]).map(function(r,i){return PE(r,"".concat(e,"-").concat(n.tag,"-").concat(i))}))}function bz(n){return nl(n)[0]}function Cz(n){return n?Array.isArray(n)?n:[n]:[]}var Ore=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Fre=function(e){var t=F.useContext(BT),r=t.csp,i=t.prefixCls,s=Ore;i&&(s=s.replace(/anticon/g,i)),F.useEffect(function(){var o=e.current,a=y_(o);ih(s,"@ant-design-icons",{prepend:!0,csp:r,attachTo:a})},[])},Ure=["icon","className","onClick","style","primaryColor","secondaryColor"],Zp={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function kre(n){var e=n.primaryColor,t=n.secondaryColor;Zp.primaryColor=e,Zp.secondaryColor=t||bz(e),Zp.calculated=!!t}function Nre(){return wt({},Zp)}var $1=function(e){var t=e.icon,r=e.className,i=e.onClick,s=e.style,o=e.primaryColor,a=e.secondaryColor,l=Vu(e,Ure),c=F.useRef(),u=Zp;if(o&&(u={primaryColor:o,secondaryColor:a||bz(o)}),Fre(c),Dre(A3(t),"icon should be icon definiton, but got ".concat(t)),!A3(t))return null;var f=t;return f&&typeof f.icon=="function"&&(f=wt(wt({},f),{},{icon:f.icon(u.primaryColor,u.secondaryColor)})),PE(f.icon,"svg-".concat(f.name),wt(wt({className:r,onClick:i,style:s,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};$1.displayName="IconReact";$1.getTwoToneColors=Nre;$1.setTwoToneColors=kre;const NT=$1;function Tz(n){var e=Cz(n),t=Dt(e,2),r=t[0],i=t[1];return NT.setTwoToneColors({primaryColor:r,secondaryColor:i})}function zre(){var n=NT.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var Gre=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Tz(Bte.primary);var Q1=F.forwardRef(function(n,e){var t,r=n.className,i=n.icon,s=n.spin,o=n.rotate,a=n.tabIndex,l=n.onClick,c=n.twoToneColor,u=Vu(n,Gre),f=F.useContext(BT),h=f.prefixCls,m=h===void 0?"anticon":h,v=f.rootClassName,y=zn(v,m,(t={},xn(t,"".concat(m,"-").concat(i.name),!!i.name),xn(t,"".concat(m,"-spin"),!!s||i.name==="loading"),t),r),_=a;_===void 0&&l&&(_=-1);var g=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,x=Cz(c),S=Dt(x,2),M=S[0],E=S[1];return F.createElement("span",pr({role:"img","aria-label":i.name},u,{ref:e,tabIndex:_,onClick:l,className:y}),F.createElement(NT,{icon:i,primaryColor:M,secondaryColor:E,style:g}))});Q1.displayName="AntdIcon";Q1.getTwoToneColor=zre;Q1.setTwoToneColor=Tz;const Eh=Q1,{isValidElement:zT}=P_;function Rz(n){return n&&zT(n)&&n.type===F.Fragment}function Hre(n,e,t){return zT(n)?F.cloneElement(n,typeof t=="function"?t(n.props||{}):t):e}function Z1(n,e){return Hre(n,n,e)}var Vre={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const Wre=Vre;var jre=function(e,t){return F.createElement(Eh,pr({},e,{ref:t,icon:Wre}))};const Xre=F.forwardRef(jre);function zm(){zm=function(){return e};var n,e={},t=Object.prototype,r=t.hasOwnProperty,i=Object.defineProperty||function(W,V,D){W[V]=D.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function c(W,V,D){return Object.defineProperty(W,V,{value:D,enumerable:!0,configurable:!0,writable:!0}),W[V]}try{c({},"")}catch{c=function(D,G,H){return D[G]=H}}function u(W,V,D,G){var H=V&&V.prototype instanceof g?V:g,O=Object.create(H.prototype),X=new Y(G||[]);return i(O,"_invoke",{value:B(W,D,X)}),O}function f(W,V,D){try{return{type:"normal",arg:W.call(V,D)}}catch(G){return{type:"throw",arg:G}}}e.wrap=u;var h="suspendedStart",m="suspendedYield",v="executing",y="completed",_={};function g(){}function x(){}function S(){}var M={};c(M,o,function(){return this});var E=Object.getPrototypeOf,b=E&&E(E(Q([])));b&&b!==t&&r.call(b,o)&&(M=b);var C=S.prototype=g.prototype=Object.create(M);function R(W){["next","throw","return"].forEach(function(V){c(W,V,function(D){return this._invoke(V,D)})})}function T(W,V){function D(H,O,X,ie){var ae=f(W[H],W,O);if(ae.type!=="throw"){var oe=ae.arg,fe=oe.value;return fe&&sr(fe)=="object"&&r.call(fe,"__await")?V.resolve(fe.__await).then(function(ue){D("next",ue,X,ie)},function(ue){D("throw",ue,X,ie)}):V.resolve(fe).then(function(ue){oe.value=ue,X(oe)},function(ue){return D("throw",ue,X,ie)})}ie(ae.arg)}var G;i(this,"_invoke",{value:function(O,X){function ie(){return new V(function(ae,oe){D(O,X,ae,oe)})}return G=G?G.then(ie,ie):ie()}})}function B(W,V,D){var G=h;return function(H,O){if(G===v)throw new Error("Generator is already running");if(G===y){if(H==="throw")throw O;return{value:n,done:!0}}for(D.method=H,D.arg=O;;){var X=D.delegate;if(X){var ie=k(X,D);if(ie){if(ie===_)continue;return ie}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(G===h)throw G=y,D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);G=v;var ae=f(W,V,D);if(ae.type==="normal"){if(G=D.done?y:m,ae.arg===_)continue;return{value:ae.arg,done:D.done}}ae.type==="throw"&&(G=y,D.method="throw",D.arg=ae.arg)}}}function k(W,V){var D=V.method,G=W.iterator[D];if(G===n)return V.delegate=null,D==="throw"&&W.iterator.return&&(V.method="return",V.arg=n,k(W,V),V.method==="throw")||D!=="return"&&(V.method="throw",V.arg=new TypeError("The iterator does not provide a '"+D+"' method")),_;var H=f(G,W.iterator,V.arg);if(H.type==="throw")return V.method="throw",V.arg=H.arg,V.delegate=null,_;var O=H.arg;return O?O.done?(V[W.resultName]=O.value,V.next=W.nextLoc,V.method!=="return"&&(V.method="next",V.arg=n),V.delegate=null,_):O:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,_)}function N(W){var V={tryLoc:W[0]};1 in W&&(V.catchLoc=W[1]),2 in W&&(V.finallyLoc=W[2],V.afterLoc=W[3]),this.tryEntries.push(V)}function j(W){var V=W.completion||{};V.type="normal",delete V.arg,W.completion=V}function Y(W){this.tryEntries=[{tryLoc:"root"}],W.forEach(N,this),this.reset(!0)}function Q(W){if(W||W===""){var V=W[o];if(V)return V.call(W);if(typeof W.next=="function")return W;if(!isNaN(W.length)){var D=-1,G=function H(){for(;++D<W.length;)if(r.call(W,D))return H.value=W[D],H.done=!1,H;return H.value=n,H.done=!0,H};return G.next=G}}throw new TypeError(sr(W)+" is not iterable")}return x.prototype=S,i(C,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:x,configurable:!0}),x.displayName=c(S,l,"GeneratorFunction"),e.isGeneratorFunction=function(W){var V=typeof W=="function"&&W.constructor;return!!V&&(V===x||(V.displayName||V.name)==="GeneratorFunction")},e.mark=function(W){return Object.setPrototypeOf?Object.setPrototypeOf(W,S):(W.__proto__=S,c(W,l,"GeneratorFunction")),W.prototype=Object.create(C),W},e.awrap=function(W){return{__await:W}},R(T.prototype),c(T.prototype,a,function(){return this}),e.AsyncIterator=T,e.async=function(W,V,D,G,H){H===void 0&&(H=Promise);var O=new T(u(W,V,D,G),H);return e.isGeneratorFunction(V)?O:O.next().then(function(X){return X.done?X.value:O.next()})},R(C),c(C,l,"Generator"),c(C,o,function(){return this}),c(C,"toString",function(){return"[object Generator]"}),e.keys=function(W){var V=Object(W),D=[];for(var G in V)D.push(G);return D.reverse(),function H(){for(;D.length;){var O=D.pop();if(O in V)return H.value=O,H.done=!1,H}return H.done=!0,H}},e.values=Q,Y.prototype={constructor:Y,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(j),!V)for(var D in this)D.charAt(0)==="t"&&r.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=n)},stop:function(){this.done=!0;var V=this.tryEntries[0].completion;if(V.type==="throw")throw V.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var D=this;function G(oe,fe){return X.type="throw",X.arg=V,D.next=oe,fe&&(D.method="next",D.arg=n),!!fe}for(var H=this.tryEntries.length-1;H>=0;--H){var O=this.tryEntries[H],X=O.completion;if(O.tryLoc==="root")return G("end");if(O.tryLoc<=this.prev){var ie=r.call(O,"catchLoc"),ae=r.call(O,"finallyLoc");if(ie&&ae){if(this.prev<O.catchLoc)return G(O.catchLoc,!0);if(this.prev<O.finallyLoc)return G(O.finallyLoc)}else if(ie){if(this.prev<O.catchLoc)return G(O.catchLoc,!0)}else{if(!ae)throw new Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return G(O.finallyLoc)}}}},abrupt:function(V,D){for(var G=this.tryEntries.length-1;G>=0;--G){var H=this.tryEntries[G];if(H.tryLoc<=this.prev&&r.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var O=H;break}}O&&(V==="break"||V==="continue")&&O.tryLoc<=D&&D<=O.finallyLoc&&(O=null);var X=O?O.completion:{};return X.type=V,X.arg=D,O?(this.method="next",this.next=O.finallyLoc,_):this.complete(X)},complete:function(V,D){if(V.type==="throw")throw V.arg;return V.type==="break"||V.type==="continue"?this.next=V.arg:V.type==="return"?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):V.type==="normal"&&D&&(this.next=D),_},finish:function(V){for(var D=this.tryEntries.length-1;D>=0;--D){var G=this.tryEntries[D];if(G.finallyLoc===V)return this.complete(G.completion,G.afterLoc),j(G),_}},catch:function(V){for(var D=this.tryEntries.length-1;D>=0;--D){var G=this.tryEntries[D];if(G.tryLoc===V){var H=G.completion;if(H.type==="throw"){var O=H.arg;j(G)}return O}}throw new Error("illegal catch attempt")},delegateYield:function(V,D,G){return this.delegate={iterator:Q(V),resultName:D,nextLoc:G},this.method==="next"&&(this.arg=n),_}},e}function w3(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){t(c);return}a.done?e(l):Promise.resolve(l).then(r,i)}function Pz(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){w3(s,r,i,o,a,"next",l)}function a(l){w3(s,r,i,o,a,"throw",l)}o(void 0)})}}var Pg=wt({},X8),Jre=Pg.version,Yre=Pg.render,Kre=Pg.unmountComponentAtNode,q1;try{var $re=Number((Jre||"").split(".")[0]);$re>=18&&(q1=Pg.createRoot)}catch{}function E3(n){var e=Pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&sr(e)==="object"&&(e.usingClientEntryPoint=n)}var __="__rc_react_root__";function Qre(n,e){E3(!0);var t=e[__]||q1(e);E3(!1),t.render(n),e[__]=t}function Zre(n,e){Yre(n,e)}function qre(n,e){if(q1){Qre(n,e);return}Zre(n,e)}function eie(n){return IE.apply(this,arguments)}function IE(){return IE=Pz(zm().mark(function n(e){return zm().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[__])===null||i===void 0||i.unmount(),delete e[__]}));case 1:case"end":return r.stop()}},n)})),IE.apply(this,arguments)}function tie(n){Kre(n)}function nie(n){return BE.apply(this,arguments)}function BE(){return BE=Pz(zm().mark(function n(e){return zm().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(q1===void 0){r.next=2;break}return r.abrupt("return",eie(e));case 2:tie(e);case 3:case"end":return r.stop()}},n)})),BE.apply(this,arguments)}const Iz=function(n){if(!n)return!1;if(n instanceof Element){if(n.offsetParent)return!0;if(n.getBBox){var e=n.getBBox(),t=e.width,r=e.height;if(t||r)return!0}if(n.getBoundingClientRect){var i=n.getBoundingClientRect(),s=i.width,o=i.height;if(s||o)return!0}}return!1},rie=n=>{const{componentCls:e,colorPrimary:t}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow 0.3s ${n.motionEaseInOut}`,`opacity 0.35s ${n.motionEaseInOut}`].join(",")}}}}},iie=wh("Wave",n=>[rie(n)]);function sie(n){const e=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function NA(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&sie(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function oie(n){const{borderTopColor:e,borderColor:t,backgroundColor:r}=getComputedStyle(n);return NA(e)?e:NA(t)?t:NA(r)?r:null}const Bz="ant-wave-target";function zA(n){return Number.isNaN(n)?0:n}const aie=n=>{const{className:e,target:t,component:r}=n,i=F.useRef(null),[s,o]=F.useState(null),[a,l]=F.useState([]),[c,u]=F.useState(0),[f,h]=F.useState(0),[m,v]=F.useState(0),[y,_]=F.useState(0),[g,x]=F.useState(!1),S={left:c,top:f,width:m,height:y,borderRadius:a.map(b=>`${b}px`).join(" ")};s&&(S["--wave-color"]=s);function M(){const b=getComputedStyle(t);o(oie(t));const C=b.position==="static",{borderLeftWidth:R,borderTopWidth:T}=b;u(C?t.offsetLeft:zA(-parseFloat(R))),h(C?t.offsetTop:zA(-parseFloat(T))),v(t.offsetWidth),_(t.offsetHeight);const{borderTopLeftRadius:B,borderTopRightRadius:k,borderBottomLeftRadius:N,borderBottomRightRadius:j}=b;l([B,k,j,N].map(Y=>zA(parseFloat(Y))))}if(F.useEffect(()=>{if(t){const b=tl(()=>{M(),x(!0)});let C;return typeof ResizeObserver<"u"&&(C=new ResizeObserver(M),C.observe(t)),()=>{tl.cancel(b),C==null||C.disconnect()}}},[]),!g)return null;const E=(r==="Checkbox"||r==="Radio")&&(t==null?void 0:t.classList.contains(Bz));return F.createElement(Tg,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(b,C)=>{var R;if(C.deadline||C.propertyName==="opacity"){const T=(R=i.current)===null||R===void 0?void 0:R.parentElement;nie(T).then(()=>{T==null||T.remove()})}return!1}},b=>{let{className:C}=b;return F.createElement("div",{ref:i,className:zn(e,{"wave-quick":E},C),style:S})})},lie=(n,e)=>{var t;const{component:r}=e;if(r==="Checkbox"&&!(!((t=n.querySelector("input"))===null||t===void 0)&&t.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",n==null||n.insertBefore(i,n==null?void 0:n.firstChild),qre(F.createElement(aie,Object.assign({},e,{target:n})),i)},cie=lie;function uie(n,e,t){const{wave:r}=F.useContext(Os),[,i,s]=ef(),o=ia(c=>{const u=n.current;if(r!=null&&r.disabled||!u)return;const f=u.querySelector(`.${Bz}`)||u,{showEffect:h}=r||{};(h||cie)(f,{className:e,token:i,component:t,event:c,hashId:s})}),a=F.useRef();return c=>{tl.cancel(a.current),a.current=tl(()=>{o(c)})}}const fie=n=>{const{children:e,disabled:t,component:r}=n,{getPrefixCls:i}=F.useContext(Os),s=F.useRef(null),o=i("wave"),[,a]=iie(o),l=uie(s,zn(o,a),r);if(rn.useEffect(()=>{const u=s.current;if(!u||u.nodeType!==1||t)return;const f=h=>{!Iz(h.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||l(h)};return u.addEventListener("click",f,!0),()=>{u.removeEventListener("click",f,!0)}},[t]),!rn.isValidElement(e))return e??null;const c=Eg(e)?wg(e.ref,s):s;return Z1(e,{ref:c})},die=fie,hie=n=>{const e=rn.useContext(J1);return rn.useMemo(()=>n?typeof n=="string"?n??e:n instanceof Function?n(e):e:e,[n,e])},pie=hie;globalThis&&globalThis.__rest;const Lz=F.createContext(null),mie=(n,e)=>{const t=F.useContext(Lz),r=F.useMemo(()=>{if(!t)return"";const{compactDirection:i,isFirstItem:s,isLastItem:o}=t,a=i==="vertical"?"-vertical-":"-";return zn(`${n}-compact${a}item`,{[`${n}-compact${a}first-item`]:s,[`${n}-compact${a}last-item`]:o,[`${n}-compact${a}item-rtl`]:e==="rtl"})},[n,e,t]);return{compactSize:t==null?void 0:t.compactSize,compactDirection:t==null?void 0:t.compactDirection,compactItemClassnames:r}},gie=n=>{let{children:e}=n;return F.createElement(Lz.Provider,{value:null},e)},vie=F.forwardRef((n,e)=>{const{className:t,style:r,children:i,prefixCls:s}=n,o=zn(`${s}-icon`,t);return rn.createElement("span",{ref:e,className:o,style:r},i)}),Dz=vie,b3=F.forwardRef((n,e)=>{let{prefixCls:t,className:r,style:i,iconClassName:s}=n;const o=zn(`${t}-loading-icon`,r);return rn.createElement(Dz,{prefixCls:t,className:o,style:i,ref:e},rn.createElement(Xre,{className:s}))}),GA=()=>({width:0,opacity:0,transform:"scale(0)"}),HA=n=>({width:n.scrollWidth,opacity:1,transform:"scale(1)"}),yie=n=>{const{prefixCls:e,loading:t,existIcon:r,className:i,style:s}=n,o=!!t;return r?rn.createElement(b3,{prefixCls:e,className:i,style:s}):rn.createElement(Tg,{visible:o,motionName:`${e}-loading-icon-motion`,removeOnLeave:!0,onAppearStart:GA,onAppearActive:HA,onEnterStart:GA,onEnterActive:HA,onLeaveStart:HA,onLeaveActive:GA},(a,l)=>{let{className:c,style:u}=a;return rn.createElement(b3,{prefixCls:e,className:i,style:Object.assign(Object.assign({},s),u),ref:l,iconClassName:c})})},_ie=yie;var xie=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Oz=F.createContext(void 0),Sie=n=>{const{getPrefixCls:e,direction:t}=F.useContext(Os),{prefixCls:r,size:i,className:s}=n,o=xie(n,["prefixCls","size","className"]),a=e("btn-group",r),[,,l]=ef();let c="";switch(i){case"large":c="lg";break;case"small":c="sm";break}const u=zn(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:t==="rtl"},s,l);return F.createElement(Oz.Provider,{value:i},F.createElement("div",Object.assign({},o,{className:u})))},Aie=Sie,C3=/^[\u4e00-\u9fa5]{2}$/,LE=C3.test.bind(C3);function T3(n){return typeof n=="string"}function VA(n){return n==="text"||n==="link"}function Mie(n,e){if(n==null)return;const t=e?" ":"";return typeof n!="string"&&typeof n!="number"&&T3(n.type)&&LE(n.props.children)?Z1(n,{children:n.props.children.split("").join(t)}):T3(n)?LE(n)?rn.createElement("span",null,n.split("").join(t)):rn.createElement("span",null,n):Rz(n)?rn.createElement("span",null,n):n}function wie(n,e){let t=!1;const r=[];return rn.Children.forEach(n,i=>{const s=typeof i,o=s==="string"||s==="number";if(t&&o){const a=r.length-1,l=r[a];r[a]=`${l}${i}`}else r.push(i);t=o}),rn.Children.map(r,i=>Mie(i,e))}function Eie(n,e,t){const{focusElCls:r,focus:i,borderElCls:s}=t,o=s?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${o}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:-n.lineWidth},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${o}`]:{zIndex:0}})}}function bie(n,e,t){const{borderElCls:r}=t,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${n}-sm ${i}, &${n}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${n}-sm ${i}, &${n}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function Cie(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:t}=n,r=`${t}-compact`;return{[r]:Object.assign(Object.assign({},Eie(n,r,e)),bie(t,r,e))}}function Tie(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:-n.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function Rie(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function Pie(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},Tie(n,e)),Rie(n.componentCls,e))}}const R3=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),Iie=n=>{const{componentCls:e,fontSize:t,lineWidth:r,colorPrimaryHover:i,colorErrorHover:s}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},R3(`${e}-primary`,i),R3(`${e}-danger`,s)]}},Bie=Iie,Lie=n=>{const{componentCls:e,iconCls:t,buttonFontWeight:r}=n;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:n.lineHeight,color:n.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:0},[`> ${t} + span, > span + ${t}`]:{marginInlineStart:n.marginXS},[`&:not(${e}-icon-only) > ${e}-icon`]:{[`&${e}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:n.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},Qte(n)),[`&-icon-only${e}-compact-item`]:{flex:"none"},[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:n.lineWidth,height:`calc(100% + ${n.lineWidth*2}px)`,backgroundColor:n.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:`calc(100% + ${n.lineWidth*2}px)`,height:n.lineWidth,backgroundColor:n.colorPrimaryHover,content:'""'}}}}}}},il=(n,e,t)=>({[`&:not(:disabled):not(${n}-disabled)`]:{"&:hover":e,"&:active":t}}),Die=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Oie=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.controlHeight/2,paddingInlineEnd:n.controlHeight/2}),Fie=n=>({cursor:"not-allowed",borderColor:n.colorBorder,color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,boxShadow:"none"}),Gm=(n,e,t,r,i,s,o)=>({[`&${n}-background-ghost`]:Object.assign(Object.assign({color:e||void 0,backgroundColor:"transparent",borderColor:t||void 0,boxShadow:"none"},il(n,Object.assign({backgroundColor:"transparent"},s),Object.assign({backgroundColor:"transparent"},o))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:i||void 0}})}),GT=n=>({[`&:disabled, &${n.componentCls}-disabled`]:Object.assign({},Fie(n))}),Fz=n=>Object.assign({},GT(n)),x_=n=>({[`&:disabled, &${n.componentCls}-disabled`]:{cursor:"not-allowed",color:n.colorTextDisabled}}),Uz=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Fz(n)),{backgroundColor:n.colorBgContainer,borderColor:n.colorBorder,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`}),il(n.componentCls,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),Gm(n.componentCls,n.colorBgContainer,n.colorBgContainer,n.colorTextDisabled,n.colorBorder)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:n.colorError,borderColor:n.colorError},il(n.componentCls,{color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),Gm(n.componentCls,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder)),GT(n))}),Uie=n=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Fz(n)),{color:n.colorTextLightSolid,backgroundColor:n.colorPrimary,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`}),il(n.componentCls,{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryHover},{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryActive})),Gm(n.componentCls,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({backgroundColor:n.colorError,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`},il(n.componentCls,{backgroundColor:n.colorErrorHover},{backgroundColor:n.colorErrorActive})),Gm(n.componentCls,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),GT(n))}),kie=n=>Object.assign(Object.assign({},Uz(n)),{borderStyle:"dashed"}),Nie=n=>Object.assign(Object.assign(Object.assign({color:n.colorLink},il(n.componentCls,{color:n.colorLinkHover},{color:n.colorLinkActive})),x_(n)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign({color:n.colorError},il(n.componentCls,{color:n.colorErrorHover},{color:n.colorErrorActive})),x_(n))}),zie=n=>Object.assign(Object.assign(Object.assign({},il(n.componentCls,{color:n.colorText,backgroundColor:n.colorBgTextHover},{color:n.colorText,backgroundColor:n.colorBgTextActive})),x_(n)),{[`&${n.componentCls}-dangerous`]:Object.assign(Object.assign({color:n.colorError},x_(n)),il(n.componentCls,{color:n.colorErrorHover,backgroundColor:n.colorErrorBg},{color:n.colorErrorHover,backgroundColor:n.colorErrorBg}))}),Gie=n=>{const{componentCls:e}=n;return{[`${e}-default`]:Uz(n),[`${e}-primary`]:Uie(n),[`${e}-dashed`]:kie(n),[`${e}-link`]:Nie(n),[`${e}-text`]:zie(n),[`${e}-ghost`]:Gm(n.componentCls,n.colorBgContainer,n.colorBgContainer,n.colorTextDisabled,n.colorBorder)}},HT=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:t,controlHeight:r,fontSize:i,lineHeight:s,lineWidth:o,borderRadius:a,buttonPaddingHorizontal:l,iconCls:c}=n,u=Math.max(0,(r-i*s)/2-o),f=l-o,h=`${t}-icon-only`;return[{[`${t}${e}`]:{fontSize:i,height:r,padding:`${u}px ${f}px`,borderRadius:a,[`&${h}`]:{width:r,paddingInlineStart:0,paddingInlineEnd:0,[`&${t}-round`]:{width:"auto"},[c]:{fontSize:n.buttonIconOnlyFontSize}},[`&${t}-loading`]:{opacity:n.opacityLoading,cursor:"default"},[`${t}-loading-icon`]:{transition:`width ${n.motionDurationSlow} ${n.motionEaseInOut}, opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`}}},{[`${t}${t}-circle${e}`]:Die(n)},{[`${t}${t}-round${e}`]:Oie(n)}]},Hie=n=>HT(n),Vie=n=>{const e=rl(n,{controlHeight:n.controlHeightSM,padding:n.paddingXS,buttonPaddingHorizontal:8,borderRadius:n.borderRadiusSM,buttonIconOnlyFontSize:n.fontSizeLG-2});return HT(e,`${n.componentCls}-sm`)},Wie=n=>{const e=rl(n,{controlHeight:n.controlHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG,buttonIconOnlyFontSize:n.fontSizeLG+2});return HT(e,`${n.componentCls}-lg`)},jie=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},Xie=wh("Button",n=>{const{controlTmpOutline:e,paddingContentHorizontal:t}=n,r=rl(n,{colorOutlineDefault:e,buttonPaddingHorizontal:t,buttonIconOnlyFontSize:n.fontSizeLG,buttonFontWeight:400});return[Lie(r),Vie(r),Hie(r),Wie(r),jie(r),Gie(r),Bie(r),Cie(n),Pie(n)]});var Jie=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function Yie(n){if(typeof n=="object"&&n){const e=n==null?void 0:n.delay;return{loading:!1,delay:!Number.isNaN(e)&&typeof e=="number"?e:0}}return{loading:!!n,delay:0}}const Kie=(n,e)=>{var t,r;const{loading:i=!1,prefixCls:s,type:o="default",danger:a,shape:l="default",size:c,styles:u,disabled:f,className:h,rootClassName:m,children:v,icon:y,ghost:_=!1,block:g=!1,htmlType:x="button",classNames:S,style:M={}}=n,E=Jie(n,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),{getPrefixCls:b,autoInsertSpaceInButton:C,direction:R,button:T}=F.useContext(Os),B=b("btn",s),[k,N]=Xie(B),j=F.useContext(Q4),Y=f??j,Q=F.useContext(Oz),W=F.useMemo(()=>Yie(i),[i]),[V,D]=F.useState(W.loading),[G,H]=F.useState(!1),X=wg(e,F.createRef()),ie=F.Children.count(v)===1&&!y&&!VA(o);F.useEffect(()=>{let Te=null;W.delay>0?Te=setTimeout(()=>{Te=null,D(!0)},W.delay):D(W.loading);function xe(){Te&&(clearTimeout(Te),Te=null)}return xe},[W]),F.useEffect(()=>{if(!X||!X.current||C===!1)return;const Te=X.current.textContent;ie&&LE(Te)?G||H(!0):G&&H(!1)},[X]);const ae=Te=>{const{onClick:xe}=n;if(V||Y){Te.preventDefault();return}xe==null||xe(Te)},oe=C!==!1,{compactSize:fe,compactItemClassnames:ue}=mie(B,R),me={large:"lg",small:"sm",middle:void 0},Ne=pie(Te=>{var xe,Qe;return(Qe=(xe=c??fe)!==null&&xe!==void 0?xe:Q)!==null&&Qe!==void 0?Qe:Te}),Xe=Ne&&me[Ne]||"",ye=V?"loading":y,$=Xq(E,["navigate"]),we=zn(B,N,{[`${B}-${l}`]:l!=="default"&&l,[`${B}-${o}`]:o,[`${B}-${Xe}`]:Xe,[`${B}-icon-only`]:!v&&v!==0&&!!ye,[`${B}-background-ghost`]:_&&!VA(o),[`${B}-loading`]:V,[`${B}-two-chinese-chars`]:G&&oe&&!V,[`${B}-block`]:g,[`${B}-dangerous`]:!!a,[`${B}-rtl`]:R==="rtl"},ue,h,m,T==null?void 0:T.className),_e=Object.assign(Object.assign({},T==null?void 0:T.style),M),Ee=zn(S==null?void 0:S.icon,(t=T==null?void 0:T.classNames)===null||t===void 0?void 0:t.icon),Ae=Object.assign(Object.assign({},(u==null?void 0:u.icon)||{}),((r=T==null?void 0:T.styles)===null||r===void 0?void 0:r.icon)||{}),Ye=y&&!V?rn.createElement(Dz,{prefixCls:B,className:Ee,style:Ae},y):rn.createElement(_ie,{existIcon:!!y,prefixCls:B,loading:!!V}),de=v||v===0?wie(v,ie&&oe):null;if($.href!==void 0)return k(rn.createElement("a",Object.assign({},$,{className:zn(we,{[`${B}-disabled`]:Y}),style:_e,onClick:ae,ref:X}),Ye,de));let Re=rn.createElement("button",Object.assign({},E,{type:x,className:we,style:_e,onClick:ae,disabled:Y,ref:X}),Ye,de);return VA(o)||(Re=rn.createElement(die,{component:"Button",disabled:!!V},Re)),k(Re)},VT=F.forwardRef(Kie);VT.Group=Aie;VT.__ANT_BUTTON=!0;const $ie=VT,Qie=(n,e,t)=>t!==void 0?t:`${n}-${e}`;var kz=F.createContext(null),P3=[];function Zie(n,e){var t=F.useState(function(){if(!Ni())return null;var v=document.createElement("div");return v}),r=Dt(t,1),i=r[0],s=F.useRef(!1),o=F.useContext(kz),a=F.useState(P3),l=Dt(a,2),c=l[0],u=l[1],f=o||(s.current?void 0:function(v){u(function(y){var _=[v].concat(po(y));return _})});function h(){i.parentElement||document.body.appendChild(i),s.current=!0}function m(){var v;(v=i.parentElement)===null||v===void 0||v.removeChild(i),s.current=!1}return Li(function(){return n?o?o(h):h():m(),m},[n]),Li(function(){c.length&&(c.forEach(function(v){return v()}),u(P3))},[c]),[i,f]}var WA;function qie(n){if(typeof document>"u")return 0;if(n||WA===void 0){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div"),r=t.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var i=e.offsetWidth;t.style.overflow="scroll";var s=e.offsetWidth;i===s&&(s=t.clientWidth),document.body.removeChild(t),WA=i-s}return WA}function I3(n){var e=n.match(/^(.*)px$/),t=Number(e==null?void 0:e[1]);return Number.isNaN(t)?qie():t}function ese(n){if(typeof document>"u"||!n||!(n instanceof Element))return{width:0,height:0};var e=getComputedStyle(n,"::-webkit-scrollbar"),t=e.width,r=e.height;return{width:I3(t),height:I3(r)}}function tse(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var nse="rc-util-locker-".concat(Date.now()),B3=0;function rse(n){var e=!!n,t=F.useState(function(){return B3+=1,"".concat(nse,"_").concat(B3)}),r=Dt(t,1),i=r[0];Li(function(){if(e){var s=ese(document.body).width,o=tse();ih(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(s,"px);"):"",`
}`),i)}else h_(i);return function(){h_(i)}},[e,i])}var L3=!1;function ise(n){return typeof n=="boolean"&&(L3=n),L3}var D3=function(e){return e===!1?!1:!Ni()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},Nz=F.forwardRef(function(n,e){var t=n.open,r=n.autoLock,i=n.getContainer;n.debug;var s=n.autoDestroy,o=s===void 0?!0:s,a=n.children,l=F.useState(t),c=Dt(l,2),u=c[0],f=c[1],h=u||t;F.useEffect(function(){(o||t)&&f(t)},[t,o]);var m=F.useState(function(){return D3(i)}),v=Dt(m,2),y=v[0],_=v[1];F.useEffect(function(){var k=D3(i);_(k??null)});var g=Zie(h&&!y),x=Dt(g,2),S=x[0],M=x[1],E=y??S;rse(r&&t&&Ni()&&(E===S||E===document.body));var b=null;if(a&&Eg(a)&&e){var C=a;b=C.ref}var R=o4(b,e);if(!h||!Ni()||y===void 0)return null;var T=E===!1||ise(),B=a;return e&&(B=F.cloneElement(a,{ref:R})),F.createElement(kz.Provider,{value:M},T?B:ng.createPortal(B,E))});function sse(){var n=wt({},P_);return n.useId}var O3=0;function ose(n){var e=F.useState("ssr-id"),t=Dt(e,2),r=t[0],i=t[1],s=sse(),o=s==null?void 0:s();return F.useEffect(function(){if(!s){var a=O3;O3+=1,i("rc_unique_".concat(a))}},[]),n||o||r}const ase=()=>Ni()&&window.document.documentElement;let Wv;const lse=()=>{if(!ase())return!1;if(Wv!==void 0)return Wv;const n=document.createElement("div");n.style.display="flex",n.style.flexDirection="column",n.style.rowGap="1px",n.appendChild(document.createElement("div")),n.appendChild(document.createElement("div"));const e=document.createElement("div");return e.style.position="absolute",e.style.zIndex="-9999",e.appendChild(n),document.body.appendChild(e),Wv=n.scrollHeight===1,document.body.removeChild(e),Wv},cse=n=>({animationDuration:n,animationFillMode:"both"}),use=n=>({animationDuration:n,animationFillMode:"both"}),fse=function(n,e,t,r){const s=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${s}${n}-enter,
      ${s}${n}-appear
    `]:Object.assign(Object.assign({},cse(r)),{animationPlayState:"paused"}),[`${s}${n}-leave`]:Object.assign(Object.assign({},use(r)),{animationPlayState:"paused"}),[`
      ${s}${n}-enter${n}-enter-active,
      ${s}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${s}${n}-leave${n}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},dse=new yo("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),hse=new yo("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),F3=new yo("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),U3=new yo("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),pse=new yo("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),mse=new yo("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),gse=new yo("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),vse=new yo("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),yse=new yo("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),_se=new yo("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),xse=new yo("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Sse=new yo("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),Ase={zoom:{inKeyframes:dse,outKeyframes:hse},"zoom-big":{inKeyframes:F3,outKeyframes:U3},"zoom-big-fast":{inKeyframes:F3,outKeyframes:U3},"zoom-left":{inKeyframes:gse,outKeyframes:vse},"zoom-right":{inKeyframes:yse,outKeyframes:_se},"zoom-up":{inKeyframes:pse,outKeyframes:mse},"zoom-down":{inKeyframes:xse,outKeyframes:Sse}},Mse=(n,e)=>{const{antCls:t}=n,r=`${t}-${e}`,{inKeyframes:i,outKeyframes:s}=Ase[e];return[fse(r,i,s,e==="zoom-big-fast"?n.motionDurationFast:n.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},wse=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};var k3=F.createContext(null);function N3(n){return n?Array.isArray(n)?n:[n]:[]}function Ese(n,e,t,r){return F.useMemo(function(){var i=N3(t??e),s=N3(r??e),o=new Set(i),a=new Set(s);return n&&(o.has("hover")&&(o.delete("hover"),o.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[o,a]},[n,e,t,r])}function bse(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;return t?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function Cse(n,e,t,r){for(var i=t.points,s=Object.keys(n),o=0;o<s.length;o+=1){var a,l=s[o];if(bse((a=n[l])===null||a===void 0?void 0:a.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}function z3(n,e,t,r){return e||(t?{motionName:"".concat(n,"-").concat(t)}:r?{motionName:r}:null)}function Ig(n){return n.ownerDocument.defaultView}function DE(n){for(var e=[],t=n==null?void 0:n.parentElement,r=["hidden","scroll","clip","auto"];t;){var i=Ig(t).getComputedStyle(t),s=i.overflowX,o=i.overflowY,a=i.overflow;[s,o,a].some(function(l){return r.includes(l)})&&e.push(t),t=t.parentElement}return e}function Hm(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(n)?e:n}function xp(n){return Hm(parseFloat(n),0)}function G3(n,e){var t=wt({},n);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=Ig(r).getComputedStyle(r),s=i.overflow,o=i.overflowClipMargin,a=i.borderTopWidth,l=i.borderBottomWidth,c=i.borderLeftWidth,u=i.borderRightWidth,f=r.getBoundingClientRect(),h=r.offsetHeight,m=r.clientHeight,v=r.offsetWidth,y=r.clientWidth,_=xp(a),g=xp(l),x=xp(c),S=xp(u),M=Hm(Math.round(f.width/v*1e3)/1e3),E=Hm(Math.round(f.height/h*1e3)/1e3),b=(v-y-x-S)*M,C=(h-m-_-g)*E,R=_*E,T=g*E,B=x*M,k=S*M,N=0,j=0;if(s==="clip"){var Y=xp(o);N=Y*M,j=Y*E}var Q=f.x+B-N,W=f.y+R-j,V=Q+f.width+2*N-B-k-b,D=W+f.height+2*j-R-T-C;t.left=Math.max(t.left,Q),t.top=Math.max(t.top,W),t.right=Math.min(t.right,V),t.bottom=Math.min(t.bottom,D)}}),t}function H3(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t="".concat(e),r=t.match(/^(.*)\%$/);return r?n*(parseFloat(r[1])/100):parseFloat(t)}function V3(n,e){var t=e||[],r=Dt(t,2),i=r[0],s=r[1];return[H3(n.width,i),H3(n.height,s)]}function W3(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[n[0],n[1]]}function Wf(n,e){var t=e[0],r=e[1],i,s;return t==="t"?s=n.y:t==="b"?s=n.y+n.height:s=n.y+n.height/2,r==="l"?i=n.x:r==="r"?i=n.x+n.width:i=n.x+n.width/2,{x:i,y:s}}function bl(n,e){var t={t:"b",b:"t",l:"r",r:"l"};return n.map(function(r,i){return i===e?t[r]||"c":r}).join("")}function Tse(n,e,t,r,i,s,o){var a=F.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=Dt(a,2),c=l[0],u=l[1],f=F.useRef(0),h=F.useMemo(function(){return e?DE(e):[]},[e]),m=F.useRef({}),v=function(){m.current={}};n||v();var y=ia(function(){if(e&&t&&n){let gr=function(_o,Lr){var Hi=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Re,wi=G.x+_o,cs=G.y+Lr,Vi=wi+me,Yt=cs+ue,vt=Math.max(wi,Hi.left),Bt=Math.max(cs,Hi.top),_n=Math.min(Vi,Hi.right),Ln=Math.min(Yt,Hi.bottom);return Math.max(0,(_n-vt)*(Ln-Bt))},Us=function(){pt=G.y+st,En=pt+ue,$n=G.x+ze,U=$n+me};var Zr=gr,Fs=Us,x,S,M=e,E=M.ownerDocument,b=Ig(M),C=b.getComputedStyle(M),R=C.width,T=C.height,B=C.position,k=M.style.left,N=M.style.top,j=M.style.right,Y=M.style.bottom,Q=wt(wt({},i[r]),s),W=E.createElement("div");(x=M.parentElement)===null||x===void 0||x.appendChild(W),W.style.left="".concat(M.offsetLeft,"px"),W.style.top="".concat(M.offsetTop,"px"),W.style.position=B,W.style.height="".concat(M.offsetHeight,"px"),W.style.width="".concat(M.offsetWidth,"px"),M.style.left="0",M.style.top="0",M.style.right="auto",M.style.bottom="auto";var V;if(Array.isArray(t))V={x:t[0],y:t[1],width:0,height:0};else{var D=t.getBoundingClientRect();V={x:D.x,y:D.y,width:D.width,height:D.height}}var G=M.getBoundingClientRect(),H=E.documentElement,O=H.clientWidth,X=H.clientHeight,ie=H.scrollWidth,ae=H.scrollHeight,oe=H.scrollTop,fe=H.scrollLeft,ue=G.height,me=G.width,Ne=V.height,Xe=V.width,ye={left:0,top:0,right:O,bottom:X},$={left:-fe,top:-oe,right:ie-fe,bottom:ae-oe},we=Q.htmlRegion,_e="visible",Ee="visibleFirst";we!=="scroll"&&we!==Ee&&(we=_e);var Ae=we===Ee,Ye=G3($,h),de=G3(ye,h),Re=we===_e?de:Ye,Te=Ae?de:Re;M.style.left="auto",M.style.top="auto",M.style.right="0",M.style.bottom="0";var xe=M.getBoundingClientRect();M.style.left=k,M.style.top=N,M.style.right=j,M.style.bottom=Y,(S=M.parentElement)===null||S===void 0||S.removeChild(W);var Qe=Hm(Math.round(me/parseFloat(R)*1e3)/1e3),K=Hm(Math.round(ue/parseFloat(T)*1e3)/1e3);if(Qe===0||K===0||u_(t)&&!Iz(t))return;var z=Q.offset,ce=Q.targetOffset,Ve=V3(G,z),De=Dt(Ve,2),Be=De[0],Ke=De[1],We=V3(V,ce),ve=Dt(We,2),ne=ve[0],Se=ve[1];V.x-=ne,V.y-=Se;var Ce=Q.points||[],Ie=Dt(Ce,2),Ge=Ie[0],Ze=Ie[1],tt=W3(Ze),se=W3(Ge),pe=Wf(V,tt),be=Wf(G,se),$e=wt({},Q),ze=pe.x-be.x+Be,st=pe.y-be.y+Ke,gt=gr(ze,st),Et=gr(ze,st,de),kt=Wf(V,["t","l"]),zt=Wf(G,["t","l"]),Rt=Wf(V,["b","r"]),Ft=Wf(G,["b","r"]),Rn=Q.overflow||{},Pn=Rn.adjustX,Pt=Rn.adjustY,dn=Rn.shiftX,wn=Rn.shiftY,qt=function(Lr){return typeof Lr=="boolean"?Lr:Lr>=0},pt,En,$n,U;Us();var I=qt(Pt),J=se[0]===tt[0];if(I&&se[0]==="t"&&(En>Te.bottom||m.current.bt)){var ee=st;J?ee-=ue-Ne:ee=kt.y-Ft.y-Ke;var Z=gr(ze,ee),te=gr(ze,ee,de);Z>gt||Z===gt&&(!Ae||te>=Et)?(m.current.bt=!0,st=ee,Ke=-Ke,$e.points=[bl(se,0),bl(tt,0)]):m.current.bt=!1}if(I&&se[0]==="b"&&(pt<Te.top||m.current.tb)){var Pe=st;J?Pe+=ue-Ne:Pe=Rt.y-zt.y-Ke;var Le=gr(ze,Pe),Ue=gr(ze,Pe,de);Le>gt||Le===gt&&(!Ae||Ue>=Et)?(m.current.tb=!0,st=Pe,Ke=-Ke,$e.points=[bl(se,0),bl(tt,0)]):m.current.tb=!1}var Fe=qt(Pn),je=se[1]===tt[1];if(Fe&&se[1]==="l"&&(U>Te.right||m.current.rl)){var he=ze;je?he-=me-Xe:he=kt.x-Ft.x-Be;var ot=gr(he,st),nt=gr(he,st,de);ot>gt||ot===gt&&(!Ae||nt>=Et)?(m.current.rl=!0,ze=he,Be=-Be,$e.points=[bl(se,1),bl(tt,1)]):m.current.rl=!1}if(Fe&&se[1]==="r"&&($n<Te.left||m.current.lr)){var qe=ze;je?qe+=me-Xe:qe=Rt.x-zt.x-Be;var ht=gr(qe,st),At=gr(qe,st,de);ht>gt||ht===gt&&(!Ae||At>=Et)?(m.current.lr=!0,ze=qe,Be=-Be,$e.points=[bl(se,1),bl(tt,1)]):m.current.lr=!1}Us();var mt=dn===!0?0:dn;typeof mt=="number"&&($n<de.left&&(ze-=$n-de.left-Be,V.x+Xe<de.left+mt&&(ze+=V.x-de.left+Xe-mt)),U>de.right&&(ze-=U-de.right-Be,V.x>de.right-mt&&(ze+=V.x-de.right+mt)));var rt=wn===!0?0:wn;typeof rt=="number"&&(pt<de.top&&(st-=pt-de.top-Ke,V.y+Ne<de.top+rt&&(st+=V.y-de.top+Ne-rt)),En>de.bottom&&(st-=En-de.bottom-Ke,V.y>de.bottom-rt&&(st+=V.y-de.bottom+rt)));var xt=G.x+ze,dt=xt+me,bt=G.y+st,Jt=bt+ue,Tt=V.x,sn=Tt+Xe,Vt=V.y,on=Vt+Ne,pn=Math.max(xt,Tt),It=Math.min(dt,sn),yn=(pn+It)/2,en=yn-xt,Ot=Math.max(bt,Vt),An=Math.min(Jt,on),Br=(Ot+An)/2,Gn=Br-bt;o==null||o(e,$e);var Qr=xe.right-G.x-(ze+G.width),ls=xe.bottom-G.y-(st+G.height);u({ready:!0,offsetX:ze/Qe,offsetY:st/K,offsetR:Qr/Qe,offsetB:ls/K,arrowX:en/Qe,arrowY:Gn/K,scaleX:Qe,scaleY:K,align:$e})}}),_=function(){f.current+=1;var S=f.current;Promise.resolve().then(function(){f.current===S&&y()})},g=function(){u(function(S){return wt(wt({},S),{},{ready:!1})})};return Li(g,[r]),Li(function(){n||g()},[n]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,_]}function Rse(n,e,t,r,i){Li(function(){if(n&&e&&t){let h=function(){r(),i()};var f=h,s=e,o=t,a=DE(s),l=DE(o),c=Ig(o),u=new Set([c].concat(po(a),po(l)));return u.forEach(function(m){m.addEventListener("scroll",h,{passive:!0})}),c.addEventListener("resize",h,{passive:!0}),r(),function(){u.forEach(function(m){m.removeEventListener("scroll",h),c.removeEventListener("resize",h)})}}},[n,e,t])}function Pse(n,e,t,r,i,s,o,a){var l=F.useRef(n),c=F.useRef(!1);l.current!==n&&(c.current=!0,l.current=n),F.useEffect(function(){var u=tl(function(){c.current=!1});return function(){tl.cancel(u)}},[n]),F.useEffect(function(){if(e&&r&&(!i||s)){var u=function(){var b=!1,C=function(B){var k=B.target;b=o(k)},R=function(B){var k=B.target;!c.current&&l.current&&!b&&!o(k)&&a(!1)};return[C,R]},f=u(),h=Dt(f,2),m=h[0],v=h[1],y=u(),_=Dt(y,2),g=_[0],x=_[1],S=Ig(r);S.addEventListener("mousedown",m,!0),S.addEventListener("click",v,!0),S.addEventListener("contextmenu",v,!0);var M=y_(t);return M&&(M.addEventListener("mousedown",g,!0),M.addEventListener("click",x,!0),M.addEventListener("contextmenu",x,!0)),function(){S.removeEventListener("mousedown",m,!0),S.removeEventListener("click",v,!0),S.removeEventListener("contextmenu",v,!0),M&&(M.removeEventListener("mousedown",g,!0),M.removeEventListener("click",x,!0),M.removeEventListener("contextmenu",x,!0))}}},[e,t,r,i,s])}function Ise(n){var e=n.prefixCls,t=n.align,r=n.arrow,i=n.arrowPos,s=r||{},o=s.className,a=s.content,l=i.x,c=l===void 0?0:l,u=i.y,f=u===void 0?0:u,h=F.useRef();if(!t||!t.points)return null;var m={position:"absolute"};if(t.autoArrow!==!1){var v=t.points[0],y=t.points[1],_=v[0],g=v[1],x=y[0],S=y[1];_===x||!["t","b"].includes(_)?m.top=f:_==="t"?m.top=0:m.bottom=0,g===S||!["l","r"].includes(g)?m.left=c:g==="l"?m.left=0:m.right=0}return F.createElement("div",{ref:h,className:zn("".concat(e,"-arrow"),o),style:m},a)}function Bse(n){var e=n.prefixCls,t=n.open,r=n.zIndex,i=n.mask,s=n.motion;return i?F.createElement(Tg,pr({},s,{motionAppear:!0,visible:t,removeOnLeave:!0}),function(o){var a=o.className;return F.createElement("div",{style:{zIndex:r},className:zn("".concat(e,"-mask"),a)})}):null}var Lse=F.memo(function(n){var e=n.children;return e},function(n,e){return e.cache}),Dse=F.forwardRef(function(n,e){var t=n.popup,r=n.className,i=n.prefixCls,s=n.style,o=n.target,a=n.onVisibleChanged,l=n.open,c=n.keepDom,u=n.onClick,f=n.mask,h=n.arrow,m=n.arrowPos,v=n.align,y=n.motion,_=n.maskMotion,g=n.forceRender,x=n.getPopupContainer,S=n.autoDestroy,M=n.portal,E=n.zIndex,b=n.onMouseEnter,C=n.onMouseLeave,R=n.onPointerEnter,T=n.ready,B=n.offsetX,k=n.offsetY,N=n.offsetR,j=n.offsetB,Y=n.onAlign,Q=n.onPrepare,W=n.stretch,V=n.targetWidth,D=n.targetHeight,G=typeof t=="function"?t():t,H=l||c,O=(x==null?void 0:x.length)>0,X=F.useState(!x||!O),ie=Dt(X,2),ae=ie[0],oe=ie[1];if(Li(function(){!ae&&O&&o&&oe(!0)},[ae,O,o]),!ae)return null;var fe="auto",ue={left:"-1000vw",top:"-1000vh",right:fe,bottom:fe};if(T||!l){var me=v.points,Ne=v._experimental,Xe=Ne==null?void 0:Ne.dynamicInset,ye=Xe&&me[0][1]==="r",$=Xe&&me[0][0]==="b";ye?(ue.right=N,ue.left=fe):(ue.left=B,ue.right=fe),$?(ue.bottom=j,ue.top=fe):(ue.top=k,ue.bottom=fe)}var we={};return W&&(W.includes("height")&&D?we.height=D:W.includes("minHeight")&&D&&(we.minHeight=D),W.includes("width")&&V?we.width=V:W.includes("minWidth")&&V&&(we.minWidth=V)),l||(we.pointerEvents="none"),F.createElement(M,{open:g||H,getContainer:x&&function(){return x(o)},autoDestroy:S},F.createElement(Bse,{prefixCls:i,open:l,zIndex:E,mask:f,motion:_}),F.createElement(wT,{onResize:Y,disabled:!l},function(_e){return F.createElement(Tg,pr({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:g,leavedClassName:"".concat(i,"-hidden")},y,{onAppearPrepare:Q,onEnterPrepare:Q,visible:l,onVisibleChanged:function(Ae){var Ye;y==null||(Ye=y.onVisibleChanged)===null||Ye===void 0||Ye.call(y,Ae),a(Ae)}}),function(Ee,Ae){var Ye=Ee.className,de=Ee.style,Re=zn(i,Ye,r);return F.createElement("div",{ref:wg(_e,e,Ae),className:Re,style:wt(wt(wt(wt({"--arrow-x":"".concat(m.x||0,"px"),"--arrow-y":"".concat(m.y||0,"px")},ue),we),de),{},{boxSizing:"border-box",zIndex:E},s),onMouseEnter:b,onMouseLeave:C,onPointerEnter:R,onClick:u},h&&F.createElement(Ise,{prefixCls:i,arrow:h,arrowPos:m,align:v}),F.createElement(Lse,{cache:!l},G))})}))}),Ose=F.forwardRef(function(n,e){var t=n.children,r=n.getTriggerDOMNode,i=Eg(t),s=F.useCallback(function(a){MT(e,r?r(a):a)},[r]),o=o4(s,t.ref);return i?F.cloneElement(t,{ref:o}):t}),Fse=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Use(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nz,e=F.forwardRef(function(t,r){var i=t.prefixCls,s=i===void 0?"rc-trigger-popup":i,o=t.children,a=t.action,l=a===void 0?"hover":a,c=t.showAction,u=t.hideAction,f=t.popupVisible,h=t.defaultPopupVisible,m=t.onPopupVisibleChange,v=t.afterPopupVisibleChange,y=t.mouseEnterDelay,_=t.mouseLeaveDelay,g=_===void 0?.1:_,x=t.focusDelay,S=t.blurDelay,M=t.mask,E=t.maskClosable,b=E===void 0?!0:E,C=t.getPopupContainer,R=t.forceRender,T=t.autoDestroy,B=t.destroyPopupOnHide,k=t.popup,N=t.popupClassName,j=t.popupStyle,Y=t.popupPlacement,Q=t.builtinPlacements,W=Q===void 0?{}:Q,V=t.popupAlign,D=t.zIndex,G=t.stretch,H=t.getPopupClassNameFromAlign,O=t.alignPoint,X=t.onPopupClick,ie=t.onPopupAlign,ae=t.arrow,oe=t.popupMotion,fe=t.maskMotion,ue=t.popupTransitionName,me=t.popupAnimation,Ne=t.maskTransitionName,Xe=t.maskAnimation,ye=t.className,$=t.getTriggerDOMNode,we=Vu(t,Fse),_e=T||B||!1,Ee=F.useState(!1),Ae=Dt(Ee,2),Ye=Ae[0],de=Ae[1];Li(function(){de(wse())},[]);var Re=F.useRef({}),Te=F.useContext(k3),xe=F.useMemo(function(){return{registerSubPopup:function(Bt,_n){Re.current[Bt]=_n,Te==null||Te.registerSubPopup(Bt,_n)}}},[Te]),Qe=ose(),K=F.useState(null),z=Dt(K,2),ce=z[0],Ve=z[1],De=ia(function(vt){u_(vt)&&ce!==vt&&Ve(vt),Te==null||Te.registerSubPopup(Qe,vt)}),Be=F.useState(null),Ke=Dt(Be,2),We=Ke[0],ve=Ke[1],ne=ia(function(vt){u_(vt)&&We!==vt&&ve(vt)}),Se=F.Children.only(o),Ce=(Se==null?void 0:Se.props)||{},Ie={},Ge=ia(function(vt){var Bt,_n,Ln=We;return(Ln==null?void 0:Ln.contains(vt))||((Bt=y_(Ln))===null||Bt===void 0?void 0:Bt.host)===vt||vt===Ln||(ce==null?void 0:ce.contains(vt))||((_n=y_(ce))===null||_n===void 0?void 0:_n.host)===vt||vt===ce||Object.values(Re.current).some(function(Dn){return(Dn==null?void 0:Dn.contains(vt))||vt===Dn})}),Ze=z3(s,oe,me,ue),tt=z3(s,fe,Xe,Ne),se=F.useState(h||!1),pe=Dt(se,2),be=pe[0],$e=pe[1],ze=f??be,st=ia(function(vt){f===void 0&&$e(vt)});Li(function(){$e(f||!1)},[f]);var gt=F.useRef(ze);gt.current=ze;var Et=ia(function(vt){ng.flushSync(function(){ze!==vt&&(st(vt),m==null||m(vt))})}),kt=F.useRef(),zt=function(){clearTimeout(kt.current)},Rt=function(Bt){var _n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;zt(),_n===0?Et(Bt):kt.current=setTimeout(function(){Et(Bt)},_n*1e3)};F.useEffect(function(){return zt},[]);var Ft=F.useState(!1),Rn=Dt(Ft,2),Pn=Rn[0],Pt=Rn[1];Li(function(vt){(!vt||ze)&&Pt(!0)},[ze]);var dn=F.useState(null),wn=Dt(dn,2),qt=wn[0],pt=wn[1],En=F.useState([0,0]),$n=Dt(En,2),U=$n[0],I=$n[1],J=function(Bt){I([Bt.clientX,Bt.clientY])},ee=Tse(ze,ce,O?U:We,Y,W,V,ie),Z=Dt(ee,11),te=Z[0],Pe=Z[1],Le=Z[2],Ue=Z[3],Fe=Z[4],je=Z[5],he=Z[6],ot=Z[7],nt=Z[8],qe=Z[9],ht=Z[10],At=Ese(Ye,l,c,u),mt=Dt(At,2),rt=mt[0],xt=mt[1],dt=rt.has("click"),bt=xt.has("click")||xt.has("contextMenu"),Jt=ia(function(){Pn||ht()}),Tt=function(){gt.current&&O&&bt&&Rt(!1)};Rse(ze,We,ce,Jt,Tt),Li(function(){Jt()},[U,Y]),Li(function(){ze&&!(W!=null&&W[Y])&&Jt()},[JSON.stringify(V)]);var sn=F.useMemo(function(){var vt=Cse(W,s,qe,O);return zn(vt,H==null?void 0:H(qe))},[qe,H,W,s,O]);F.useImperativeHandle(r,function(){return{forceAlign:Jt}});var Vt=F.useState(0),on=Dt(Vt,2),pn=on[0],It=on[1],yn=F.useState(0),en=Dt(yn,2),Ot=en[0],An=en[1],Br=function(){if(G&&We){var Bt=We.getBoundingClientRect();It(Bt.width),An(Bt.height)}},Gn=function(){Br(),Jt()},Qr=function(Bt){Pt(!1),ht(),v==null||v(Bt)},ls=function(){return new Promise(function(Bt){Br(),pt(function(){return Bt})})};Li(function(){qt&&(ht(),qt(),pt(null))},[qt]);function Zr(vt,Bt,_n,Ln){Ie[vt]=function(Dn){var In;Ln==null||Ln(Dn),Rt(Bt,_n);for(var xo=arguments.length,Sc=new Array(xo>1?xo-1:0),Mr=1;Mr<xo;Mr++)Sc[Mr-1]=arguments[Mr];(In=Ce[vt])===null||In===void 0||In.call.apply(In,[Ce,Dn].concat(Sc))}}(dt||bt)&&(Ie.onClick=function(vt){var Bt;gt.current&&bt?Rt(!1):!gt.current&&dt&&(J(vt),Rt(!0));for(var _n=arguments.length,Ln=new Array(_n>1?_n-1:0),Dn=1;Dn<_n;Dn++)Ln[Dn-1]=arguments[Dn];(Bt=Ce.onClick)===null||Bt===void 0||Bt.call.apply(Bt,[Ce,vt].concat(Ln))}),Pse(ze,bt,We,ce,M,b,Ge,Rt);var Fs=rt.has("hover"),gr=xt.has("hover"),Us,_o;Fs&&(Zr("onMouseEnter",!0,y,function(vt){J(vt)}),Zr("onPointerEnter",!0,y,function(vt){J(vt)}),Us=function(){(ze||Pn)&&Rt(!0,y)},O&&(Ie.onMouseMove=function(vt){var Bt;(Bt=Ce.onMouseMove)===null||Bt===void 0||Bt.call(Ce,vt)})),gr&&(Zr("onMouseLeave",!1,g),Zr("onPointerLeave",!1,g),_o=function(){Rt(!1,g)}),rt.has("focus")&&Zr("onFocus",!0,x),xt.has("focus")&&Zr("onBlur",!1,S),rt.has("contextMenu")&&(Ie.onContextMenu=function(vt){var Bt;gt.current&&xt.has("contextMenu")?Rt(!1):(J(vt),Rt(!0)),vt.preventDefault();for(var _n=arguments.length,Ln=new Array(_n>1?_n-1:0),Dn=1;Dn<_n;Dn++)Ln[Dn-1]=arguments[Dn];(Bt=Ce.onContextMenu)===null||Bt===void 0||Bt.call.apply(Bt,[Ce,vt].concat(Ln))}),ye&&(Ie.className=zn(Ce.className,ye));var Lr=wt(wt({},Ce),Ie),Hi={},wi=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];wi.forEach(function(vt){we[vt]&&(Hi[vt]=function(){for(var Bt,_n=arguments.length,Ln=new Array(_n),Dn=0;Dn<_n;Dn++)Ln[Dn]=arguments[Dn];(Bt=Lr[vt])===null||Bt===void 0||Bt.call.apply(Bt,[Lr].concat(Ln)),we[vt].apply(we,Ln)})});var cs=F.cloneElement(Se,wt(wt({},Lr),Hi)),Vi={x:je,y:he},Yt=ae?wt({},ae!==!0?ae:{}):null;return F.createElement(F.Fragment,null,F.createElement(wT,{disabled:!ze,ref:ne,onResize:Gn},F.createElement(Ose,{getTriggerDOMNode:$},cs)),F.createElement(k3.Provider,{value:xe},F.createElement(Dse,{portal:n,ref:De,prefixCls:s,popup:k,className:zn(N,sn),style:j,target:We,onMouseEnter:Us,onMouseLeave:_o,onPointerEnter:Us,zIndex:D,open:ze,keepDom:Pn,onClick:X,mask:M,motion:Ze,maskMotion:tt,onVisibleChanged:Qr,onPrepare:ls,forceRender:R,autoDestroy:_e,getPopupContainer:C,align:qe,arrow:Yt,arrowPos:Vi,ready:te,offsetX:Pe,offsetY:Le,offsetR:Ue,offsetB:Fe,onAlign:Jt,stretch:G,targetWidth:pn/ot,targetHeight:Ot/nt})))});return e}const kse=Use(Nz),Vm=["xxl","xl","lg","md","sm","xs"],Nse=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),zse=n=>{const e=n,t=[].concat(Vm).reverse();return t.forEach((r,i)=>{const s=r.toUpperCase(),o=`screen${s}Min`,a=`screen${s}`;if(!(e[o]<=e[a]))throw new Error(`${o}<=${a} fails : !(${e[o]}<=${e[a]})`);if(i<t.length-1){const l=`screen${s}Max`;if(!(e[a]<=e[l]))throw new Error(`${a}<=${l} fails : !(${e[a]}<=${e[l]})`);const u=`screen${t[i+1].toUpperCase()}Min`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`)}}),n};function Gse(){const[,n]=ef(),e=Nse(zse(n));return rn.useMemo(()=>{const t=new Map;let r=-1,i={};return{matchHandlers:{},dispatch(s){return i=s,t.forEach(o=>o(i)),t.size>=1},subscribe(s){return t.size||this.register(),r+=1,t.set(r,s),s(i),r},unsubscribe(s){t.delete(s),t.size||this.unregister()},unregister(){Object.keys(e).forEach(s=>{const o=e[s],a=this.matchHandlers[o];a==null||a.mql.removeListener(a==null?void 0:a.listener)}),t.clear()},register(){Object.keys(e).forEach(s=>{const o=e[s],a=c=>{let{matches:u}=c;this.dispatch(Object.assign(Object.assign({},i),{[s]:u}))},l=window.matchMedia(o);l.addListener(a),this.matchHandlers[o]={mql:l,listener:a},a(l)})},responsiveMap:e}},[n])}var jf={shiftX:64,adjustY:1},Xf={adjustX:1,shiftY:!0},Js=[0,0],Hse={left:{points:["cr","cl"],overflow:Xf,offset:[-4,0],targetOffset:Js},right:{points:["cl","cr"],overflow:Xf,offset:[4,0],targetOffset:Js},top:{points:["bc","tc"],overflow:jf,offset:[0,-4],targetOffset:Js},bottom:{points:["tc","bc"],overflow:jf,offset:[0,4],targetOffset:Js},topLeft:{points:["bl","tl"],overflow:jf,offset:[0,-4],targetOffset:Js},leftTop:{points:["tr","tl"],overflow:Xf,offset:[-4,0],targetOffset:Js},topRight:{points:["br","tr"],overflow:jf,offset:[0,-4],targetOffset:Js},rightTop:{points:["tl","tr"],overflow:Xf,offset:[4,0],targetOffset:Js},bottomRight:{points:["tr","br"],overflow:jf,offset:[0,4],targetOffset:Js},rightBottom:{points:["bl","br"],overflow:Xf,offset:[4,0],targetOffset:Js},bottomLeft:{points:["tl","bl"],overflow:jf,offset:[0,4],targetOffset:Js},leftBottom:{points:["br","bl"],overflow:Xf,offset:[-4,0],targetOffset:Js}};function zz(n){var e=n.children,t=n.prefixCls,r=n.id,i=n.overlayInnerStyle,s=n.className,o=n.style;return F.createElement("div",{className:zn("".concat(t,"-content"),s),style:o},F.createElement("div",{className:"".concat(t,"-inner"),id:r,role:"tooltip",style:i},typeof e=="function"?e():e))}var Vse=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Wse=function(e,t){var r=e.overlayClassName,i=e.trigger,s=i===void 0?["hover"]:i,o=e.mouseEnterDelay,a=o===void 0?0:o,l=e.mouseLeaveDelay,c=l===void 0?.1:l,u=e.overlayStyle,f=e.prefixCls,h=f===void 0?"rc-tooltip":f,m=e.children,v=e.onVisibleChange,y=e.afterVisibleChange,_=e.transitionName,g=e.animation,x=e.motion,S=e.placement,M=S===void 0?"right":S,E=e.align,b=E===void 0?{}:E,C=e.destroyTooltipOnHide,R=C===void 0?!1:C,T=e.defaultVisible,B=e.getTooltipContainer,k=e.overlayInnerStyle;e.arrowContent;var N=e.overlay,j=e.id,Y=e.showArrow,Q=Y===void 0?!0:Y,W=Vu(e,Vse),V=F.useRef(null);F.useImperativeHandle(t,function(){return V.current});var D=wt({},W);"visible"in e&&(D.popupVisible=e.visible);var G=function(){return F.createElement(zz,{key:"content",prefixCls:h,id:j,overlayInnerStyle:k},N)};return F.createElement(kse,pr({popupClassName:r,prefixCls:h,popup:G,action:s,builtinPlacements:Hse,popupPlacement:M,ref:V,popupAlign:b,getPopupContainer:B,onPopupVisibleChange:v,afterPopupVisibleChange:y,popupTransitionName:_,popupAnimation:g,popupMotion:x,defaultPopupVisible:T,autoDestroy:R,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:a,arrow:Q},D),m)};const jse=F.forwardRef(Wse),Gz=8;function Hz(n){const e=Gz,{contentRadius:t,limitVerticalRadius:r}=n,i=t>12?t+2:12;return{dropdownArrowOffset:i,dropdownArrowOffsetVertical:r?e:i}}function jv(n,e){return n?e:{}}function Xse(n,e){const{componentCls:t,sizePopupArrow:r,borderRadiusXS:i,borderRadiusOuter:s,boxShadowPopoverArrow:o}=n,{colorBg:a,contentRadius:l=n.borderRadiusLG,limitVerticalRadius:c,arrowDistance:u=0,arrowPlacement:f={left:!0,right:!0,top:!0,bottom:!0}}=e,{dropdownArrowOffsetVertical:h,dropdownArrowOffset:m}=Hz({contentRadius:l,limitVerticalRadius:c});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({[`${t}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Xte(r,i,s,a,o)),{"&:before":{background:a}})]},jv(!!f.top,{[[`&-placement-top ${t}-arrow`,`&-placement-topLeft ${t}-arrow`,`&-placement-topRight ${t}-arrow`].join(",")]:{bottom:u,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${t}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${t}-arrow`]:{left:{_skip_check_:!0,value:m}},[`&-placement-topRight ${t}-arrow`]:{right:{_skip_check_:!0,value:m}}})),jv(!!f.bottom,{[[`&-placement-bottom ${t}-arrow`,`&-placement-bottomLeft ${t}-arrow`,`&-placement-bottomRight ${t}-arrow`].join(",")]:{top:u,transform:"translateY(-100%)"},[`&-placement-bottom ${t}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${t}-arrow`]:{left:{_skip_check_:!0,value:m}},[`&-placement-bottomRight ${t}-arrow`]:{right:{_skip_check_:!0,value:m}}})),jv(!!f.left,{[[`&-placement-left ${t}-arrow`,`&-placement-leftTop ${t}-arrow`,`&-placement-leftBottom ${t}-arrow`].join(",")]:{right:{_skip_check_:!0,value:u},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${t}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${t}-arrow`]:{top:h},[`&-placement-leftBottom ${t}-arrow`]:{bottom:h}})),jv(!!f.right,{[[`&-placement-right ${t}-arrow`,`&-placement-rightTop ${t}-arrow`,`&-placement-rightBottom ${t}-arrow`].join(",")]:{left:{_skip_check_:!0,value:u},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${t}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${t}-arrow`]:{top:h},[`&-placement-rightBottom ${t}-arrow`]:{bottom:h}}))}}function Jse(n,e,t,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},s={};switch(n){case"top":case"bottom":s.shiftX=e.dropdownArrowOffset*2+t;break;case"left":case"right":s.shiftY=e.dropdownArrowOffsetVertical*2+t;break}const o=Object.assign(Object.assign({},s),i);return o.shiftX||(o.adjustX=!0),o.shiftY||(o.adjustY=!0),o}const j3={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Yse={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Kse=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function $se(n){const{arrowWidth:e,autoAdjustOverflow:t,arrowPointAtCenter:r,offset:i,borderRadius:s,visibleFirst:o}=n,a=e/2,l={};return Object.keys(j3).forEach(c=>{const u=r&&Yse[c]||j3[c],f=Object.assign(Object.assign({},u),{offset:[0,0]});switch(l[c]=f,Kse.has(c)&&(f.autoArrow=!1),c){case"top":case"topLeft":case"topRight":f.offset[1]=-a-i;break;case"bottom":case"bottomLeft":case"bottomRight":f.offset[1]=a+i;break;case"left":case"leftTop":case"leftBottom":f.offset[0]=-a-i;break;case"right":case"rightTop":case"rightBottom":f.offset[0]=a+i;break}const h=Hz({contentRadius:s,limitVerticalRadius:!0});if(r)switch(c){case"topLeft":case"bottomLeft":f.offset[0]=-h.dropdownArrowOffset-a;break;case"topRight":case"bottomRight":f.offset[0]=h.dropdownArrowOffset+a;break;case"leftTop":case"rightTop":f.offset[1]=-h.dropdownArrowOffset-a;break;case"leftBottom":case"rightBottom":f.offset[1]=h.dropdownArrowOffset+a;break}f.overflow=Jse(c,h,e,t),o&&(f.htmlRegion="visibleFirst")}),l}const Qse=n=>{const e=n!=null&&n.algorithm?Um(n.algorithm):Um(Cg),t=Object.assign(Object.assign({},bg),n==null?void 0:n.token);return b4(t,{override:n==null?void 0:n.token},e,DT)},Zse=Qse;function qse(n){const{sizeUnit:e,sizeStep:t}=n,r=t-2;return{sizeXXL:e*(r+10),sizeXL:e*(r+6),sizeLG:e*(r+2),sizeMD:e*(r+2),sizeMS:e*(r+1),size:e*r,sizeSM:e*r,sizeXS:e*(r-1),sizeXXS:e*(r-1)}}const eoe=(n,e)=>{const t=e??Cg(n),r=t.fontSizeSM,i=t.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),qse(e??n)),V4(r)),{controlHeight:i}),G4(Object.assign(Object.assign({},t),{controlHeight:i})))},toe=eoe,Cl=(n,e)=>new Ui(n).setAlpha(e).toRgbString(),Jf=(n,e)=>new Ui(n).lighten(e).toHexString(),noe=n=>{const e=nl(n,{theme:"dark"});return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[6],6:e[5],7:e[4],8:e[6],9:e[5],10:e[4]}},roe=(n,e)=>{const t=n||"#000",r=e||"#fff";return{colorBgBase:t,colorTextBase:r,colorText:Cl(r,.85),colorTextSecondary:Cl(r,.65),colorTextTertiary:Cl(r,.45),colorTextQuaternary:Cl(r,.25),colorFill:Cl(r,.18),colorFillSecondary:Cl(r,.12),colorFillTertiary:Cl(r,.08),colorFillQuaternary:Cl(r,.04),colorBgElevated:Jf(t,12),colorBgContainer:Jf(t,8),colorBgLayout:Jf(t,0),colorBgSpotlight:Jf(t,26),colorBorder:Jf(t,26),colorBorderSecondary:Jf(t,19)}},ioe=(n,e)=>{const t=Object.keys(LT).map(i=>{const s=nl(n[i],{theme:"dark"});return new Array(10).fill(1).reduce((o,a,l)=>(o[`${i}-${l+1}`]=s[l],o[`${i}${l+1}`]=s[l],o),{})}).reduce((i,s)=>(i=Object.assign(Object.assign({},i),s),i),{}),r=e??Cg(n);return Object.assign(Object.assign(Object.assign({},r),t),H4(n,{generateColorPalettes:noe,generateNeutralColorPalettes:roe}))},soe=ioe;function ooe(){const[n,e,t]=ef();return{theme:n,token:e,hashId:t}}const aoe={defaultConfig:g_,defaultSeed:g_.token,useToken:ooe,defaultAlgorithm:Cg,darkAlgorithm:soe,compactAlgorithm:toe,getDesignToken:Zse},loe=n=>{const{componentCls:e,tooltipMaxWidth:t,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:s,zIndexPopup:o,controlHeight:a,boxShadowSecondary:l,paddingSM:c,paddingXS:u,tooltipRadiusOuter:f}=n;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Y4(n)),{position:"absolute",zIndex:o,display:"block",width:"max-content",maxWidth:t,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${e}-inner`]:{minWidth:a,minHeight:a,padding:`${c/2}px ${u}px`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:s,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(s,Gz)}},[`${e}-content`]:{position:"relative"}}),tne(n,(h,m)=>{let{darkColor:v}=m;return{[`&${e}-${h}`]:{[`${e}-inner`]:{backgroundColor:v},[`${e}-arrow`]:{"--antd-arrow-background-color":v}}}})),{"&-rtl":{direction:"rtl"}})},Xse(rl(n,{borderRadiusOuter:f}),{colorBg:"var(--antd-arrow-background-color)",contentRadius:s,limitVerticalRadius:!0}),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:n.sizePopupArrow}}]},Vz=(n,e)=>wh("Tooltip",r=>{if(e===!1)return[];const{borderRadius:i,colorTextLightSolid:s,colorBgDefault:o,borderRadiusOuter:a}=r,l=rl(r,{tooltipMaxWidth:250,tooltipColor:s,tooltipBorderRadius:i,tooltipBg:o,tooltipRadiusOuter:a>4?4:a});return[loe(l),Mse(r,"zoom-big-fast")]},r=>{let{zIndexPopupBase:i,colorBgSpotlight:s}=r;return{zIndexPopup:i+70,colorBgDefault:s}},{resetStyle:!1})(n),coe=m_.map(n=>`${n}-inverse`);function uoe(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(po(coe),po(m_)).includes(n):m_.includes(n)}function Wz(n,e){const t=uoe(e),r=zn({[`${n}-${e}`]:e&&t}),i={},s={};return e&&!t&&(i.background=e,s["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:s}}const foe=n=>{const{prefixCls:e,className:t,placement:r="top",title:i,color:s,overlayInnerStyle:o}=n,{getPrefixCls:a}=F.useContext(Os),l=a("tooltip",e),[c,u]=Vz(l,!0),f=Wz(l,s),h=f.arrowStyle,m=Object.assign(Object.assign({},o),f.overlayStyle),v=zn(u,l,`${l}-pure`,`${l}-placement-${r}`,t,f.className);return c(F.createElement("div",{className:v,style:h},F.createElement("div",{className:`${l}-arrow`}),F.createElement(zz,Object.assign({},n,{className:u,prefixCls:l,overlayInnerStyle:m}),i)))},doe=foe;var hoe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const{useToken:poe}=aoe,moe=(n,e)=>{const t={},r=Object.assign({},n);return e.forEach(i=>{n&&i in n&&(t[i]=n[i],delete r[i])}),{picked:t,omitted:r}};function goe(n,e){const t=n.type;if((t.__ANT_BUTTON===!0||n.type==="button")&&n.props.disabled||t.__ANT_SWITCH===!0&&(n.props.disabled||n.props.loading)||t.__ANT_RADIO===!0&&n.props.disabled){const{picked:r,omitted:i}=moe(n.props.style,["position","left","right","top","bottom","float","display","zIndex"]),s=Object.assign(Object.assign({display:"inline-block"},r),{cursor:"not-allowed",width:n.props.block?"100%":void 0}),o=Object.assign(Object.assign({},i),{pointerEvents:"none"}),a=Z1(n,{style:o,className:null});return F.createElement("span",{style:s,className:zn(n.props.className,`${e}-disabled-compatible-wrapper`)},a)}return n}const jz=F.forwardRef((n,e)=>{var t,r;const{prefixCls:i,openClassName:s,getTooltipContainer:o,overlayClassName:a,color:l,overlayInnerStyle:c,children:u,afterOpenChange:f,afterVisibleChange:h,destroyTooltipOnHide:m,arrow:v=!0,title:y,overlay:_,builtinPlacements:g,arrowPointAtCenter:x=!1,autoAdjustOverflow:S=!0}=n,M=!!v,{token:E}=poe(),{getPopupContainer:b,getPrefixCls:C,direction:R}=F.useContext(Os),T=F.useRef(null),B=()=>{var de;(de=T.current)===null||de===void 0||de.forceAlign()};F.useImperativeHandle(e,()=>({forceAlign:B,forcePopupAlign:()=>{B()}}));const[k,N]=Wte(!1,{value:(t=n.open)!==null&&t!==void 0?t:n.visible,defaultValue:(r=n.defaultOpen)!==null&&r!==void 0?r:n.defaultVisible}),j=!y&&!_&&y!==0,Y=de=>{var Re,Te;N(j?!1:de),j||((Re=n.onOpenChange)===null||Re===void 0||Re.call(n,de),(Te=n.onVisibleChange)===null||Te===void 0||Te.call(n,de))},Q=F.useMemo(()=>{var de,Re;let Te=x;return typeof v=="object"&&(Te=(Re=(de=v.pointAtCenter)!==null&&de!==void 0?de:v.arrowPointAtCenter)!==null&&Re!==void 0?Re:x),g||$se({arrowPointAtCenter:Te,autoAdjustOverflow:S,arrowWidth:M?E.sizePopupArrow:0,borderRadius:E.borderRadius,offset:E.marginXXS,visibleFirst:!0})},[x,v,g,E]),W=F.useMemo(()=>y===0?y:_||y||"",[_,y]),V=F.createElement(gie,null,typeof W=="function"?W():W),{getPopupContainer:D,placement:G="top",mouseEnterDelay:H=.1,mouseLeaveDelay:O=.1,overlayStyle:X,rootClassName:ie}=n,ae=hoe(n,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),oe=C("tooltip",i),fe=C(),ue=n["data-popover-inject"];let me=k;!("open"in n)&&!("visible"in n)&&j&&(me=!1);const Ne=goe(zT(u)&&!Rz(u)?u:F.createElement("span",null,u),oe),Xe=Ne.props,ye=!Xe.className||typeof Xe.className=="string"?zn(Xe.className,s||`${oe}-open`):Xe.className,[$,we]=Vz(oe,!ue),_e=Wz(oe,l),Ee=_e.arrowStyle,Ae=Object.assign(Object.assign({},c),_e.overlayStyle),Ye=zn(a,{[`${oe}-rtl`]:R==="rtl"},_e.className,ie,we);return $(F.createElement(jse,Object.assign({},ae,{showArrow:M,placement:G,mouseEnterDelay:H,mouseLeaveDelay:O,prefixCls:oe,overlayClassName:Ye,overlayStyle:Object.assign(Object.assign({},Ee),X),getTooltipContainer:D||o||b,ref:T,builtinPlacements:Q,overlay:V,visible:me,onVisibleChange:Y,afterVisibleChange:f??h,overlayInnerStyle:Ae,arrowContent:F.createElement("span",{className:`${oe}-arrow-content`}),motion:{motionName:Qie(fe,"zoom-big-fast",n.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!m}),me?Z1(Ne,{className:ye}):Ne))});jz._InternalPanelDoNotUseOrYouWillBeFired=doe;const voe=jz,yoe=F.createContext({}),Xz=yoe,_oe=n=>{const{componentCls:e}=n;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},xoe=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},Soe=(n,e)=>{const{componentCls:t,gridColumns:r}=n,i={};for(let s=r;s>=0;s--)s===0?(i[`${t}${e}-${s}`]={display:"none"},i[`${t}-push-${s}`]={insetInlineStart:"auto"},i[`${t}-pull-${s}`]={insetInlineEnd:"auto"},i[`${t}${e}-push-${s}`]={insetInlineStart:"auto"},i[`${t}${e}-pull-${s}`]={insetInlineEnd:"auto"},i[`${t}${e}-offset-${s}`]={marginInlineStart:0},i[`${t}${e}-order-${s}`]={order:0}):(i[`${t}${e}-${s}`]={display:"block",flex:`0 0 ${s/r*100}%`,maxWidth:`${s/r*100}%`},i[`${t}${e}-push-${s}`]={insetInlineStart:`${s/r*100}%`},i[`${t}${e}-pull-${s}`]={insetInlineEnd:`${s/r*100}%`},i[`${t}${e}-offset-${s}`]={marginInlineStart:`${s/r*100}%`},i[`${t}${e}-order-${s}`]={order:s});return i},OE=(n,e)=>Soe(n,e),Aoe=(n,e,t)=>({[`@media (min-width: ${e}px)`]:Object.assign({},OE(n,t))}),Moe=wh("Grid",n=>[_oe(n)]),woe=wh("Grid",n=>{const e=rl(n,{gridColumns:24}),t={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[xoe(e),OE(e,""),OE(e,"-xs"),Object.keys(t).map(r=>Aoe(e,t[r],r)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]});var Eoe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function boe(n){return typeof n=="number"?`${n} ${n} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?`0 0 ${n}`:n}const Coe=["xs","sm","md","lg","xl","xxl"],Toe=F.forwardRef((n,e)=>{const{getPrefixCls:t,direction:r}=F.useContext(Os),{gutter:i,wrap:s,supportFlexGap:o}=F.useContext(Xz),{prefixCls:a,span:l,order:c,offset:u,push:f,pull:h,className:m,children:v,flex:y,style:_}=n,g=Eoe(n,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),x=t("col",a),[S,M]=woe(x);let E={};Coe.forEach(R=>{let T={};const B=n[R];typeof B=="number"?T.span=B:typeof B=="object"&&(T=B||{}),delete g[R],E=Object.assign(Object.assign({},E),{[`${x}-${R}-${T.span}`]:T.span!==void 0,[`${x}-${R}-order-${T.order}`]:T.order||T.order===0,[`${x}-${R}-offset-${T.offset}`]:T.offset||T.offset===0,[`${x}-${R}-push-${T.push}`]:T.push||T.push===0,[`${x}-${R}-pull-${T.pull}`]:T.pull||T.pull===0,[`${x}-${R}-flex-${T.flex}`]:T.flex||T.flex==="auto",[`${x}-rtl`]:r==="rtl"})});const b=zn(x,{[`${x}-${l}`]:l!==void 0,[`${x}-order-${c}`]:c,[`${x}-offset-${u}`]:u,[`${x}-push-${f}`]:f,[`${x}-pull-${h}`]:h},m,E,M),C={};if(i&&i[0]>0){const R=i[0]/2;C.paddingLeft=R,C.paddingRight=R}if(i&&i[1]>0&&!o){const R=i[1]/2;C.paddingTop=R,C.paddingBottom=R}return y&&(C.flex=boe(y),s===!1&&!C.minWidth&&(C.minWidth=0)),S(F.createElement("div",Object.assign({},g,{style:Object.assign(Object.assign({},C),_),className:b,ref:e}),v))}),Bn=Toe,Roe=()=>{const[n,e]=F.useState(!1);return F.useEffect(()=>{e(lse())},[]),n};var Poe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function X3(n,e){const[t,r]=F.useState(typeof n=="string"?n:""),i=()=>{if(typeof n=="string"&&r(n),typeof n=="object")for(let s=0;s<Vm.length;s++){const o=Vm[s];if(!e[o])continue;const a=n[o];if(a!==void 0){r(a);return}}};return F.useEffect(()=>{i()},[JSON.stringify(n),e]),t}const Ioe=F.forwardRef((n,e)=>{const{prefixCls:t,justify:r,align:i,className:s,style:o,children:a,gutter:l=0,wrap:c}=n,u=Poe(n,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:f,direction:h}=F.useContext(Os),[m,v]=F.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[y,_]=F.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),g=X3(i,y),x=X3(r,y),S=Roe(),M=F.useRef(l),E=Gse();F.useEffect(()=>{const D=E.subscribe(G=>{_(G);const H=M.current||0;(!Array.isArray(H)&&typeof H=="object"||Array.isArray(H)&&(typeof H[0]=="object"||typeof H[1]=="object"))&&v(G)});return()=>E.unsubscribe(D)},[]);const b=()=>{const D=[void 0,void 0];return(Array.isArray(l)?l:[l,void 0]).forEach((H,O)=>{if(typeof H=="object")for(let X=0;X<Vm.length;X++){const ie=Vm[X];if(m[ie]&&H[ie]!==void 0){D[O]=H[ie];break}}else D[O]=H}),D},C=f("row",t),[R,T]=Moe(C),B=b(),k=zn(C,{[`${C}-no-wrap`]:c===!1,[`${C}-${x}`]:x,[`${C}-${g}`]:g,[`${C}-rtl`]:h==="rtl"},s,T),N={},j=B[0]!=null&&B[0]>0?B[0]/-2:void 0,Y=B[1]!=null&&B[1]>0?B[1]/-2:void 0;j&&(N.marginLeft=j,N.marginRight=j),S?[,N.rowGap]=B:Y&&(N.marginTop=Y,N.marginBottom=Y);const[Q,W]=B,V=F.useMemo(()=>({gutter:[Q,W],wrap:c,supportFlexGap:S}),[Q,W,c,S]);return R(F.createElement(Xz.Provider,{value:V},F.createElement("div",Object.assign({},u,{className:k,style:Object.assign(Object.assign({},N),o),ref:e}),a)))}),Gt=Ioe,Boe=n=>{const{componentCls:e,sizePaddingEdgeHorizontal:t,colorSplit:r,lineWidth:i}=n;return{[e]:Object.assign(Object.assign({},Y4(n)),{borderBlockStart:`${i}px solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:`0 ${n.dividerVerticalGutterMargin}px`,verticalAlign:"middle",borderTop:0,borderInlineStart:`${i}px solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${n.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${n.dividerHorizontalWithTextGutterMargin}px 0`,color:n.colorTextHeading,fontWeight:500,fontSize:n.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${i}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-left`]:{"&::before":{width:"5%"},"&::after":{width:"95%"}},[`&-horizontal${e}-with-text-right`]:{"&::before":{width:"95%"},"&::after":{width:"5%"}},[`${e}-inner-text`]:{display:"inline-block",padding:"0 1em"},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${i}px 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:n.colorText,fontWeight:"normal",fontSize:n.fontSize},[`&-horizontal${e}-with-text-left${e}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:t}},[`&-horizontal${e}-with-text-right${e}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:t}}})}},Loe=wh("Divider",n=>{const e=rl(n,{dividerVerticalGutterMargin:n.marginXS,dividerHorizontalWithTextGutterMargin:n.margin,dividerHorizontalGutterMargin:n.marginLG});return[Boe(e)]},{sizePaddingEdgeHorizontal:0});var Doe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Ooe=n=>{const{getPrefixCls:e,direction:t,divider:r}=F.useContext(Os),{prefixCls:i,type:s="horizontal",orientation:o="center",orientationMargin:a,className:l,rootClassName:c,children:u,dashed:f,plain:h,style:m}=n,v=Doe(n,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),y=e("divider",i),[_,g]=Loe(y),x=o.length>0?`-${o}`:o,S=!!u,M=o==="left"&&a!=null,E=o==="right"&&a!=null,b=zn(y,r==null?void 0:r.className,g,`${y}-${s}`,{[`${y}-with-text`]:S,[`${y}-with-text${x}`]:S,[`${y}-dashed`]:!!f,[`${y}-plain`]:!!h,[`${y}-rtl`]:t==="rtl",[`${y}-no-default-orientation-margin-left`]:M,[`${y}-no-default-orientation-margin-right`]:E},l,c),C=F.useMemo(()=>typeof a=="number"?a:/^\d+$/.test(a)?Number(a):a,[a]),R=Object.assign(Object.assign({},M&&{marginLeft:C}),E&&{marginRight:C});return _(F.createElement("div",Object.assign({className:b,style:Object.assign(Object.assign({},r==null?void 0:r.style),m)},v,{role:"separator"}),u&&s!=="vertical"&&F.createElement("span",{className:`${y}-inner-text`,style:R},u)))},Xv=Ooe;var Foe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const Uoe=Foe;var koe=function(e,t){return F.createElement(Eh,pr({},e,{ref:t,icon:Uoe}))};const Noe=F.forwardRef(koe);var zoe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const Goe=zoe;var Hoe=function(e,t){return F.createElement(Eh,pr({},e,{ref:t,icon:Goe}))};const Voe=F.forwardRef(Hoe);var Woe={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512.1 172.6l-370 369.7h96V868H392V640c0-22.1 17.9-40 40-40h160c22.1 0 40 17.9 40 40v228h153.9V542.3H882L535.2 195.7l-23.1-23.1zm434.5 422.9c-6 6-13.1 10.8-20.8 13.9 7.7-3.2 14.8-7.9 20.8-13.9zm-887-34.7c5 30.3 31.4 53.5 63.1 53.5h.9c-31.9 0-58.9-23-64-53.5zm-.9-10.5v-1.9 1.9zm.1-2.6c.1-3.1.5-6.1 1-9.1-.6 2.9-.9 6-1 9.1z",fill:t}},{tag:"path",attrs:{d:"M951 510c0-.1-.1-.1-.1-.2l-1.8-2.1c-.1-.1-.2-.3-.4-.4-.7-.8-1.5-1.6-2.2-2.4L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.6 63.6 0 00-16 26.6l-.6 2.1-.3 1.1-.3 1.2c-.2.7-.3 1.4-.4 2.1 0 .1 0 .3-.1.4-.6 3-.9 6-1 9.1v3.3c0 .5 0 1 .1 1.5 0 .5 0 .9.1 1.4 0 .5.1 1 .1 1.5 0 .6.1 1.2.2 1.8 0 .3.1.6.1.9l.3 2.5v.1c5.1 30.5 32.2 53.5 64 53.5h42.5V940h691.7V614.3h43.4c8.6 0 16.9-1.7 24.5-4.9s14.7-7.9 20.8-13.9a63.6 63.6 0 0018.7-45.3c0-14.7-5-28.8-14.3-40.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z",fill:e}}]}},name:"home",theme:"twotone"};const joe=Woe;var Xoe=function(e,t){return F.createElement(Eh,pr({},e,{ref:t,icon:joe}))};const Joe=F.forwardRef(Xoe);var Yoe={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M477.5 536.3L135.9 270.7l-27.5-21.4 27.6 21.5V792h752V270.8L546.2 536.3a55.99 55.99 0 01-68.7 0z",fill:t}},{tag:"path",attrs:{d:"M876.3 198.8l39.3 50.5-27.6 21.5 27.7-21.5-39.3-50.5z",fill:t}},{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-94.5 72.1L512 482 190.5 232.1h643zm54.5 38.7V792H136V270.8l-27.6-21.5 27.5 21.4 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5h.1l39.3 50.5-27.7 21.5z",fill:e}}]}},name:"mail",theme:"twotone"};const Koe=Yoe;var $oe=function(e,t){return F.createElement(Eh,pr({},e,{ref:t,icon:Koe}))};const Qoe=F.forwardRef($oe);var Zoe={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M721.7 184.9L610.9 295.8l120.8 120.7-8 21.6A481.29 481.29 0 01438 723.9l-21.6 8-.9-.9-119.8-120-110.8 110.9 104.5 104.5c10.8 10.7 26 15.7 40.8 13.2 117.9-19.5 235.4-82.9 330.9-178.4s158.9-213.1 178.4-331c2.5-14.8-2.5-30-13.3-40.8L721.7 184.9z",fill:t}},{tag:"path",attrs:{d:"M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z",fill:e}}]}},name:"phone",theme:"twotone"};const qoe=Zoe;var eae=function(e,t){return F.createElement(Eh,pr({},e,{ref:t,icon:qoe}))};const tae=F.forwardRef(eae);function nae(){const n={span:7,gap:1};return le.jsx(le.Fragment,{children:le.jsxs("div",{className:"resume-container",children:[le.jsxs(Gt,{children:[le.jsx(Bn,{span:8}),le.jsxs(Bn,{children:[le.jsx(Gt,{children:le.jsx("h1",{children:" Kendrick Drews "})}),le.jsx(Gt,{children:le.jsxs("h3",{className:"resume-title",children:[" ",le.jsx("i",{children:" Front End Developer / UI / UX "})," "]})})]})]}),le.jsx(Xv,{}),le.jsxs(Gt,{align:"middle",justify:"center",children:[le.jsx(Bn,{span:7,pull:1,children:le.jsx(Gt,{justify:"end",children:le.jsx("h2",{children:" Contact "})})}),le.jsx(Bn,{span:16,children:le.jsxs(Gt,{justify:"space-between",align:"middle",children:[le.jsxs(Bn,{span:8,className:"center-text",children:[" ",le.jsxs("p",{children:[" ",le.jsx(tae,{})," 571 294 5260 "]})," "]}),le.jsxs(Bn,{span:8,className:"center-text",children:[" ",le.jsxs("p",{children:[" ",le.jsx(Qoe,{})," drewskenny@gmail.com "]})," "]}),le.jsxs(Bn,{span:8,className:"center-text",children:[" ",le.jsxs("p",{children:[" ",le.jsx(Joe,{})," Michigan, USA "]})," "]})]})})]}),le.jsx(Xv,{}),le.jsxs(Gt,{align:"middle",justify:"center",children:[le.jsx(Bn,{span:7,pull:1,children:le.jsx(Gt,{justify:"end",children:le.jsx("h2",{children:" Work Experience "})})}),le.jsx(Bn,{span:16})]}),le.jsxs(Gt,{align:"top",justify:"center",children:[le.jsxs(Bn,{className:"job-meta",span:n.span,children:[le.jsxs(Gt,{justify:"end",children:[" ",le.jsx("p",{children:"03/19 - Now "})]}),le.jsxs(Gt,{justify:"end",children:[" ",le.jsx("p",{children:"NU Borders "})]}),le.jsxs(Gt,{justify:"end",children:[" ",le.jsx("p",{children:"Reston VA / Remote "})]})]}),le.jsx(Bn,{span:n.gap,children:" "}),le.jsxs(Bn,{span:16,children:[le.jsxs(Gt,{children:[" ",le.jsx("h3",{children:"Senior Front End Developer"})," "]}),le.jsx(Gt,{children:le.jsx("p",{children:" Developed React applications with Node backends for the Defense Intelligence Agency and United States Department of State. Responsible for Front End Architecture. Worked across teams to develop microservices. Produced data-visualizations and quarterly reports. "})}),le.jsx(Gt,{children:le.jsxs("ul",{className:"job-tech-stack",children:[le.jsx("li",{children:" Next.js, React, Svelte, Redux, eslint, Jest, Cypress, Playwright, webpack, Parcel, TypeScript, JavaScript "}),le.jsx("li",{children:"Node.js, Express, ElasticSearch, Kibana, Spark, Java/Scala/Kotlin, Rust, Docker, Kubernetes, saltstack"}),le.jsx("li",{children:"AWS, EC2, Mongo, PostgresSQL, Lambda, ECS, EMR, Terraform, GitHub, BitBucket, Jenkins, blockchain"}),le.jsx("li",{children:"Jira, Confluence, ZenHub, Scaled Agile, Kanban, Microservices, Microfrontends, InnerSource"})]})})]})]}),le.jsxs(Gt,{align:"top",justify:"center",children:[le.jsxs(Bn,{className:"job-meta",span:n.span,children:[le.jsxs(Gt,{justify:"end",children:[" ",le.jsx("p",{children:"04/18 - 02/19 "})]}),le.jsxs(Gt,{justify:"end",children:[" ",le.jsx("p",{children:"Amida "})]}),le.jsxs(Gt,{justify:"end",children:[" ",le.jsx("p",{children:"Washington DC "})]})]}),le.jsx(Bn,{span:n.gap,children:" "}),le.jsxs(Bn,{span:16,children:[le.jsxs(Gt,{children:[" ",le.jsx("h3",{children:"UI/UX Developer"})," "]}),le.jsxs(Gt,{children:[" ",le.jsx("p",{children:"Developed client applications with React. Conduct user interviews, user testing, and analytics for developmental work on VA Software. Develop front-end solutions for web applications. Producing wireframes, mockups, prototypes, and front-end code."})]}),le.jsx(Gt,{children:le.jsxs("ul",{className:"job-tech-stack",children:[le.jsx("li",{children:"GraphQL, Design Thinking, User Interviews, Next.js,  "}),le.jsx("li",{children:"Node.js, Express, ElasticSearch, Docker, Kubernetes, saltstack"}),le.jsx("li",{children:"React, Python, Redux, eslint, Jest, Cypress, webpack, JavaScript"}),le.jsx("li",{children:"Jira, Confluence, Scaled Agile, Microfrontends, Wordpress"})]})})]})]}),le.jsxs(Gt,{align:"top",justify:"center",children:[le.jsxs(Bn,{className:"job-meta",span:n.span,children:[le.jsx(Gt,{justify:"end",children:le.jsx("p",{children:" 01/16 - 03/18 "})}),le.jsx(Gt,{justify:"end",children:le.jsx("p",{children:" TRI "})}),le.jsx(Gt,{justify:"end",children:le.jsx("p",{children:" Maryland "})})]}),le.jsx(Bn,{span:n.gap,children:" "}),le.jsxs(Bn,{span:16,children:[le.jsxs(Gt,{children:[" ",le.jsx("h3",{children:"Front End Developer"})," "]}),le.jsxs(Gt,{children:[" ",le.jsx("p",{children:"Create, Edit, and/or Delete HTML and other files then publish changes to public website(s). Managing government webpages to provide 508 compliant and user-friendly experiences. Responsible for creating and delivering server-side code that follows company standards and procedures. Writing code and scripts to assist our database developers, testers, and senior developers."})]}),le.jsx(Gt,{children:le.jsx("ul",{className:"job-tech-stack",children:le.jsx("li",{children:"JavaScript, HTML, CSS, React, Sharepoint, C#, .Net, Github "})})})]})]}),le.jsxs(Gt,{align:"top",justify:"center",children:[le.jsxs(Bn,{className:"job-meta",span:n.span,children:[le.jsxs(Gt,{justify:"end",children:[" ",le.jsx("p",{children:"01/14 - 01/16 "})]}),le.jsxs(Gt,{justify:"end",children:[" ",le.jsx("p",{children:"The INCLab "})]}),le.jsxs(Gt,{justify:"end",children:[" ",le.jsx("p",{children:"Tysons Corner, VA "})]})]}),le.jsx(Bn,{span:n.gap,children:" "}),le.jsxs(Bn,{span:16,children:[le.jsxs(Gt,{children:[" ",le.jsx("h3",{children:"Front End Developer / Designer"})," "]}),le.jsxs(Gt,{children:[" ",le.jsx("p",{children:"Worked directly with clients to facilitate efficient design to development workflow, managed client expectations. Responsible for the creation of all visual assets; Marketing materials, animations, research, front-end code, data visualizations, wireframes, prototypes, design guides, and illustrations. Designed company website. https://www.theinclab.com "})]}),le.jsx(Gt,{children:le.jsx("ul",{className:"job-tech-stack",children:le.jsx("li",{children:"JavaScript, HTML, CSS, DreamWeaver, Photoshop, Adobe XD, Illustrator, C#, Github "})})})]})]}),le.jsx(Xv,{}),le.jsxs(Gt,{align:"top",justify:"center",children:[le.jsx(Bn,{span:7,pull:1,children:le.jsx(Gt,{justify:"end",children:le.jsx("h2",{children:" Education "})})}),le.jsxs(Bn,{span:16,push:1,children:[le.jsx(Gt,{children:le.jsx("h2",{children:" Bachelors of Fine-Arts "})}),le.jsx(Gt,{children:le.jsx("h3",{children:" Virginia Commonwealth University, Richmond, VA "})}),le.jsx(Gt,{className:"job-meta",children:le.jsxs("p",{children:[" ",le.jsx("i",{children:"2009 - 2013"})," "]})})]})]}),le.jsx(Xv,{}),le.jsxs(Gt,{align:"top",justify:"center",children:[le.jsx(Bn,{span:7,pull:1,children:le.jsx(Gt,{justify:"end",children:le.jsx("h2",{children:" Skills "})})}),le.jsx(Bn,{span:16,push:1,children:le.jsxs(Gt,{children:[le.jsx(Bn,{flex:1,children:le.jsxs("ul",{className:"resume-skills",children:[le.jsx("li",{children:"React"}),le.jsx("li",{children:"Node"}),le.jsx("li",{children:"Redux"}),le.jsx("li",{children:"Typescript"}),le.jsx("li",{children:"Javascript"}),le.jsx("li",{children:"Cypress"}),le.jsx("li",{children:"React Testing Library"}),le.jsx("li",{children:"Next.js"}),le.jsx("li",{children:"CSS"}),le.jsx("li",{children:"SCSS"}),le.jsx("li",{children:"Ant Design"})]})}),le.jsx(Bn,{flex:1,children:le.jsxs("ul",{className:"resume-skills",children:[le.jsx("li",{children:"prettier"}),le.jsx("li",{children:"ESLint"}),le.jsx("li",{children:"AWS"}),le.jsx("li",{children:"Docker"}),le.jsx("li",{children:"postman"}),le.jsx("li",{children:"Yarn"}),le.jsx("li",{children:"NPM"}),le.jsx("li",{children:"MySQL"}),le.jsx("li",{children:"Confluence"}),le.jsx("li",{children:"Jira"}),le.jsx("li",{children:"GIT"})]})}),le.jsx(Bn,{flex:1,children:le.jsxs("ul",{className:"resume-skills",children:[le.jsx("li",{children:"GitLab"}),le.jsx("li",{children:"Jenkins"}),le.jsx("li",{children:"Agile"}),le.jsx("li",{children:"Customer"}),le.jsx("li",{children:"Relations"}),le.jsx("li",{children:"SCRUM Master"}),le.jsx("li",{children:"Figma"}),le.jsx("li",{children:"Photoshop"}),le.jsx("li",{children:"Sketch"}),le.jsx("li",{children:"Adobe XD"}),le.jsx("li",{children:"Sharepoint"})]})})]})})]})]})})}function rae(n){const{nodes:e,materials:t}=mr("/coffee_cup-transformed.glb");return le.jsx("group",{...n,dispose:null,children:le.jsx("mesh",{geometry:e.Cube_Cube022.geometry,material:t["Material.001"],rotation:[Math.PI/2,0,0]})})}mr.preload("/coffee_cup-transformed.glb");function iae(n){const{nodes:e,materials:t}=mr("/Keyboard-transformed.glb");return le.jsx("group",{...n,dispose:null,children:le.jsx("mesh",{geometry:e.Keyboard1.geometry,material:t.lambert3SG})})}mr.preload("/Keyboard-transformed.glb");function sae(n){const{nodes:e,materials:t}=mr("/Monitor-transformed.glb");return le.jsx("group",{...n,dispose:null,children:le.jsx("mesh",{geometry:e.Monitor.geometry,material:t.lambert3SG})})}mr.preload("/Monitor-transformed.glb");function oae(n){const{nodes:e,materials:t}=mr("/Mouse-transformed.glb");return le.jsx("group",{...n,dispose:null,children:le.jsx("mesh",{geometry:e.ComputerMouse_mesh.geometry,material:t.ComputerMouse_mat1})})}mr.preload("/Mouse-transformed.glb");function aae(n){const{nodes:e,materials:t}=mr("/PC-transformed.glb");return le.jsx("group",{...n,dispose:null,children:le.jsx("mesh",{geometry:e.PC.geometry,material:t.Mat})})}mr.preload("/PC-transformed.glb");function lae(n){const{nodes:e,materials:t}=mr("/Desk-transformed.glb");return le.jsx("group",{...n,dispose:null,children:le.jsxs("group",{rotation:[Math.PI/2,0,0],children:[le.jsx("mesh",{geometry:e.desk_1.geometry,material:t.wood}),le.jsx("mesh",{geometry:e.desk_2.geometry,material:t.metal})]})})}mr.preload("/Desk-transformed.glb");function cae(n){const{nodes:e,materials:t}=mr("/DeskLamp-transformed.glb");return le.jsx("group",{...n,dispose:null,children:le.jsxs("group",{rotation:[-Math.PI/2,0,0],scale:100,children:[le.jsx("mesh",{geometry:e.Light_Desk_1.geometry,material:t.Black}),le.jsx("mesh",{geometry:e.Light_Desk_2.geometry,material:t.LightMetal}),le.jsx("mesh",{geometry:e.Light_Desk_3.geometry,material:t.White})]})})}mr.preload("/DeskLamp-transformed.glb");function uae(n){const{nodes:e,materials:t}=mr("/Mug-transformed.glb");return le.jsx("group",{...n,dispose:null,children:le.jsx("mesh",{geometry:e["496_Mugs"].geometry,material:t.Mat,rotation:[Math.PI/2,0,0]})})}mr.preload("/Mug-transformed.glb");function fae(n){const{nodes:e,materials:t}=mr("/Plate-transformed.glb");return le.jsx("group",{...n,dispose:null,children:le.jsx("mesh",{geometry:e["498_Plates"].geometry,material:t["Mat.001"],rotation:[Math.PI/2,0,0]})})}mr.preload("/Plate-transformed.glb");function dae(n){const{nodes:e,materials:t}=mr("/Sandwhich-transformed.glb");return le.jsx("group",{...n,dispose:null,children:le.jsx("mesh",{geometry:e.group1021991821.geometry,material:t.PaletteMaterial001,rotation:[Math.PI/2,0,0]})})}mr.preload("/Sandwhich-transformed.glb");function hae(){const n={pos:{x:-2.2,y:-2.2,z:-.6},rotation:{x:0,y:3,z:0},scale:8.5},e={pos:{x:1.8,y:1.07,z:-2.4},rotation:{x:0,y:-.2,z:0},scale:.005},t={pos:{x:2.4,y:1.05,z:-1},rotation:{x:0,y:-3.4,z:0},scale:.1},r={pos:{x:.8,y:1.047,z:-1.2},rotation:{x:0,y:-.4,z:0},scale:.005},i={pos:{x:4.2,y:-2.2,z:0},rotation:{x:0,y:-4.85,z:0},scale:.02},s={pos:{x:-.6,y:1.45,z:-2.8},rotation:{x:0,y:0,z:0},scale:.6},o={pos:{x:3.6,y:1.047,z:-1.6},rotation:{x:0,y:-1,z:0},scale:.005},a={pos:{x:-1.4,y:1.07,z:-2.8},rotation:{x:0,y:.8,z:0},scale:3.2},l={pos:{x:-1.2,y:1.2,z:-1.6},rotation:{x:0,y:-2.6,z:0},scale:1},c={pos:{x:-1.2,y:1.05,z:-1.6},rotation:{x:0,y:0,z:0},scale:.02};rn.useState(!1);const[u,f]=rn.useState(!1);return console.log(u),le.jsxs(le.Fragment,{children:[le.jsx("rectAreaLight",{visible:!0,width:5,height:5,intensity:12,color:"#ffffff",rotation:[1.8,1.8,0],position:[4.8,1.4,6.2]}),le.jsx("rectAreaLight",{visible:!0,width:1.75,height:1.15,intensity:15,color:"#52bdc7",rotation:[0,-3.35,0],position:[1.8,1.9,-2.4]}),le.jsx(rae,{position:[s.pos.x,s.pos.y,s.pos.z],rotation:[s.rotation.x,s.rotation.y,s.rotation.z],scale:s.scale}),le.jsx(lae,{position:[n.pos.x,n.pos.y,n.pos.z],rotation:[n.rotation.x,n.rotation.y,n.rotation.z],scale:n.scale}),le.jsxs("group",{onClick:()=>f(!u),children:[le.jsx(cae,{position:[a.pos.x,a.pos.y,a.pos.z],rotation:[a.rotation.x,a.rotation.y,a.rotation.z],scale:a.scale}),le.jsxs("mesh",{visible:!0,scale:.2,position:[-.85,2.37,-2.27],children:[le.jsx("sphereGeometry",{args:[1,16,16]}),le.jsx("meshStandardMaterial",{color:"#FFFFED",transparent:!0})]})]}),le.jsx(uae,{position:[o.pos.x,o.pos.y,o.pos.z],rotation:[o.rotation.x,o.rotation.y,o.rotation.z],scale:o.scale}),le.jsx(iae,{position:[r.pos.x,r.pos.y,r.pos.z],rotation:[r.rotation.x,r.rotation.y,r.rotation.z],scale:r.scale}),le.jsx(oae,{position:[t.pos.x,t.pos.y,t.pos.z],rotation:[t.rotation.x,t.rotation.y,t.rotation.z],scale:t.scale}),le.jsx(sae,{position:[e.pos.x,e.pos.y,e.pos.z],rotation:[e.rotation.x,e.rotation.y,e.rotation.z],scale:e.scale}),le.jsx(aae,{position:[i.pos.x,i.pos.y,i.pos.z],rotation:[i.rotation.x,i.rotation.y,i.rotation.z],scale:i.scale}),le.jsx(fae,{position:[c.pos.x,c.pos.y,c.pos.z],rotation:[c.rotation.x,c.rotation.y,c.rotation.z],scale:c.scale}),le.jsx(dae,{position:[l.pos.x,l.pos.y,l.pos.z],rotation:[l.rotation.x,l.rotation.y,l.rotation.z],scale:l.scale})]})}function ka(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jz(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Cs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},oh={duration:.5,overwrite:!1,delay:0},WT,_i,fr,ao=1e8,Un=1/ao,FE=Math.PI*2,pae=FE/4,mae=0,Yz=Math.sqrt,gae=Math.cos,vae=Math.sin,Kr=function(e){return typeof e=="string"},hr=function(e){return typeof e=="function"},sl=function(e){return typeof e=="number"},jT=function(e){return typeof e>"u"},_a=function(e){return typeof e=="object"},is=function(e){return e!==!1},XT=function(){return typeof window<"u"},Jv=function(e){return hr(e)||Kr(e)},Kz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},xi=Array.isArray,UE=/(?:-?\.?\d|\.)+/gi,$z=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,xd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,jA=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Qz=/[+-]=-?[.\d]+/,Zz=/[^,'"\[\]\s]+/gi,yae=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,qn,Qs,kE,JT,Ps={},S_={},qz,e5=function(e){return(S_=Wu(e,Ps))&&as},YT=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},A_=function(e,t){return!t&&console.warn(e)},t5=function(e,t){return e&&(Ps[e]=t)&&S_&&(S_[e]=t)||Ps},Wm=function(){return 0},_ae={suppressEvents:!0,isStart:!0,kill:!1},My={suppressEvents:!0,kill:!1},xae={suppressEvents:!0},KT={},rc=[],NE={},n5,As={},XA={},J3=30,wy=[],$T="",QT=function(e){var t=e[0],r,i;if(_a(t)||hr(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=wy.length;i--&&!wy[i].targetTest(t););r=wy[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new b5(e[i],r)))||e.splice(i,1);return e},Cu=function(e){return e._gsap||QT(lo(e))[0]._gsap},r5=function(e,t,r){return(r=e[t])&&hr(r)?e[t]():jT(r)&&e.getAttribute&&e.getAttribute(t)||r},ss=function(e,t){return(e=e.split(",")).forEach(t)||e},Sr=function(e){return Math.round(e*1e5)/1e5||0},ni=function(e){return Math.round(e*1e7)/1e7||0},Od=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},Sae=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},M_=function(){var e=rc.length,t=rc.slice(0),r,i;for(NE={},rc.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},i5=function(e,t,r,i){rc.length&&!_i&&M_(),e.render(t,r,i||_i&&t<0&&(e._initted||e._startAt)),rc.length&&!_i&&M_()},s5=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Zz).length<2?t:Kr(e)?e.trim():e},o5=function(e){return e},go=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Aae=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},Wu=function(e,t){for(var r in t)e[r]=t[r];return e},Y3=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=_a(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},w_=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},qp=function(e){var t=e.parent||qn,r=e.keyframes?Aae(xi(e.keyframes)):go;if(is(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},Mae=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},a5=function(e,t,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},ex=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},fc=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Tu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},wae=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},zE=function(e,t,r,i){return e._startAt&&(_i?e._startAt.revert(My):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},Eae=function n(e){return!e||e._ts&&n(e.parent)},K3=function(e){return e._repeat?ah(e._tTime,e=e.duration()+e._rDelay)*e:0},ah=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},E_=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},tx=function(e){return e._end=ni(e._start+(e._tDur/Math.abs(e._ts||e._rts||Un)||0))},nx=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=ni(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),tx(e),r._dirty||Tu(r,e)),e},l5=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=E_(e.rawTime(),t),(!t._dur||Bg(0,t.totalDuration(),r)-t._tTime>Un)&&t.render(r,!0)),Tu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Un}},oa=function(e,t,r,i){return t.parent&&fc(t),t._start=ni((sl(r)?r:r||e!==qn?Ks(e,r,t):e._time)+t._delay),t._end=ni(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),a5(e,t,"_first","_last",e._sort?"_start":0),GE(t)||(e._recent=t),i||l5(e,t),e._ts<0&&nx(e,e._tTime),e},c5=function(e,t){return(Ps.ScrollTrigger||YT("scrollTrigger",t))&&Ps.ScrollTrigger.create(t,e)},u5=function(e,t,r,i,s){if(qT(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!_i&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&n5!==Ms.frame)return rc.push(e),e._lazy=[s,i],1},bae=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},GE=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Cae=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&bae(e)&&!(!e._initted&&GE(e))||(e._ts<0||e._dp._ts<0)&&!GE(e))?0:1,a=e._rDelay,l=0,c,u,f;if(a&&e._repeat&&(l=Bg(0,e._tDur,t),u=ah(l,a),e._yoyo&&u&1&&(o=1-o),u!==ah(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||_i||i||e._zTime===Un||!t&&e._zTime){if(!e._initted&&u5(e,t,i,r,l))return;for(f=e._zTime,e._zTime=t||(r?Un:0),r||(r=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&zE(e,t,r,!0),e._onUpdate&&!r&&co(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&co(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&fc(e,1),!r&&!_i&&(co(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Tae=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},lh=function(e,t,r,i){var s=e._repeat,o=ni(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:ni(o*(s+1)+e._rDelay*s):o,a>0&&!i&&nx(e,e._tTime=e._tDur*a),e.parent&&tx(e),r||Tu(e.parent,e),e},$3=function(e){return e instanceof Zi?Tu(e):lh(e,e._dur)},Rae={_start:0,endTime:Wm,totalDuration:Wm},Ks=function n(e,t,r){var i=e.labels,s=e._recent||Rae,o=e.duration()>=ao?s.endTime(!1):e._dur,a,l,c;return Kr(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&r&&(l=l/100*(xi(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},em=function(e,t,r){var i=sl(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=is(l.vars.inherit)&&l.parent;o.immediateRender=is(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Tr(t[0],o,t[s+1])},xc=function(e,t){return e||e===0?t(e):t},Bg=function(e,t,r){return r<e?e:r>t?t:r},gi=function(e,t){return!Kr(e)||!(t=yae.exec(e))?"":t[1]},Pae=function(e,t,r){return xc(r,function(i){return Bg(e,t,i)})},HE=[].slice,f5=function(e,t){return e&&_a(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&_a(e[0]))&&!e.nodeType&&e!==Qs},Iae=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Kr(i)&&!t||f5(i,1)?(s=r).push.apply(s,lo(i)):r.push(i)})||r},lo=function(e,t,r){return fr&&!t&&fr.selector?fr.selector(e):Kr(e)&&!r&&(kE||!ch())?HE.call((t||JT).querySelectorAll(e),0):xi(e)?Iae(e,r):f5(e)?HE.call(e,0):e?[e]:[]},VE=function(e){return e=lo(e)[0]||A_("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return lo(t,r.querySelectorAll?r:r===e?A_("Invalid scope")||JT.createElement("div"):e)}},d5=function(e){return e.sort(function(){return .5-Math.random()})},h5=function(e){if(hr(e))return e;var t=_a(e)?e:{each:e},r=Ru(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,u=i,f=i;return Kr(i)?u=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],f=i[1]),function(h,m,v){var y=(v||t).length,_=o[y],g,x,S,M,E,b,C,R,T;if(!_){if(T=t.grid==="auto"?0:(t.grid||[1,ao])[1],!T){for(C=-ao;C<(C=v[T++].getBoundingClientRect().left)&&T<y;);T--}for(_=o[y]=[],g=l?Math.min(T,y)*u-.5:i%T,x=T===ao?0:l?y*f/T-.5:i/T|0,C=0,R=ao,b=0;b<y;b++)S=b%T-g,M=x-(b/T|0),_[b]=E=c?Math.abs(c==="y"?M:S):Yz(S*S+M*M),E>C&&(C=E),E<R&&(R=E);i==="random"&&d5(_),_.max=C-R,_.min=R,_.v=y=(parseFloat(t.amount)||parseFloat(t.each)*(T>y?y-1:c?c==="y"?y/T:T:Math.max(T,y/T))||0)*(i==="edges"?-1:1),_.b=y<0?s-y:s,_.u=gi(t.amount||t.each)||0,r=r&&y<0?M5(r):r}return y=(_[h]-_.min)/_.max||0,ni(_.b+(r?r(y):y)*_.v)+_.u}},WE=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=ni(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(sl(r)?0:gi(r))}},p5=function(e,t){var r=xi(e),i,s;return!r&&_a(e)&&(i=r=e.radius||ao,e.values?(e=lo(e.values),(s=!sl(e[0]))&&(i*=i)):e=WE(e.increment)),xc(t,r?hr(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=ao,u=0,f=e.length,h,m;f--;)s?(h=e[f].x-a,m=e[f].y-l,h=h*h+m*m):h=Math.abs(e[f]-a),h<c&&(c=h,u=f);return u=!i||c<=i?e[u]:o,s||u===o||sl(o)?u:u+gi(o)}:WE(e))},m5=function(e,t,r,i){return xc(xi(e)?!t:r===!0?!!(r=0):!i,function(){return xi(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},Bae=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},Lae=function(e,t){return function(r){return e(parseFloat(r))+(t||gi(r))}},Dae=function(e,t,r){return v5(e,t,0,1,r)},g5=function(e,t,r){return xc(r,function(i){return e[~~t(i)]})},Oae=function n(e,t,r){var i=t-e;return xi(e)?g5(e,n(0,e.length),t):xc(r,function(s){return(i+(s-e)%i)%i+e})},Fae=function n(e,t,r){var i=t-e,s=i*2;return xi(e)?g5(e,n(0,e.length-1),t):xc(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},jm=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?Zz:UE),r+=e.substr(t,i-t)+m5(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},v5=function(e,t,r,i,s){var o=t-e,a=i-r;return xc(s,function(l){return r+((l-e)/o*a||0)})},Uae=function n(e,t,r,i){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=Kr(e),a={},l,c,u,f,h;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(xi(e)&&!xi(t)){for(u=[],f=e.length,h=f-2,c=1;c<f;c++)u.push(n(e[c-1],e[c]));f--,s=function(v){v*=f;var y=Math.min(h,~~v);return u[y](v-y)},r=t}else i||(e=Wu(xi(e)?[]:{},e));if(!u){for(l in t)ZT.call(a,e,l,"get",t[l]);s=function(v){return n2(v,a)||(o?e.p:e)}}}return xc(r,s)},Q3=function(e,t,r){var i=e.labels,s=ao,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},co=function(e,t,r){var i=e.vars,s=i[t],o=fr,a=e._ctx,l,c,u;if(s)return l=i[t+"Params"],c=i.callbackScope||e,r&&rc.length&&M_(),a&&(fr=a),u=l?s.apply(c,l):s.call(c),fr=o,u},Rp=function(e){return fc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!_i),e.progress()<1&&co(e,"onInterrupt"),e},Sd,y5=[],_5=function(e){if(XT()&&e){e=!e.name&&e.default||e;var t=e.name,r=hr(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:Wm,render:n2,add:ZT,kill:qae,modifier:Zae,rawVars:0},o={targetTest:0,get:0,getSetter:t2,aliases:{},register:0};if(ch(),e!==i){if(As[t])return;go(i,go(w_(e,s),o)),Wu(i.prototype,Wu(s,w_(e,o))),As[i.prop=t]=i,e.targetTest&&(wy.push(i),KT[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}t5(t,i),e.register&&e.register(as,i,os)}else e&&y5.push(e)},Fn=255,Pp={aqua:[0,Fn,Fn],lime:[0,Fn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Fn],navy:[0,0,128],white:[Fn,Fn,Fn],olive:[128,128,0],yellow:[Fn,Fn,0],orange:[Fn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Fn,0,0],pink:[Fn,192,203],cyan:[0,Fn,Fn],transparent:[Fn,Fn,Fn,0]},JA=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*Fn+.5|0},x5=function(e,t,r){var i=e?sl(e)?[e>>16,e>>8&Fn,e&Fn]:0:Pp.black,s,o,a,l,c,u,f,h,m,v;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Pp[e])i=Pp[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Fn,i&Fn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Fn,e&Fn]}else if(e.substr(0,3)==="hsl"){if(i=v=e.match(UE),!t)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=JA(l+1/3,s,o),i[1]=JA(l,s,o),i[2]=JA(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match($z),r&&i.length<4&&(i[3]=1),i}else i=e.match(UE)||Pp.transparent;i=i.map(Number)}return t&&!v&&(s=i[0]/Fn,o=i[1]/Fn,a=i[2]/Fn,f=Math.max(s,o,a),h=Math.min(s,o,a),u=(f+h)/2,f===h?l=c=0:(m=f-h,c=u>.5?m/(2-f-h):m/(f+h),l=f===s?(o-a)/m+(o<a?6:0):f===o?(a-s)/m+2:(s-o)/m+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},S5=function(e){var t=[],r=[],i=-1;return e.split(ic).forEach(function(s){var o=s.match(xd)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},Z3=function(e,t,r){var i="",s=(e+i).match(ic),o=t?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return e;if(s=s.map(function(h){return(h=x5(h,t,1))&&o+(t?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),r&&(u=S5(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(ic,"1").split(xd),f=c.length-1;a<f;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(ic),f=c.length-1;a<f;a++)i+=c[a]+s[a];return i+c[f]},ic=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Pp)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),kae=/hsl[a]?\(/,A5=function(e){var t=e.join(" "),r;if(ic.lastIndex=0,ic.test(t))return r=kae.test(t),e[1]=Z3(e[1],r),e[0]=Z3(e[0],r,S5(e[1])),!0},Xm,Ms=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,c,u,f,h,m,v=function y(_){var g=n()-i,x=_===!0,S,M,E,b;if(g>e&&(r+=g-t),i+=g,E=i-r,S=E-o,(S>0||x)&&(b=++f.frame,h=E-f.time*1e3,f.time=E=E/1e3,o+=S+(S>=s?4:s-S),M=1),x||(l=c(y)),M)for(m=0;m<a.length;m++)a[m](E,h,b,_)};return f={time:0,frame:0,tick:function(){v(!0)},deltaRatio:function(_){return h/(1e3/(_||60))},wake:function(){qz&&(!kE&&XT()&&(Qs=kE=window,JT=Qs.document||{},Ps.gsap=as,(Qs.gsapVersions||(Qs.gsapVersions=[])).push(as.version),e5(S_||Qs.GreenSockGlobals||!Qs.gsap&&Qs||{}),u=Qs.requestAnimationFrame,y5.forEach(_5)),l&&f.sleep(),c=u||function(_){return setTimeout(_,o-f.time*1e3+1|0)},Xm=1,v(2))},sleep:function(){(u?Qs.cancelAnimationFrame:clearTimeout)(l),Xm=0,c=Wm},lagSmoothing:function(_,g){e=_||1/0,t=Math.min(g||33,e)},fps:function(_){s=1e3/(_||240),o=f.time*1e3+s},add:function(_,g,x){var S=g?function(M,E,b,C){_(M,E,b,C),f.remove(S)}:_;return f.remove(_),a[x?"unshift":"push"](S),ch(),S},remove:function(_,g){~(g=a.indexOf(_))&&a.splice(g,1)&&m>=g&&m--},_listeners:a},f}(),ch=function(){return!Xm&&Ms.wake()},cn={},Nae=/^[\d.\-M][\d.\-,\s]/,zae=/["']/g,Gae=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace(zae,"").trim():+c,i=l.substr(a+1).trim();return t},Hae=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},Vae=function(e){var t=(e+"").split("("),r=cn[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Gae(t[1])]:Hae(e).split(",").map(s5)):cn._CE&&Nae.test(e)?cn._CE("",e):r},M5=function(e){return function(t){return 1-e(1-t)}},w5=function n(e,t){for(var r=e._first,i;r;)r instanceof Zi?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},Ru=function(e,t){return e&&(hr(e)?e:cn[e]||Vae(e))||t},tf=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return ss(e,function(a){cn[a]=Ps[a]=s,cn[o=a.toLowerCase()]=r;for(var l in s)cn[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=cn[a+"."+l]=s[l]}),s},E5=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},YA=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/FE*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*vae((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:E5(a);return s=FE/s,l.config=function(c,u){return n(e,c,u)},l},KA=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:E5(r);return i.config=function(s){return n(e,s)},i};ss("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;tf(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});cn.Linear.easeNone=cn.none=cn.Linear.easeIn;tf("Elastic",YA("in"),YA("out"),YA());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};tf("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);tf("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});tf("Circ",function(n){return-(Yz(1-n*n)-1)});tf("Sine",function(n){return n===1?1:-gae(n*pae)+1});tf("Back",KA("in"),KA("out"),KA());cn.SteppedEase=cn.steps=Ps.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-Un;return function(a){return((i*Bg(0,o,a)|0)+s)*r}}};oh.ease=cn["quad.out"];ss("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return $T+=n+","+n+"Params,"});var b5=function(e,t){this.id=mae++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:r5,this.set=t?t.getSetter:t2},Jm=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,lh(this,+t.duration,1,1),this.data=t.data,fr&&(this._ctx=fr,fr.data.push(this)),Xm||Ms.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,lh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(ch(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(nx(this,r),!s._dp||s.parent||l5(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&oa(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Un||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),i5(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+K3(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+K3(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?ah(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-Un?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?E_(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Un?0:this._rts,this.totalTime(Bg(-Math.abs(this._delay),this._tDur,i),!0),tx(this),wae(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ch(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Un&&(this._tTime-=Un)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&oa(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(is(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?E_(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=xae);var i=_i;return _i=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),_i=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,$3(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,$3(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Ks(this,r),is(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,is(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Un:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Un,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Un)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=hr(r)?r:o5,a=function(){var c=i.then;i.then=null,hr(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Rp(this)},n}();go(Jm.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Un,_prom:0,_ps:!1,_rts:1});var Zi=function(n){Jz(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=is(r.sortChildren),qn&&oa(r.parent||qn,ka(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&c5(ka(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return em(0,arguments,this),this},t.from=function(i,s,o){return em(1,arguments,this),this},t.fromTo=function(i,s,o,a){return em(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,qp(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Tr(i,s,Ks(this,o),1),this},t.call=function(i,s,o){return oa(this,Tr.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Tr(i,o,Ks(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,qp(o).immediateRender=is(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},t.staggerFromTo=function(i,s,o,a,l,c,u,f){return a.startAt=o,qp(a).immediateRender=is(a.immediateRender),this.staggerTo(i,s,a,l,c,u,f)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:ni(i),f=this._zTime<0!=i<0&&(this._initted||!c),h,m,v,y,_,g,x,S,M,E,b,C;if(this!==qn&&u>l&&i>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),h=u,M=this._start,S=this._ts,g=!S,f&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(b=this._yoyo,_=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(_*100+i,s,o);if(h=ni(u%_),u===l?(y=this._repeat,h=c):(y=~~(u/_),y&&y===u/_&&(h=c,y--),h>c&&(h=c)),E=ah(this._tTime,_),!a&&this._tTime&&E!==y&&this._tTime-E*_-this._dur<=0&&(E=y),b&&y&1&&(h=c-h,C=1),y!==E&&!this._lock){var R=b&&E&1,T=R===(b&&y&1);if(y<E&&(R=!R),a=R?0:u%c?c:u,this._lock=1,this.render(a||(C?0:ni(y*_)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&co(this,"onRepeat"),this.vars.repeatRefresh&&!C&&(this.invalidate()._lock=1),a&&a!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,T&&(this._lock=2,a=R?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!C&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;w5(this,C)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=Tae(this,ni(a),ni(h)),x&&(u-=h-(h=x._start))),this._tTime=u,this._time=h,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&h&&!s&&!y&&(co(this,"onStart"),this._tTime!==u))return this;if(h>=a&&i>=0)for(m=this._first;m;){if(v=m._next,(m._act||h>=m._start)&&m._ts&&x!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(h-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(h-m._start)*m._ts,s,o),h!==this._time||!this._ts&&!g){x=0,v&&(u+=this._zTime=-Un);break}}m=v}else{m=this._last;for(var B=i<0?i:h;m;){if(v=m._prev,(m._act||B<=m._end)&&m._ts&&x!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(B-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(B-m._start)*m._ts,s,o||_i&&(m._initted||m._startAt)),h!==this._time||!this._ts&&!g){x=0,v&&(u+=this._zTime=B?-Un:Un);break}}m=v}}if(x&&!s&&(this.pause(),x.render(h>=a?0:-Un)._zTime=h>=a?1:-1,this._ts))return this._start=M,tx(this),this.render(i,s,o);this._onUpdate&&!s&&co(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(M===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&fc(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(co(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(sl(s)||(s=Ks(this,s,i)),!(i instanceof Jm)){if(xi(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Kr(i))return this.addLabel(i,s);if(hr(i))i=Tr.delayedCall(0,i);else return this}return this!==i?oa(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-ao);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Tr?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Kr(i)?this.removeLabel(i):hr(i)?this.killTweensOf(i):(ex(this,i),i===this._recent&&(this._recent=this._last),Tu(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ni(Ms.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Ks(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=Tr.delayedCall(0,s||Wm,o);return a.data="isPause",this._hasPause=1,oa(this,a,Ks(this,i))},t.removePause=function(i){var s=this._first;for(i=Ks(this,i);s;)s._start===i&&s.data==="isPause"&&fc(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Gl!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=lo(i),l=this._first,c=sl(s),u;l;)l instanceof Tr?Sae(l._targets,a)&&(c?(!Gl||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Ks(o,i),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,h=l.immediateRender,m,v=Tr.to(o,go({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Un,onStart:function(){if(o.pause(),!m){var _=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());v._dur!==_&&lh(v,_,0,1).render(v._time,!0,!0),m=1}u&&u.apply(v,f||[])}},s));return h?v.render(0):v},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,go({startAt:{time:Ks(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),Q3(this,Ks(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),Q3(this,Ks(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Un)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return Tu(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Tu(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=ao,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,oa(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;lh(o,o===qn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(qn._ts&&(i5(qn,E_(i,qn)),n5=Ms.frame),Ms.frame>=J3){J3+=Cs.autoSleep||120;var s=qn._first;if((!s||!s._ts)&&Cs.autoSleep&&Ms._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Ms.sleep()}}},e}(Jm);go(Zi.prototype,{_lock:0,_hasPause:0,_forcing:0});var Wae=function(e,t,r,i,s,o,a){var l=new os(this._pt,e,t,0,1,B5,null,s),c=0,u=0,f,h,m,v,y,_,g,x;for(l.b=r,l.e=i,r+="",i+="",(g=~i.indexOf("random("))&&(i=jm(i)),o&&(x=[r,i],o(x,e,t),r=x[0],i=x[1]),h=r.match(jA)||[];f=jA.exec(i);)v=f[0],y=i.substring(c,f.index),m?m=(m+1)%5:y.substr(-5)==="rgba("&&(m=1),v!==h[u++]&&(_=parseFloat(h[u-1])||0,l._pt={_next:l._pt,p:y||u===1?y:",",s:_,c:v.charAt(1)==="="?Od(_,v)-_:parseFloat(v)-_,m:m&&m<4?Math.round:0},c=jA.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(Qz.test(i)||g)&&(l.e=0),this._pt=l,l},ZT=function(e,t,r,i,s,o,a,l,c,u){hr(i)&&(i=i(s||0,e,o));var f=e[t],h=r!=="get"?r:hr(f)?c?e[t.indexOf("set")||!hr(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():f,m=hr(f)?c?Kae:P5:e2,v;if(Kr(i)&&(~i.indexOf("random(")&&(i=jm(i)),i.charAt(1)==="="&&(v=Od(h,i)+(gi(h)||0),(v||v===0)&&(i=v))),!u||h!==i||jE)return!isNaN(h*i)&&i!==""?(v=new os(this._pt,e,t,+h||0,i-(h||0),typeof f=="boolean"?Qae:I5,0,m),c&&(v.fp=c),a&&v.modifier(a,this,e),this._pt=v):(!f&&!(t in e)&&YT(t,i),Wae.call(this,e,t,h,i,m,l||Cs.stringFilter,c))},jae=function(e,t,r,i,s){if(hr(e)&&(e=tm(e,s,t,r,i)),!_a(e)||e.style&&e.nodeType||xi(e)||Kz(e))return Kr(e)?tm(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=tm(e[a],s,t,r,i);return o},C5=function(e,t,r,i,s,o){var a,l,c,u;if(As[e]&&(a=new As[e]).init(s,a.rawVars?t[e]:jae(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new os(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Sd))for(c=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Gl,jE,qT=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.onUpdateParams,f=i.callbackScope,h=i.runBackwards,m=i.yoyoEase,v=i.keyframes,y=i.autoRevert,_=e._dur,g=e._startAt,x=e._targets,S=e.parent,M=S&&S.data==="nested"?S.vars.targets:x,E=e._overwrite==="auto"&&!WT,b=e.timeline,C,R,T,B,k,N,j,Y,Q,W,V,D,G;if(b&&(!v||!s)&&(s="none"),e._ease=Ru(s,oh.ease),e._yEase=m?M5(Ru(m===!0?s:m,oh.ease)):0,m&&e._yoyo&&!e._repeat&&(m=e._yEase,e._yEase=e._ease,e._ease=m),e._from=!b&&!!i.runBackwards,!b||v&&!i.stagger){if(Y=x[0]?Cu(x[0]).harness:0,D=Y&&i[Y.prop],C=w_(i,KT),g&&(g._zTime<0&&g.progress(1),t<0&&h&&a&&!y?g.render(-1,!0):g.revert(h&&_?My:_ae),g._lazy=0),o){if(fc(e._startAt=Tr.set(x,go({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!g&&is(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:u,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_i||!a&&!y)&&e._startAt.revert(My),a&&_&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(h&&_&&!g){if(t&&(a=!1),T=go({overwrite:!1,data:"isFromStart",lazy:a&&!g&&is(l),immediateRender:a,stagger:0,parent:S},C),D&&(T[Y.prop]=D),fc(e._startAt=Tr.set(x,T)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(_i?e._startAt.revert(My):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,Un,Un);else if(!t)return}for(e._pt=e._ptCache=0,l=_&&is(l)||l&&!_,R=0;R<x.length;R++){if(k=x[R],j=k._gsap||QT(x)[R]._gsap,e._ptLookup[R]=W={},NE[j.id]&&rc.length&&M_(),V=M===x?R:M.indexOf(k),Y&&(Q=new Y).init(k,D||C,e,V,M)!==!1&&(e._pt=B=new os(e._pt,k,Q.name,0,1,Q.render,Q,0,Q.priority),Q._props.forEach(function(H){W[H]=B}),Q.priority&&(N=1)),!Y||D)for(T in C)As[T]&&(Q=C5(T,C,e,V,k,M))?Q.priority&&(N=1):W[T]=B=ZT.call(e,k,T,"get",C[T],V,M,0,i.stringFilter);e._op&&e._op[R]&&e.kill(k,e._op[R]),E&&e._pt&&(Gl=e,qn.killTweensOf(k,W,e.globalTime(t)),G=!e.parent,Gl=0),e._pt&&l&&(NE[j.id]=1)}N&&L5(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!G,v&&t<=0&&b.render(ao,!0,!0)},Xae=function(e,t,r,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,u,f,h;if(!l)for(l=e._ptCache[t]=[],f=e._ptLookup,h=e._targets.length;h--;){if(c=f[h][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return jE=1,e.vars[t]="+=0",qT(e,a),jE=0,1;l.push(c)}for(h=l.length;h--;)u=l[h],c=u._pt||u,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,u.e&&(u.e=Sr(r)+gi(u.e)),u.b&&(u.b=c.s+gi(u.b))},Jae=function(e,t){var r=e[0]?Cu(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=Wu({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},Yae=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(xi(t))a=r[e]||(r[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},tm=function(e,t,r,i,s){return hr(e)?e.call(t,r,i,s):Kr(e)&&~e.indexOf("random(")?jm(e):e},T5=$T+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",R5={};ss(T5+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return R5[n]=1});var Tr=function(n){Jz(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:qp(i))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,h=l.stagger,m=l.overwrite,v=l.keyframes,y=l.defaults,_=l.scrollTrigger,g=l.yoyoEase,x=i.parent||qn,S=(xi(r)||Kz(r)?sl(r[0]):"length"in i)?[r]:lo(r),M,E,b,C,R,T,B,k;if(a._targets=S.length?QT(S):A_("GSAP target "+r+" not found. https://greensock.com",!Cs.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,v||h||Jv(c)||Jv(u)){if(i=a.vars,M=a.timeline=new Zi({data:"nested",defaults:y||{},targets:x&&x.data==="nested"?x.vars.targets:S}),M.kill(),M.parent=M._dp=ka(a),M._start=0,h||Jv(c)||Jv(u)){if(C=S.length,B=h&&h5(h),_a(h))for(R in h)~T5.indexOf(R)&&(k||(k={}),k[R]=h[R]);for(E=0;E<C;E++)b=w_(i,R5),b.stagger=0,g&&(b.yoyoEase=g),k&&Wu(b,k),T=S[E],b.duration=+tm(c,ka(a),E,T,S),b.delay=(+tm(u,ka(a),E,T,S)||0)-a._delay,!h&&C===1&&b.delay&&(a._delay=u=b.delay,a._start+=u,b.delay=0),M.to(T,b,B?B(E,T,S):0),M._ease=cn.none;M.duration()?c=u=0:a.timeline=0}else if(v){qp(go(M.vars.defaults,{ease:"none"})),M._ease=Ru(v.ease||i.ease||"none");var N=0,j,Y,Q;if(xi(v))v.forEach(function(W){return M.to(S,W,">")}),M.duration();else{b={};for(R in v)R==="ease"||R==="easeEach"||Yae(R,v[R],b,v.easeEach);for(R in b)for(j=b[R].sort(function(W,V){return W.t-V.t}),N=0,E=0;E<j.length;E++)Y=j[E],Q={ease:Y.e,duration:(Y.t-(E?j[E-1].t:0))/100*c},Q[R]=Y.v,M.to(S,Q,N),N+=Q.duration;M.duration()<c&&M.to({},{duration:c-M.duration()})}}c||a.duration(c=M.duration())}else a.timeline=0;return m===!0&&!WT&&(Gl=ka(a),qn.killTweensOf(S),Gl=0),oa(x,ka(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!c&&!v&&a._start===ni(x._time)&&is(f)&&Eae(ka(a))&&x.data!=="nested")&&(a._tTime=-Un,a.render(Math.max(0,-u)||0)),_&&c5(ka(a),_),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,f=i>l-Un&&!u?l:i<Un?0:i,h,m,v,y,_,g,x,S,M;if(!c)Cae(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(h=f,S=this.timeline,this._repeat){if(y=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(y*100+i,s,o);if(h=ni(f%y),f===l?(v=this._repeat,h=c):(v=~~(f/y),v&&v===f/y&&(h=c,v--),h>c&&(h=c)),g=this._yoyo&&v&1,g&&(M=this._yEase,h=c-h),_=ah(this._tTime,y),h===a&&!o&&this._initted)return this._tTime=f,this;v!==_&&(S&&this._yEase&&w5(S,g),this.vars.repeatRefresh&&!g&&!this._lock&&(this._lock=o=1,this.render(ni(y*v),!0).invalidate()._lock=0))}if(!this._initted){if(u5(this,u?i:h,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(M||this._ease)(h/c),this._from&&(this.ratio=x=1-x),h&&!a&&!s&&!v&&(co(this,"onStart"),this._tTime!==f))return this;for(m=this._pt;m;)m.r(x,m.d),m=m._next;S&&S.render(i<0?i:!h&&g?-Un:S._dur*S._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&zE(this,i,s,o),co(this,"onUpdate")),this._repeat&&v!==_&&this.vars.onRepeat&&!s&&this.parent&&co(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&zE(this,i,!0,!0),(i||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&fc(this,1),!s&&!(u&&!a)&&(f||a||g)&&(co(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a){Xm||Ms.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||qT(this,l),c=this._ease(l/this._dur),Xae(this,i,s,o,a,c,l)?this.resetTo(i,s,o,a):(nx(this,0),this.parent||a5(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Rp(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Gl&&Gl.vars.overwrite!==!0)._first||Rp(this),this.parent&&o!==this.timeline.totalDuration()&&lh(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?lo(i):a,c=this._ptLookup,u=this._pt,f,h,m,v,y,_,g;if((!s||s==="all")&&Mae(a,l))return s==="all"&&(this._pt=0),Rp(this);for(f=this._op=this._op||[],s!=="all"&&(Kr(s)&&(y={},ss(s,function(x){return y[x]=1}),s=y),s=Jae(a,s)),g=a.length;g--;)if(~l.indexOf(a[g])){h=c[g],s==="all"?(f[g]=s,v=h,m={}):(m=f[g]=f[g]||{},v=s);for(y in v)_=h&&h[y],_&&((!("kill"in _.d)||_.d.kill(y)===!0)&&ex(this,_,"_pt"),delete h[y]),m!=="all"&&(m[y]=1)}return this._initted&&!this._pt&&u&&Rp(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return em(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return em(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return qn.killTweensOf(i,s,o)},e}(Jm);go(Tr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ss("staggerTo,staggerFrom,staggerFromTo",function(n){Tr[n]=function(){var e=new Zi,t=HE.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var e2=function(e,t,r){return e[t]=r},P5=function(e,t,r){return e[t](r)},Kae=function(e,t,r,i){return e[t](i.fp,r)},$ae=function(e,t,r){return e.setAttribute(t,r)},t2=function(e,t){return hr(e[t])?P5:jT(e[t])&&e.setAttribute?$ae:e2},I5=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Qae=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},B5=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},n2=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Zae=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},qae=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?ex(this,t,"_pt"):t.dep||(r=1),t=i;return!r},ele=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},L5=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},os=function(){function n(t,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||I5,this.d=l||this,this.set=c||e2,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=ele,this.m=r,this.mt=s,this.tween=i},n}();ss($T+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return KT[n]=1});Ps.TweenMax=Ps.TweenLite=Tr;Ps.TimelineLite=Ps.TimelineMax=Zi;qn=new Zi({sortChildren:!1,defaults:oh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Cs.stringFilter=A5;var Pu=[],Ey={},tle=[],q3=0,nle=0,$A=function(e){return(Ey[e]||tle).map(function(t){return t()})},XE=function(){var e=Date.now(),t=[];e-q3>2&&($A("matchMediaInit"),Pu.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=Qs.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&t.push(r))}),$A("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r)}),q3=e,$A("matchMedia"))},D5=function(){function n(t,r){this.selector=r&&VE(r),this.data=[],this._r=[],this.isReverted=!1,this.id=nle++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){hr(r)&&(s=i,i=r,r=hr);var o=this,a=function(){var c=fr,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=VE(s)),fr=o,f=i.apply(o,arguments),hr(f)&&o._r.push(f),fr=c,o.selector=u,o.isReverted=!1,f};return o.last=a,r===hr?a(o):r?o[r]=a:a},e.ignore=function(r){var i=fr;fr=null,r(this),fr=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof Tr&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1/0}).forEach(function(l){return l.t.revert(r)}),this.data.forEach(function(l){return!(l instanceof Tr)&&l.revert&&l.revert(r)}),this._r.forEach(function(l){return l(r,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i)for(var a=Pu.length;a--;)Pu[a].id===this.id&&Pu.splice(a,1)},e.revert=function(r){this.kill(r||{})},n}(),rle=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,s){_a(r)||(r={matches:r});var o=new D5(0,s||this.scope),a=o.conditions={},l,c,u;fr&&!o.selector&&(o.selector=fr.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=Qs.matchMedia(r[c]),l&&(Pu.indexOf(o)<0&&Pu.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(XE):l.addEventListener("change",XE)));return u&&i(o),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),b_={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return _5(i)})},timeline:function(e){return new Zi(e)},getTweensOf:function(e,t){return qn.getTweensOf(e,t)},getProperty:function(e,t,r,i){Kr(e)&&(e=lo(e)[0]);var s=Cu(e||{}).get,o=r?o5:s5;return r==="native"&&(r=""),e&&(t?o((As[t]&&As[t].get||s)(e,t,r,i)):function(a,l,c){return o((As[a]&&As[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,r){if(e=lo(e),e.length>1){var i=e.map(function(u){return as.quickSetter(u,t,r)}),s=i.length;return function(u){for(var f=s;f--;)i[f](u)}}e=e[0]||{};var o=As[t],a=Cu(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var f=new o;Sd._pt=0,f.init(e,r?u+r:u,Sd,0,[e]),f.render(1,f),Sd._pt&&n2(1,Sd)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,t,r){var i,s=as.to(e,Wu((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return qn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ru(e.ease,oh.ease)),Y3(oh,e||{})},config:function(e){return Y3(Cs,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!As[a]&&!Ps[a]&&A_(t+" effect requires "+a+" plugin.")}),XA[t]=function(a,l,c){return r(lo(a),go(l||{},s),c)},o&&(Zi.prototype[t]=function(a,l,c){return this.add(XA[t](a,_a(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){cn[e]=Ru(t)},parseEase:function(e,t){return arguments.length?Ru(e,t):cn},getById:function(e){return qn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Zi(e),i,s;for(r.smoothChildTiming=is(e.smoothChildTiming),qn.remove(r),r._dp=0,r._time=r._tTime=qn._time,i=qn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Tr&&i.vars.onComplete===i._targets[0]))&&oa(r,i,i._start-i._delay),i=s;return oa(qn,r,0),r},context:function(e,t){return e?new D5(e,t):fr},matchMedia:function(e){return new rle(e)},matchMediaRefresh:function(){return Pu.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||XE()},addEventListener:function(e,t){var r=Ey[e]||(Ey[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Ey[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:Oae,wrapYoyo:Fae,distribute:h5,random:m5,snap:p5,normalize:Dae,getUnit:gi,clamp:Pae,splitColor:x5,toArray:lo,selector:VE,mapRange:v5,pipe:Bae,unitize:Lae,interpolate:Uae,shuffle:d5},install:e5,effects:XA,ticker:Ms,updateRoot:Zi.updateRoot,plugins:As,globalTimeline:qn,core:{PropTween:os,globals:t5,Tween:Tr,Timeline:Zi,Animation:Jm,getCache:Cu,_removeLinkedListItem:ex,reverting:function(){return _i},context:function(e){return e&&fr&&(fr.data.push(e),e._ctx=fr),fr},suppressOverwrites:function(e){return WT=e}}};ss("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return b_[n]=Tr[n]});Ms.add(Zi.updateRoot);Sd=b_.to({},{duration:0});var ile=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},sle=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=ile(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},QA=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(Kr(s)&&(l={},ss(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}sle(a,s)}}}},as=b_.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)_i?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},QA("roundProps",WE),QA("modifiers"),QA("snap",p5))||b_;Tr.version=Zi.version=as.version="3.12.2";qz=1;XT()&&ch();cn.Power0;cn.Power1;cn.Power2;cn.Power3;cn.Power4;cn.Linear;cn.Quad;cn.Cubic;cn.Quart;cn.Quint;cn.Strong;cn.Elastic;cn.Back;cn.SteppedEase;cn.Bounce;cn.Sine;cn.Expo;cn.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var eD,Hl,Fd,r2,gu,tD,i2,ole=function(){return typeof window<"u"},ol={},tu=180/Math.PI,Ud=Math.PI/180,Yf=Math.atan2,nD=1e8,s2=/([A-Z])/g,ale=/(left|right|width|margin|padding|x)/i,lle=/[\s,\(]\S/,la={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},JE=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},cle=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},ule=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},fle=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},O5=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},F5=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},dle=function(e,t,r){return e.style[t]=r},hle=function(e,t,r){return e.style.setProperty(t,r)},ple=function(e,t,r){return e._gsap[t]=r},mle=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},gle=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},vle=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},tr="transform",Go=tr+"Origin",yle=function n(e,t){var r=this,i=this.target,s=i.style;if(e in ol&&s){if(this.tfm=this.tfm||{},e!=="transform")e=la[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=Ga(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:Ga(i,e);else return la.transform.split(",").forEach(function(o){return n.call(r,o,t)});if(this.props.indexOf(tr)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Go,t,"")),e=tr}(s||t)&&this.props.push(e,t,s[e])},U5=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_le=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(s2,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=i2(),(!s||!s.isStart)&&!r[tr]&&(U5(r),i.uncache=1)}},k5=function(e,t){var r={target:e,props:[],revert:_le,save:yle};return e._gsap||as.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},N5,YE=function(e,t){var r=Hl.createElementNS?Hl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Hl.createElement(e);return r.style?r:Hl.createElement(e)},ma=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(s2,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,uh(t)||t,1)||""},rD="O,Moz,ms,Ms,Webkit".split(","),uh=function(e,t,r){var i=t||gu,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(rD[o]+e in s););return o<0?null:(o===3?"ms":o>=0?rD[o]:"")+e},KE=function(){ole()&&window.document&&(eD=window,Hl=eD.document,Fd=Hl.documentElement,gu=YE("div")||{style:{}},YE("div"),tr=uh(tr),Go=tr+"Origin",gu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",N5=!!uh("perspective"),i2=as.core.reverting,r2=1)},ZA=function n(e){var t=YE("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Fd.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Fd.removeChild(t),this.style.cssText=s,o},iD=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},z5=function(e){var t;try{t=e.getBBox()}catch{t=ZA.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===ZA||(t=ZA.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+iD(e,["x","cx","x1"])||0,y:+iD(e,["y","cy","y1"])||0,width:0,height:0}:t},G5=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&z5(e))},Ym=function(e,t){if(t){var r=e.style;t in ol&&t!==Go&&(t=tr),r.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(t.replace(s2,"-$1").toLowerCase())):r.removeAttribute(t)}},Vl=function(e,t,r,i,s,o){var a=new os(e._pt,t,r,0,1,o?F5:O5);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},sD={deg:1,rad:1,turn:1},xle={grid:1,flex:1},dc=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=gu.style,l=ale.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,h=i==="px",m=i==="%",v,y,_,g;return i===o||!s||sD[i]||sD[o]?s:(o!=="px"&&!h&&(s=n(e,t,r,"px")),g=e.getCTM&&G5(e),(m||o==="%")&&(ol[t]||~t.indexOf("adius"))?(v=g?e.getBBox()[l?"width":"height"]:e[u],Sr(m?s/v*f:s/100*v)):(a[l?"width":"height"]=f+(h?o:i),y=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,g&&(y=(e.ownerSVGElement||{}).parentNode),(!y||y===Hl||!y.appendChild)&&(y=Hl.body),_=y._gsap,_&&m&&_.width&&l&&_.time===Ms.time&&!_.uncache?Sr(s/_.width*f):((m||o==="%")&&!xle[ma(y,"display")]&&(a.position=ma(e,"position")),y===e&&(a.position="static"),y.appendChild(gu),v=gu[u],y.removeChild(gu),a.position="absolute",l&&m&&(_=Cu(y),_.time=Ms.time,_.width=y[u]),Sr(h?v*s/f:v&&s?f/v*s:0))))},Ga=function(e,t,r,i){var s;return r2||KE(),t in la&&t!=="transform"&&(t=la[t],~t.indexOf(",")&&(t=t.split(",")[0])),ol[t]&&t!=="transform"?(s=$m(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:T_(ma(e,Go))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=C_[t]&&C_[t](e,t,r)||ma(e,t)||r5(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?dc(e,t,s,r)+r:s},Sle=function(e,t,r,i){if(!r||r==="none"){var s=uh(t,e,1),o=s&&ma(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=ma(e,"borderTopColor"))}var a=new os(this._pt,e.style,t,0,1,B5),l=0,c=0,u,f,h,m,v,y,_,g,x,S,M,E;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(e.style[t]=i,i=ma(e,t)||i,e.style[t]=r),u=[r,i],A5(u),r=u[0],i=u[1],h=r.match(xd)||[],E=i.match(xd)||[],E.length){for(;f=xd.exec(i);)_=f[0],x=i.substring(l,f.index),v?v=(v+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(v=1),_!==(y=h[c++]||"")&&(m=parseFloat(y)||0,M=y.substr((m+"").length),_.charAt(1)==="="&&(_=Od(m,_)+M),g=parseFloat(_),S=_.substr((g+"").length),l=xd.lastIndex-S.length,S||(S=S||Cs.units[t]||M,l===i.length&&(i+=S,a.e+=S)),M!==S&&(m=dc(e,t,y,S)||0),a._pt={_next:a._pt,p:x||c===1?x:",",s:m,c:g-m,m:v&&v<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?F5:O5;return Qz.test(i)&&(a.e=0),this._pt=a,a},oD={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ale=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=oD[r]||r,t[1]=oD[i]||i,t.join(" ")},Mle=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],ol[a]&&(l=1,a=a==="transformOrigin"?Go:tr),Ym(r,a);l&&(Ym(r,tr),o&&(o.svg&&r.removeAttribute("transform"),$m(r,1),o.uncache=1,U5(i)))}},C_={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new os(e._pt,t,r,0,0,Mle);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Km=[1,0,0,1,0,0],H5={},V5=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},aD=function(e){var t=ma(e,tr);return V5(t)?Km:t.substr(7).match($z).map(Sr)},o2=function(e,t){var r=e._gsap||Cu(e),i=e.style,s=aD(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Km:s):(s===Km&&!e.offsetParent&&e!==Fd&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Fd.appendChild(e)),s=aD(e),l?i.display=l:Ym(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Fd.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},$E=function(e,t,r,i,s,o){var a=e._gsap,l=s||o2(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,h=a.yOffset||0,m=l[0],v=l[1],y=l[2],_=l[3],g=l[4],x=l[5],S=t.split(" "),M=parseFloat(S[0])||0,E=parseFloat(S[1])||0,b,C,R,T;r?l!==Km&&(C=m*_-v*y)&&(R=M*(_/C)+E*(-y/C)+(y*x-_*g)/C,T=M*(-v/C)+E*(m/C)-(m*x-v*g)/C,M=R,E=T):(b=z5(e),M=b.x+(~S[0].indexOf("%")?M/100*b.width:M),E=b.y+(~(S[1]||S[0]).indexOf("%")?E/100*b.height:E)),i||i!==!1&&a.smooth?(g=M-c,x=E-u,a.xOffset=f+(g*m+x*y)-g,a.yOffset=h+(g*v+x*_)-x):a.xOffset=a.yOffset=0,a.xOrigin=M,a.yOrigin=E,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[Go]="0px 0px",o&&(Vl(o,a,"xOrigin",c,M),Vl(o,a,"yOrigin",u,E),Vl(o,a,"xOffset",f,a.xOffset),Vl(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",M+" "+E)},$m=function(e,t){var r=e._gsap||new b5(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=ma(e,Go)||"0",u,f,h,m,v,y,_,g,x,S,M,E,b,C,R,T,B,k,N,j,Y,Q,W,V,D,G,H,O,X,ie,ae,oe;return u=f=h=y=_=g=x=S=M=0,m=v=1,r.svg=!!(e.getCTM&&G5(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[tr]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[tr]!=="none"?l[tr]:"")),i.scale=i.rotate=i.translate="none"),C=o2(e,r.svg),r.svg&&(r.uncache?(D=e.getBBox(),c=r.xOrigin-D.x+"px "+(r.yOrigin-D.y)+"px",V=""):V=!t&&e.getAttribute("data-svg-origin"),$E(e,V||c,!!V||r.originIsAbsolute,r.smooth!==!1,C)),E=r.xOrigin||0,b=r.yOrigin||0,C!==Km&&(k=C[0],N=C[1],j=C[2],Y=C[3],u=Q=C[4],f=W=C[5],C.length===6?(m=Math.sqrt(k*k+N*N),v=Math.sqrt(Y*Y+j*j),y=k||N?Yf(N,k)*tu:0,x=j||Y?Yf(j,Y)*tu+y:0,x&&(v*=Math.abs(Math.cos(x*Ud))),r.svg&&(u-=E-(E*k+b*j),f-=b-(E*N+b*Y))):(oe=C[6],ie=C[7],H=C[8],O=C[9],X=C[10],ae=C[11],u=C[12],f=C[13],h=C[14],R=Yf(oe,X),_=R*tu,R&&(T=Math.cos(-R),B=Math.sin(-R),V=Q*T+H*B,D=W*T+O*B,G=oe*T+X*B,H=Q*-B+H*T,O=W*-B+O*T,X=oe*-B+X*T,ae=ie*-B+ae*T,Q=V,W=D,oe=G),R=Yf(-j,X),g=R*tu,R&&(T=Math.cos(-R),B=Math.sin(-R),V=k*T-H*B,D=N*T-O*B,G=j*T-X*B,ae=Y*B+ae*T,k=V,N=D,j=G),R=Yf(N,k),y=R*tu,R&&(T=Math.cos(R),B=Math.sin(R),V=k*T+N*B,D=Q*T+W*B,N=N*T-k*B,W=W*T-Q*B,k=V,Q=D),_&&Math.abs(_)+Math.abs(y)>359.9&&(_=y=0,g=180-g),m=Sr(Math.sqrt(k*k+N*N+j*j)),v=Sr(Math.sqrt(W*W+oe*oe)),R=Yf(Q,W),x=Math.abs(R)>2e-4?R*tu:0,M=ae?1/(ae<0?-ae:ae):0),r.svg&&(V=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!V5(ma(e,tr)),V&&e.setAttribute("transform",V))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(m*=-1,x+=y<=0?180:-180,y+=y<=0?180:-180):(v*=-1,x+=x<=0?180:-180)),t=t||r.uncache,r.x=u-((r.xPercent=u&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=h+o,r.scaleX=Sr(m),r.scaleY=Sr(v),r.rotation=Sr(y)+a,r.rotationX=Sr(_)+a,r.rotationY=Sr(g)+a,r.skewX=x+a,r.skewY=S+a,r.transformPerspective=M+o,(r.zOrigin=parseFloat(c.split(" ")[2])||0)&&(i[Go]=T_(c)),r.xOffset=r.yOffset=0,r.force3D=Cs.force3D,r.renderTransform=r.svg?Ele:N5?W5:wle,r.uncache=0,r},T_=function(e){return(e=e.split(" "))[0]+" "+e[1]},qA=function(e,t,r){var i=gi(t);return Sr(parseFloat(t)+parseFloat(dc(e,"x",r+"px",i)))+i},wle=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,W5(e,t)},Xc="0deg",Sp="0px",Jc=") ",W5=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,f=r.rotationX,h=r.skewX,m=r.skewY,v=r.scaleX,y=r.scaleY,_=r.transformPerspective,g=r.force3D,x=r.target,S=r.zOrigin,M="",E=g==="auto"&&e&&e!==1||g===!0;if(S&&(f!==Xc||u!==Xc)){var b=parseFloat(u)*Ud,C=Math.sin(b),R=Math.cos(b),T;b=parseFloat(f)*Ud,T=Math.cos(b),o=qA(x,o,C*T*-S),a=qA(x,a,-Math.sin(b)*-S),l=qA(x,l,R*T*-S+S)}_!==Sp&&(M+="perspective("+_+Jc),(i||s)&&(M+="translate("+i+"%, "+s+"%) "),(E||o!==Sp||a!==Sp||l!==Sp)&&(M+=l!==Sp||E?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Jc),c!==Xc&&(M+="rotate("+c+Jc),u!==Xc&&(M+="rotateY("+u+Jc),f!==Xc&&(M+="rotateX("+f+Jc),(h!==Xc||m!==Xc)&&(M+="skew("+h+", "+m+Jc),(v!==1||y!==1)&&(M+="scale("+v+", "+y+Jc),x.style[tr]=M||"translate(0, 0)"},Ele=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,f=r.scaleX,h=r.scaleY,m=r.target,v=r.xOrigin,y=r.yOrigin,_=r.xOffset,g=r.yOffset,x=r.forceCSS,S=parseFloat(o),M=parseFloat(a),E,b,C,R,T;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Ud,c*=Ud,E=Math.cos(l)*f,b=Math.sin(l)*f,C=Math.sin(l-c)*-h,R=Math.cos(l-c)*h,c&&(u*=Ud,T=Math.tan(c-u),T=Math.sqrt(1+T*T),C*=T,R*=T,u&&(T=Math.tan(u),T=Math.sqrt(1+T*T),E*=T,b*=T)),E=Sr(E),b=Sr(b),C=Sr(C),R=Sr(R)):(E=f,R=h,b=C=0),(S&&!~(o+"").indexOf("px")||M&&!~(a+"").indexOf("px"))&&(S=dc(m,"x",o,"px"),M=dc(m,"y",a,"px")),(v||y||_||g)&&(S=Sr(S+v-(v*E+y*C)+_),M=Sr(M+y-(v*b+y*R)+g)),(i||s)&&(T=m.getBBox(),S=Sr(S+i/100*T.width),M=Sr(M+s/100*T.height)),T="matrix("+E+","+b+","+C+","+R+","+S+","+M+")",m.setAttribute("transform",T),x&&(m.style[tr]=T)},ble=function(e,t,r,i,s){var o=360,a=Kr(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?tu:1),c=l-i,u=i+c+"deg",f,h;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*nD)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*nD)%o-~~(c/o)*o)),e._pt=h=new os(e._pt,t,r,i,c,cle),h.e=u,h.u="deg",e._props.push(r),h},lD=function(e,t){for(var r in t)e[r]=t[r];return e},Cle=function(e,t,r){var i=lD({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,f,h,m,v;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[tr]=t,a=$m(r,1),Ym(r,tr),r.setAttribute("transform",c)):(c=getComputedStyle(r)[tr],o[tr]=t,a=$m(r,1),o[tr]=c);for(l in ol)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(m=gi(c),v=gi(u),f=m!==v?dc(r,l,c,v):parseFloat(c),h=parseFloat(u),e._pt=new os(e._pt,a,l,f,h-f,JE),e._pt.u=v||0,e._props.push(l));lD(a,i)};ss("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});C_[e>1?"border"+n:n]=function(a,l,c,u,f){var h,m;if(arguments.length<4)return h=o.map(function(v){return Ga(a,v,c)}),m=h.join(" "),m.split(h[0]).length===5?h[0]:m;h=(u+"").split(" "),m={},o.forEach(function(v,y){return m[v]=h[y]=h[y]||h[(y-1)/2|0]}),a.init(l,m,f)}});var j5={name:"css",register:KE,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,u,f,h,m,v,y,_,g,x,S,M,E,b,C,R;r2||KE(),this.styles=this.styles||k5(e),R=this.styles.props,this.tween=r;for(y in t)if(y!=="autoRound"&&(u=t[y],!(As[y]&&C5(y,t,r,i,e,s)))){if(m=typeof u,v=C_[y],m==="function"&&(u=u.call(r,i,e,s),m=typeof u),m==="string"&&~u.indexOf("random(")&&(u=jm(u)),v)v(this,e,y,u,r)&&(C=1);else if(y.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(y)+"").trim(),u+="",ic.lastIndex=0,ic.test(c)||(_=gi(c),g=gi(u)),g?_!==g&&(c=dc(e,y,c,g)+g):_&&(u+=_),this.add(a,"setProperty",c,u,i,s,0,0,y),o.push(y),R.push(y,0,a[y]);else if(m!=="undefined"){if(l&&y in l?(c=typeof l[y]=="function"?l[y].call(r,i,e,s):l[y],Kr(c)&&~c.indexOf("random(")&&(c=jm(c)),gi(c+"")||(c+=Cs.units[y]||gi(Ga(e,y))||""),(c+"").charAt(1)==="="&&(c=Ga(e,y))):c=Ga(e,y),h=parseFloat(c),x=m==="string"&&u.charAt(1)==="="&&u.substr(0,2),x&&(u=u.substr(2)),f=parseFloat(u),y in la&&(y==="autoAlpha"&&(h===1&&Ga(e,"visibility")==="hidden"&&f&&(h=0),R.push("visibility",0,a.visibility),Vl(this,a,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),y!=="scale"&&y!=="transform"&&(y=la[y],~y.indexOf(",")&&(y=y.split(",")[0]))),S=y in ol,S){if(this.styles.save(y),M||(E=e._gsap,E.renderTransform&&!t.parseTransform||$m(e,t.parseTransform),b=t.smoothOrigin!==!1&&E.smooth,M=this._pt=new os(this._pt,a,tr,0,1,E.renderTransform,E,0,-1),M.dep=1),y==="scale")this._pt=new os(this._pt,E,"scaleY",E.scaleY,(x?Od(E.scaleY,x+f):f)-E.scaleY||0,JE),this._pt.u=0,o.push("scaleY",y),y+="X";else if(y==="transformOrigin"){R.push(Go,0,a[Go]),u=Ale(u),E.svg?$E(e,u,0,b,0,this):(g=parseFloat(u.split(" ")[2])||0,g!==E.zOrigin&&Vl(this,E,"zOrigin",E.zOrigin,g),Vl(this,a,y,T_(c),T_(u)));continue}else if(y==="svgOrigin"){$E(e,u,1,b,0,this);continue}else if(y in H5){ble(this,E,y,h,x?Od(h,x+u):u);continue}else if(y==="smoothOrigin"){Vl(this,E,"smooth",E.smooth,u);continue}else if(y==="force3D"){E[y]=u;continue}else if(y==="transform"){Cle(this,u,e);continue}}else y in a||(y=uh(y)||y);if(S||(f||f===0)&&(h||h===0)&&!lle.test(u)&&y in a)_=(c+"").substr((h+"").length),f||(f=0),g=gi(u)||(y in Cs.units?Cs.units[y]:_),_!==g&&(h=dc(e,y,c,g)),this._pt=new os(this._pt,S?E:a,y,h,(x?Od(h,x+f):f)-h,!S&&(g==="px"||y==="zIndex")&&t.autoRound!==!1?fle:JE),this._pt.u=g||0,_!==g&&g!=="%"&&(this._pt.b=c,this._pt.r=ule);else if(y in a)Sle.call(this,e,y,c,x?x+u:u);else if(y in e)this.add(e,y,c||e[y],x?x+u:u,i,s);else if(y!=="parseTransform"){YT(y,u);continue}S||(y in a?R.push(y,0,a[y]):R.push(y,1,c||e[y])),o.push(y)}}C&&L5(this)},render:function(e,t){if(t.tween._time||!i2())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Ga,aliases:la,getSetter:function(e,t,r){var i=la[t];return i&&i.indexOf(",")<0&&(t=i),t in ol&&t!==Go&&(e._gsap.x||Ga(e,"x"))?r&&tD===r?t==="scale"?mle:ple:(tD=r||{})&&(t==="scale"?gle:vle):e.style&&!jT(e.style[t])?dle:~t.indexOf("-")?hle:t2(e,t)},core:{_removeProperty:Ym,_getMatrix:o2}};as.utils.checkPrefix=uh;as.core.getStyleSaver=k5;(function(n,e,t,r){var i=ss(n+","+e+","+t,function(s){ol[s]=1});ss(e,function(s){Cs.units[s]="deg",H5[s]=1}),la[i[13]]=n+","+e,ss(r,function(s){var o=s.split(":");la[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ss("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Cs.units[n]="px"});as.registerPlugin(j5);var QE=as.registerPlugin(j5)||as;QE.core.Tween;const Tle=({position:n,target:e})=>{const{camera:t,gl:{domElement:r}}=Fr(),i=F.useRef(null);t.up=new q(0,1,0);function s(){i.current&&(QE.timeline().to(t.position,{duration:2,repeat:0,x:n.x,y:n.y,z:n.z,ease:"power3.inOut"}),QE.timeline().to(i.current.target,{duration:2,repeat:0,x:e.x,y:e.y,z:e.z,ease:"power3.inOut"}))}return F.useEffect(()=>{s()},[e,n]),le.jsx(ZZ,{ref:i,args:[t,r],enableZoom:!1,panSpeed:1,maxPolarAngle:Math.PI/2})};function Rle(){const[n,e]=rn.useState(!1),t={position:{one:{x:-2.5,y:2,z:6},two:{x:1.2,y:1.925,z:-1.9}},target:{one:{x:4.6,y:1.2,z:-1},two:{x:1.2,y:1.925,z:-2.4}}},[r,i]=rn.useState(t.position.one),[s,o]=rn.useState(t.target.one),a={x:0,y:.2,z:0},[l,c]=rn.useState(a),u={position:{x:.7,y:2.362,z:-2.6},rotation:{x:0,y:-.2,z:0}},f={position:{x:1.798,y:1.92,z:-2.355},rotation:{x:0,y:-.2,z:0},scale:.391},h=rn.useRef(),m=Fr(y=>y.camera);function v(){n?(c(a),i(t.position.one),o(t.target.one),m.updateProjectionMatrix(),e(!n)):(c(a),i(t.position.two),o(t.target.two),m.updateProjectionMatrix(),e(!n))}return le.jsxs(le.Fragment,{children:[le.jsx(iq,{preset:"city"}),le.jsx("color",{args:["#241a1a"],attach:"background"}),le.jsx(Tle,{position:r,target:s}),le.jsxs(iQ,{global:!0,rotation:[l.x,l.y,l.z],polar:[-1,1],azimuth:[-2,1],children:[le.jsxs("group",{position:[0,0,0],children:[le.jsx(hae,{}),le.jsx(RB,{ref:h,transform:!0,occlude:"blending",wrapperClass:"htmlScreen",distanceFactor:f.scale,position:[f.position.x,f.position.y,f.position.z],rotation:[f.rotation.x,f.rotation.y,f.rotation.z],zIndexRange:[100,0],children:le.jsx(nae,{})}),le.jsx(RB,{transform:!0,occlude:"blending",wrapperClass:"floatingButton",distanceFactor:n?2:3.25,position:[u.position.x,u.position.y,u.position.z],rotation:[u.rotation.x,u.rotation.y,u.rotation.z],zIndexRange:[100,0],children:le.jsx(voe,{title:n?"Zoom Out":"Zoom In",children:le.jsx($ie,{shape:"circle",onClick:()=>v(),icon:n?le.jsx(Voe,{}):le.jsx(Noe,{})})})})]}),le.jsxs("group",{position:[4.4,2.4,4.4],"rotation-y":-1.6,children:[le.jsx(LL,{position:[1,1,0],color:"white",children:"Kendrick Drews"}),le.jsx(LL,{color:"white",children:"Front End Developer / UI / UX"})]})]})]})}function Ple(){return le.jsx("div",{id:"canvas-container",children:le.jsx(_Y,{children:le.jsx(Rle,{})})})}eM.createRoot(document.getElementById("root")).render(le.jsx(rn.StrictMode,{children:le.jsx(Ple,{})}));
